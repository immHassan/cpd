(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[31],{"6Z9m":function(e,t,n){},BenV:function(e,t,n){"use strict";n.r(t);var a=n("Nz9T"),r=n.n(a),i=n("/MKj"),o=n("TSYQ"),c=n.n(o),s=n("wyvy"),l=(n("ToJy"),function(){function e(){this.designSpecsAttributes={},this.designSpecsImageUrl={}}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.serializeKey=function(e){return"Selections::"+Object.keys(e).sort().map((function(t){return t+"::"+e[t]})).join("||")+"$$"};var t=e.prototype;return t.getSurfacesCache=function(t){var n=e.serializeKey(t);return this.designSpecsAttributes[n]||void 0},t.setSurfacesCache=function(t,n){this.designSpecsAttributes[e.serializeKey(t)]=n},t.getImageUrl=function(t){var n=e.serializeKey(t);return this.designSpecsImageUrl[n]||void 0},t.setImageUrl=function(t,n){this.designSpecsImageUrl[e.serializeKey(t)]=n},e}()),u=function(){function e(){this.completions={}}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.serializeKey=function(e){return"Selections::"+Object.keys(e).sort().map((function(t){return t+"::"+e[t]})).join("||")+"$$"};var t=e.prototype;return t.getCompletion=function(t){var n=e.serializeKey(t);return this.completions[n]||void 0},t.setCompletion=function(t,n){this.completions[e.serializeKey(t)]=n},e}(),p=n("tEs4"),m=n("p5Pr"),d=function(){function e(){}return e.getInchesUnit=function(e){return"fr-ca"===e.toLowerCase()?" po":'"'},e}(),f=n("HaE+"),g=n("o0o1"),v=n.n(g),h=n("4B2G"),b=n("GaUz"),E=n("LV2R"),y=n("vDqi"),C=n.n(y),x=function(){var e=Object(f.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cdn.design-experience-management.design.vpsvc.com/",n="https://cdn.design-experience-management.design.vpsvc.com/api/v0/designAttributes/products/"+t,e.prev=2,e.next=5,C.a.get(n);case 5:return a=e.sent.data,e.abrupt("return",a["Product Orientation"]);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Failed to get product orientation information for "+t+": "+e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.next=4,new Promise((function(e,t){return n.addEventListener("load",(function(){e(n)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(v.a.mark((function e(t){var n,a,r,i,o,c,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.productSurfacesImageUrl,r=t.productOrientation,i=t.selectedValues,o=t.compatibleValues,c=t.setRotateImage,s=1===(null===(n=o["Product Orientation"])||void 0===n?void 0:n.length)&&"Vertical"===o["Product Orientation"][0],!a||"Vertical"!==i["Product Orientation"]&&"Vertical"!==r&&!s){e.next=7;break}return e.next=5,S(a);case 5:l=e.sent,c(l.width>l.height);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=n("PHxv"),O=n.n(U),k=n("cnz7"),I=n("wJs5"),T=n("/tZc"),j=b.c,L=new j.config(E.a.requestor),A=new j.serviceClient(L);function z(e){var t=e.isActiveTab,n=e.productKey,i=e.selectedValues,o=e.updateCompatibilities,c=e.units,s=e.locale,l=e.designSpecsCache,u=e.productCompletionCache,p=e.imageWidth,m=e.safeAreaText,d=e.options,g=e.compatibleValues,b=e.version,E=r.a.useState(!1),y=E[0],C=E[1],S=r.a.useState(void 0),U=S[0],O=S[1],j=r.a.useState(void 0),L=j[0],z=j[1],D=r.a.useState(void 0),K=D[0],R=D[1],P=r.a.useState(void 0),_=P[0],F=P[1],W=r.a.useState(void 0),N=W[0],H=W[1],G=r.a.useState(void 0),$=G[0],X=G[1],Y=i||{},Z=function(e,t){var n=Object(a.useRef)(null),r=Object(a.useRef)(null);return Object(a.useEffect)((function(){n.current=e?new I.a:null}),[e]),Object(a.useEffect)((function(){e&&t&&(r.current=new I.a)}),[t]),{setDoneLoading:function(){var e,t;n.current&&(k.a.trackSpecsTemplateLoaded(null===(e=n.current)||void 0===e?void 0:e.stop(),"product specs loaded"),n.current=null);r.current&&(k.a.trackSpecsTemplateLoaded(null===(t=r.current)||void 0===t?void 0:t.stop(),"product specs changed"),r.current=null)}}}(t,i),q=r.a.useRef(Y);Y&&q.current&&!V(Y,q.current)&&(q.current=Y);var J=function(){var e=Object(f.a)(v.a.mark((function e(t,a){var r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({productKey:n,productOptions:t,units:c,locale:s,isCurrent:a.isCurrent,designSpecsCache:l,version:b});case 2:if(r=e.sent,a.isCurrent&&(R(r.dimensions),F(r.svgUrl),X(r.pdfUrl),H(r.aiUrl)),o=l.getImageUrl(i||{})){e.next=10;break}return e.next=8,A.fetchProductSurfacesRenderingURL({productKey:n,productOptions:t,imageWidth:p,safeAreaText:m,version:b});case 8:(o=e.sent)&&l.setImageUrl(i||{},o);case 10:a.isCurrent&&z(o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.useEffect((function(){t&&function(){var e=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n]),r.a.useEffect((function(){var e=!0;return w({productOrientation:U,productSurfacesImageUrl:L,setRotateImage:C,selectedValues:Y,compatibleValues:g}).then((function(){e&&L&&Z.setDoneLoading()})),function(){e=!1}}),[U,L]),r.a.useEffect((function(){var e={isCurrent:!0};if(s&&t){var a=(null==d?void 0:d.map((function(e){return e.key})))||[];Object(h.b)({coreProductId:n,selections:i||{},productPageOptions:a}).then((function(t){null!=t&&t.compatibleOptions&&e&&o(t.compatibleOptions)}));var r=u.getCompletion(i||{});r&&J(r,e);var c={selectedOptions:Y,productId:n,market:s.slice(-2).toLowerCase(),version:b};return Object(T.a)(c).then((function(t){t&&(u.setCompletion(i||{},t),J(t,e))})),function(){R(void 0),z(""),F(""),H(""),X(""),e.isCurrent=!1}}}),[t,n,s,R,i,p,m,z,F,H,X]),{productSurfacesData:K,productSurfacesImageUrl:L,rotateImage:y,svgUrl:_,pdfUrl:$,aiUrl:N}}var B=function(){var e=Object(f.a)(v.a.mark((function e(t){var n,a,r,i,o,c,s,l,u,p,m,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=t.designSpecsCache.getSurfacesCache(t.productOptions))||!n.dimensions||!t.isCurrent){e.next=8;break}a=n.dimensions,r=n.svgUrl,i=n.aiUrl,o=n.pdfUrl,e.next=19;break;case 8:return c=new O.a.WebAuth,s=c.getToken(),l=t.productKey,u=t.productOptions,p=t.units,m=t.locale,e.next=13,A.fetchSurfacesAndUrls({productKey:l,productOptions:u,units:p,locale:m,bearerToken:"Bearer "+s,version:t.version});case 13:d=e.sent,a=d.surfacesInfo,r=d.svgUrl,i=d.aiUrl,o=d.pdfUrl,a&&r&&i&&o&&t.designSpecsCache.setSurfacesCache(u,{dimensions:a,svgUrl:r,aiUrl:i,pdfUrl:o});case 19:return e.abrupt("return",{dimensions:a,svgUrl:r,aiUrl:i,pdfUrl:o});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e,t){var n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every((function(n){return e[n]===t[n]}))},D=n("sX7+"),K=(n("6Z9m"),function(e){var t=e.aiUrl,n=e.pdfUrl,a=e.svgUrl;return r.a.createElement(s.Typography,{textSize:6},r.a.createElement(s.FlexBox,{flexDirection:"row"},n&&r.a.createElement(s.Link,{href:n},"PDF"),n&&(a||t)&&r.a.createElement(s.Box,{mx:1},"|"),a&&r.a.createElement(s.Link,{href:a},"SVG"),a&&t&&r.a.createElement(s.Box,{mx:1},"|"),t&&r.a.createElement(s.Link,{href:t},"Adobe Illustrator (.ai)")))});t.default=Object(i.b)((function(e){return{locale:e.locale,defaultLocale:e.defaultLocale,compatibleValues:e.compatibleValues,mpvId:e.mpv.mpvId,version:e.mpv.version,attributeConstraints:e.attributeConstraints,selections:e.selections}}))((function(e){var t,n=e.tabData,i=e.locale,o=e.pageData,f=e.selected,g=e.compatibleValues,v=e.mpvId,h=e.version,b=e.attributeConstraints,E=e.selections,y=Object(a.useState)({}),C=y[0],x=y[1],S=Object(a.useState)({}),w=S[0],U=S[1],O=Object(m.a)(Object(s.useScreenClass)()),I=O.isDesktop,T=O.isMobile,j=l.getInstance(),L=u.getInstance(),A=p.a.getInstance(),B=z({isActiveTab:f,productKey:o.mpv.coreProductId,selectedValues:w,updateCompatibilities:function(e){x(e)},units:["mm","in"],locale:i,designSpecsCache:j,productCompletionCache:L,imageWidth:980,safeAreaText:A.getTranslation("safeArea"),options:null==n?void 0:n.options,compatibleValues:g,version:h}),V=B.productSurfacesData,R=B.productSurfacesImageUrl,P=B.rotateImage,_=B.svgUrl,F=B.pdfUrl,W=B.aiUrl,N=!1,H=r.a.createElement(r.a.Fragment,null,(null==n?void 0:n.options)&&(null==n||null===(t=n.options)||void 0===t?void 0:t.slice(0,4).map((function(e){return r.a.createElement(s.Row,{mb:4,key:"design-specs-option-"+e.name},r.a.createElement(s.Column,{span:12},r.a.createElement("label",{className:"visually-hidden",htmlFor:"design-specs-"+(null==e?void 0:e.name)},null==e?void 0:e.name),r.a.createElement(s.Listbox,{fullWidth:!0,id:"design-specs-"+(null==e?void 0:e.name),value:w[""+e.key]||"",onChange:function(t){k.a.trackFilterSelection(e.key,v),function(e,t){var n=Object.assign({},w);n[e]=t,U(n)}(e.key,t)}},r.a.createElement(s.ListboxButtonWithLabel,null,null==e?void 0:e.name),r.a.createElement(s.ListboxPopover,null,r.a.createElement(s.ListboxList,null,(e.options||[]).map((function(t){var n,a=t.key,i=((n={})[e.key]=a,n),o=!0;Object.entries(i).map((function(e){var t=e[0],n=e[1];C&&C[t]&&C[t].includes(n)||(o=!1,N=!0)}));var c=Object(D.h)({option:e.key,value:t.key,attributeConstraints:b,selections:E}),l=c.isConstrained,u=c.isAlwaysConstrained,m=!o||l||u;return r.a.createElement(s.ListboxOption,{value:a,label:t.name,disabled:m,key:a},r.a.createElement(s.FlexBox,{alignItems:"center"},t.name,(u||l)&&r.a.createElement(s.Callout,{ml:2,skin:"standard"},p.a.getInstance().getTranslation("outOfStockButtonAttribute"))))})))))))}))),N&&w!=={}&&r.a.createElement(s.Row,null,r.a.createElement(s.Column,{span:12},r.a.createElement(s.TextButton,{onClick:function(){return U({})}},r.a.createElement(s.Typography,{textSize:5},A.getTranslation("clearSelection"))))));return r.a.createElement(s.GridContainer,{mb:6},r.a.createElement(s.Row,null,r.a.createElement(s.Column,{span:12},r.a.createElement(s.Typography,{component:I?"h2":"h3",paddingTop:I?9:6,paddingBottom:I?8:4,marginBottom:2},A.getTranslation("productSpecsTemplates")))),r.a.createElement(s.Visible,{xs:!0},H),r.a.createElement(s.Row,{backgroundColor:"light-grey"},r.a.createElement(s.Column,{span:8,verticallyCenterContent:!0},V?r.a.createElement(s.Row,{my:4},r.a.createElement(s.Column,{span:7,spanSm:12,verticallyCenterContent:!0},R&&r.a.createElement("div",{className:P?"rotation-wrapper-outer":""},r.a.createElement(s.FlexBox,{className:P?"rotation-wrapper-inner":"",justifyContent:"space-around"},r.a.createElement(s.FluidImage,{className:c()("design-specs-image",{rotate:P}),p:6,src:R})))),r.a.createElement(s.Column,{span:5,spanSm:12,verticallyCenterContent:!0},Object.keys(V).map((function(e){var t=V[e];return r.a.createElement(s.Row,{mb:2,key:e},r.a.createElement(s.Column,{span:6,spanSm:4,spanXs:4},r.a.createElement(s.Typography,{component:"p",textSize:6,weight:"bold",marginTop:"0",marginBottom:2,pl:I?void 0:3},A.getTranslation(""+e.toLowerCase()))),r.a.createElement(s.Column,{span:6,spanSm:8,spanXs:8},r.a.createElement(s.FlexBox,{flexDirection:I?"column":"row",justifyContent:I?void 0:"space-around",flexWrap:"wrap"},r.a.createElement(s.Typography,{component:"p",textSize:6,weight:"standard",marginY:"0"},""+(null==t?void 0:t.in.width)+d.getInchesUnit(i)+" x "+(null==t?void 0:t.in.height)+d.getInchesUnit(i)),r.a.createElement(s.Typography,{component:"p",textSize:6,weight:"standard",marginY:"0"},(null==t?void 0:t.mm.width)+" x "+(null==t?void 0:t.mm.height)+" mm"))))})))):r.a.createElement(s.BasicPreloader,{centered:!0,sizeVariant:"large",mt:8})),r.a.createElement(s.Column,{span:4,backgroundColor:"white",pl:T?void 0:5},r.a.createElement(s.Hidden,{xs:!0},H),r.a.createElement(s.Row,null,r.a.createElement(s.Column,{span:12},r.a.createElement(s.Typography,{component:"p",textSize:6,weight:"standard"},A.getTranslation("designSpecsInfo")))),(_||W||F)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Row,null,r.a.createElement(s.Column,{span:12},r.a.createElement(s.FlexBox,{flexDirection:"row",flexWrap:"wrap"},r.a.createElement(s.Typography,{textSize:6,mr:2},A.getTranslation("downloadTemplateInfo")),r.a.createElement(s.Typography,{textSize:6,mb:2},A.getTranslation("downloadTemplate"))),r.a.createElement(K,{aiUrl:W,pdfUrl:F,svgUrl:_}))),o.instructionsPdfUrl&&r.a.createElement(s.Row,null,r.a.createElement(s.Column,{span:12},r.a.createElement(s.Link,{href:o.instructionsPdfUrl,component:"a",target:"_blank",skin:"cta",mt:6},A.getTranslation("templateInstructions"))))))))}))}}]);
//# sourceMappingURL=tabs-DesignSpecifications-DesignSpecifications-5a6aa099c28a1c9e3ef6.js.map