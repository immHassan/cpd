/*! For license information please see 49f36f79086928f9c1d62a7a5c80d18a5188c870-4b3f86e32ca041d80274.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+6tf":function(e,t,n){},"+9jB":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},"+Leq":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Yji6"),o=n("tyWI"),i=n("D9v1"),a=n("JOlD"),s=r.a,c=o.a,u=i.a,l=(0,a.a)("iterator"),d=function(e){if(null!=e)return c(e,l)||c(e,"@@iterator")||u[s(e)]}},"/0TV":function(e,t,n){"use strict";(function(t){var r=n("MOJX"),o=n("wj/Z"),i=n("nZdi"),a=n("N1e5"),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,l={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(u=n("mjsn")),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l}).call(this,n("KCCg"))},"/9Dy":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},"/J3Q":function(e,t,n){"use strict";(function(e){n("E9XD");var t=n("2taM"),r=n("kNyU"),o=t.a&&t.a.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(r.a,"__esModule",{value:!0});var i=function(e,t,n){this.name=e,this.version=t,this.os=n};r.a.BrowserInfo=i;var a=function(t){this.version=t,this.name="node",this.os=e.platform};r.a.NodeInfo=a;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};r.a.BotInfo=s;var c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function l(e){var t=""!==e&&c.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new s;var a=r[1]&&r[1].split(/[._]/).slice(0,3);return a?a.length<3&&(a=o(a,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-a.length))):a=[],new i(n,a.join("."),d(e))}function d(e){for(var t=0,n=u.length;t<n;t++){var r=u[t],o=r[0];if(r[1].test(e))return o}return null}function p(){return void 0!==e&&e.version?new a(e.version.slice(1)):null}r.a.detect=function(e){return e?l(e):"undefined"!=typeof navigator?l(navigator.userAgent):p()},r.a.parseUserAgent=l,r.a.detectOS=d,r.a.getNodeVersion=p}).call(this,n("KCCg"))},"/fA3":function(e,t,n){"use strict";var r,o;function i(){if(o)return r;function e(e){this.message=e}return o=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,r=e}n.d(t,"a",(function(){return i}))},"/qRJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,o,i,a,s,c,u=n("r7tZ"),l=n("OoGS");function d(){if(o)return r;o=1;var e=l.a;return r=function(t,n,r,o,i){var a=new Error(t);return e(a,n,r,o,i)}}var p,f,h,m,g,v,y,b,w,O,E=n("IBVR");function x(){if(v)return g;v=1;var e=f?p:(f=1,p=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),t=m?h:(m=1,h=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return g=function(n,r){return n&&!e(r)?t(n,r):r}}var S,P,C=n("ByOJ"),T=n("aQFG");function _(){if(P)return S;P=1;var e=u.a,t=function(){if(a)return i;a=1;var e=d();return i=function(t,n,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?n(e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}}(),n=function(){if(c)return s;c=1;var e=u.a;return s=e.isStandardBrowserEnv()?{write:function(t,n,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(o)&&s.push("path="+o),e.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}(),r=E.a,o=x(),l=function(){if(b)return y;b=1;var e=u.a,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return y=function(n){var r,o,i,a={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),o=e.trim(n.substr(i+1)),r){if(a[r]&&t.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}}(),p=function(){if(O)return w;O=1;var e=u.a;return w=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(n){var r=e.isString(n)?o(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),f=d(),h=Object(C.a)(),m=Object(T.a)();return S=function(i){return new Promise((function(a,s){var c,u=i.data,d=i.headers,g=i.responseType;function v(){i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}e.isFormData(u)&&delete d["Content-Type"];var y=new XMLHttpRequest;if(i.auth){var b=i.auth.username||"",w=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";d.Authorization="Basic "+btoa(b+":"+w)}var O=o(i.baseURL,i.url);function E(){if(y){var e="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,n={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:e,config:i,request:y};t((function(e){a(e),v()}),(function(e){s(e),v()}),n),y=null}}if(y.open(i.method.toUpperCase(),r(O,i.params,i.paramsSerializer),!0),y.timeout=i.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(s(f("Request aborted",i,"ECONNABORTED",y)),y=null)},y.onerror=function(){s(f("Network Error",i,null,y)),y=null},y.ontimeout=function(){var e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",t=i.transitional||h.transitional;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),s(f(e,i,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var x=(i.withCredentials||p(O))&&i.xsrfCookieName?n.read(i.xsrfCookieName):void 0;x&&(d[i.xsrfHeaderName]=x)}"setRequestHeader"in y&&e.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:y.setRequestHeader(t,e)})),e.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),g&&"json"!==g&&(y.responseType=i.responseType),"function"==typeof i.onDownloadProgress&&y.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",i.onUploadProgress),(i.cancelToken||i.signal)&&(c=function(e){y&&(s(!e||e&&e.type?new m("canceled"):e),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c))),u||(u=null),y.send(u)}))}}},"/rgY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},"/sJC":function(e,t,n){"use strict";n("ma9I"),n("EnZy"),Object.defineProperty(t,"__esModule",{value:!0}),t.CultureFormatter=void 0;t.CultureFormatter=class{format(e){try{var t=e.split("-")[0],n=e.split("-")[1];return[t.toLowerCase(),n.toUpperCase()].join("-")}catch(r){throw new Error("Unable to format culture, not in the right format ".concat(e,". ").concat(r))}}}},"0C9e":function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("JmOh"),s=n("5osp"),c=n("bQ+U"),u="pricePerUnit";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=this,h=s.contextService.getCulture(f),e.next=4,(0,a.comparativePriceFilter)(h,t,n,r,i,l,d,p,f);case 4:return m=e.sent,g=m.htmlTemplates,v=m.mustacheVariables,y=(0,c.localized)(u,h),e.abrupt("return",s.mustacheService.replace(y,v,g));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},"0LXn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},"0WmL":function(e,t,n){},"0YW3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.availablesLocales=function(){return["da-dk","de-at","de-ch","de-de","en-au","en-ca","en-gb","en-ie","en-in","en-jp","en-nz","en-sg","en-us","es-es","es-us","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","it-ch","it-it","ja-jp","nb-no","nl-be","nl-nl","pt-pt","sv-se"]}},"0qIg":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("Nzva"),o=n("sMLe"),i=n("wHaV"),a=n("qIYE"),s=n("xbmn"),c=n("yLu9"),u=r.a,l=o.a,d=i.a,p=a.a,f=s.a,h=c.a,m=l([].push),g=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,l,g,v){for(var y,b,w=p(c),O=d(w),E=u(l,g),x=f(O),S=0,P=v||h,C=t?P(c,x):n||a?P(c,0):void 0;x>S;S++)if((s||S in O)&&(b=E(y=O[S],S,w),e))if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:m(C,y)}else switch(e){case 4:return!1;case 7:m(C,y)}return i?-1:r||o?o:C}},v={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},1:function(e,t){},"1LKB":function(e,t,n){"use strict";var r=n("MOJX");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"1MfR":function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r,o={},i={};var a,s,c,u,l,d,p={},f=(n("R1BN"),n("9pfv")),h=n("Nl4t"),m=n("aTPC"),g={exports:{}},v={exports:{}};function y(){if(c)return s;c=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};return s=e}function b(){if(l)return u;function e(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}return l=1,u=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}}function w(){return d||(d=1,a||(a=1,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=t.endian(e[n]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}},v.exports=t),n=v.exports,r=y().utf8,o=b(),i=y().bin,(s=function e(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=n.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var h=e._ff,m=e._gg,g=e._hh,v=e._ii;for(f=0;f<s.length;f+=16){var y=u,b=l,w=d,O=p;u=h(u,l,d,p,s[f+0],7,-680876936),p=h(p,u,l,d,s[f+1],12,-389564586),d=h(d,p,u,l,s[f+2],17,606105819),l=h(l,d,p,u,s[f+3],22,-1044525330),u=h(u,l,d,p,s[f+4],7,-176418897),p=h(p,u,l,d,s[f+5],12,1200080426),d=h(d,p,u,l,s[f+6],17,-1473231341),l=h(l,d,p,u,s[f+7],22,-45705983),u=h(u,l,d,p,s[f+8],7,1770035416),p=h(p,u,l,d,s[f+9],12,-1958414417),d=h(d,p,u,l,s[f+10],17,-42063),l=h(l,d,p,u,s[f+11],22,-1990404162),u=h(u,l,d,p,s[f+12],7,1804603682),p=h(p,u,l,d,s[f+13],12,-40341101),d=h(d,p,u,l,s[f+14],17,-1502002290),u=m(u,l=h(l,d,p,u,s[f+15],22,1236535329),d,p,s[f+1],5,-165796510),p=m(p,u,l,d,s[f+6],9,-1069501632),d=m(d,p,u,l,s[f+11],14,643717713),l=m(l,d,p,u,s[f+0],20,-373897302),u=m(u,l,d,p,s[f+5],5,-701558691),p=m(p,u,l,d,s[f+10],9,38016083),d=m(d,p,u,l,s[f+15],14,-660478335),l=m(l,d,p,u,s[f+4],20,-405537848),u=m(u,l,d,p,s[f+9],5,568446438),p=m(p,u,l,d,s[f+14],9,-1019803690),d=m(d,p,u,l,s[f+3],14,-187363961),l=m(l,d,p,u,s[f+8],20,1163531501),u=m(u,l,d,p,s[f+13],5,-1444681467),p=m(p,u,l,d,s[f+2],9,-51403784),d=m(d,p,u,l,s[f+7],14,1735328473),u=g(u,l=m(l,d,p,u,s[f+12],20,-1926607734),d,p,s[f+5],4,-378558),p=g(p,u,l,d,s[f+8],11,-2022574463),d=g(d,p,u,l,s[f+11],16,1839030562),l=g(l,d,p,u,s[f+14],23,-35309556),u=g(u,l,d,p,s[f+1],4,-1530992060),p=g(p,u,l,d,s[f+4],11,1272893353),d=g(d,p,u,l,s[f+7],16,-155497632),l=g(l,d,p,u,s[f+10],23,-1094730640),u=g(u,l,d,p,s[f+13],4,681279174),p=g(p,u,l,d,s[f+0],11,-358537222),d=g(d,p,u,l,s[f+3],16,-722521979),l=g(l,d,p,u,s[f+6],23,76029189),u=g(u,l,d,p,s[f+9],4,-640364487),p=g(p,u,l,d,s[f+12],11,-421815835),d=g(d,p,u,l,s[f+15],16,530742520),u=v(u,l=g(l,d,p,u,s[f+2],23,-995338651),d,p,s[f+0],6,-198630844),p=v(p,u,l,d,s[f+7],10,1126891415),d=v(d,p,u,l,s[f+14],15,-1416354905),l=v(l,d,p,u,s[f+5],21,-57434055),u=v(u,l,d,p,s[f+12],6,1700485571),p=v(p,u,l,d,s[f+3],10,-1894986606),d=v(d,p,u,l,s[f+10],15,-1051523),l=v(l,d,p,u,s[f+1],21,-2054922799),u=v(u,l,d,p,s[f+8],6,1873313359),p=v(p,u,l,d,s[f+15],10,-30611744),d=v(d,p,u,l,s[f+6],15,-1560198380),l=v(l,d,p,u,s[f+13],21,1309151649),u=v(u,l,d,p,s[f+4],6,-145523070),p=v(p,u,l,d,s[f+11],10,-1120210379),d=v(d,p,u,l,s[f+2],15,718787259),l=v(l,d,p,u,s[f+9],21,-343485551),u=u+y>>>0,l=l+b>>>0,d=d+w>>>0,p=p+O>>>0}return n.endian([u,l,d,p])})._ff=function(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._gg=function(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._hh=function(e,t,n,r,o,i,a){var s=e+(t^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._ii=function(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._blocksize=16,s._digestsize=16,g.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?i.bytesToString(r):n.bytesToHex(r)}),g.exports;var e,t,n,r,o,i,s}var O,E=n("YVQJ"),x={};function S(){if(O)return x;return O=1,Object.defineProperty(x,"__esModule",{value:!0}),x.memoize=function(e,t){var n={};return Object.assign((function(){var r=t.apply(void 0,arguments);return void 0===n[r]&&(n[r]=e.apply(void 0,arguments)),n[r]}),{flush:function(){n={}}})},x}var P,C={},T={};function _(){return P||(P=1,Object.defineProperty(T,"__esModule",{value:!0}),T.CompositeMode=T.MapMode=void 0,T.MapMode=e,function(e){e.generate="generated",e.inherit="inherit"}(e||(T.MapMode=e={})),T.CompositeMode=t,function(e){e.normal="normal",e.multiply="multiply",e.overlay="overlay",e.mask="destination-in",e.sourceIn="source-in"}(t||(T.CompositeMode=t={}))),T;var e,t}var k,I=n("0LXn");function M(){if(k)return C;k=1;var e=I.a.exports;Object.defineProperty(C,"__esModule",{value:!0}),C.normalizePosition=function(e,t,n){var r=n.getBoundingClientRect(),i=e-r.left,a=t-r.top;return new o.Vector2(i/r.width*2-1,-a/r.height*2+1)},C.loadImage=s,C.buildCanvas=c,C.loadCanvas=function(e){return u.apply(this,arguments)},C.colorCanvas=function(e,t){var n=c(e.width,e.height),r=n.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,e.width,e.height),n},C.compositeImages=function(e,t,n){var r=c(e.width,e.height),o=r.getContext("2d");return o.drawImage(e,0,0),o.globalCompositeOperation=n,o.drawImage(t,0,0),r},C.tileImage=void 0;var t=e(Object(f.a)()),n=e(Object(m.a)()),r=e(w()),o=E.a,i=S(),a=_();function s(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not fetch url: ".concat(e)))},r.src=e}))}function c(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function u(){return(u=(0,n.default)(t.default.mark((function e(n){var r,o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:return r=e.sent,o=c(r.width,r.height),o.getContext("2d").drawImage(r,0,0),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.default)(t.default.mark((function e(n,r,i){var u,l,d,p,f,h,m;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.width/(.0393701*i.width),l=r.height/(.0393701*i.height),e.next=4,s(n.sourceUrl);case 4:return d=e.sent,(p=document.createElement("canvas")).width=Math.max(d.naturalWidth*(u/n.dpi),1),p.height=Math.max(d.naturalHeight*(l/n.dpi),1),(f=p.getContext("2d")).drawImage(d,0,0,p.width,p.height),n.overlayColor&&(f.globalCompositeOperation=a.CompositeMode.overlay,f.fillStyle="#".concat(new o.Color(n.overlayColor).getHexString()),f.fillRect(0,0,p.width,p.height)),h=c(r.width,r.height),(m=h.getContext("2d")).rect(0,0,r.width,r.height),m.fillStyle=m.createPattern(p,"repeat"),m.fill(),e.abrupt("return",h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=(0,i.memoize)((function(e,t,n){return l.apply(this,arguments)}),(function(e,t,n){return(0,r.default)([e.dpi,e.sourceUrl,e.overlayColor,t.width,t.height,n.width,n.height].join("-"))}));return C.tileImage=d,C}var j,A,R={};function D(){if(j)return R;j=1;var e=I.a.exports;Object.defineProperty(R,"__esModule",{value:!0}),R.createRenderer=function(e,t){var n=new r.WebGLRenderer({antialias:!0,alpha:!0});return n.setSize(e,t),n.setPixelRatio(window.devicePixelRatio),n.setClearColor(0,0),n},R.loadTextureFromUri=function(e,t){return o.apply(this,arguments)},R.createTextureFromCanvas=function(e,t){var n=new r.Texture(e);n.needsUpdate=!0,n.anisotropy=4,t&&(n.repeat=new r.Vector2(t,t),n.wrapS=r.RepeatWrapping,n.wrapT=r.RepeatWrapping);return n},R.WebGlSupported=function(e){return!(!WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))};var t=e(Object(f.a)()),n=e(Object(m.a)()),r=E.a;function o(){return(o=(0,n.default)(t.default.mark((function e(n,o){var i,a;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new r.TextureLoader,e.next=3,i.loadAsync(n);case 3:return(a=e.sent).anisotropy=4,o&&(a.repeat=new r.Vector2(o,o),a.wrapS=r.RepeatWrapping,a.wrapT=r.RepeatWrapping),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R}var L,N={};function U(){if(L)return N;L=1,Object.defineProperty(N,"__esModule",{value:!0}),N.TraceIntersection=function(e,n,r){t.setFromCamera(e,n);var o=t.intersectObjects(r.children,!0);if(o.length>0)return o[0].object.uuid;return},N.TraceIntersectionFromPosition=function(e,n,r){t.set(e,n);var o=t.intersectObjects(r.children,!0);if(o.length>0)return o[0].object.uuid;return},N.UVMapFace=n,N.UVMapPlane=function(e,t,r,o,i){return n(e,0,t,r,o,i)},N.UVMapBox=function(e){var t=Math.max(e.parameters.width,e.parameters.height,e.parameters.depth);n(e,0,0,e.parameters.depth/t,0,e.parameters.height/t),n(e,1,0,e.parameters.depth/t,0,e.parameters.height/t),n(e,2,0,e.parameters.width/t,0,e.parameters.depth/t),n(e,3,0,e.parameters.width/t,0,e.parameters.depth/t),n(e,4,0,e.parameters.width/t,0,e.parameters.height/t),n(e,5,0,e.parameters.width/t,0,e.parameters.height/t)},N.UVMapOffsetShape=r,N.UVMapShape=function(t,n,o){r(t,n,o,new e.Vector2)},N.disposeGeometryRecursively=function t(n){if(!n)return;n.children&&n.children.forEach((function(e){return t(e)}));n instanceof e.Mesh&&(n.geometry instanceof e.Geometry||n.geometry instanceof e.BufferGeometry)&&n.geometry.dispose()},N.BuildMeshMap=function(t){var n={};return function t(n,r){if(!r)return;r.children&&r.children.forEach((function(e){return t(n,e)}));r instanceof e.Mesh&&(n[r.uuid]=r)}(n,t),n};var e=E.a,t=new e.Raycaster;function n(t,n,r,o,i,a){t.faceVertexUvs[0][2*n][0]=new e.Vector2(r,a),t.faceVertexUvs[0][2*n][1]=new e.Vector2(r,i),t.faceVertexUvs[0][2*n][2]=new e.Vector2(o,a),t.faceVertexUvs[0][2*n+1][0]=new e.Vector2(r,i),t.faceVertexUvs[0][2*n+1][1]=new e.Vector2(o,i),t.faceVertexUvs[0][2*n+1][2]=new e.Vector2(o,a)}function r(e,t,n,r){for(var o=0;o<e.faceVertexUvs.length;o++)for(var i=0;i<e.faceVertexUvs[o].length;i++)for(var a=0;a<e.faceVertexUvs[o][i].length;a++)e.faceVertexUvs[o][i][a].setX((e.faceVertexUvs[o][i][a].x-r.x)/t),e.faceVertexUvs[o][i][a].setY((e.faceVertexUvs[o][i][a].y-r.y)/n)}return N}var F,B={};var z,V={},q=n("hqiQ"),G=n("1Pl4");function H(){if(z)return V;z=1;var e=I.a.exports;Object.defineProperty(V,"__esModule",{value:!0}),V.instantlyChangeState=c,V.instantlyPlayAnimation=function(e,t){return l.apply(this,arguments)},V.getStateBounds=function(e,t,n){return d.apply(this,arguments)};var t=e(Object(f.a)()),n=e(Object(m.a)()),r=E.a,o=Object(q.a)(),i=Object(G.a)();function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,n.default)(t.default.mark((function e(n,r){var o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.transitionState(n,{duration:i.EPSILON}),r.updateAnimations(1),e.next=4,o;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.default)(t.default.mark((function e(n,r){var a,s;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.buildAnimation({animationId:n,direction:o.AnimationDirection.forward,duration:i.EPSILON}),s=a.start(),a.update(1),e.next=5,s;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,n.default)(t.default.mark((function e(n,o,i){var s,u,l,d,p,f;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={},u=o.getCurrentState().id,l=o.getStates(),d=a(l),e.prev=4,d.s();case 6:if((p=d.n()).done){e.next=13;break}return f=p.value,e.next=10,c(f.id,n);case 10:s[f.id]=(new r.Box3).setFromObject(i);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),d.e(e.t0);case 18:return e.prev=18,d.f(),e.finish(18);case 21:return e.next=23,c(u,n);case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}return V}var W,K={};var Q,Y={},Z=n("R7S4");var J,X,$={};function ee(){if(J)return $;J=1;var e=I.a.exports;Object.defineProperty($,"__esModule",{value:!0}),$.ComputeFocalPoints=function(e,t,n){return h.apply(this,arguments)};var t=e(Object(f.a)()),n=e(Object(m.a)()),r=E.a,o=Object(G.a)(),i=H(),a=te();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return l.apply(this,arguments)}function l(){return(l=(0,n.default)(t.default.mark((function e(n,r){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.instantlyChangeState)(n,r);case 2:r.scene.updateMatrixWorld();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,n,i){var s=new r.Vector3(n.x*o.MAX_GEOMETRY_DIMENSION*1.5,n.y*o.MAX_GEOMETRY_DIMENSION*1.5,n.z*o.MAX_GEOMETRY_DIMENSION*1.5),c=t.clone().add(s),u=new r.Vector3(-n.x,-n.y,-n.z);return(0,a.TraceIntersectionFromPosition)(c,u,i)===e}function p(e,t,n){if(t.geometry instanceof r.Geometry){var i=t.geometry;if(i.faces.length>0&&i.faces[0].vertexNormals.length>0){var a=i.faces[0].vertexNormals[0].clone().transformDirection(t.matrixWorld),s=(new r.Box3).setFromObject(t).getCenter(new r.Vector3);if(d(e,s,a,n))return a;for(var c=Math.PI/6,u=(new r.Spherical).setFromVector3(a),l=u.phi,p=u.theta,f=0;f<o.HALF_PI;f+=c){u.phi=l+f;var h=(new r.Vector3).setFromSpherical(u);if(d(e,s,h,n))return h}for(var m=0;m>-o.HALF_PI;m-=c){u.phi=l+m;var g=(new r.Vector3).setFromSpherical(u);if(d(e,s,g,n))return g}u.phi=l;for(var v=0;v<o.HALF_PI;v+=c){u.theta=p+v;var y=(new r.Vector3).setFromSpherical(u);if(d(e,s,y,n))return y}for(var b=0;b>-o.HALF_PI;b-=c){u.theta=p+b;var w=(new r.Vector3).setFromSpherical(u);if(d(e,s,w,n))return w}return}}}function h(){return(h=(0,n.default)(t.default.mark((function e(n,i,a){var c,l,d,f,h,m,g,v,y,b,w,O,E,x,S;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.getSurfaceMapping(),l=n.getCurrentState().id,d=n.getStates(),f=s(d),e.prev=4,f.s();case 6:if((h=f.n()).done){e.next=33;break}if((m=h.value).allowGeneratedFocalPoints){e.next=10;break}return e.abrupt("continue",31);case 10:return e.next=12,u(m.id,a);case 12:e.t0=t.default.keys(c);case 13:if((e.t1=e.t0()).done){e.next=31;break}if(g=e.t1.value,(v=c[g]).page){e.next=18;break}return e.abrupt("continue",13);case 18:if(!v.focalPoint){e.next=28;break}if(b=v.focalPoint,!(null===(y=b.allowedStates)||void 0===y?void 0:y.includes(m.id))){e.next=24;break}return e.abrupt("continue",13);case 24:(w=p(g,i[g],a.scene))&&(O=b.cameraView,E=new r.Vector3(-w.x,-w.y,-w.z),Math.abs(O.x-E.x)<o.EPSILON&&Math.abs(O.y-E.y)<o.EPSILON&&Math.abs(O.z-E.z)<o.EPSILON&&(null===(x=b.allowedStates)||void 0===x||x.push(m.id)));case 26:e.next=29;break;case 28:i[g]&&(S=p(g,i[g],a.scene))&&(v.focalPoint={cameraView:new r.Vector3(-S.x,-S.y,-S.z),allowedStates:[m.id]});case 29:e.next=13;break;case 31:e.next=6;break;case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(4),f.e(e.t2);case 38:return e.prev=38,f.f(),e.finish(38);case 41:return e.next=43,u(l,a);case 43:case"end":return e.stop()}}),e,null,[[4,35,38,41]])})))).apply(this,arguments)}return $}function te(){return X||(X=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(r||(r=1),i);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(A)return p;A=1;var e=I.a.exports;Object.defineProperty(p,"__esModule",{value:!0}),p.buildFinish=p.buildSubstrate=void 0;var t=e(Object(f.a)()),n=e(Object(h.a)()),r=e(Object(m.a)()),o=e(w()),i=E.a,a=S(),s=M(),c=_(),u=D();function l(e){return e.trim?{width:e.trim.bottomRightX-e.trim.topLeftX,height:e.trim.bottomRightY-e.trim.topLeftY}:e.fullBleed}function d(e,t,n){var r="#".concat(e.getHexString());if(t===c.CompositeMode.normal){var o=(0,s.colorCanvas)({width:n.width,height:n.height},r);return(0,s.compositeImages)(o,n,c.CompositeMode.normal)}if(t===c.CompositeMode.multiply){if(1===e.r&&1===e.g&&1===e.b)return n;var i=(0,s.colorCanvas)({width:n.width,height:n.height},r);return(0,s.compositeImages)(n,i,c.CompositeMode.sourceIn)}return n}function g(e,t,n,r){var o=r;void 0===o&&(o=t.reflectionUrl?new Array(6).fill(t.reflectionUrl):t.reflectionUrls);var a=(new i.CubeTextureLoader).load(o);a.format=i.RGBFormat,e.envMap=a,e.reflectivity=n}function v(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=(0,r.default)(t.default.mark((function e(n,r,o,i){var a,c,l;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,s.buildCanvas)(r.productSize.width,r.productSize.height),c=a.getContext("2d"),i.getAlphaMap(r,o,c),l=(0,s.buildCanvas)(r.textureSize.width,r.textureSize.height),l.getContext("2d").drawImage(a,0,0,r.textureSize.width,r.textureSize.height),e.next=8,(0,u.createTextureFromCanvas)(l);case 8:n.alphaMap=e.sent;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,o){return O.apply(this,arguments)}function O(){return(O=(0,r.default)(t.default.mark((function e(n,r,o,i,a){var c;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.tileImage)(r,i,a);case 2:c=e.sent,n.bumpMap=(0,u.createTextureFromCanvas)(c),n.bumpScale=o;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=(0,r.default)(t.default.mark((function e(n,r,o,i){var a;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.tileImage)(r,o,i);case 2:a=e.sent,n.specularMap=(0,u.createTextureFromCanvas)(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=(0,r.default)(t.default.mark((function e(r,o,a,p,f){var h,m,y,w,O,E,S,P,C,T,_,k,I;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=l(o),w=o.fullBleed.width/o.fullBleed.height,O=p.computeRenderSize(w),E=o.substrate,S=new i.MeshPhongMaterial({shininess:E.shininess,emissive:null!==(h=E.emissive)&&void 0!==h?h:0,transparent:!0}),!E.fullyTransparent){e.next=7;break}return e.abrupt("return",S);case 7:return E.supportsTransparency&&(S.depthWrite=!1,S.side=i.DoubleSide),P=[],C=new i.Color(E.color),T=null!==(m=E.baseColorMode)&&void 0!==m?m:c.CompositeMode.normal,E.baseTexture?(_=(0,s.tileImage)(E.baseTexture,O.textureSize,y),r?P.push(Promise.all([_,(0,s.loadImage)(r)]).then((function(e){var t,r=(0,n.default)(e,2),o=r[0],i=r[1],a=d(C,T,o),l=(0,s.compositeImages)(a,i,null!==(t=E.baseCompositeMode)&&void 0!==t?t:c.CompositeMode.normal);S.map=(0,u.createTextureFromCanvas)(l)}))):(k=_.then((function(e){var t=d(C,T,e);S.map=(0,u.createTextureFromCanvas)(t)})),P.push(k))):r?(I=(0,s.loadImage)(r).then((function(e){var t,n="#".concat(new i.Color(E.color).getHexString()),r=(0,s.colorCanvas)(O.textureSize,n),o=(0,s.compositeImages)(r,e,null!==(t=E.baseCompositeMode)&&void 0!==t?t:c.CompositeMode.normal);S.map=(0,u.createTextureFromCanvas)(o)})),P.push(I)):(S.color=C,S.side=i.DoubleSide),E.reflectivity&&g(S,f,E.reflectivity,E.reflectionMapOverrideUrls),E.specularTexture&&P.push(x(S,E.specularTexture,O.textureSize,y)),E.bumpTexture&&P.push(b(S,E.bumpTexture,E.bumpScale,O.textureSize,y)),o.hasAlphaMap&&P.push(v(S,O,y,a)),e.next=18,Promise.all(P);case 18:return e.abrupt("return",S);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=(0,r.default)(t.default.mark((function e(r,o,a,d,p,f,h){var m,y,b,w,O,E,S;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=l(d),y=d.fullBleed.width/d.fullBleed.height,b=f.computeRenderSize(y),w=new i.MeshPhongMaterial({transparent:!0,shininess:a.shininess}),a.reflectivity&&g(w,h,a.reflectivity,a.reflectionMapOverrideUrls),O=[],a.baseTexture?(S=(0,s.tileImage)(a.baseTexture,b.textureSize,m),E=a.baseCompositeMode!==c.CompositeMode.normal?Promise.all([S,(0,s.loadImage)(r)]).then((function(e){var t=(0,n.default)(e,2),r=t[0],o=t[1];return(0,s.compositeImages)(r,o,a.baseCompositeMode)})):S):E=(0,s.loadCanvas)(r),O.push(Promise.all([E,(0,s.loadImage)(o)]).then((function(e){var t=(0,n.default)(e,2),r=t[0],i=t[1],l=(0,s.compositeImages)(r,i,c.CompositeMode.mask);if(a.bumpMode===c.MapMode.generate)return Promise.all([(0,u.createTextureFromCanvas)(l),(0,u.loadTextureFromUri)(o)]).then((function(e){var t=(0,n.default)(e,2),r=t[0],o=t[1];w.map=r,w.bumpMap=o,w.bumpScale=a.bumpScale}));var d=(0,u.createTextureFromCanvas)(l);return w.map=d,w.bumpMap=d,w.bumpScale=a.bumpScale,Promise.resolve()}))),d.hasAlphaMap&&O.push(v(w,b,m,p)),a.specularTexture&&O.push(x(w,a.specularTexture,b.textureSize,m)),e.abrupt("return",Promise.all(O).then((function(){return w})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=(0,a.memoize)((function(e,t,n,r,o){return C.apply(this,arguments)}),(function(e,t,n,r,i){var a=t.substrate,s=t.fullBleed.width/t.fullBleed.height,c=r.computeRenderSize(s),u=l(t),d=[c.textureSize.width,c.textureSize.height,a.color,a.shininess,a.bumpScale,a.baseCompositeMode,a.reflectivity,a.supportsTransparency,a.fullyTransparent,n.name,u.width,u.height,t.page,e];return a.baseTexture&&(d.push(a.baseTexture.dpi,a.baseTexture.sourceUrl),a.baseTexture.overlayColor&&d.push(a.baseTexture.overlayColor)),a.bumpTexture&&(d.push(a.bumpTexture.dpi,a.bumpTexture.sourceUrl),a.bumpTexture.overlayColor&&d.push(a.bumpTexture.overlayColor)),a.specularTexture&&(d.push(a.specularTexture.dpi,a.specularTexture.sourceUrl),a.specularTexture.overlayColor&&d.push(a.specularTexture.overlayColor)),a.reflectionMapOverrideUrls&&a.reflectionMapOverrideUrls.length>0&&d.push(a.reflectionMapOverrideUrls[0]),(0,o.default)(d.join("-"))}));p.buildSubstrate=k;var j=(0,a.memoize)((function(e,t,n,r,o,i,a){return T.apply(this,arguments)}),(function(e,t,n,r,i,a,s){var c=r.fullBleed.width/r.fullBleed.height,u=a.computeRenderSize(c),d=l(r),p=[u.textureSize.width,u.textureSize.height,n.shininess,n.reflectivity,i.name,n.bumpMode,d.width,d.height,e];return n.baseTexture&&p.push(n.baseTexture.dpi,n.baseTexture.sourceUrl,n.baseCompositeMode),(0,o.default)(p.join("-"))}));return p.buildFinish=j,p}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var o=S();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var a=M();Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var s=_();Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}));var c=U();Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}));var u=function(){if(F)return B;F=1,Object.defineProperty(B,"__esModule",{value:!0}),B.buildPointLightGrid=function(t){if(6!==t.length)throw new Error("Must provide 6 point light intensities!");var n=[],r=new e.PointLight(16777215,t[0],500);r.position.set(0,0,300);var o=new e.PointLight(16777215,t[1],500);o.position.set(0,0,-300);var i=new e.PointLight(16777215,t[2],500);i.position.set(300,0,0);var a=new e.PointLight(16777215,t[3],500);a.position.set(-300,0,0);var s=new e.PointLight(16777215,t[4],500);s.position.set(0,-300,0);var c=new e.PointLight(16777215,t[5],500);return c.position.set(0,300,0),n.push(r),n.push(o),n.push(i),n.push(a),n.push(s),n.push(c),n};var e=E.a;return B}();Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}));var l=D();Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}));var d=H();Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}));var g=(W||(W=1,Object.defineProperty(K,"__esModule",{value:!0}),K.easeInOutQuart=function(e,t,n,r){var o=e/(r/2);return o<1?n/2*Math.pow(o,4)+t:(o-=2,-n/2*(Math.pow(o,4)-2)+t)}),K);Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})}));var v=function(){if(Q)return Y;Q=1;var e=I.a.exports;Object.defineProperty(Y,"__esModule",{value:!0}),Y.isBrowser=n,Y.isSafari=void 0;var t=e(Object(Z.a)());function n(){return"object"===("undefined"==typeof window?"undefined":(0,t.default)(window))}var r=!!n()&&(navigator.vendor.match(/apple/i)&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i)&&!navigator.userAgent.match(/Opera|OPT\//));return Y.isSafari=r,Y}();Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}));var y=ee();Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}))}(o)),o}},"1Pl4":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o={},i={};var a,s,c={};function u(){return s||(s=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(r||(r=1),i);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(a)return c;a=1,Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_GEOMETRY_DIMENSION=c.HALF_PI=c.TWO_PI=c.EPSILON=void 0,c.EPSILON=1e-4;var e=2*Math.PI;c.TWO_PI=e;var t=.5*Math.PI;return c.HALF_PI=t,c.MAX_GEOMETRY_DIMENSION=200,c}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(o)),o}},"1gqn":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},2:function(e,t){},"29T6":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},"2DWb":function(e,t,n){"use strict";var r=n("uZTx"),o=n("Rmyw"),i=n("Nzva"),a=n("EE1o"),s=n("qIYE"),c=n("Y4wP"),u=n("6uSJ"),l=c.a,d=u.a,p=n("IsoC"),f=n("TKFK"),h=n("xbmn"),m=n("2QNb"),g=n("qjG+"),v=n("+Leq"),y=o.a,b=i.a,w=a.a,O=s.a,E=function(e,t,n,r){try{return r?t(l(n)[0],n[1]):t(n)}catch(o){d(e,"throw",o)}},x=p.a,S=f.a,P=h.a,C=m.a,T=g.a,_=v.a,k=y.Array,I=n("fAzO"),M=function(e){var t=O(e),n=S(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=b(o,r>2?arguments[2]:void 0));var a,s,c,u,l,d,p=_(t),f=0;if(!p||this==k&&x(p))for(a=P(t),s=n?new this(a):k(a);a>f;f++)d=i?o(t[f],f):t[f],C(s,f,d);else for(l=(u=T(t,p)).next,s=n?new this:[];!(c=w(l,u)).done;f++)d=i?E(u,o,[c.value,f],!0):c.value,C(s,f,d);return s.length=f,s};(0,r.a)({target:"Array",stat:!0,forced:!(0,I.a)((function(e){Array.from(e)}))},{from:M})},"2QNb":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("kK8I"),o=(n("m2Qd"),n("uaR5")),i=n("R/GJ"),a=r.a,s=i.a,c=o.a,u=function(e,t,n){var r=a(t);r in e?s.f(e,r,c(0,n)):e[r]=n}},"2Tiy":function(e,t,n){var r=n("tjlA").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,o=0;o<n;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},"2oSx":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t){return s.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("79sm");function s(){return(s=(0,i.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.getUrl)(this,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name="url"},"2taM":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}}).call(this,n("yLpj"))},3:function(e,t){},"39H/":function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{type:"qtyForPrice",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText})}}t.default=s},"3A28":function(e,t,n){"use strict";var r,o;function i(){if(o)return r;o=1;return r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}n.d(t,"a",(function(){return i}))},"3BRs":function(e,t,n){"use strict";(function(t,r,o){var i=n("lm0R");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=v;var u=Object.create(n("Onz0"));u.inherits=n("P7XM");var l={deprecate:n("t9FE")},d=n("QpuX"),p=n("qPBE").Buffer,f=o.Uint8Array||function(){};var h,m=n("RoFp");function g(){}function v(e,t){s=s||n("sZro"),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,o);else{var a=E(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),r?c(w,e,n,a,o):w(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n("sZro"),!(h.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,b(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):h=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,p.isBuffer(r)||r instanceof f);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,o,i);return c}(this,o,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||O(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n("KCCg"),n("URgk").setImmediate,n("yLpj"))},"3MWB":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Rmyw").a.TypeError,o=function(e){if(null==e)throw r("Can't call method on "+e);return e}},"3bBZ":function(e,t,n){var r=n("2oRo"),o=n("/byt"),i=n("4mDm"),a=n("kRJp"),s=n("tiKp"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var d in o){var p=r[d],f=p&&p.prototype;if(f){if(f[c]!==l)try{a(f,c,l)}catch(m){f[c]=l}if(f[u]||a(f,u,d),o[d])for(var h in i)if(f[h]!==i[h])try{a(f,h,i[h])}catch(m){f[h]=i[h]}}}},"3uHJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},"3yfG":function(e,t,n){"use strict";var r=n("MOJX");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"41aG":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,o={exports:{}},i=n("R7S4"),a=n("AHE6");function s(){return r||(r=1,function(e){var t=Object(i.a)().default,n=Object(a.a)();e.exports=function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},"43KI":function(e,t,n){(t=e.exports=n("rXFu")).Stream=t,t.Readable=t,t.Writable=n("3BRs"),t.Duplex=n("sZro"),t.Transform=n("J78i"),t.PassThrough=n("eA/Y")},"4CIZ":function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},"4EI8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},"4JlD":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4WOD":function(e,t,n){var r=n("UTVS"),o=n("ewvW"),i=n("93I0"),a=n("4Xet"),s=i("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},"4Wv+":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("KpH6"),o=(n("m2Qd"),n("uaR5")),i=n("R/GJ"),a=r.a,s=i.a,c=o.a,u=a?function(e,t,n){return s.f(e,t,c(1,n))}:function(e,t,n){return e[t]=n,e}},"4Xet":function(e,t,n){var r=n("0Dky");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4emC":function(e,t,n){"use strict";var r=n("TqRt");n("4mDm"),n("2B1R"),n("Tskq"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("kgsp")),a=r(n("TDIa")),s=r(n("ddWL")),c=r(n("SBIF")),u=r(n("s7Ad")),l=r(n("8D98")),d=r(n("Cgr3")),p=r(n("GWeo")),f=r(n("ylHv")),h=M(n("KIAt")),m=M(n("Go7y")),g=M(n("0C9e")),v=M(n("WGpj")),y=M(n("SdNc")),b=M(n("ZeFV")),w=M(n("iF8a")),O=M(n("CKdD")),E=M(n("qVtc")),x=M(n("51PL")),S=M(n("yPEe")),P=M(n("GGwP")),C=M(n("o5rS")),T=M(n("nvGY")),_=M(n("CKfY")),k=M(n("U+bb"));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}t.default=class{constructor(){(0,o.default)(this,"map",void 0),(0,o.default)(this,"quantityPriceTokenGenerator",void 0),(0,o.default)(this,"priceTokenGenerator",void 0),(0,o.default)(this,"rangePriceTokenGenerator",void 0),(0,o.default)(this,"unitPriceTokenGenerator",void 0),(0,o.default)(this,"plusOrMinusTokenGenerator",void 0),(0,o.default)(this,"savingsTokenGenerator",void 0),(0,o.default)(this,"percentageTokenGenerator",void 0),(0,o.default)(this,"couponCalloutGenerator",void 0),(0,o.default)(this,"vatTokenGenerator",void 0),this.quantityPriceTokenGenerator=new i.default,this.priceTokenGenerator=new a.default,this.rangePriceTokenGenerator=new s.default,this.plusOrMinusTokenGenerator=new u.default,this.savingsTokenGenerator=new c.default,this.percentageTokenGenerator=new l.default,this.unitPriceTokenGenerator=new d.default,this.couponCalloutGenerator=new p.default,this.vatTokenGenerator=new f.default,this.map=new Map,this.map.set(v.name,this.quantityPriceTokenGenerator),this.map.set(T.name,this.quantityPriceTokenGenerator),this.map.set(y.name,this.quantityPriceTokenGenerator),this.map.set(b.name,this.quantityPriceTokenGenerator),this.map.set(C.name,this.quantityPriceTokenGenerator),this.map.set(h.name,this.unitPriceTokenGenerator),this.map.set(g.name,this.unitPriceTokenGenerator),this.map.set(m.name,this.priceTokenGenerator),this.map.set(E.name,this.plusOrMinusTokenGenerator),this.map.set(x.name,this.plusOrMinusTokenGenerator),this.map.set(O.name,this.savingsTokenGenerator),this.map.set(w.name,this.percentageTokenGenerator),this.map.set(S.name,this.priceTokenGenerator),this.map.set(P.name,this.couponCalloutGenerator),this.map.set(_.name,this.vatTokenGenerator),this.map.set(k.name,this.rangePriceTokenGenerator)}get(e){return this.map.get(e)}}},"4mDm":function(e,t,n){"use strict";var r=n("/GqU"),o=n("RNIs"),i=n("P4y1"),a=n("afO8"),s=n("fdAy"),c=a.set,u=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},"4q7O":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNyIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSI+PGRlZnMvPjxwYXRoIGZpbGw9IiMwMTYxOTYiIGQ9Ik0xMy40OTkgMjRsLTUuOTQtMTAuNTZoMTEuODhMMTMuNSAyNHoiLz48cGF0aCBmaWxsPSIjMkNBOEUwIiBkPSJNMTkuNDQgMTMuNDQxSDcuNTZsNS45MzktMTAuNTYgNS45NCAxMC41NnoiLz48cGF0aCBmaWxsPSIjMDE2MTk2IiBkPSJNMTUuMTIuMDAxSDI3bC03LjU2IDEzLjQ0MS01Ljk0LTEwLjU2IDEuNjItMi44OHoiLz48cGF0aCBmaWxsPSIjNkRDRkY1IiBkPSJNMTEuODggMGwxLjYyIDIuODgxLTUuOTQgMTAuNTZMMCAuMDAxaDExLjg4eiIvPjwvc3ZnPg=="},"4tCF":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("z92h"),o=n("sMLe"),i={},a=n("MZbR"),s=n("YAv+"),c=a.a,u=s.a.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return c(e,u)};var l={};l.f=Object.getOwnPropertySymbols;var d=n("Y4wP"),p=r.a,f=o.a,h=i,m=l,g=d.a,v=f([].concat),y=p("Reflect","ownKeys")||function(e){var t=h.f(g(e)),n=m.f;return n?v(t,n(e)):t}},"51PL":function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r){return u.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c="plusOrMinusPerUnit";t.name=c;function u(){return(u=(0,i.default)(o.default.mark((function e(t,n,r,i){var u,l,d,p,f,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.contextService.getCulture(this),l=(0,s.localized)(c,u),0!==t?d=a.formatterService.formatPriceDifference({culture:u,currency:r,price:t,minimumFractionDigits:i}):(l=(0,s.localized)("".concat(c,".base"),u),d=(0,s.localized)("".concat(c,".subtemplate"),u)),p={plusOrMinusListPrice:d},f={plusOrMinus:"<span class='list-price'>{{plusOrMinusListPrice}}</span>"},n!==t&&(f.plusOrMinus="<span class='discount-price'>{{plusOrMinusDiscountPrice}}</span>",h=a.formatterService.formatPriceDifference({culture:u,currency:r,price:n,minimumFractionDigits:i}),p.plusOrMinusDiscountPrice=h),e.abrupt("return",a.mustacheService.replace(l,p,f));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},"5ALN":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return s}));var r=n("sz0P"),o="undefined"==typeof window;function i(){}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function s(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t,n){return"string"==typeof(o=e)||Array.isArray(o)?"function"==typeof t?Object(r.a)({},n,{queryKey:e,queryFn:t}):Object(r.a)({},t,{queryKey:e}):e;var o}function u(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||d(e)&&d(t)){for(var r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{},s=0,c=0;c<i;c++){var l=n?c:o[c];a[l]=u(e[l],t[l]),a[l]===e[l]&&s++}return r===i&&s===r?e:a}return t}function l(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function d(e){if(!p(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!p(n)&&!!n.hasOwnProperty("isPrototypeOf")}function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}},"5DR5":function(e,t,n){"use strict";var r=n("uZTx"),o=n("Rmyw"),i=n("zwAr"),a=n("TJZh"),s=n("t7qx"),c=n("qIYE"),u=n("xbmn"),l=n("2QNb"),d=n("yLu9"),p=n("QYXr"),f=n("JOlD"),h=n("QIZl"),m=r.a,g=o.a,v=i.a,y=a.a,b=s.a,w=c.a,O=u.a,E=l.a,x=d.a,S=p.a,P=f.a,C=h.a,T=P("isConcatSpreadable"),_=g.TypeError,k=C>=51||!v((function(){var e=[];return e[T]=!1,e.concat()[0]!==e})),I=S("concat"),M=function(e){if(!b(e))return!1;var t=e[T];return void 0!==t?!!t:y(e)};m({target:"Array",proto:!0,arity:1,forced:!k||!I},{concat:function(e){var t,n,r,o,i,a=w(this),s=x(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(M(i=-1===t?a:arguments[t])){if(c+(o=O(i))>9007199254740991)throw _("Maximum allowed index exceeded");for(n=0;n<o;n++,c++)n in i&&E(s,c,i[n])}else{if(c>=9007199254740991)throw _("Maximum allowed index exceeded");E(s,c++,i)}return s.length=c,s}})},"5VOQ":function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");n("UxlC"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("zhvd"));class s extends i.Component{constructor(...e){super(...e),this.tokenEngine=new a.default}render(){return this.tokenEngine.replace(this.props.tokenizedText,this.props.contextVariables)}}t.default=s},"5osp":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.urlClientFactory=t.mustacheService=t.formatterService=t.engine=t.cultureFormatter=t.contextService=void 0;var o=r(n("qmMg")),i=n("GzhV"),a=n("dvJZ"),s=n("/sJC"),c=n("S1Wq"),u=n("xozL"),l=r(n("isxL")),d=new a.FormatterService;t.formatterService=d;var p=new i.MustacheService;t.mustacheService=p;var f=new s.CultureFormatter;t.cultureFormatter=f;var h=new u.ContextService;t.contextService=h;var m=new l.default({strictVariables:!1,cache:!0});t.engine=m;var g={create:()=>new c.UrlClient(o.default)};t.urlClientFactory=g},"5tnp":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c})),n.d(t,"useDeepCompareEffectNoCheck",(function(){return u})),n.d(t,"useDeepCompareMemoize",(function(){return s}));var r=n("Nz9T"),o=Object.prototype.hasOwnProperty;function i(e,t,n){for(n of e.keys())if(a(n,t))return n}function a(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&a(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((s=r)&&"object"==typeof s&&!(s=i(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((s=r[0])&&"object"==typeof s&&!(s=i(t,s)))return!1;if(!a(r[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(o.call(e,n)&&++r&&!o.call(t,n))return!1;if(!(n in t)||!a(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function s(e){var t=r.useRef(e),n=r.useRef(0);return a(e,t.current)||(t.current=e,n.current+=1),r.useMemo((function(){return t.current}),[n.current])}function c(e,t){return r.useEffect(e,s(t))}function u(e,t){return r.useEffect(e,s(t))}},"5zh/":function(e,t,n){},"6I6u":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"6K58":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,o,i,a=n("Rmyw"),s=n("o/zE"),c=n("njhQ"),u=a.a,l=s.a,d=c.a,p=u.WeakMap,f=l(p)&&/native code/.test(d(p)),h=n("sMLe"),m=n("t7qx"),g=n("4Wv+"),v=n("SlgV"),y=n("atqP"),b=n("j+Od"),w=n("I1w3"),O=f,E=a.a,x=h.a,S=m.a,P=g.a,C=v.a,T=y.a,_=b.a,k=w.a,I=E.TypeError,M=E.WeakMap;if(O||T.state){var j=T.state||(T.state=new M),A=x(j.get),R=x(j.has),D=x(j.set);r=function(e,t){if(R(j,e))throw new I("Object already initialized");return t.facade=e,D(j,e,t),t},o=function(e){return A(j,e)||{}},i=function(e){return R(j,e)}}else{var L=_("state");k[L]=!0,r=function(e,t){if(C(e,L))throw new I("Object already initialized");return t.facade=e,P(e,L,t),t},o=function(e){return C(e,L)?e[L]:{}},i=function(e){return C(e,L)}}var N={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!S(t)||(n=o(t)).type!==e)throw I("Incompatible receiver, "+e+" required");return n}}}},"6eof":function(e,t,n){"use strict";var r,o,i,a,s=n("uZTx"),c=n("kdos"),u=n("Rmyw"),l="process"==(0,c.a)(u.a.process),d=n("EE1o"),p=n("bhOv"),f=n("sMLe"),h=n("Y4wP"),m=n("o/zE"),g=u.a,v=m.a,y=g.String,b=g.TypeError,w=f.a,O=h.a,E=function(e){if("object"==typeof e||v(e))return e;throw b("Can't set "+y(e)+" as a prototype")},x=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=w(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return O(n),E(r),t?e(n,r):n.__proto__=r,n}}():void 0),S=(n("m2Qd"),n("SlgV")),P=n("JOlD"),C=n("R/GJ"),T=C.a.f,_=S.a,k=(0,P.a)("toStringTag"),I=n("z92h"),M=n("KpH6"),j=I.a,A=C.a,R=P.a,D=M.a,L=R("species"),N=n("dUi7"),U=n("t7qx"),F=n("Tx24"),B=u.a,z=F.a,V=B.TypeError,q=n("TKFK"),G=n("NVNn"),H=u.a,W=q.a,K=G.a,Q=H.TypeError,Y=h.a,Z=function(e){if(W(e))return e;throw Q(K(e)+" is not a constructor")},J=(0,P.a)("species"),X=n("euF4"),$=n("Nzva"),ee=n("zwAr"),te=n("A+QX"),ne=n("8OQI"),re=n("mlsq"),oe=u.a.TypeError,ie=n("eLLd"),ae=ie.a,se=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),ce=u.a,ue=X.a,le=$.a,de=m.a,pe=S.a,fe=ee.a,he=te.a,me=ne.a,ge=re.a,ve=function(e,t){if(e<t)throw oe("Not enough arguments");return e},ye=se,be=l,we=ce.setImmediate,Oe=ce.clearImmediate,Ee=ce.process,xe=ce.Dispatch,Se=ce.Function,Pe=ce.MessageChannel,Ce=ce.String,Te=0,_e={};try{r=ce.location}catch(fn){}var ke=function(e){if(pe(_e,e)){var t=_e[e];delete _e[e],t()}},Ie=function(e){return function(){ke(e)}},Me=function(e){ke(e.data)},je=function(e){ce.postMessage(Ce(e),r.protocol+"//"+r.host)};we&&Oe||(we=function(e){ve(arguments.length,1);var t=de(e)?e:Se(e),n=me(arguments,1);return _e[++Te]=function(){ue(t,void 0,n)},o(Te),Te},Oe=function(e){delete _e[e]},be?o=function(e){Ee.nextTick(Ie(e))}:xe&&xe.now?o=function(e){xe.now(Ie(e))}:Pe&&!ye?(a=(i=new Pe).port2,i.port1.onmessage=Me,o=le(a.postMessage,a)):ce.addEventListener&&de(ce.postMessage)&&!ce.importScripts&&r&&"file:"!==r.protocol&&!fe(je)?(o=je,ce.addEventListener("message",Me,!1)):o="onreadystatechange"in ge("script")?function(e){he.appendChild(ge("script")).onreadystatechange=function(){he.removeChild(this),ke(e)}}:function(e){setTimeout(Ie(e),0)});var Ae,Re,De,Le,Ne,Ue,Fe,Be,ze={set:we,clear:Oe},Ve=(n("NKvv"),ie.a),qe=u.a,Ge=/ipad|iphone|ipod/i.test(Ve)&&void 0!==qe.Pebble,He=ie.a,We=/web0s(?!.*chrome)/i.test(He),Ke=n("arQW"),Qe=u.a,Ye=$.a,Ze=Ke.a.f,Je=ze.set,Xe=se,$e=Ge,et=We,tt=l,nt=Qe.MutationObserver||Qe.WebKitMutationObserver,rt=Qe.document,ot=Qe.process,it=Qe.Promise,at=Ze(Qe,"queueMicrotask"),st=at&&at.value;st||(Ae=function(){var e,t;for(tt&&(e=ot.domain)&&e.exit();Re;){t=Re.fn,Re=Re.next;try{t()}catch(fn){throw Re?Le():De=void 0,fn}}De=void 0,e&&e.enter()},Xe||tt||et||!nt||!rt?!$e&&it&&it.resolve?((Fe=it.resolve(void 0)).constructor=it,Be=Ye(Fe.then,Fe),Le=function(){Be(Ae)}):tt?Le=function(){ot.nextTick(Ae)}:(Je=Ye(Je,Qe),Le=function(){Je(Ae)}):(Ne=!0,Ue=rt.createTextNode(""),new nt(Ae).observe(Ue,{characterData:!0}),Le=function(){Ue.data=Ne=!Ne}));var ct=st||function(e){var t={fn:e,next:void 0};De&&(De.next=t),Re||(Re=t,Le()),De=t},ut=u.a,lt=n("zO7n"),dt=function(){this.head=null,this.tail=null};dt.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var pt,ft,ht,mt=dt,gt=n("6K58"),vt=n("iCj6"),yt=n("q/UP"),bt=(n("jwQj"),n("fARH")),wt=s.a,Ot=l,Et=u.a,xt=d.a,St=p.a,Pt=x,Ct=function(e,t,n){e&&!n&&(e=e.prototype),e&&!_(e,k)&&T(e,k,{configurable:!0,value:t})},Tt=function(e){var t=j(e),n=A.f;D&&t&&!t[L]&&n(t,L,{configurable:!0,get:function(){return this}})},_t=N.a,kt=m.a,It=U.a,Mt=function(e,t){if(z(t,e))return e;throw V("Incorrect invocation")},jt=function(e,t){var n,r=Y(e).constructor;return void 0===r||null==(n=Y(r)[J])?t:Z(n)},At=ze.set,Rt=ct,Dt=function(e,t){var n=ut.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},Lt=lt.a,Nt=mt,Ut=gt.a,Ft=vt.a,Bt=yt.a,zt=bt.a,Vt=Bt.CONSTRUCTOR,qt=Bt.REJECTION_EVENT,Gt=Bt.SUBCLASSING,Ht=Ut.getterFor("Promise"),Wt=Ut.set,Kt=Ft&&Ft.prototype,Qt=Ft,Yt=Kt,Zt=Et.TypeError,Jt=Et.document,Xt=Et.process,$t=zt.f,en=$t,tn=!!(Jt&&Jt.createEvent&&Et.dispatchEvent),nn=function(e){var t;return!(!It(e)||!kt(t=e.then))&&t},rn=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&un(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(Zt("Promise-chain cycle")):(r=nn(n))?xt(r,n,c,u):c(n)):u(i)}catch(fn){l&&!o&&l.exit(),u(fn)}},on=function(e,t){e.notified||(e.notified=!0,Rt((function(){for(var n,r=e.reactions;n=r.get();)rn(n,e);e.notified=!1,t&&!e.rejection&&sn(e)})))},an=function(e,t,n){var r,o;tn?((r=Jt.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Et.dispatchEvent(r)):r={promise:t,reason:n},!qt&&(o=Et["on"+e])?o(r):"unhandledrejection"===e&&Dt("Unhandled promise rejection",n)},sn=function(e){xt(At,Et,(function(){var t,n=e.facade,r=e.value;if(cn(e)&&(t=Lt((function(){Ot?Xt.emit("unhandledRejection",r,n):an("unhandledrejection",n,r)})),e.rejection=Ot||cn(e)?2:1,t.error))throw t.value}))},cn=function(e){return 1!==e.rejection&&!e.parent},un=function(e){xt(At,Et,(function(){var t=e.facade;Ot?Xt.emit("rejectionHandled",t):an("rejectionhandled",t,e.value)}))},ln=function(e,t,n){return function(r){e(t,r,n)}},dn=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,on(e,!0))},pn=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Zt("Promise can't be resolved itself");var r=nn(t);r?Rt((function(){var n={done:!1};try{xt(r,t,ln(pn,n,e),ln(dn,n,e))}catch(fn){dn(n,fn,e)}})):(e.value=t,e.state=1,on(e,!1))}catch(fn){dn({done:!1},fn,e)}}};if(Vt&&(Yt=(Qt=function(e){Mt(this,Yt),_t(e),xt(pt,this);var t=Ht(this);try{e(ln(pn,t),ln(dn,t))}catch(fn){dn(t,fn)}}).prototype,(pt=function(e){Wt(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Nt,rejection:!1,state:0,value:void 0})}).prototype=St(Yt,"then",(function(e,t){var n=Ht(this),r=$t(jt(this,Qt));return n.parent=!0,r.ok=!kt(e)||e,r.fail=kt(t)&&t,r.domain=Ot?Xt.domain:void 0,0==n.state?n.reactions.add(r):Rt((function(){rn(r,n)})),r.promise})),ft=function(){var e=new pt,t=Ht(e);this.promise=e,this.resolve=ln(pn,t),this.reject=ln(dn,t)},zt.f=$t=function(e){return e===Qt||void 0===e?new ft(e):en(e)},kt(Ft)&&Kt!==Object.prototype)){ht=Kt.then,Gt||St(Kt,"then",(function(e,t){var n=this;return new Qt((function(e,t){xt(ht,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Kt.constructor}catch(fn){}Pt&&Pt(Kt,Yt)}wt({global:!0,constructor:!0,wrap:!0,forced:Vt},{Promise:Qt}),Ct(Qt,"Promise",!1),Tt("Promise")},"6j6n":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=console;function o(){return r}function i(e){r=e}},"6kAd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("pxEa").a,o=Math.min,i=function(e){return e>0?o(r(e),9007199254740991):0}},"6uSJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("EE1o"),o=n("Y4wP"),i=n("tyWI"),a=r.a,s=o.a,c=i.a,u=function(e,t,n){var r,o;s(e);try{if(!(r=c(e,"return"))){if("throw"===t)throw n;return n}r=a(r,e)}catch(i){o=!0,r=i}if("throw"===t)throw n;if(o)throw r;return s(r),n}},"71xO":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Y4wP").a,o=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"79sm":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.getShippingUrl=function(e){return u.apply(this,arguments)},t.getUrl=function(e,t,n){return c.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("Kv8+");function c(){return(c=(0,i.default)(o.default.mark((function e(t,n,r){var i,c,u,l,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.contextService.getCulture(t),c=a.contextService.getTenant(t)){e.next=4;break}throw new Error("tenant not set");case 4:return u=a.contextService.getUrlClient(t),e.next=7,u.getPageSlug(n,i,c);case 7:if("#"!==(l=e.sent)){e.next=10;break}return e.abrupt("return",l);case 10:if(!r){e.next=15;break}return e.next=13,(0,s.getHost)(i,c);case 13:return d=e.sent,e.abrupt("return","".concat(d).concat(l));case 15:return e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,i.default)(o.default.mark((function e(t){var n,r,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={promotique:"/lieferung",vistaprint:"/Lieferung"},r=a.contextService.getCulture(t),void 0===(i=a.contextService.getTenant(t))&&(i="vistaprint"),n[i.toLowerCase()]){e.next=6;break}throw new Error("tenant not supported");case 6:return e.next=8,(0,s.getHost)(r,i);case 8:return c=e.sent,e.abrupt("return","".concat(c).concat(n[i.toLowerCase()]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.name="url"},"7AAS":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEzIiBoZWlnaHQ9Ijc0IiB2aWV3Qm94PSIwIDAgMTEzIDc0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNzIuOTA4NSA1LjAwMDc4TDExMyA3My44MDA4SDMzTDcyLjkwODUgNS4wMDA3OFoiIGZpbGw9IiNERkRGREYiLz4KPHBhdGggZD0iTTI3LjkzNTkgMjZMNTYgNzRIMEwyNy45MzU5IDI2WiIgZmlsbD0iI0RGREZERiIvPgo8Y2lyY2xlIGN4PSIzOC41IiBjeT0iNy41IiByPSI3LjUiIGZpbGw9IiNERkRGREYiLz4KPC9zdmc+Cg=="},"7MhH":function(e,t,n){var r=n("wJvl"),o=/<([a-zA-Z]+[0-9]?)/,i=/<head.*>/i,a=/<body.*>/i,s=/<(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)(.*?)\/?>/gi,c=r.isIE(9),u=c||r.isIE(),l=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},d=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"==typeof window.DOMParser){var p=new window.DOMParser,f=c?"text/xml":"text/html";l=d=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),c&&(e=e.replace(s,"<$1$2$3/>")),p.parseFromString(e,f)}}if(document.implementation){var h=document.implementation.createHTMLDocument(u?"html-dom-parser":void 0);l=function(e,t){if(t)return h.documentElement.getElementsByTagName(t)[0].innerHTML=e,h;try{return h.documentElement.innerHTML=e,h}catch(n){if(d)return d(e)}}}var m,g=document.createElement("template");g.content&&(m=function(e){return g.innerHTML=e,g.content.childNodes}),e.exports=function(e){var t,n,r,s,c=e.match(o);switch(c&&c[1]&&(t=c[1].toLowerCase()),t){case"html":return n=d(e),i.test(e)||(r=n.getElementsByTagName("head")[0])&&r.parentNode.removeChild(r),a.test(e)||(r=n.getElementsByTagName("body")[0])&&r.parentNode.removeChild(r),n.getElementsByTagName("html");case"head":case"body":return s=l(e).getElementsByTagName(t),a.test(e)&&i.test(e)?s[0].parentNode.childNodes:s;default:return m?m(e):l(e,"body").getElementsByTagName("body")[0].childNodes}}},"7gIb":function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"asLowAsPricePerPiece",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},"7w1n":function(e,t,n){"use strict";var r,o;function i(){return o?r:(o=1,r=Function.call.bind(Object.prototype.hasOwnProperty))}n.d(t,"a",(function(){return i}))},"80JR":function(e,t){},"8D98":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isInteger(e.percentageOff,"percentageOff"),i.validate.isString(e.culture,"culture")]);if(t.length>0)throw t}generateToken(e,t){return"{{ ".concat(e.percentageOff," | ").concat(t," }}")}}t.default=a},"8OQI":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(0,n("sMLe").a)([].slice)},"8YOa":function(e,t,n){var r=n("0BK2"),o=n("hh1v"),i=n("UTVS"),a=n("m/L8").f,s=n("kOOl"),c=n("uy83"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},p=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},getWeakData:function(e,t){if(!i(e,u)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},onFreeze:function(e){return c&&f.REQUIRED&&d(e)&&!i(e,u)&&p(e),e}};r[u]=!0},"8kND":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},"8x/l":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("qZdO").a,o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var p={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},"9+6o":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Nz9T"),o=n("zFH3");const i=()=>{const{isIdentityInitialized:e,identity:t,auth:n,isCustomer:i}=Object(o.a)(),[a,s]=r.useState(void 0),[c,u]=r.useState(void 0),[l,d]=r.useState(!1),[p,f]=r.useState(!1),[h,m]=r.useState(!1),[g,v]=r.useState();return r.useEffect(()=>{void 0!==t&&(s(null==n?void 0:n.getCanonicalId()),u(t.profile["https://claims.cimpress.io/canonical_id"]),f(t.profile["https://claims.cimpress.io/is_anonymous"]),m(t.profile["https://claims.cimpress.io/cimpress_internal"]),v(t.profile["https://claims.cimpress.io/was"]),d(t.profile["https://claims.cimpress.io/is_customer"]))},[t,n]),{canonicalId:a,isCustomerClaim:l,canonicalIdClaim:c,isAnonymousClaim:p,cimpressInternalClaim:h,wasClaim:g,isIdentityInitialized:e,isCustomer:i}}},"9B84":function(e,t,n){"use strict";var r=n("uZTx"),o=n("0qIg"),i=n("QYXr"),a=r.a,s=o.a.filter;a({target:"Array",proto:!0,forced:!(0,i.a)("filter")},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"9cPH":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("4CIZ"),o=n("W6b0"),i=n("5ALN"),a=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.a&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}Object(r.a)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(o.a))},"9pfv":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o={exports:{}},i=(n("MJYl"),n("8kND"));function a(){return r||(r=1,function(e){e.exports=i.a.exports}(o)),o.exports}},"9uj6":function(e,t,n){"use strict";n.r(t);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=o},"A+QX":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(0,n("z92h").a)("document","documentElement")},AHE6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},AM7I:function(e,t,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(C){s=null}var c=function(){throw new i},u=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(t){return c}}}():c,l=n("UVaH")(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?void 0:d(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?d(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n("D3zA"),v=n("oNNP"),y=g.call(Function.call,Array.prototype.concat),b=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,S=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return w(e,E,(function(e,t,n,r){o[o.length]=n?w(r,x,"$1"):t||e})),o},P=function(e,t){var n,o=e;if(v(m,o)&&(o="%"+(n=m[o])[0]+"%"),v(h,o)){var s=h[o];if(s===p&&(s=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return h[t]=n,n}(o)),void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:s}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var n=S(e),o=n.length>0?n[0]:"",a=P("%"+o+"%",t),c=a.name,u=a.value,l=!1,d=a.alias;d&&(o=d[0],b(n,y([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var m=n[p],g=O(m,0,1),w=O(m,-1);if(('"'===g||"'"===g||"`"===g||'"'===w||"'"===w||"`"===w)&&g!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&f||(l=!0),v(h,c="%"+(o+="."+m)+"%"))u=h[c];else if(null!=u){if(!(m in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=n.length){var E=s(u,m);u=(f=!!E)&&"get"in E&&!("originalValue"in E.get)?E.get:u[m]}else f=v(u,m),u=u[m];f&&!l&&(h[c]=u)}}return u}},ATlU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},Aq9I:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.tokenGeneratorMap=t.tokenEngineFactory=t.presentationTokenFactory=void 0;var o=r(n("4emC")),i=r(n("CjN6")),a=r(n("o3eb")),s=new o.default;t.tokenGeneratorMap=s;var c=new i.default;t.presentationTokenFactory=c;var u={create:(e,t)=>new a.default(e,t)};t.tokenEngineFactory=u},"BDz/":function(e,t,n){"use strict";var r=n("uZTx"),o=n("EE1o"),i=r.a,a=o.a;i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return a(URL.prototype.toString,this)}})},"BEO/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},BIHw:function(e,t,n){"use strict";var r=n("I+eb"),o=n("or9q"),i=n("ewvW"),a=n("UMSQ"),s=n("ppGB"),c=n("ZfDv");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t.length),r=c(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},BftC:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("Nz9T"),o=n.n(r),i=n("TSYQ"),a=n.n(i),s=n("wyvy"),c=n("DGVI"),u=n("C1X4"),l=n("AU/X"),d=n("J8aS");n("E53a");const p=({card:e,position:t})=>{const n=e.type.toLowerCase().includes("myaccount"),o=n?"myAccount":"ideasAndAdvice",{sourcePagePath:i}=Object(c.b)(),p=n?u.a.MyAccount:u.a.IdeasAndAdvice,f=Object(l.g)(i,p,t),h=f.linkAttributes;return r.createElement(s.Link,Object.assign({className:"status-bar-notification-card-filler",skin:"unstyled",href:e.ctaUrl,onClick:Object(d.a)(f,e.ctaUrl)},h),r.createElement(s.GridContainer,{className:"status-bar-notification-card-filler-grid"},r.createElement(s.Row,{className:"status-bar-notification-card-filler-row"},r.createElement(s.Column,{span:6,spanXs:3,className:" status-bar-notification-card-filler-innerColumn status-bar-notification-card-filler-innerColumn--left"},r.createElement(s.Box,{className:"status-bar-notification-card-filler-thumbnail-wrapper"},r.createElement("img",{src:e.thumbnailImage,className:a()("status-bar-notification-card-filler-thumbnail",{"status-bar-notification-card-filler-thumbnail--placeholder":!e.thumbnailImage}),alt:""}))),r.createElement(s.Column,{span:6,spanXs:7,className:"status-bar-notification-card-filler-innerColumn",pl:{ideasAndAdvice:{lg:5,sm:4,xs:7,md:5},myAccount:{lg:0,sm:2,xs:3,md:1}}[o],pr:3},r.createElement(s.Box,{className:"status-bar-notification-card-filler-text-wrapper"},r.createElement(s.Box,{className:"notification-card-content-container notification-card-section--top",pt:{lg:7,md:7,sm:5,xs:5}},r.createElement(s.Typography,{className:"status-bar-notification-card-filler-title",component:"h3",textSize:5,textColor:"black"},e.heading)),r.createElement(s.Box,{className:"notification-card-content-container notification-card-section--middle",pt:{lg:3,md:3,sm:2,xs:2}},r.createElement(s.Box,{className:"status-bar-notification-card-filler-subtitle-wrapper notification-card-content-container",justifyContent:"flex-start",mb:{lg:5,sm:0,md:5,xs:3}},r.createElement(s.Typography,{weight:"not-bold",textSize:6,className:"status-bar-notification-card-filler-subtitle",component:"h4",textColor:"dark-grey"},e.subHeading)))),r.createElement(s.Box,{className:"notification-card-content-container notification-card-section--bottom"},r.createElement(s.Box,{className:"status-bar-notification-card-cta-wrapper status-bar-notification-card-filler-cta-wrapper"},r.createElement(s.Typography,{textColor:"black"},r.createElement(s.Link,Object.assign({skin:"cta",sizeVariant:"mini",href:e.ctaUrl},h),e.ctaCopy))))))))};var f=n("neN6"),h=n("jt1E"),m=n("zLVn");n("YdXy");const g=e=>{let{text:t,url:n,count:r,skin:i="secondary",component:a="a",showButton:c=!1,onClick:u,trackingConfiguration:l,textSize:p}=e,f=Object(m.a)(e,["text","url","count","skin","component","showButton","onClick","trackingConfiguration","textSize"]);if(!1===c||null===t||void 0===n&&!u)return null;const h=null==l?void 0:l.linkAttributes,g=Object(d.a)(l,n);return o.a.createElement(s.Typography,{textColor:"black",className:"notification-status-bar-link-container"},o.a.createElement(s.Link,Object.assign({skin:"cta",sizeVariant:"mini",href:n,className:"notification-status-bar-link",onClick:e=>{g&&g(e),u&&u(e)}},f,h),o.a.createElement(s.Typography,{textSize:p,className:"link-container"},t),r&&o.a.createElement(s.Typography,{textSize:p,ml:1,component:"span"},o.a.createElement(s.Count,{className:"button-count"},r>99?o.a.createElement(o.a.Fragment,null,99,o.a.createElement("span",null,"+")):r))))};var v=n("lrlw"),y=n("DHq+");function b({myProjectsUrl:e,seeAllText:t}){const{sourcePagePath:n}=Object(c.b)(),r=Object(l.t)(n,e),i=r.linkAttributes;return e?o.a.createElement(s.Typography,{weight:"bold",mt:{xs:2,sm:2,md:5,lg:5}},o.a.createElement(s.Link,Object.assign({href:e,pt:0,skin:"cta",onClick:Object(d.a)(r,e)},i),t)):null}n("V+hJ");const w=({myProjectsText:e,seeAllText:t,digitalDashboardText:n,className:i,skin:a="secondary",component:d="button",count:p,textSize:h})=>{var m;const w=Object(s.useScreenClass)(),{sourcePagePath:O}=Object(c.b)(),{0:E,1:x}=Object(r.useState)(!1),{locale:S,seeAllMyProjectsUrl:P,customerData:C}=Object(f.b)(),T="xs"===w||"sm"===w,_=C.portfolioData;return _&&_.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{className:i,text:e,onClick:()=>x(e=>!e),component:d,showButton:!0,trackingConfiguration:Object(l.k)(O),skin:a,count:p,textSize:h}),o.a.createElement(s.ModalDialog,{isOpen:E,onRequestDismiss:()=>x(!1),variant:"panel-right",className:"sparkles-three-five-modal-dialog"},o.a.createElement(s.ModalDialogContent,null,o.a.createElement(s.ModalDialogNav,null,o.a.createElement(s.ModalDialogCloseButton,null)),o.a.createElement(s.ModalDialogHeader,null,o.a.createElement(s.GridContainer,null,o.a.createElement(s.Row,null,o.a.createElement(s.Column,{span:12},o.a.createElement(s.FlexBox,{className:"sparkles-three-five-modal-dialog-header-wrapper",justifyContent:"space-between",alignItems:"center"},o.a.createElement(s.ModalDialogTitle,null,o.a.createElement(s.Typography,{textSize:h},e)),null!=C&&null!==(m=C.digitalServiceData)&&void 0!==m&&m.enableDigitalButton?o.a.createElement(v.a,{text:n,url:C.digitalServiceData.digitalUrl,trackingConfiguration:Object(l.e)(O,C.digitalServiceData.digitalUrl,u.c.LoggedInPanel)}):null))))),o.a.createElement(s.ModalDialogBody,null,o.a.createElement(s.GridContainer,null,o.a.createElement(s.Row,null,o.a.createElement(s.Column,{span:12},o.a.createElement(b,{myProjectsUrl:P,seeAllText:t})),o.a.createElement(s.Column,{span:12},o.a.createElement(s.Box,{mt:T?5:8},o.a.createElement(s.Row,null,_.map((e,t)=>o.a.createElement(s.Column,{span:6,spanXs:6,key:e.workId},o.a.createElement(y.a,{previewInstructions:e.displayUrl,editLink:e.editUrl,productName:e.productName,mpvId:e.mpvId,productKey:e.productKey,productVersion:e.productVersion,merchandisingOptions:e.merchandisingSelections,locale:S,position:t+1})))))))))))):null};var O=n("4q7O"),E=n.n(O);n("HJ4X");const x=({card:e})=>{var t,n,r,i,a,u,d,p,m;const v=Object(s.useScreenClass)(),{sourcePagePath:y}=Object(c.b)(),{customerData:b,designServicesUrl:O,reorderUrl:x}=Object(f.b)(),P=Object(h.b)(),C="xs"===v||"sm"===v,T=b,_=(null==T?void 0:T.portfolioData.length)>0,k=null!==O&&(null==T?void 0:T.isDesignServicesCustomer),I=void 0!==T&&(null==T||null===(t=T.digitalServiceData)||void 0===t?void 0:t.enableDigitalButton),M=null!==(n=null==T?void 0:T.canReorder)&&void 0!==n&&n,j=!(M||I||_||k),A=S("myOrders",e),R=S("myProjects",e),D=S("digitalDashboard",e),L=S("designServices",e);if(j)return null;const N=o.a.createElement(g,{url:null==A?void 0:A.ctaUrl,text:null==A?void 0:A.ctaCopy,skin:"cta",showButton:M,className:"notification-status-bar-link",trackingConfiguration:Object(l.s)(y,x),count:null!==(r=null==A?void 0:A.count)&&void 0!==r?r:void 0,textSize:C?7:6}),U=o.a.createElement(w,{myProjectsText:null==R?void 0:R.ctaCopy,seeAllText:P.seeAllMyProjects,digitalDashboardText:null==D?void 0:D.ctaCopy,className:"notification-status-bar-link",skin:"cta",component:"a",count:null!==(i=null==R?void 0:R.count)&&void 0!==i?i:void 0,textSize:C?7:6}),F=o.a.createElement(g,{skin:"cta",url:null==D?void 0:D.ctaUrl,text:null==D?void 0:D.ctaCopy,showButton:null!==(a=null==T||null===(u=T.digitalServiceData)||void 0===u?void 0:u.enableDigitalButton)&&void 0!==a&&a,className:"notification-status-bar-link",trackingConfiguration:Object(l.e)(y,null==T||null===(d=T.digitalServiceData)||void 0===d?void 0:d.digitalUrl),count:null!==(p=null==D?void 0:D.count)&&void 0!==p?p:void 0,textSize:C?7:6}),B=o.a.createElement(g,{skin:"cta",url:null==L?void 0:L.ctaUrl,text:null==L?void 0:L.ctaCopy,showButton:k,className:"notification-status-bar-link",trackingConfiguration:Object(l.d)(y,O),count:null!==(m=null==L?void 0:L.count)&&void 0!==m?m:void 0,textSize:C?7:6}),{firstColumnCtas:z,secondColumnCtas:V}=function(e){const t=[],n=[];return e.filter(e=>e.flag===true).forEach((e,r)=>{(r+1)%2==0?n.push(e.component):t.push(e.component)}),{firstColumnCtas:t,secondColumnCtas:n}}([{flag:M,component:N},{flag:_,component:U},{flag:I,component:F},{flag:k,component:B}]);return o.a.createElement(s.CarouselSlide,null,o.a.createElement(s.GridContainer,null,o.a.createElement(s.Box,{className:"status-bar-notification-card end-card",component:"article",backgroundColor:"light-gray",paddingX:6},o.a.createElement(s.Row,{className:"end-card-row end-card-row--top",pt:{lg:6,sm:4,md:5,xs:4},mb:{lg:2,md:2,sm:0,xs:2}},o.a.createElement(s.Box,{className:"end-card-heading"},o.a.createElement(s.FlexBox,null,o.a.createElement("img",{width:27,height:24,src:E.a,alt:"Vistaprint"}),o.a.createElement(s.Typography,{ml:2,textColor:"black",mx:"auto",component:"h3",textSize:4,align:"center"},e.heading)))),o.a.createElement(s.Row,{className:"end-card-row end-card-row--bottom"},o.a.createElement(s.Column,{className:"end-card-link-container",span:6,spanXs:6,textSize:6},z),o.a.createElement(s.Column,{className:"end-card-link-container",span:6,spanXs:6},V)))))};const S=(e,t)=>{var n,r;return null!==(n=null==t||null===(r=t.links)||void 0===r?void 0:r.find(t=>t.type===e))&&void 0!==n?n:void 0},P=({typeCopy:e,subTypeCopy:t,type:n})=>{const o="DesignRequest"!==n;return r.createElement(s.Box,{mb:{lg:4,md:4,sm:0,xs:0},className:"status-bar-notification-card-main-header notification-card-content"},e&&r.createElement(r.Fragment,null,r.createElement(s.Typography,{component:"span",textColor:"dark-grey",textSize:6},e),o&&r.createElement(s.Typography,{component:"span",className:"status-bar-notification-card-main-header-separator"},"·")),t&&r.createElement(s.Typography,{"data-type":n,component:"span",weight:"bold",textSize:6},t))},C=e=>({isSm:"sm"===e,isXs:"xs"===e,isMd:"md"===e,isXl:"lg"===e,isNotXl:"lg"!==e}),T=e=>{let{text:t}=e,n=Object(m.a)(e,["text"]);const o=Object(s.useScreenClass)(),{isXs:i}=C(o),c=t&&t.length>53,u=i?25:35,l=c?t.slice(0,u)+"...":t;return r.createElement(s.Box,Object.assign({},n,{className:"status-bar-notification-card-main-title-wrapper notification-card-content"}),t&&r.createElement(s.Typography,{className:a()("status-bar-notification-card-main-title",{"status-bar-notification-card-main-title--truncate":c}),as:"span",textSize:5,textColor:"black",weight:"bold"},l))};n("zfpX");const _=({text:e,date:t})=>r.createElement(s.FlexBox,{className:"status-bar-notification-card-main-subtitle-wrapper notification-card-content",justifyContent:"flex-start"},e&&r.createElement(s.Typography,{className:"status-bar-notification-card-main-subtitle",component:"h3",textSize:6,textColor:"dark-grey"},e),t&&r.createElement(s.Typography,{ml:1,component:"span",textSize:6,textColor:"black"},t)),k=({card:e,position:t})=>{const{ctaCopy:n,ctaUrl:o,type:i}=e,{sourcePagePath:a}=Object(c.b)(),u=Object(l.l)(i),d=Object(l.i)(a,o,u,t).linkAttributes;return r.createElement(s.Box,{className:"status-bar-notification-card-main-cta-wrapper notification-card-content"},n&&r.createElement(s.Typography,{textColor:"black"},r.createElement(s.Link,Object.assign({skin:"cta",sizeVariant:"mini",href:o},d),n)))};var I=n("7AAS"),M=n.n(I);const j=e=>{let{thumbnailImage:t,altTextThumbnailImage:n,totalItemsCount:o}=e,i=Object(m.a)(e,["thumbnailImage","altTextThumbnailImage","totalItemsCount"]);return r.createElement(s.Box,{className:"status-bar-notification-card-main-thumbnail-wrapper"},r.createElement("img",Object.assign({},i,{className:a()("status-bar-notification-card-thumbnail",{"status-bar-notification-card-thumbnail--placeholder":!t}),alt:n||"",src:t||M.a})),o?r.createElement("span",{className:"status-bar-notification-card-thumbnail-count"},"+",o):null)};n("OeRv");const A=({card:e,position:t})=>{const{typeCopy:n,subTypeCopy:o,type:i,thumbnailImage:a,altTextThumbnailImage:u,heading:p,subHeading:f,dateCopy:h}=e,{sourcePagePath:m}=Object(c.b)(),g=Object(l.l)(i),v=Object(l.i)(m,e.ctaUrl,g,t),y=v.linkAttributes,b="digital"===i.toLowerCase(),w={left:b?6:5,right:b?6:7},O=void 0!==p&&p.length>19,E=f&&f.length>15;return r.createElement(s.Link,Object.assign({skin:"unstyled",href:e.ctaUrl,className:"status-bar-notification-card status-bar-notification-card-main",onClick:Object(d.a)(v,e.ctaUrl)},y),r.createElement(s.GridContainer,{className:"status-bar-notification-card-main-grid"},r.createElement(s.Row,{className:"status-bar-notification-card-main-row"},r.createElement(s.Column,{span:w.left,className:"status-bar-notification-card-main-innerColumn status-bar-notification-card-main-innerColumn--left"},r.createElement(j,{"data-type":i,altTextThumbnailImage:u,thumbnailImage:a})),r.createElement(s.Column,{span:w.right,className:"status-bar-notification-card-main-innerColumn status-bar-notification-card-main-innerColumn--right",pr:3},r.createElement(s.Box,{className:"status-bar-notification-card-main-text-wrapper"},r.createElement(s.Box,{className:"notification-card-content-container notification-card-section--top",pt:{lg:5,md:5,sm:3,xs:3}},r.createElement(P,{typeCopy:n,subTypeCopy:o,type:i})),r.createElement(s.Box,{className:"notification-card-content-container notification-card-section--middle",pt:{lg:O?0:3,md:O?0:3,sm:O?0:2,xs:O?0:2}},r.createElement(T,{text:p,"data-long-title":O,mb:1}),r.createElement(_,{text:f,date:h})),r.createElement(s.Box,{"data-long-subtitle-text":E,className:"notification-card-content-container notification-card-section--bottom"},r.createElement(k,{card:e,position:t})))))))};n("+6tf");const R=({cards:e})=>{const t=Object(s.useScreenClass)(),{isXs:n}=C(t),o=(null==e?void 0:e.length)||0,i="undefined"!=typeof window&&window.innerWidth>375;return r.createElement(s.Box,{marginTop:4,className:a()("status-bar-notification-carousel-wrapper",{"status-bar-notification-carousel-wrapper--visible":o>0})},e&&o>0?r.createElement(s.BoundedContent,null,r.createElement(s.Carousel,Object.assign({},{infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,initialSlide:0,responsive:[{breakpoint:1380,settings:{slidesToShow:2.7}},{breakpoint:1230,settings:{slidesToShow:2.5}},{breakpoint:1124,settings:{slidesToShow:2.1}},{breakpoint:820,settings:{slidesToShow:2.35}},{breakpoint:768,settings:{slidesToShow:2.1}},{breakpoint:550,settings:{slidesToShow:1.25}},{breakpoint:480,settings:{slidesToShow:.85}},{breakpoint:380,settings:{slidesToShow:1}}]},{gridGutters:!0,peek:i&&n,arrows:!n,className:"status-bar-notification-carousel",progressIndicator:n?"dots":void 0}),e.map((e,t)=>r.createElement(s.CarouselSlide,{key:t,paddingX:2},r.createElement(D,{card:e,position:t}))))):null)},D=({card:e,position:t})=>void 0===e?null:e.type.toLowerCase().includes("endcard")?r.createElement(x,{card:e}):e.type.toLowerCase().includes("fillercard")?r.createElement(p,{card:e,position:t+1}):r.createElement(A,{card:e,position:t+1})},ByOJ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r,o,i=n("r7tZ"),a=n("JRVJ"),s=n("OoGS"),c=n("/qRJ");function u(){if(o)return r;o=1;var t=i.a,n=a.a,u=s.a,l={"Content-Type":"application/x-www-form-urlencoded"};function d(e,n){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var p,f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(p=Object(c.a)()),p),transformRequest:[function(e,r){return n(r,"Accept"),n(r,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(d(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)||r&&"application/json"===r["Content-Type"]?(d(r,"application/json"),function(e,n,r){if(t.isString(e))try{return(n||JSON.parse)(e),t.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var n=this.transitional||f.transitional,r=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&t.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw u(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),t.forEach(["post","put","patch"],(function(e){f.headers[e]=t.merge(l)})),r=f}}).call(this,n("KCCg"))},CKdD:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n){return u.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c="youSaved";t.name=c;function u(){return(u=(0,i.default)(o.default.mark((function e(t,n,r){var i,u,l,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.contextService.getCulture(this),u=a.formatterService.formatPrice({currency:n,minimumFractionDigits:r,culture:i,price:t}),l={youSaved:"<span class='you-saved-price'>{{youSavedText}}</span>"},(d={amount:u}).youSavedText=(0,s.localized)("".concat(c,".subtemplate"),i),p=(0,s.localized)(c,i),e.abrupt("return",a.mustacheService.replace(p,d,l));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},CKfY:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("F5Q5"),c=n("bQ+U"),u="vatMessage";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n){var r,i,l,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=a.contextService.getCulture(r),e.next=4,(0,s.getVatHtml)(t,i,n,r);case 4:return l=e.sent,d={vatMessage:l},p=(0,c.localized)(u,i),e.abrupt("return",a.mustacheService.replace(p,d));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},CPM8:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,o={exports:{}},i={exports:{}},a=n("rqkW");var s,c={exports:{}};var u,l,d=n("oGgb"),p={exports:{}};function f(){return l||(l=1,function(e){var t=(r||(r=1,function(e){var t=Object(a.a)();e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(i)),i.exports),n=(s||(s=1,function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(c)),c.exports),o=Object(d.a)(),l=(u||(u=1,function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(p)),p.exports);e.exports=function(e){return t(e)||n(e)||o(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},CWyA:function(e,t,n){"use strict";n("E9XD");var r=n("tyoH"),o={},i={};Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.handleError=function(e){},e}();i.NoopErrorHandler=a;var s=new a;i.setErrorHandler=function(e){s=e},i.getErrorHandler=function(){return s},i.resetErrorHandler=function(){s=new a};var c,u,l={};c=l,Object.defineProperty(c,"__esModule",{value:!0}),(u=c.LogLevel||(c.LogLevel={}))[u.NOTSET=0]="NOTSET",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARNING=3]="WARNING",u[u.ERROR=4]="ERROR";var d=n("2taM"),p={},f={},h={exports:{}},m="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(m){var g=new Uint8Array(16);h.exports=function(){return m(g),g}}else{var v=new Array(16);h.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),v[t]=e>>>((3&t)<<3)&255;return v}}h.exports;for(var y=[],b=0;b<256;++b)y[b]=(b+256).toString(16).substr(1);var w,O,E=function(e,t){var n=t||0,r=y;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},x=h.exports,S=E,P=0,C=0;var T=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||w,a=void 0!==e.clockseq?e.clockseq:O;if(null==i||null==a){var s=x();null==i&&(i=w=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=O=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:C+1,l=c-P+(u-C)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||c>P)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");P=c,C=u,O=a;var d=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var p=c/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var f=0;f<6;++f)o[r+f]=i[f];return t||S(o)},_=h.exports,k=E;var I=T,M=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||_)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||k(o)},j=M;j.v1=I,j.v4=M;var A=j;!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t,n=A;function r(e){return Object.keys(e).map((function(t){return e[t]}))}e.generateUUID=function(){return n.v4()},e.getTimestamp=function(){return(new Date).getTime()},e.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),o=0;o<r.length;o++)if(t===e[r[o]]){n=!0;break}return n},e.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),r(n)},e.objectValues=r,e.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},e.find=function(e,t){for(var n,r=0,o=e;r<o.length;r++){var i=o[r];if(t(i)){n=i;break}}return n},e.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},e.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},(t=e.NOTIFICATION_TYPES||(e.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",t.DECISION="DECISION:type, userId, attributes, decisionInfo",t.LOG_EVENT="LOG_EVENT:logEvent",t.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",t.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(f);var R=d.a&&d.a.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(p,"__esModule",{value:!0});var D=i,L=f,N=l,U={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function F(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),U[e]?U[e]:e)}var B=function(){function e(){this.defaultLoggerFacade=new G,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new G({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),z=function(){function e(e){void 0===e&&(e={}),this.logLevel=N.LogLevel.NOTSET,void 0!==e.logLevel&&L.isValidEnum(N.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=F(e),L.isValidEnum(N.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=N.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case N.LogLevel.DEBUG:return"DEBUG";case N.LogLevel.INFO:return"INFO ";case N.LogLevel.WARNING:return"WARN ";case N.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case N.LogLevel.DEBUG:console.log.apply(console,t);break;case N.LogLevel.INFO:console.info.apply(console,t);break;case N.LogLevel.WARNING:console.warn.apply(console,t);break;case N.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();p.ConsoleLogHandler=z;var V=N.LogLevel.NOTSET,q=null,G=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(F(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(N.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(N.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(N.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(N.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+L.sprintf.apply(void 0,R([e.message],e.splat))},e.prototype.internalLog=function(e,t){q&&(e<V||(q.log(e,this.format(t)),t.error&&t.error instanceof Error&&D.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,n){var r;if(t instanceof Error)return t=(r=t).message,void this.internalLog(e,{error:r,message:t,splat:n});if(0!==n.length){var o=n[n.length-1];o instanceof Error&&(r=o,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})}else this.internalLog(e,{message:t,splat:n})},e}(),H=new B;p.getLogger=function(e){return H.getLogger(e)},p.setLogHandler=function(e){q=e},p.setLogLevel=function(e){e=F(e),V=L.isValidEnum(N.LogLevel,e)&&void 0!==e?e:N.LogLevel.ERROR},p.getLogLevel=function(){return V},p.resetLogger=function(){H=new B,V=N.LogLevel.NOTSET},function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(i),t(l),t(p)}(o);var W={},K={};Object.defineProperty(K,"__esModule",{value:!0}),K.areEventContextsEqual=void 0,K.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering};var Q={},Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.DefaultEventQueue=Y.SingleEventQueue=void 0;var Z=o.getLogger("EventProcessor"),J=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),X=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();Y.SingleEventQueue=X;var $=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new J({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else Z.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();Y.DefaultEventQueue=$,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sendEventNotification=e.getQueue=e.validateAndGetBatchSize=e.validateAndGetFlushInterval=e.DEFAULT_BATCH_SIZE=e.DEFAULT_FLUSH_INTERVAL=void 0;var t=Y,n=o,r=f;e.DEFAULT_FLUSH_INTERVAL=3e4,e.DEFAULT_BATCH_SIZE=10;var i=n.getLogger("EventProcessor");e.validateAndGetFlushInterval=function(t){return t<=0&&(i.warn("Invalid flushInterval "+t+", defaulting to "+e.DEFAULT_FLUSH_INTERVAL),t=e.DEFAULT_FLUSH_INTERVAL),t},e.validateAndGetBatchSize=function(t){return(t=Math.floor(t))<1&&(i.warn("Invalid batchSize "+t+", defaulting to "+e.DEFAULT_BATCH_SIZE),t=e.DEFAULT_BATCH_SIZE),t=Math.max(1,t)},e.getQueue=function(e,n,r,o){return e>1?new t.DefaultEventQueue({flushInterval:n,maxQueueSize:e,sink:r,batchComparator:o}):new t.SingleEventQueue({sink:r})},e.sendEventNotification=function(e,t){e&&e.sendNotifications(r.NOTIFICATION_TYPES.LOG_EVENT,t)}}(Q);var ee={};Object.defineProperty(ee,"__esModule",{value:!0});var te={};Object.defineProperty(te,"__esModule",{value:!0});var ne={},re={};Object.defineProperty(re,"__esModule",{value:!0}),re.LocalStorageStore=void 0;var oe=f,ie=o.getLogger("EventProcessor"),ae=function(){function e(e){var t=e.key,n=e.maxValues,r=void 0===n?1e3:n;this.LS_KEY=t,this.maxValues=r}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return oe.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(t){ie.error(t)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map((function(t){return{key:t,value:e[t]}}));r.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var o=0;o<n;o++)delete e[r[o].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(t){ie.error(t)}return{}},e}();re.LocalStorageStore=ae;var se,ce=d.a&&d.a.__extends||(se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(ne,"__esModule",{value:!0}),ne.LocalStoragePendingEventsDispatcher=ne.PendingEventsDispatcher=void 0;var ue=re,le=f,de=o.getLogger("EventProcessor"),pe=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:le.generateUUID(),timestamp:le.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();de.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(n){}}))},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(r){n.store.remove(e.uuid),t(r)}))},e}();ne.PendingEventsDispatcher=pe;var fe=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new ue.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return ce(t,e),t}(pe);ne.LocalStoragePendingEventsDispatcher=fe;var he={},me=d.a&&d.a.__assign||function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(he,"__esModule",{value:!0}),he.formatEvents=he.buildConversionEventV1=he.buildImpressionEventV1=he.makeBatchedEventV1=void 0;function ge(e){var t=[],n=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var n=be(e);"impression"===e.type?n.snapshots.push(ye(e)):"conversion"===e.type&&n.snapshots.push(ve(e)),t.push(n)}})),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function ve(e){var t=me({},e.tags);delete t.revenue,delete t.value;var n={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(n.tags=e.tags),null!=e.value&&(n.value=e.value),null!=e.revenue&&(n.revenue=e.revenue),{events:[n]}}function ye(e){var t,n,r=e.layer,o=e.experiment,i=e.variation,a=e.ruleKey,s=e.flagKey,c=e.ruleType,u=e.enabled,l=r?r.id:null;return{decisions:[{campaign_id:l,experiment_id:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",variation_id:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:"",metadata:{flag_key:s,rule_key:a,rule_type:c,variation_key:i?i.key:"",enabled:u}}],events:[{entity_id:l,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function be(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:"$opt_bot_filtering",key:"$opt_bot_filtering",type:"custom",value:e.context.botFiltering}),t}he.makeBatchedEventV1=ge,he.buildImpressionEventV1=function(e){var t=be(e);return t.snapshots.push(ye(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},he.buildConversionEventV1=function(e){var t=be(e);return t.snapshots.push(ve(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},he.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:ge(e)}};var we={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Ee=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();Oe.default=Ee;var xe=d.a&&d.a.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Se=d.a&&d.a.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Pe=d.a&&d.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0}),we.LogTierV1EventProcessor=void 0;var Ce=o,Te=Q,_e=Pe(Oe),ke=K,Ie=he,Me=Ce.getLogger("LogTierV1EventProcessor"),je=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?Te.DEFAULT_FLUSH_INTERVAL:n,o=e.batchSize,i=void 0===o?Te.DEFAULT_BATCH_SIZE:o,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new _e.default,r=Te.validateAndGetFlushInterval(r),i=Te.validateAndGetBatchSize(i),this.queue=Te.getQueue(i,r,this.drainQueue.bind(this),ke.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise((function(n){if(Me.debug("draining queue with %s events",e.length),0!==e.length){var r=Ie.formatEvents(e);t.dispatcher.dispatchEvent(r,(function(){n()})),Te.sendEventNotification(t.notificationCenter,r)}else n()}));return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){Me.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return xe(this,void 0,void 0,(function(){return Se(this,(function(e){return this.queue.start(),[2]}))}))},e}();we.LogTierV1EventProcessor=je,function(e){var t=d.a&&d.a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=d.a&&d.a.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(K,e),n(Q,e),n(ee,e),n(te,e),n(ne,e),n(he,e),n(we,e)}(W);var Ae={exports:{}};!function(e){!function(){function t(e,t){var n,r,o,i,a,s,c,u;for(n=3&e.length,r=e.length-n,o=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0},n.v3=t,e.exports=n}()}(Ae);var Re={},De={},Le={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.DEFAULT_UPDATE_INTERVAL=3e5,Ne.MIN_UPDATE_INTERVAL=1e3,Ne.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",Ne.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",Ne.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],Ne.REQUEST_TIMEOUT_MS=6e4,Object.defineProperty(Le,"__esModule",{value:!0});var Ue=Ne,Fe=o.getLogger("DatafileManager");Le.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise((function(r,o){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(n){var r=e[n];t.setRequestHeader(n,r)}))}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void o(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),o=e.slice(t+2);o.length>0&&(r[n]=o)}})),r}(n),t={statusCode:n.status,body:n.responseText,headers:e};r(t)}},n.timeout=Ue.REQUEST_TIMEOUT_MS,n.ontimeout=function(){Fe.error("Request timed out")},n.send()})),abort:function(){n.abort()}}};var Be={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});var Ve=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach((function(e){(0,n[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();ze.default=Ve;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});var Ge=Ne;var He=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*Ge.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(Ge.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<Ge.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();qe.default=He;var We=d.a&&d.a.__assign||function(){return(We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ke=d.a&&d.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});var Qe=o,Ye=f,Ze=Ke(ze),Je=Ne,Xe=Ke(qe),$e=Qe.getLogger("DatafileManager");function et(e){return e>=200&&e<400}var tt={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},nt=function(){function e(e){var t=this,n=We(We({},this.getConfigDefaults()),e),r=n.datafile,o=n.autoUpdate,i=void 0!==o&&o,a=n.sdkKey,s=n.updateInterval,c=void 0===s?Je.DEFAULT_UPDATE_INTERVAL:s,u=n.urlTemplate,l=void 0===u?Je.DEFAULT_URL_TEMPLATE:u,d=n.cache,p=void 0===d?tt:d;this.cache=p,this.cacheKey="opt-datafile-"+a,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n})),r?(this.currentDatafile=r,a||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=Ye.sprintf(l,a),this.emitter=new Ze.default,this.autoUpdate=i,!function(e){return e>=Je.MIN_UPDATE_INTERVAL}(c)?($e.warn("Invalid updateInterval %s, defaulting to %s",c,Je.DEFAULT_UPDATE_INTERVAL),this.updateInterval=Je.DEFAULT_UPDATE_INTERVAL):this.updateInterval=c,this.currentTimeout=null,this.currentRequest=null,this.backoffController=new Xe.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||($e.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return $e.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?$e.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?$e.error("Error fetching datafile: %s",e):$e.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&et(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if($e.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var n={datafile:t};this.emitter.emit("update",n)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),$e.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),n=Math.max(t,this.updateInterval);$e.debug("Scheduling sync in %s ms",n),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),n)},e.prototype.getNextDatafileFromResponse=function(e){return $e.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode?"":et(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,$e.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&($e.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();Be.default=nt;var rt=d.a&&d.a.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=d.a&&d.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});var it=Le,at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rt(t,e),t.prototype.makeGetRequest=function(e,t){return it.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(ot(Be).default);De.default=at,Object.defineProperty(Re,"__esModule",{value:!0});var st=De;Re.HttpPollingDatafileManager=st.default,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t,n=o,r=W,i=f,a=(t=Ae.exports)&&"object"==typeof t&&"default"in t?t.default:t,s=Re,c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var l={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},d={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},p={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},h={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},m=i.NOTIFICATION_TYPES,g={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},v={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},y={RULE:"rule",EXPERIMENT:"experiment"},b={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},w={V2:"2",V3:"3",V4:"4"},O={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},E=Object.freeze({__proto__:null,LOG_LEVEL:l,ERROR_MESSAGES:d,LOG_MESSAGES:p,CONTROL_ATTRIBUTES:h,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.1",NOTIFICATION_TYPES:m,DECISION_NOTIFICATION_TYPES:g,DECISION_SOURCES:v,AUDIENCE_EVALUATION_TYPES:y,FEATURE_VARIABLE_TYPES:b,DATAFILE_VERSIONS:w,DECISION_MESSAGES:O}),x="CONFIG_VALIDATOR",S=[w.V2,w.V3,w.V4],P=function(e){if("object"==typeof e&&null!==e){var t=e,n=t.errorHandler,r=t.eventDispatcher,o=t.logger;if(n&&"function"!=typeof n.handleError)throw new Error(i.sprintf(d.INVALID_ERROR_HANDLER,x));if(r&&"function"!=typeof r.dispatchEvent)throw new Error(i.sprintf(d.INVALID_EVENT_DISPATCHER,x));if(o&&"function"!=typeof o.log)throw new Error(i.sprintf(d.INVALID_LOGGER,x));return!0}throw new Error(i.sprintf(d.INVALID_CONFIG,x))},C={handleError:function(){}},T={dispatchEvent:function(e,t){var n,r=e.params,o=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",o,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(o+="?wxhr=true",r&&(o+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(r)),(n=new XMLHttpRequest).open("GET",o,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},_=function(){function e(){}return e.prototype.log=function(){},e}();function k(e){return new n.ConsoleLogHandler(e)}var I,M,j=Object.freeze({__proto__:null,NoOpLogger:_,createLogger:k,createNoOpLogger:function(){return new _}});function A(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(I||(I={})),(M=e.OptimizelyDecideOption||(e.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",M.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",M.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",M.INCLUDE_REASONS="INCLUDE_REASONS",M.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var R=function(){function e(e){var t,n=e.optimizely,r=e.userId,o=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=c({},o))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,o=null!==(n=e.ruleKey)&&void 0!==n?n:h.FORCED_DECISION_NULL_RULE_KEY,i={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][o]=i,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:h.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,o=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],o=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),o},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:h.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var o=this.forcedDecisionsMap[r];if(o.hasOwnProperty(n))return{variationKey:o[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=c({},this.forcedDecisionsMap)),t},e}(),D=["and","or","not"];function L(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===D.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var o=L(e[r],t);if(!1===o)return!1;null===o&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=L(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var o=L(e[r],t);if(!0===o)return!0;null===o&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var N=function(){function e(t,n){var r,o;this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(o=t.environmentKey)&&void 0!==o?o:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var i=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,i);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,i,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var o="";t.forEach((function(t){var i="";if(t instanceof Array)i="("+(i=e.getSerializedAudiences(t,n))+")";else if(D.indexOf(t)>-1)o=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===o?(o=""===o?"OR":o,r=""===r?o+' "'+n[t].name+'"':r.concat(" "+o+' "'+a+'"')):r='"'+a+'"'}""!==i&&(""!==r||"NOT"===o?(o=""===o?"OR":o,r=""===r?o+" "+i:r.concat(" "+o+" "+i)):r=r.concat(i))}))}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,o){var i=(e[n]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(r||[]).forEach((function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:o?e.value:n.defaultValue};i[n.key]=r})),i},e.getVariationsMap=function(t,n,r,o){return t.reduce((function(t,i){var a=e.mergeFeatureVariables(n,r,o,i.variables,i.featureEnabled);return t[i.key]={id:i.id,key:i.key,featureEnabled:i.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,n,r,o){var i=e.getVariableIdMap(t);return o.map((function(o){return{id:o.id,key:o.key,audiences:e.getExperimentAudiences(o,t),variationsMap:e.getVariationsMap(o.variations,n,i,r)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),o=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(i,a){if(-1===o.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],c="";s&&s.length>0&&(c=s[0]);var u=e.getVariationsMap(a.variations,n,r,c.toString());i[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:u}}return i}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var o={};return t.featureFlags.forEach((function(i){var a={},s=[];i.experimentIds.forEach((function(e){var t=r[e];t&&(a[t.key]=t),s.push(r[e])}));var c=(i.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),u=[],l=t.rolloutIdMap[i.rolloutId];l&&(u=e.getDeliveryRules(t,n,i.id,l.experiments)),o[i.key]={id:i.id,key:i.key,experimentRules:s,deliveryRules:u,experimentsMap:a,variablesMap:c}})),o},e}(),U=Math.pow(2,53),F={assign:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,u([e],t));for(var r=Object(e),o=0;o<t.length;o++){var i=t[o];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=U},keyBy:function(e,t){return e?i.keyBy(e,(function(e){return e[t]})):{}},uuid:i.generateUUID,isNumber:function(e){return"number"==typeof e}},B="PROJECT_CONFIG",z=function(e,t){void 0===t&&(t=null);var n,r,o,a,s=(n=e,(a=F.assign({},n)).audiences=(n.audiences||[]).map((function(e){return F.assign({},e)})),a.experiments=(n.experiments||[]).map((function(e){return F.assign({},e)})),a.featureFlags=(n.featureFlags||[]).map((function(e){return F.assign({},e)})),a.groups=(n.groups||[]).map((function(e){var t=F.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return F.assign({},e)})),t})),a.rollouts=(n.rollouts||[]).map((function(e){var t=F.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return F.assign({},e)})),t})),a.environmentKey=null!==(r=n.environmentKey)&&void 0!==r?r:"",a.sdkKey=null!==(o=n.sdkKey)&&void 0!==o?o:"",a);return s.__datafileStr=null===t?JSON.stringify(e):t,(s.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),s.audiencesById=F.keyBy(s.audiences,"id"),F.assign(s.audiencesById,F.keyBy(s.typedAudiences,"id")),s.attributeKeyMap=F.keyBy(s.attributes,"key"),s.eventKeyMap=F.keyBy(s.events,"key"),s.groupIdMap=F.keyBy(s.groups,"id"),Object.keys(s.groupIdMap||{}).forEach((function(e){(s.groupIdMap[e].experiments||[]).forEach((function(t){s.experiments.push(F.assign(t,{groupId:e}))}))})),s.rolloutIdMap=F.keyBy(s.rollouts||[],"id"),i.objectValues(s.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){s.experiments.push(e),e.variationKeyMap=F.keyBy(e.variations,"key")}))})),s.experimentKeyMap=F.keyBy(s.experiments,"key"),s.experimentIdMap=F.keyBy(s.experiments,"id"),s.variationIdMap={},s.variationVariableUsageMap={},(s.experiments||[]).forEach((function(e){e.variationKeyMap=F.keyBy(e.variations,"key"),F.assign(s.variationIdMap,F.keyBy(e.variations,"id")),i.objectValues(e.variationKeyMap||{}).forEach((function(e){e.variables&&(s.variationVariableUsageMap[e.id]=F.keyBy(e.variables,"id"))}))})),s.experimentFeatureMap={},s.featureKeyMap=F.keyBy(s.featureFlags||[],"key"),i.objectValues(s.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===b.STRING&&e.subType===b.JSON&&(e.type=b.JSON,delete e.subType)})),e.variableKeyMap=F.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){s.experimentFeatureMap[t]?s.experimentFeatureMap[t].push(e.id):s.experimentFeatureMap[t]=[e.id]}))})),s.flagRulesMap={},(s.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var n=s.experimentIdMap[e];n&&t.push(n)}));var n=s.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),s.flagRulesMap[e.key]=t})),s.flagVariationsMap={},i.objectEntries(s.flagRulesMap||{}).forEach((function(e){var t=e[0],n=e[1],r=[];n.forEach((function(e){e.variations.forEach((function(e){i.find(r,(function(t){return t.id===e.id}))||r.push(e)}))})),s.flagVariationsMap[t]=r})),s},V=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(i.sprintf(d.INVALID_EXPERIMENT_ID,B,t));return n.layerId},q=function(e,t,n){var r=e.attributeKeyMap[t],o=0===t.indexOf("$opt_");return r?(o&&n.log(l.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):o?t:(n.log(l.DEBUG,d.UNRECOGNIZED_ATTRIBUTE,B,t),null)},G=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},H=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw new Error(i.sprintf(d.INVALID_EXPERIMENT_KEY,B,t));return n.status},K=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},Q=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw new Error(i.sprintf(d.EXPERIMENT_KEY_NOT_IN_DATAFILE,B,t))},Y=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(i.sprintf(d.INVALID_EXPERIMENT_ID,B,t));return n.trafficAllocation},Z=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(l.ERROR,d.INVALID_EXPERIMENT_ID,B,t),null},J=function(e,t,n){if(!e)return null;var r=e.flagVariationsMap[t];return i.find(r,(function(e){return e.key===n}))||null},X=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(l.ERROR,d.FEATURE_NOT_IN_DATAFILE,B,t),null},$=function(e){return e.__datafileStr},ee=function(e){var t;try{t=function(e){if(!e)throw new Error(i.sprintf(d.NO_DATAFILE_SPECIFIED,x));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(i.sprintf(d.INVALID_DATAFILE_MALFORMED,x))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===S.indexOf(e.version))throw new Error(i.sprintf(d.INVALID_DATAFILE_VERSION,x,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(l.INFO,p.VALID_DATAFILE,B)}catch(e){return{configObj:null,error:e}}else e.logger.log(l.INFO,p.SKIPPING_JSON_VALIDATION,B);var n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:z.apply(void 0,n),error:null}},te=function(e){return!!e.sendFlagDecisions},ne=n.getLogger();function re(e,t){return e instanceof Error?e.message:t||"Unknown error"}var oe=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(i.sprintf(d.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:re(t)}),void ne.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:re(n,"Invalid datafile")})}catch(e){ne.error(e),this.readyPromise=Promise.resolve({success:!1,reason:re(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:re(e)}:{success:!0}}return{success:!1,reason:re(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:re(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=ee({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:ne}),n=t.configObj,r=t.error;if(r)ne.error(r);else{var o=this.configObj?this.configObj.revision:"null";n&&o!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(n)})))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=$(this.configObj),new N(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),ie=Math.pow(2,32),ae=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw new Error(i.sprintf(d.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var o=se(r,e.bucketingId,e.userId,e.logger);if(null===o)return e.logger.log(l.INFO,p.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([p.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(o!==e.experimentId)return e.logger.log(l.INFO,p.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([p.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(l.INFO,p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var a=""+e.bucketingId+e.experimentId,s=ue(a);e.logger.log(l.DEBUG,p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId),t.push([p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId]);var c=ce(s,e.trafficAllocationConfig);return null===c||e.variationIdMap[c]?{result:c,reasons:t}:(c&&(e.logger.log(l.WARNING,p.INVALID_VARIATION_ID,"BUCKETER"),t.push([p.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},se=function(e,t,n,r){var o=""+t+e.id,i=ue(o);r.log(l.DEBUG,p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,n);var a=e.trafficAllocation;return ce(i,a)},ce=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},ue=function(e){try{var t=a.v3(e,1)/ie;return Math.floor(1e4*t)}catch(t){throw new Error(i.sprintf(d.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},le=n.getLogger();function de(e){return/^\d+$/.test(e)}function pe(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function fe(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function he(e){var t=e,n="";if(function(e){return/\s/.test(e)}(e))return le.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(pe(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):fe(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return le.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var o=t.split(".");if(o.length!=r+1)return le.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var i=0,a=o;i<a.length;i++)if(!de(a[i]))return le.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&o.push(n),o}var me="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",ge=n.getLogger(),ve=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ye={};function be(e){return"string"==typeof e||"boolean"==typeof e||F.isNumber(e)}function we(e,t){var n=e.value,r=typeof n,o=e.name,i=t[o],a=typeof i;return!be(n)||F.isNumber(n)&&!F.isSafeInteger(n)?(ge.warn(p.UNEXPECTED_CONDITION_VALUE,me,JSON.stringify(e)),null):null===i?(ge.debug(p.UNEXPECTED_TYPE_NULL,me,JSON.stringify(e),o),null):be(i)&&r===a?F.isNumber(i)&&!F.isSafeInteger(i)?(ge.warn(p.OUT_OF_BOUNDS,me,JSON.stringify(e),o),null):n===i:(ge.warn(p.UNEXPECTED_TYPE,me,JSON.stringify(e),a,o),null)}function Oe(e,t){var n=e.name,r=t[n],o=typeof r,i=e.value;return null!==i&&F.isSafeInteger(i)?null===r?(ge.debug(p.UNEXPECTED_TYPE_NULL,me,JSON.stringify(e),n),!1):F.isNumber(r)?!!F.isSafeInteger(r)||(ge.warn(p.OUT_OF_BOUNDS,me,JSON.stringify(e),n),!1):(ge.warn(p.UNEXPECTED_TYPE,me,JSON.stringify(e),o,n),!1):(ge.warn(p.UNEXPECTED_CONDITION_VALUE,me,JSON.stringify(e)),!1)}function Ee(e,t){var n=e.name,r=t[n],o=typeof r,i=e.value;return"string"!=typeof i?(ge.warn(p.UNEXPECTED_CONDITION_VALUE,me,JSON.stringify(e)),null):null===r?(ge.debug(p.UNEXPECTED_TYPE_NULL,me,JSON.stringify(e),n),null):"string"!=typeof r?(ge.warn(p.UNEXPECTED_TYPE,me,JSON.stringify(e),o,n),null):function(e,t){var n=he(t),r=he(e);if(!n||!r)return null;for(var o=n.length,i=0;i<r.length;i++){if(o<=i)return pe(e)||fe(e)?1:-1;if(de(n[i])){var a=parseInt(n[i]),s=parseInt(r[i]);if(a>s)return 1;if(a<s)return-1}else{if(n[i]<r[i])return pe(e)&&!pe(t)?1:-1;if(n[i]>r[i])return!pe(e)&&pe(t)?-1:1}}return pe(t)&&!pe(e)?-1:0}(i,r)}ye.exact=we,ye.exists=function(e,t){return null!=t[e.name]},ye.gt=function(e,t){var n=t[e.name],r=e.value;return Oe(e,t)&&null!==r?n>r:null},ye.ge=function(e,t){var n=t[e.name],r=e.value;return Oe(e,t)&&null!==r?n>=r:null},ye.lt=function(e,t){var n=t[e.name],r=e.value;return Oe(e,t)&&null!==r?n<r:null},ye.le=function(e,t){var n=t[e.name],r=e.value;return Oe(e,t)&&null!==r?n<=r:null},ye.substring=function(e,t){var n=e.name,r=t[e.name],o=typeof r,i=e.value;return"string"!=typeof i?(ge.warn(p.UNEXPECTED_CONDITION_VALUE,me,JSON.stringify(e)),null):null===r?(ge.debug(p.UNEXPECTED_TYPE_NULL,me,JSON.stringify(e),n),null):"string"!=typeof r?(ge.warn(p.UNEXPECTED_TYPE,me,JSON.stringify(e),o,n),null):-1!==r.indexOf(i)},ye.semver_eq=function(e,t){var n=Ee(e,t);return null===n?null:0===n},ye.semver_gt=function(e,t){var n=Ee(e,t);return null===n?null:n>0},ye.semver_ge=function(e,t){var n=Ee(e,t);return null===n?null:n>=0},ye.semver_lt=function(e,t){var n=Ee(e,t);return null===n?null:n<0},ye.semver_le=function(e,t){var n=Ee(e,t);return null===n?null:n<=0};var xe=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===ve.indexOf(n))return ge.warn(p.UNKNOWN_MATCH_TYPE,me,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&ye[n]||we)(e,t):(ge.debug(p.MISSING_ATTRIBUTE_VALUE,me,JSON.stringify(e),r),null)}}),Se=n.getLogger(),Pe=function(){function e(e){this.typeToEvaluatorMap=F.assign({},e,{custom_attribute:xe})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!L(e,(function(e){var o=t[e];if(o){Se.log(l.DEBUG,p.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(o.conditions));var i=L(o.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===i?"UNKNOWN":i.toString().toUpperCase();return Se.log(l.DEBUG,p.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),i}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return Se.log(l.WARNING,p.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){Se.log(l.ERROR,d.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function Ce(e){return"string"==typeof e&&""!==e}var Te="DECISION_SERVICE",_e=function(){function t(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new Pe(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return t.prototype.getVariation=function(t,n,r,o){void 0===o&&(o={});var i=r.getUserId(),a=r.getAttributes(),s=this.getBucketingId(i,a),c=[],u=n.key;if(!this.checkIfExperimentIsActive(t,u))return this.logger.log(l.INFO,p.EXPERIMENT_NOT_RUNNING,Te,u),c.push([p.EXPERIMENT_NOT_RUNNING,Te,u]),{result:null,reasons:c};var d=this.getForcedVariation(t,u,i);c.push.apply(c,d.reasons);var f=d.result;if(f)return{result:f,reasons:c};var h=this.getWhitelistedVariation(n,i);c.push.apply(c,h.reasons);var m=h.result;if(m)return{result:m.key,reasons:c};var g=o[e.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],v=this.resolveExperimentBucketMap(i,a);if(!g&&(m=this.getStoredVariation(t,n,i,v)))return this.logger.log(l.INFO,p.RETURNING_STORED_VARIATION,Te,m.key,u,i),c.push([p.RETURNING_STORED_VARIATION,Te,m.key,u,i]),{result:m.key,reasons:c};var b=this.checkIfUserIsInAudience(t,n,y.EXPERIMENT,a,"");if(c.push.apply(c,b.reasons),!b.result)return this.logger.log(l.INFO,p.USER_NOT_IN_EXPERIMENT,Te,i,u),c.push([p.USER_NOT_IN_EXPERIMENT,Te,i,u]),{result:null,reasons:c};var w=this.buildBucketerParams(t,n,s,i),O=ae(w);c.push.apply(c,O.reasons);var E=O.result;return E&&(m=t.variationIdMap[E]),m?(this.logger.log(l.INFO,p.USER_HAS_VARIATION,Te,i,m.key,u),c.push([p.USER_HAS_VARIATION,Te,i,m.key,u]),g||this.saveUserProfile(n,m,i,v),{result:m.key,reasons:c}):(this.logger.log(l.DEBUG,p.USER_HAS_NO_VARIATION,Te,i,u),c.push([p.USER_HAS_NO_VARIATION,Te,i,u]),{result:null,reasons:c})},t.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[h.STICKY_BUCKETING_KEY];return F.assign({},n.experiment_bucket_map,r)},t.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===H(e,t)}(e,t)},t.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(l.INFO,p.USER_FORCED_IN_VARIATION,Te,t,r),n.push([p.USER_FORCED_IN_VARIATION,Te,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(l.ERROR,p.FORCED_BUCKETING_FAILED,Te,r,t),n.push([p.FORCED_BUCKETING_FAILED,Te,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},t.prototype.checkIfUserIsInAudience=function(e,t,n,r,o){var a=[],s=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(i.sprintf(d.INVALID_EXPERIMENT_ID,B,t));return n.audienceConditions||n.audienceIds}(e,t.id),c=e.audiencesById;this.logger.log(l.DEBUG,p.EVALUATING_AUDIENCES_COMBINED,Te,n,o||t.key,JSON.stringify(s)),a.push([p.EVALUATING_AUDIENCES_COMBINED,Te,n,o||t.key,JSON.stringify(s)]);var u=this.audienceEvaluator.evaluate(s,c,r);return this.logger.log(l.INFO,p.AUDIENCE_EVALUATION_RESULT_COMBINED,Te,n,o||t.key,u.toString().toUpperCase()),a.push([p.AUDIENCE_EVALUATION_RESULT_COMBINED,Te,n,o||t.key,u.toString().toUpperCase()]),{result:u,reasons:a}},t.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:Y(e,t.id),userId:r,variationIdMap:e.variationIdMap}},t.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var o=r[t.id],i=o.variation_id;if(e.variationIdMap.hasOwnProperty(i))return e.variationIdMap[o.variation_id];this.logger.log(l.INFO,p.SAVED_VARIATION_NOT_FOUND,Te,n,i,t.key)}return null},t.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(l.ERROR,d.USER_PROFILE_LOOKUP_ERROR,Te,e,t.message)}return null},t.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(l.INFO,p.SAVED_VARIATION,Te,t.key,e.key,n)}catch(e){this.logger.log(l.ERROR,d.USER_PROFILE_SAVE_ERROR,Te,n,e.message)}},t.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var o=[],i=this.getVariationForFeatureExperiment(e,t,n,r);o.push.apply(o,i.reasons);var a=i.result;if(null!==a.variation)return{result:a,reasons:o};var s=this.getVariationForRollout(e,t,n);o.push.apply(o,s.reasons);var c=s.result,u=n.getUserId();return c.variation?(this.logger.log(l.DEBUG,p.USER_IN_ROLLOUT,Te,u,t.key),o.push([p.USER_IN_ROLLOUT,Te,u,t.key]),{result:c,reasons:o}):(this.logger.log(l.DEBUG,p.USER_NOT_IN_ROLLOUT,Te,u,t.key),o.push([p.USER_NOT_IN_ROLLOUT,Te,u,t.key]),{result:c,reasons:o})},t.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var o,i,a=[],s=null;if(t.experimentIds.length>0)for(i=0;i<t.experimentIds.length;i++){var c=Z(e,t.experimentIds[i],this.logger);if(c&&(o=this.getVariationFromExperimentRule(e,t.key,c,n,r),a.push.apply(a,o.reasons),s=o.result)){var u=null;return(u=c.variationKeyMap[s])||(u=J(e,t.key,s)),{result:{experiment:c,variation:u,decisionSource:v.FEATURE_TEST},reasons:a}}}else this.logger.log(l.DEBUG,p.FEATURE_HAS_NO_EXPERIMENTS,Te,t.key),a.push([p.FEATURE_HAS_NO_EXPERIMENTS,Te,t.key]);return{result:{experiment:null,variation:null,decisionSource:v.FEATURE_TEST},reasons:a}},t.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(l.DEBUG,p.NO_ROLLOUT_EXISTS,Te,t.key),r.push([p.NO_ROLLOUT_EXISTS,Te,t.key]),{result:{experiment:null,variation:null,decisionSource:v.ROLLOUT},reasons:r};var o=e.rolloutIdMap[t.rolloutId];if(!o)return this.logger.log(l.ERROR,d.INVALID_ROLLOUT_ID,Te,t.rolloutId,t.key),r.push([d.INVALID_ROLLOUT_ID,Te,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:v.ROLLOUT},reasons:r};var i,a,s,c=o.experiments;if(0===c.length)return this.logger.log(l.ERROR,p.ROLLOUT_HAS_NO_EXPERIMENTS,Te,t.rolloutId),r.push([p.ROLLOUT_HAS_NO_EXPERIMENTS,Te,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:v.ROLLOUT},reasons:r};for(var u=0;u<c.length;){if(i=this.getVariationFromDeliveryRule(e,t.key,c,u,n),r.push.apply(r,i.reasons),s=i.result,a=i.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[c[u].id],variation:s,decisionSource:v.ROLLOUT},reasons:r};u=a?c.length-1:u+1}return{result:{experiment:null,variation:null,decisionSource:v.ROLLOUT},reasons:r}},t.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(h.BUCKETING_ID)&&("string"==typeof t[h.BUCKETING_ID]?(n=t[h.BUCKETING_ID],this.logger.log(l.DEBUG,p.VALID_BUCKETING_ID,Te,n)):this.logger.log(l.WARNING,p.BUCKETING_ID_NOT_STRING,Te)),n},t.prototype.findValidatedForcedDecision=function(e,t,n,r){var o,i=[],a=t.getForcedDecision({flagKey:n,ruleKey:r}),s=null,c=t.getUserId();return e&&a&&(o=a.variationKey,(s=J(e,n,o))?r?(this.logger.log(l.INFO,p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,n,r,c),i.push([p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,n,r,c])):(this.logger.log(l.INFO,p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,n,c),i.push([p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,n,c])):r?(this.logger.log(l.INFO,p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,c),i.push([p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,c])):(this.logger.log(l.INFO,p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,c),i.push([p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,c]))),{result:s,reasons:i}},t.prototype.removeForcedVariation=function(e,t,n){if(!e)throw new Error(i.sprintf(d.INVALID_USER_ID,Te));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(i.sprintf(d.USER_NOT_IN_FORCED_VARIATION,Te,e));delete this.forcedVariationMap[e][t],this.logger.log(l.DEBUG,p.VARIATION_REMOVED_FOR_USER,Te,n,e)},t.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(l.DEBUG,p.USER_MAPPED_TO_FORCED_VARIATION,Te,n,t,e)},t.prototype.getForcedVariation=function(e,t,n){var r,o=[],i=this.forcedVariationMap[n];if(!i)return this.logger.log(l.DEBUG,p.USER_HAS_NO_FORCED_VARIATION,Te,n),{result:null,reasons:o};try{var a=Q(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(l.ERROR,d.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t),o.push([d.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t]),{result:null,reasons:o};r=a.id}catch(e){return this.logger.log(l.ERROR,e.message),o.push(e.message),{result:null,reasons:o}}var s=i[r];if(!s)return this.logger.log(l.DEBUG,p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Te,t,n),{result:null,reasons:o};var c=K(e,s);return c?(this.logger.log(l.DEBUG,p.USER_HAS_FORCED_VARIATION,Te,c,t,n),o.push([p.USER_HAS_FORCED_VARIATION,Te,c,t,n])):this.logger.log(l.DEBUG,p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Te,t,n),{result:c,reasons:o}},t.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!Ce(r))return this.logger.log(l.ERROR,d.INVALID_VARIATION_KEY,Te),!1;var o;try{var i=Q(e,t);if(!i.hasOwnProperty("id"))return this.logger.log(l.ERROR,d.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t),!1;o=i.id}catch(e){return this.logger.log(l.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,o,t),!0}catch(e){return this.logger.log(l.ERROR,e.message),!1}var a=function(e,t,n){var r=e.experimentKeyMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null}(e,t,r);if(!a)return this.logger.log(l.ERROR,d.NO_VARIATION_FOR_EXPERIMENT_KEY,Te,r,t),!1;try{return this.setInForcedVariationMap(n,o,a),!0}catch(e){return this.logger.log(l.ERROR,e.message),!1}},t.prototype.getVariationFromExperimentRule=function(e,t,n,r,o){void 0===o&&(o={});var i=[],a=this.findValidatedForcedDecision(e,r,t,n.key);i.push.apply(i,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:i};var c=this.getVariation(e,n,r,o);return i.push.apply(i,c.reasons),{result:c.result,reasons:i}},t.prototype.getVariationFromDeliveryRule=function(e,t,n,r,o){var i=[],a=!1,s=n[r],c=this.findValidatedForcedDecision(e,o,t,s.key);i.push.apply(i,c.reasons);var u=c.result;if(u)return{result:u,reasons:i,skipToEveryoneElse:a};var d,f,h,m,g,v=o.getUserId(),b=o.getAttributes(),w=this.getBucketingId(v,b),O=r===n.length-1,E=O?"Everyone Else":r+1,x=null,S=this.checkIfUserIsInAudience(e,s,y.RULE,b,E);return i.push.apply(i,S.reasons),S.result?(this.logger.log(l.DEBUG,p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Te,v,E),i.push([p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Te,v,E]),f=this.buildBucketerParams(e,s,w,v),h=ae(f),i.push.apply(i,h.reasons),(d=h.result)&&(g=d,x=(m=e).variationIdMap.hasOwnProperty(g)?m.variationIdMap[g]:null),x?(this.logger.log(l.DEBUG,p.USER_BUCKETED_INTO_TARGETING_RULE,Te,v,E),i.push([p.USER_BUCKETED_INTO_TARGETING_RULE,Te,v,E])):O||(this.logger.log(l.DEBUG,p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Te,v,E),i.push([p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Te,v,E]),a=!0)):(this.logger.log(l.DEBUG,p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Te,v,E),i.push([p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Te,v,E])),{result:x,reasons:i,skipToEveryoneElse:a}},t}();function ke(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?(r=parseInt(n),isNaN(r)?(t.log(l.INFO,p.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(l.INFO,p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(l.INFO,p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function Ie(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?(r=parseFloat(n),isNaN(r)?(t.log(l.INFO,p.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(l.INFO,p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(l.INFO,p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function Me(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||F.isNumber(t)&&F.isSafeInteger(t))}var je="https://logx.optimizely.com/v1/events";function De(e){var t=e.attributes,n=e.userId,r=e.clientEngine,o=e.clientVersion,i=e.configObj,a=e.logger,s=!!i.anonymizeIP&&i.anonymizeIP,c=i.botFiltering,u={snapshots:[],visitor_id:n,attributes:[]},l={account_id:i.accountId,project_id:i.projectId,visitors:[u],revision:i.revision,client_name:r,client_version:o,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Me(e,t[e])){var n=q(i,e,a);n&&l.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof c&&l.visitors[0].attributes.push({entity_id:h.BOT_FILTERING,key:h.BOT_FILTERING,type:"custom",value:c}),l}function Le(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ne(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ue(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function Fe(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}function Be(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var ze=n.getLogger("EVENT_BUILDER");function Ve(e,t){var n=[];return t&&Object.keys(t||{}).forEach((function(r){if(Me(r,t[r])){var o=q(e,r,ze);o&&n.push({entityId:o,key:r,value:t[r]})}})),n}var qe="USER_PROFILE_SERVICE_VALIDATOR",Ge=function(){function t(t){var n,r=this,o=t.clientEngine;o||(t.logger.log(l.INFO,p.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o),o="node-sdk"),this.clientEngine=o,this.clientVersion=t.clientVersion||"4.9.1",this.errorHandler=t.errorHandler,this.isOptimizelyConfigValid=t.isValidInstance,this.logger=t.logger;var a=null!==(n=t.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(a)||(this.logger.log(l.DEBUG,p.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),a=[]);var s={};a.forEach((function(t){e.OptimizelyDecideOption[t]?s[t]=!0:r.logger.log(l.WARNING,p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",t)})),this.defaultDecideOptions=s,this.projectConfigManager=function(e){return new oe(e)}({datafile:t.datafile,jsonSchemaValidator:t.jsonSchemaValidator,sdkKey:t.sdkKey,datafileManager:t.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){r.logger.log(l.INFO,p.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(m.OPTIMIZELY_CONFIG_UPDATE)}));var c,u=this.projectConfigManager.onReady(),f=null;if(t.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(i.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(i.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe,"Missing function 'save'"));return!0}throw new Error(i.sprintf(d.INVALID_USER_PROFILE_SERVICE,qe))})(t.userProfileService)&&(f=t.userProfileService,this.logger.log(l.INFO,p.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(t){this.logger.log(l.WARNING,t.message)}this.decisionService=(c={userProfileService:f,logger:this.logger,UNSTABLE_conditionEvaluators:t.UNSTABLE_conditionEvaluators},new _e(c)),this.notificationCenter=t.notificationCenter,this.eventProcessor=t.eventProcessor;var h=this.eventProcessor.start();this.readyPromise=Promise.all([u,h]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return t.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},t.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var o=this.getVariation(e,t,n);if(null===o)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===H(e,t)}(r,e))return this.logger.log(l.DEBUG,p.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),o;var i=Q(r,e),a={experiment:i,variation:i.variationKeyMap[o],decisionSource:v.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,n),o}catch(n){return this.logger.log(l.ERROR,n.message),this.logger.log(l.INFO,p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.sendImpressionEvent=function(e,t,n,r,o){var i=this.projectConfigManager.getConfig();if(i){var a=function(e){var t=e.configObj,n=e.decisionObj,r=e.userId,o=e.flagKey,i=e.enabled,a=e.userAttributes,s=e.clientEngine,c=e.clientVersion,u=n.decisionSource,l=Le(n),d=Fe(n),p=Ne(n),f=Be(n),h=null!==d?V(t,d):null;return{type:"impression",timestamp:F.currentTimestamp(),uuid:F.uuid(),user:{id:r,attributes:Ve(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:c,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:d,key:l},variation:{id:f,key:p},ruleKey:l,flagKey:o,ruleType:u,enabled:i}}({decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,n,r,o)}},t.prototype.emitNotificationCenterActivate=function(e,t,n,r,o){var i=this.projectConfigManager.getConfig();if(i){var a,s=e.decisionSource,c=Le(e),u=Fe(e),l=Ne(e),d=Be(e);null!==u&&""!==l&&(a=i.experimentIdMap[u]);var p,f=function(e){var t,n,r,o,i,a,s,c,u=De(e),l=(t=e.configObj,n=e.experimentId,r=e.variationId,o=e.ruleKey,i=e.ruleType,a=e.flagKey,s=e.enabled,{decisions:[{campaign_id:c=n?V(t,n):null,experiment_id:n,variation_id:r,metadata:{flag_key:a,rule_key:o,rule_type:i,variation_key:(r?K(t,r):null)||"",enabled:s}}],events:[{entity_id:c,timestamp:F.currentTimestamp(),key:"campaign_activated",uuid:F.uuid()}]});return u.visitors[0].snapshots.push(l),{httpVerb:"POST",url:je,params:u}}({attributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,experimentId:u,ruleKey:c,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:d,logger:this.logger});a&&a.variationKeyMap&&""!==l&&(p=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(m.ACTIVATE,{experiment:a,userId:n,attributes:o,variation:p,logEvent:f})}},t.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var o=this.projectConfigManager.getConfig();if(!o)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(o,e))return this.logger.log(l.WARNING,p.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(l.WARNING,p.NOT_TRACKING_USER,"OPTIMIZELY",t);var i=function(e){var t=e.configObj,n=e.userId,r=e.userAttributes,o=e.clientEngine,i=e.clientVersion,a=e.eventKey,s=e.eventTags,c=G(t,a),u=s?ke(s,ze):null,l=s?Ie(s,ze):null;return{type:"conversion",timestamp:F.currentTimestamp(),uuid:F.uuid(),user:{id:n,attributes:Ve(t,r)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:o,clientVersion:i,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:c,key:a},revenue:u,value:l,tags:s}}({eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.logger.log(l.INFO,p.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(i),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(l.ERROR,p.NOT_TRACKING_USER,"OPTIMIZELY",t)}},t.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var o=this.projectConfigManager.getConfig();if(!o)return;var i=function(e){var t=De(e),n=function(e,t,n,r){var o={events:[]},i={entity_id:G(e,t),timestamp:F.currentTimestamp(),uuid:F.uuid(),key:t};if(r){var a=ke(r,n);null!==a&&(i.revenue=a);var s=Ie(r,n);null!==s&&(i.value=s),i.tags=r}return o.events.push(i),o}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[n],{httpVerb:"POST",url:je,params:t}}({attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,eventKey:e,eventTags:r,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(m.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:i})}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e)}},t.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;var o=r.experimentKeyMap[e];if(!o)return this.logger.log(l.DEBUG,d.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var i=this.decisionService.getVariation(r,o,this.createUserContext(t,n)).result,a=(s=r,c=o.id,s.experimentFeatureMap.hasOwnProperty(c)?g.FEATURE_TEST:g.AB_TEST);return this.notificationCenter.sendNotifications(m.DECISION,{type:a,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:i}}),i}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}var s,c},t.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),!1}},t.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw new Error(i.sprintf(d.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!Ce(e[t]))throw new Error(i.sprintf(d.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i.sprintf(d.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(i.sprintf(d.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i.sprintf(d.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),!1}},t.prototype.notActivatingExperiment=function(e,t){return this.logger.log(l.INFO,p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},t.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},t.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var o=X(r,e,this.logger);if(!o)return!1;var i={},a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(r,o,a).result,c=s.decisionSource,u=Le(s),d=Ne(s),f=Ue(s);c===v.FEATURE_TEST&&(i={experimentKey:u,variationKey:d}),(c===v.FEATURE_TEST||c===v.ROLLOUT&&te(r))&&this.sendImpressionEvent(s,o.key,t,f,n),!0===f?this.logger.log(l.INFO,p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(l.INFO,p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),f=!1);var h={featureKey:e,featureEnabled:f,source:s.decisionSource,sourceInfo:i};return this.notificationCenter.sendNotifications(m.DECISION,{type:g.FEATURE,userId:t,attributes:n||{},decisionInfo:h}),f}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),!1}},t.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var o=this.projectConfigManager.getConfig();return o?(i.objectValues(o.featureKeyMap).forEach((function(o){n.isFeatureEnabled(o.key,e,t)&&r.push(o.key)})),r):r}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),[]}},t.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getFeatureVariableForType=function(e,t,n,r,o){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},o))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var a=X(i,e,this.logger);if(!a)return null;var s=function(e,t,n,r){var o=e.featureKeyMap[t];return o?o.variableKeyMap[n]||(r.log(l.ERROR,d.VARIABLE_KEY_NOT_IN_DATAFILE,B,n,t),null):(r.log(l.ERROR,d.FEATURE_NOT_IN_DATAFILE,B,t),null)}(i,e,t,this.logger);if(!s)return null;if(n&&s.type!==n)return this.logger.log(l.WARNING,p.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,s.type),null;var c=this.createUserContext(r,o),u=this.decisionService.getVariationForFeature(i,a,c).result,f=Ue(u),h=this.getFeatureVariableValueFromVariation(e,f,u.variation,s,r),y={};return u.decisionSource===v.FEATURE_TEST&&null!==u.experiment&&null!==u.variation&&(y={experimentKey:u.experiment.key,variationKey:u.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:g.FEATURE_VARIABLE,userId:r,attributes:o||{},decisionInfo:{featureKey:e,featureEnabled:f,source:u.decisionSource,variableKey:t,variableValue:h,variableType:s.type,sourceInfo:y}}),h},t.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,o){var i=this.projectConfigManager.getConfig();if(!i)return null;var a=r.defaultValue;if(null!==n){var s=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(l.ERROR,d.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,B,n.id),null;var o=e.variationVariableUsageMap[n.id][t.id];return o?o.value:null}(i,r,n,this.logger);null!==s?t?(a=s,this.logger.log(l.INFO,p.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e)):this.logger.log(l.INFO,p.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,o,a):this.logger.log(l.INFO,p.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(l.INFO,p.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",o,r.key,e);return function(e,t,n){var r;switch(t){case b.BOOLEAN:"true"!==e&&"false"!==e?(n.log(l.ERROR,d.UNABLE_TO_CAST_VALUE,B,e,t),r=null):r="true"===e;break;case b.INTEGER:r=parseInt(e,10),isNaN(r)&&(n.log(l.ERROR,d.UNABLE_TO_CAST_VALUE,B,e,t),r=null);break;case b.DOUBLE:r=parseFloat(e),isNaN(r)&&(n.log(l.ERROR,d.UNABLE_TO_CAST_VALUE,B,e,t),r=null);break;case b.JSON:try{r=JSON.parse(e)}catch(o){n.log(l.ERROR,d.UNABLE_TO_CAST_VALUE,B,e,t),r=null}break;default:r=e}return r}(a,r.type,this.logger)},t.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.BOOLEAN,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.DOUBLE,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.INTEGER,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.STRING,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.JSON,n,r):(this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var i=X(o,e,this.logger);if(!i)return null;var a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(o,i,a).result,c=Ue(s),u={};i.variables.forEach((function(n){u[n.key]=r.getFeatureVariableValueFromVariation(e,c,s.variation,n,t)}));var d={};return s.decisionSource===v.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(d={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:g.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:c,source:s.decisionSource,variableValues:u,sourceInfo:d}}),u}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(t){return this.logger.log(l.ERROR,t.message),this.errorHandler.handleError(t),null}},t.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},t.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),F.isSafeInteger(t)||(t=3e4);var o=new Promise((function(e){n=e})),a=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout((function(){delete r.readyTimeouts[a],n({success:!1,reason:i.sprintf("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[a]={readyTimeout:s,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(s),delete r.readyTimeouts[a],n({success:!0})})),Promise.race([this.readyPromise,o])},t.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new R({optimizely:this,userId:e,attributes:t}):null},t.prototype.decide=function(t,n,r){var o,a,s,c,f=this;void 0===r&&(r=[]);var h,y=t.getUserId(),b=t.getAttributes(),w=this.projectConfigManager.getConfig(),E=[];if(!this.isValidInstance()||!w)return this.logger.log(l.INFO,p.INVALID_OBJECT,"OPTIMIZELY","decide"),A(n,t,[O.SDK_NOT_READY]);var x=w.featureKeyMap[n];if(!x)return this.logger.log(l.ERROR,d.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),A(n,t,[i.sprintf(O.FLAG_KEY_INVALID,n)]);var S=this.getAllDecideOptions(r),P=this.decisionService.findValidatedForcedDecision(w,t,n);E.push.apply(E,P.reasons);var C=P.result;if(C)h={experiment:null,variation:C,decisionSource:v.FEATURE_TEST};else{var T=this.decisionService.getVariationForFeature(w,x,t,S);E.push.apply(E,T.reasons),h=T.result}var _=h.decisionSource,k=null!==(a=null===(o=h.experiment)||void 0===o?void 0:o.key)&&void 0!==a?a:null,I=null!==(c=null===(s=h.variation)||void 0===s?void 0:s.key)&&void 0!==c?c:null,M=Ue(h);!0===M?this.logger.log(l.INFO,p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,y):this.logger.log(l.INFO,p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,y);var j={},R=!1;S[e.OptimizelyDecideOption.EXCLUDE_VARIABLES]||x.variables.forEach((function(e){j[e.key]=f.getFeatureVariableValueFromVariation(n,M,h.variation,e,y)})),!S[e.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(_===v.FEATURE_TEST||_===v.ROLLOUT&&te(w))&&(this.sendImpressionEvent(h,n,y,M,b),R=!0);var D=[];S[e.OptimizelyDecideOption.INCLUDE_REASONS]&&(D=E.map((function(e){return i.sprintf.apply(void 0,u([e[0]],e.slice(1)))})));var L={flagKey:n,enabled:M,variationKey:I,ruleKey:k,variables:j,reasons:D,decisionEventDispatched:R};return this.notificationCenter.sendNotifications(m.DECISION,{type:g.FLAG,userId:y,attributes:b,decisionInfo:L}),{variationKey:I,enabled:M,variables:j,ruleKey:k,flagKey:n,userContext:t,reasons:D}},t.prototype.getAllDecideOptions=function(t){var n=this,r=c({},this.defaultDecideOptions);return Array.isArray(t)?t.forEach((function(t){e.OptimizelyDecideOption[t]?r[t]=!0:n.logger.log(l.WARNING,p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",t)})):this.logger.log(l.DEBUG,p.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},t.prototype.decideForKeys=function(t,n,r){var o=this;void 0===r&&(r=[]);var i={};if(!this.isValidInstance())return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),i;if(0===n.length)return i;var a=this.getAllDecideOptions(r);return n.forEach((function(n){var s=o.decide(t,n,r);a[e.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!s.enabled||(i[n]=s)})),i},t.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(l.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},t}(),He=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},i.objectValues(m).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(i.objectValues(m).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(n=!0)})),n)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var n,r;if(Object.keys(this.notificationListeners).some((function(o){return(t.notificationListeners[o]||[]).every((function(t,i){return t.id!==e||(n=i,r=o,!1)})),void 0!==n&&void 0!==r})),void 0!==n&&void 0!==r)return this.notificationListeners[r].splice(n,1),!0}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{i.objectValues(m).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach((function(r){var o=r.callback;try{o(t)}catch(t){n.logger.log(l.ERROR,p.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(l.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),We=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.LogTierV1EventProcessor.bind.apply(r.LogTierV1EventProcessor,u([void 0],e)))};r.LocalStoragePendingEventsDispatcher;function Ke(e,t,n,r){var o={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&F.assign(o,r),n){var i=ee({datafile:n,jsonSchemaValidator:void 0,logger:t}),a=i.configObj,c=i.error;c&&t.error(c),a&&(o.datafile=$(a))}return new s.HttpPollingDatafileManager(o)}var Qe=n.getLogger();n.setLogHandler(k()),n.setLogLevel(n.LogLevel.INFO);var Ye=!1,Ze=function(e){try{e.errorHandler&&n.setErrorHandler(e.errorHandler),e.logger&&(n.setLogHandler(e.logger),n.setLogLevel(n.LogLevel.NOTSET)),void 0!==e.logLevel&&n.setLogLevel(e.logLevel);try{P(e),e.isValidInstance=!0}catch(n){Qe.error(n),e.isValidInstance=!1}var t=void 0;null==e.eventDispatcher?(t=new r.LocalStoragePendingEventsDispatcher({eventDispatcher:T}),Ye||(t.sendPendingEvents(),Ye=!0)):t=e.eventDispatcher;var o=e.eventBatchSize,i=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!F.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||(Qe.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),o=10),function(e){return!("number"!=typeof e||!F.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||(Qe.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),i=1e3);var a=n.getErrorHandler(),s=new He({logger:Qe,errorHandler:a}),u={dispatcher:t,flushInterval:i,batchSize:o,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:s},l=c(c({clientEngine:"javascript-sdk"},e),{eventProcessor:We(u),logger:Qe,errorHandler:a,datafileManager:e.sdkKey?Ke(e.sdkKey,Qe,e.datafile,e.datafileOptions):void 0,notificationCenter:s}),d=new Ge(l);try{if("function"==typeof window.addEventListener){var f="onpagehide"in window?"pagehide":"unload";window.addEventListener(f,(function(){d.close()}),!1)}}catch(e){Qe.error(p.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return d}catch(e){return Qe.error(e),null}},Je=function(){Ye=!1},Xe={logging:j,errorHandler:C,eventDispatcher:T,enums:E,setLogger:n.setLogHandler,setLogLevel:n.setLogLevel,createInstance:Ze,__internalResetRetryState:Je,OptimizelyDecideOption:e.OptimizelyDecideOption};Object.defineProperty(e,"setLogLevel",{enumerable:!0,get:function(){return n.setLogLevel}}),Object.defineProperty(e,"setLogger",{enumerable:!0,get:function(){return n.setLogHandler}}),e.__internalResetRetryState=Je,e.createInstance=Ze,e.default=Xe,e.enums=E,e.errorHandler=C,e.eventDispatcher=T,e.logging=j}(r.a)},CX6W:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("8x/l").a;function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},Cgr3:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isDecimalPositive(e.unitListPrice,"unitListPrice"),i.validate.isDecimalPositive(e.unitDiscountPrice,"unitDiscountPrice"),i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isBoolean(e.vatInc,"vatInc"),i.validate.isBooleanOrUndefined(e.hideVatMessage,"hideVatMessage"),i.validate.isBooleanOrUndefined(e.hideShippingMessageInVatMessage,"hideShippingMessageInVatMessage")]);if(t.length>0)throw t}generateToken(e,t){var n="".concat(e.hideVatMessage?"".concat(e.hideVatMessage):"".concat(!1)),r="".concat(e.hideShippingMessageInVatMessage?"".concat(e.hideShippingMessageInVatMessage):"".concat(!1));return"{{ ".concat(e.unitListPrice," | ").concat(t,": ").concat(e.unitDiscountPrice,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits,", ").concat(e.vatInc,", ").concat(n,", ").concat(r," }}")}}t.default=a},ChMm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2taM"),o={exports:{}},i=(n("eKI7"),n("KX9E"));!function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((n=i.a.exports)&&n.__esModule?n:{default:n}).default;t.default=r,e.exports=t.default}(o,o.exports);var a=Object(r.c)(o.exports)},CjN6:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=n("Aq9I"),a=n("IVxI");t.default=class{constructor(){(0,o.default)(this,"tokenGeneratorMap",void 0),this.tokenGeneratorMap=i.tokenGeneratorMap}generateToken(e,t){if(!e||0===Object.keys(e).length||!t)return a.logger.warn("Can't generate token",{contextData:{presentationType:t,presentationInfo:e}}),"";try{var n=this.tokenGeneratorMap.get(t);if(n){var r=n.getValidationErrors(e);if(r)throw new Error("There are validation errors for ".concat(t,": ").concat(r));return n.generateToken(e,t)}throw new Error("Invalid presentationType: ".concat(t))}catch(o){throw a.logger.error(o,{contextData:{presentationType:t,presentationInfo:e}}),new Error(o)}}}},D3zA:function(e,t,n){"use strict";var r=n("aI7X");e.exports=Function.prototype.bind||r},D79r:function(e,t,n){"use strict";var r=n("l8dO");!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"browser"},e.exports=t.default}(r.a,r.a.exports)},D7Ly:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"rawPrice",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},D9ef:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));n("CWyA");var r=n("ChMm"),o=n("tyoH");function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class c{constructor(e,t,n){if(!e||!t||!n)throw new Error("Parameters version, libraryName and appName are required, given: "+e+"/"+t+"/"+n);this.libraryName=t,this.sumoLogger=new r.a("https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1xIgc-SeJ99Es8Q-JdwHIjyPRHWa-sgqe4MtDs3MwJ_t3atmErfcFKguBc50QH7W8jcJy-AJrDSEo0LmYATdc4e1S0sPWf6y5E1TuRi028Dw==",1e4,e),this.appName=n}static getLogger(e,t,n){return new c(e,t,n)}error(e,t){var n=t?{error:JSON.stringify(t,Object.getOwnPropertyNames(t))}:{};this.localLog(e,n),this.sumoLogger.error(e,this.prepareContextData(n))}info(e){this.localLog(e),this.sumoLogger.info(e,this.prepareContextData())}warn(e){this.localLog(e),this.sumoLogger.warn(e,this.prepareContextData())}flushLogs(){return this.sumoLogger.flushLogs()}localLog(e,t){0}prepareContextData(e){return{contextData:s({},e,{libraryName:this.libraryName,appName:this.appName})}}}var u=e=>(t,n)=>{if(!(e=>"DatafileManager: Error fetching datafile: Request error"===e)(n)){var r=o.a.enums.LOG_LEVEL;switch(t){case r.INFO:case r.DEBUG:e.info(n);break;case r.WARNING:e.warn(n);break;case r.ERROR:e.error(n)}}},l={},d=function(){var e=a((function*(e){var t=yield e.onReady({timeout:600});if(!t.success)throw new Error("Initialization error: "+t.reason)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=a((function*(e,t,n){try{return o.a.setLogLevel("error"),o.a.setLogger({log:u(e)}),l[t]?(yield d(l[t]),{optimizelyClient:l[t],error:null}):(l[t]=o.a.createInstance({sdkKey:t||"9FP7UbgVrDnMwRHbjK2A3",datafile:n,datafileOptions:{autoUpdate:!0,urlTemplate:"https://exp-config.personalization.vpsvc.com/datafiles/%s.json",updateInterval:9e4},eventBatchSize:10,eventFlushInterval:3e3}),yield d(l[t]),{optimizelyClient:l[t],error:null})}catch(r){return{optimizelyClient:l[t],error:r}}}));return function(t,n,r){return e.apply(this,arguments)}}();class f{constructor(e,t,n){var{optimizelyClient:r,error:o}=e;this.logger=t,this.error=o,this.optimizelyClient=r,this.sdkKey=n}static getFeaturesClient(e,t,n){return a((function*(){t=t||"9FP7UbgVrDnMwRHbjK2A3";var r=yield p(e,t,n);return new f(r,e,t)}))()}isFeatureEnabled(e,t){if(!this.isInitialized())return this.logger.error("Inconsistent state after initialization",this.error),!1;var n=this.getContextOrDefault(t),r=this.optimizelyClient.isFeatureEnabled(e,n.userId);return n.overrides&&n.overrides[this.sdkKey]&&e in n.overrides[this.sdkKey]&&(r=n.overrides[this.sdkKey][e]),!!r}getEnabledFeatures(e){if(!this.isInitialized())return this.logger.error("Inconsistent state after initialization",this.error),[];var t=this.getContextOrDefault(e),n=this.optimizelyClient.getEnabledFeatures(t.userId);if(t.overrides&&t.overrides[this.sdkKey])for(var[r,o]of Object.entries(t.overrides[this.sdkKey])){var i=n.indexOf(r);!o&&i>=0?n.splice(i,1):o&&i<0&&n.push(r)}return n}isInitialized(){return!!this.optimizelyClient&&this.optimizelyClient.isValidInstance()}getContextOrDefault(e){return e&&e.userId?e:(this.logger.error("Decision method called without proper context"),{userId:"USER_ID_IS_MISSING"})}}}).call(this,n("KCCg"))},D9v1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},DAL7:function(e,t,n){"use strict";var r=w(n("KIAt")),o=w(n("Go7y")),i=w(n("0C9e")),a=w(n("WGpj")),s=w(n("SdNc")),c=w(n("ZeFV")),u=w(n("iF8a")),l=w(n("CKdD")),d=w(n("qVtc")),p=w(n("51PL")),f=w(n("yPEe")),h=w(n("GGwP")),m=w(n("o5rS")),g=w(n("nvGY")),v=w(n("CKfY")),y=w(n("U+bb"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}a.name,s.name,o.name,d.name,p.name,u.name,l.name,f.name,i.name,r.name,c.name,h.name,g.name,m.name,v.name,y.name},"DHq+":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy"),a=n("lLbw"),s=n("bkgO");function c(e,t,n,r,o,i,a){if(t&&n&&a){var s="https://purcs.design.vpsvc.com/api/v1/"+a+"/"+i+"/product/"+t+"/defaultViewImage"+"/?productVersion="+n+"&purpose=design.studio.review&previewInstructionsUri="+encodeURIComponent(r)+"&width="+e+"&requestor=homepageProjects";return o&&(s+="&optionSelections="+encodeURIComponent(JSON.stringify(o))),s}}var u=n("DGVI"),l=n("J8aS");n("ZDk0");var d=function(e){return o.a.createElement(i.Box,{className:"preview-image-outer-wrapper sparkles-three-five-preview-image"},o.a.createElement(i.Box,{className:"preview-image-inner-wrapper"},o.a.createElement(i.FluidImage,{src:e.src,srcSet:e.srcSet,alt:e.alt,className:"preview-image-thumbnail"})))},p=n("AU/X");n("Ua2A");function f(e){const t=Object(i.useScreenClass)(),{purcsTenant:n}=Object(a.b)(),r=Object(s.a)({default:6,sm:7,xs:7}),{sourcePagePath:f}=Object(u.b)(),h=Object(p.p)(f,e.editLink,e.mpvId,e.position),m="xs"===t||"sm"===t;return o.a.createElement(i.Box,{mb:5,className:"sparkles-three-five-project-tile"},o.a.createElement(i.Box,{backgroundColor:"light-grey",p:4},o.a.createElement(i.Box,Object.assign({component:"a",href:e.editLink,py:m?4:5,px:m?0:5,style:{display:"block"},onClick:Object(l.a)(h,e.editLink)},h.linkAttributes),o.a.createElement(d,{alt:e.productName,srcSet:c(200,e.productKey,e.productVersion,e.previewInstructions,e.merchandisingOptions,e.locale,n)+" 200w,\n                  "+c(305,e.productKey,e.productVersion,e.previewInstructions,e.merchandisingOptions,e.locale,n)+" 305w,\n                  "+c(1e3,e.productKey,e.productVersion,e.previewInstructions,e.merchandisingOptions,e.locale,n)+" 1000w"})),e.productName&&o.a.createElement(i.Typography,{textSize:r,mt:3,ml:1},o.a.createElement(i.Link,Object.assign({href:e.editLink,skin:"cta",onClick:Object(l.a)(h,e.editLink)},h.linkAttributes),e.productName))))}},DIeE:function(e,t,n){var r=n("eKC+"),o=n("eb+j"),i=o.setStyleProp,a=r.html,s=r.svg,c=r.isCustomAttribute,u=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n,r,l;e=e||{};var d={};for(t in e)r=e[t],c(t)?d[t]=r:(n=t.toLowerCase(),u.call(a,n)?d[(l=a[n]).propertyName]=!!(l.hasBooleanValue||l.hasOverloadedBooleanValue&&!r)||r:u.call(s,t)?d[(l=s[t]).propertyName]=r:o.PRESERVE_CUSTOM_ATTRIBUTES&&(d[t]=r));return i(e.style,d),d}},DUyU:function(e,t,n){"use strict";var r=n("euF4"),o=n("EE1o"),i=n("sMLe"),a=n("uZTx"),s=n("RJhP"),c=n("71xO"),u=n("zwAr"),l=n("Rmyw"),d=u.a,p=l.a.RegExp,f=d((function(){var e=p("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),h=f||d((function(){return!p("a","y").sticky})),m={BROKEN_CARET:f||d((function(){var e=p("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:h,UNSUPPORTED_Y:f},g=(n("ieMJ"),n("Y4wP")),v={},y=n("KpH6"),b=n("evWJ"),w=(n("m2Qd"),n("SRXV")),O=n("MZbR"),E=n("YAv+"),x=O.a,S=E.a,P=Object.keys||function(e){return x(e,S)},C=n("R/GJ"),T=y.a,_=b.a,k=C.a,I=g.a,M=w.a,j=P;v.f=T&&!_?Object.defineProperties:function(e,t){I(e);for(var n,r=M(t),o=j(t),i=o.length,a=0;i>a;)k.f(e,n=o[a++],r[n]);return e};var A,R=n("I1w3"),D=n("A+QX"),L=n("mlsq"),N=n("j+Od"),U=g.a,F=v,B=E.a,z=R.a,V=D.a,q=L.a,G=N.a,H=G("IE_PROTO"),W=function(){},K=function(e){return"<script>"+e+"<\/script>"},Q=function(e){e.write(K("")),e.close();var t=e.parentWindow.Object;return e=null,t},Y=function(){try{A=new ActiveXObject("htmlfile")}catch(r){}var e,t;Y="undefined"!=typeof document?document.domain&&A?Q(A):((t=q("iframe")).style.display="none",V.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(K("document.F=Object")),e.close(),e.F):Q(A);for(var n=B.length;n--;)delete Y.prototype[B[n]];return Y()};z[H]=!0;var Z,J,X=Object.create||function(e,t){var n;return null!==e?(W.prototype=U(e),n=new W,W.prototype=null,n[H]=e):n=Y(),void 0===t?n:F.f(n,t)},$=n("6K58"),ee=u.a,te=l.a.RegExp,ne=ee((function(){var e=te(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),re=u.a,oe=l.a.RegExp,ie=re((function(){var e=oe("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),ae=n("BEO/"),se=o.a,ce=i.a,ue=s.a,le=c.a,de=m,pe=ae.a.exports,fe=X,he=$.a.get,me=ne,ge=ie,ve=pe("native-string-replace",String.prototype.replace),ye=RegExp.prototype.exec,be=ye,we=ce("".charAt),Oe=ce("".indexOf),Ee=ce("".replace),xe=ce("".slice),Se=(J=/b*/g,se(ye,Z=/a/,"a"),se(ye,J,"a"),0!==Z.lastIndex||0!==J.lastIndex),Pe=de.BROKEN_CARET,Ce=void 0!==/()??/.exec("")[1];(Se||Ce||Pe||me||ge)&&(be=function(e){var t,n,r,o,i,a,s,c=this,u=he(c),l=ue(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=se(be,d,l),c.lastIndex=d.lastIndex,t;var p=u.groups,f=Pe&&c.sticky,h=se(le,c),m=c.source,g=0,v=l;if(f&&(h=Ee(h,"y",""),-1===Oe(h,"g")&&(h+="g"),v=xe(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==we(l,c.lastIndex-1))&&(m="(?: "+m+")",v=" "+v,g++),n=new RegExp("^(?:"+m+")",h)),Ce&&(n=new RegExp("^"+m+"$(?!\\s)",h)),Se&&(r=c.lastIndex),o=se(ye,f?n:c,v),f?o?(o.input=xe(o.input,g),o[0]=xe(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Se&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Ce&&o&&o.length>1&&se(ve,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=fe(null),i=0;i<p.length;i++)a[(s=p[i])[0]]=o[s[1]];return o});var Te=be;(0,a.a)({target:"RegExp",proto:!0,forced:/./.exec!==Te},{exec:Te});var _e=n("bhOv"),ke=n("JOlD"),Ie=n("4Wv+"),Me=i.a,je=_e.a,Ae=Te,Re=u.a,De=ke.a,Le=Ie.a,Ne=De("species"),Ue=RegExp.prototype,Fe=n("o/zE"),Be=n("pxEa"),ze=n("6kAd"),Ve=n("3MWB"),qe=i.a,Ge=Be.a,He=s.a,We=Ve.a,Ke=qe("".charAt),Qe=qe("".charCodeAt),Ye=qe("".slice),Ze=function(e){return function(t,n){var r,o,i=He(We(t)),a=Ge(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=Qe(i,a))<55296||r>56319||a+1===s||(o=Qe(i,a+1))<56320||o>57343?e?Ke(i,a):r:e?Ye(i,a,a+2):o-56320+(r-55296<<10)+65536}},Je={codeAt:Ze(!1),charAt:Ze(!0)}.charAt,Xe=n("tyWI"),$e=n("qIYE"),et=i.a,tt=$e.a,nt=Math.floor,rt=et("".charAt),ot=et("".replace),it=et("".slice),at=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,st=/\$([$&'`]|\d{1,2})/g,ct=n("kdos"),ut=l.a,lt=o.a,dt=g.a,pt=Fe.a,ft=ct.a,ht=Te,mt=ut.TypeError,gt=r.a,vt=o.a,yt=i.a,bt=function(e,t,n,r){var o=De(e),i=!Re((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!Re((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Ne]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||n){var s=Me(/./[o]),c=t(o,""[e],(function(e,t,n,r,o){var a=Me(e),c=t.exec;return c===Ae||c===Ue.exec?i&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));je(String.prototype,e,c[0]),je(Ue,o,c[1])}r&&Le(Ue[o],"sham",!0)},wt=u.a,Ot=g.a,Et=Fe.a,xt=Be.a,St=ze.a,Pt=s.a,Ct=Ve.a,Tt=function(e,t,n){return t+(n?Je(e,t).length:1)},_t=Xe.a,kt=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,c=st;return void 0!==o&&(o=tt(o),c=at),ot(i,c,(function(i,c){var u;switch(rt(c,0)){case"$":return"$";case"&":return e;case"`":return it(t,0,n);case"'":return it(t,a);case"<":u=o[it(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var d=nt(l/10);return 0===d?i:d<=s?void 0===r[d-1]?rt(c,1):r[d-1]+rt(c,1):i}u=r[l-1]}return void 0===u?"":u}))},It=function(e,t){var n=e.exec;if(pt(n)){var r=lt(n,e,t);return null!==r&&dt(r),r}if("RegExp"===ft(e))return lt(ht,e,t);throw mt("RegExp#exec called on incompatible receiver")},Mt=(0,ke.a)("replace"),jt=Math.max,At=Math.min,Rt=yt([].concat),Dt=yt([].push),Lt=yt("".indexOf),Nt=yt("".slice),Ut="$0"==="a".replace(/./,"$0"),Ft=!!/./[Mt]&&""===/./[Mt]("a","$0");bt("replace",(function(e,t,n){var r=Ft?"$":"$0";return[function(e,n){var r=Ct(this),o=null==e?void 0:_t(e,Mt);return o?vt(o,e,r,n):vt(t,Pt(r),e,n)},function(e,o){var i=Ot(this),a=Pt(e);if("string"==typeof o&&-1===Lt(o,r)&&-1===Lt(o,"$<")){var s=n(t,i,a,o);if(s.done)return s.value}var c=Et(o);c||(o=Pt(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var d=[];;){var p=It(i,a);if(null===p)break;if(Dt(d,p),!u)break;""===Pt(p[0])&&(i.lastIndex=Tt(a,St(i.lastIndex),l))}for(var f,h="",m=0,g=0;g<d.length;g++){for(var v=Pt((p=d[g])[0]),y=jt(At(xt(p.index),a.length),0),b=[],w=1;w<p.length;w++)Dt(b,void 0===(f=p[w])?f:String(f));var O=p.groups;if(c){var E=Rt([v],b,y,a);void 0!==O&&Dt(E,O);var x=Pt(gt(o,void 0,E))}else x=kt(v,a,y,b,O,o);y>=m&&(h+=Nt(a,m,y)+x,m=y+v.length)}return h+Nt(a,m)}]}),!!wt((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!Ut||Ft)},DsvF:function(e,t,n){"use strict";n.d(t,"a",(function(){return PK}));var r={};n.r(r),n.d(r,"default",(function(){return ue}));var o={};n.r(o),n.d(o,"v1",(function(){return ir})),n.d(o,"v3",(function(){return fn})),n.d(o,"v4",(function(){return gn})),n.d(o,"v5",(function(){return bn})),n.d(o,"NIL",(function(){return ar})),n.d(o,"version",(function(){return sr})),n.d(o,"validate",(function(){return Xt})),n.d(o,"stringify",(function(){return tn})),n.d(o,"parse",(function(){return nn}));var a={};n.r(a),n.d(a,"getCurrentTenant",(function(){return gr})),n.d(a,"getCurrentTenantOrDefault",(function(){return mr})),n.d(a,"getCurrentDomain",(function(){return wr})),n.d(a,"getRootCookieDomain",(function(){return Or}));var s={};n.r(s),n.d(s,"__assign",(function(){return $V})),n.d(s,"__asyncDelegator",(function(){return hq})),n.d(s,"__asyncGenerator",(function(){return fq})),n.d(s,"__asyncValues",(function(){return mq})),n.d(s,"__await",(function(){return pq})),n.d(s,"__awaiter",(function(){return oq})),n.d(s,"__classPrivateFieldGet",(function(){return bq})),n.d(s,"__classPrivateFieldSet",(function(){return wq})),n.d(s,"__createBinding",(function(){return aq})),n.d(s,"__decorate",(function(){return tq})),n.d(s,"__exportStar",(function(){return sq})),n.d(s,"__extends",(function(){return XV})),n.d(s,"__generator",(function(){return iq})),n.d(s,"__importDefault",(function(){return yq})),n.d(s,"__importStar",(function(){return vq})),n.d(s,"__makeTemplateObject",(function(){return gq})),n.d(s,"__metadata",(function(){return rq})),n.d(s,"__param",(function(){return nq})),n.d(s,"__read",(function(){return uq})),n.d(s,"__rest",(function(){return eq})),n.d(s,"__spread",(function(){return lq})),n.d(s,"__spreadArrays",(function(){return dq})),n.d(s,"__values",(function(){return cq}));var c={};n.r(c),n.d(c,"getCurrentCulture",(function(){return cH})),n.d(c,"getCurrentCountry",(function(){return Rr}));var u=n("Nz9T"),l=n.n(u),d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function m(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(oA){i=[6,oA],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function O(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(oA){l(i[0][3],oA)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}var x=n("BCrQ"),S=n.n(x);function P(){var e=new S.a.WebAuth,t=Object(u.useState)(e.getIdentity()),n=t[0],r=t[1];return Object(u.useEffect)((function(){var e=function(e){return r(e.detail)};return window.addEventListener("userIdentity",e),function(){window.removeEventListener("userIdentity",e)}})),n}S.a.WebAuth;var C=n("5tnp"),T="undefined"!=typeof Symbol&&Symbol,_=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},k="Function.prototype.bind called on incompatible ",I=Array.prototype.slice,M=Object.prototype.toString,j=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==M.call(t))throw new TypeError(k+t);for(var n,r=I.call(arguments,1),o=function(){if(this instanceof n){var o=t.apply(this,r.concat(I.call(arguments)));return Object(o)===o?o:this}return t.apply(e,r.concat(I.call(arguments)))},i=Math.max(0,t.length-r.length),a=[],s=0;s<i;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n},A=Function.prototype.bind||j,R=A.call(Function.call,Object.prototype.hasOwnProperty),D=SyntaxError,L=Function,N=TypeError,U=function(e){try{return L('"use strict"; return ('+e+").constructor;")()}catch(oA){}},F=Object.getOwnPropertyDescriptor;if(F)try{F({},"")}catch(oA){F=null}var B=function(){throw new N},z=F?function(){try{return B}catch(e){try{return F(arguments,"callee").get}catch(t){return B}}}():B,V="function"==typeof T&&"function"==typeof Symbol&&"symbol"==typeof T("foo")&&"symbol"==typeof Symbol("bar")&&_(),q=Object.getPrototypeOf||function(e){return e.__proto__},G={},H="undefined"==typeof Uint8Array?void 0:q(Uint8Array),W={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":V?q([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":G,"%AsyncGenerator%":G,"%AsyncGeneratorFunction%":G,"%AsyncIteratorPrototype%":G,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":L,"%GeneratorFunction%":G,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V?q(q([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&V?q((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&V?q((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V?q(""[Symbol.iterator]()):void 0,"%Symbol%":V?Symbol:void 0,"%SyntaxError%":D,"%ThrowTypeError%":z,"%TypedArray%":H,"%TypeError%":N,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},K={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q=A,Y=R,Z=Q.call(Function.call,Array.prototype.concat),J=Q.call(Function.apply,Array.prototype.splice),X=Q.call(Function.call,String.prototype.replace),$=Q.call(Function.call,String.prototype.slice),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,te=/\\(\\)?/g,ne=function(e){var t=$(e,0,1),n=$(e,-1);if("%"===t&&"%"!==n)throw new D("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new D("invalid intrinsic syntax, expected opening `%`");var r=[];return X(e,ee,(function(e,t,n,o){r[r.length]=n?X(o,te,"$1"):t||e})),r},re=function(e,t){var n,r=e;if(Y(K,r)&&(r="%"+(n=K[r])[0]+"%"),Y(W,r)){var o=W[r];if(o===G&&(o=function e(t){var n;if("%AsyncFunction%"===t)n=U("async function () {}");else if("%GeneratorFunction%"===t)n=U("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=U("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=q(o.prototype))}return W[t]=n,n}(r)),void 0===o&&!t)throw new N("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new D("intrinsic "+e+" does not exist!")},oe=function(e,t){if("string"!=typeof e||0===e.length)throw new N("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new N('"allowMissing" argument must be a boolean');var n=ne(e),r=n.length>0?n[0]:"",o=re("%"+r+"%",t),i=o.name,a=o.value,s=!1,c=o.alias;c&&(r=c[0],J(n,Z([0,1],c)));for(var u=1,l=!0;u<n.length;u+=1){var d=n[u],p=$(d,0,1),f=$(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new D("property names with quotes must have matching quotes");if("constructor"!==d&&l||(s=!0),Y(W,i="%"+(r+="."+d)+"%"))a=W[i];else if(null!=a){if(!(d in a)){if(!t)throw new N("base intrinsic for "+e+" exists, but the property is not available.");return}if(F&&u+1>=n.length){var h=F(a,d);a=(l=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else l=Y(a,d),a=a[d];l&&!s&&(W[i]=a)}}return a},ie={exports:{}};!function(e){var t=A,n=oe,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(oA){s=null}e.exports=function(e){var n=i(t,o,arguments);if(a&&s){var r=a(n,"length");r.configurable&&s(n,"length",{value:1+c(0,e.length-(arguments.length-1))})}return n};var u=function(){return i(t,r,arguments)};s?s(e.exports,"apply",{value:u}):e.exports.apply=u}(ie);var ae=oe,se=ie.exports,ce=se(ae("String.prototype.indexOf")),ue={},le=n("2taM"),de=Object(le.b)(r),pe="function"==typeof Map&&Map.prototype,fe=Object.getOwnPropertyDescriptor&&pe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,he=pe&&fe&&"function"==typeof fe.get?fe.get:null,me=pe&&Map.prototype.forEach,ge="function"==typeof Set&&Set.prototype,ve=Object.getOwnPropertyDescriptor&&ge?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ye=ge&&ve&&"function"==typeof ve.get?ve.get:null,be=ge&&Set.prototype.forEach,we="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Oe="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Ee="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,xe=Boolean.prototype.valueOf,Se=Object.prototype.toString,Pe=Function.prototype.toString,Ce=String.prototype.match,Te=String.prototype.slice,_e=String.prototype.replace,ke=String.prototype.toUpperCase,Ie=String.prototype.toLowerCase,Me=RegExp.prototype.test,je=Array.prototype.concat,Ae=Array.prototype.join,Re=Array.prototype.slice,De=Math.floor,Le="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ne=Object.getOwnPropertySymbols,Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Fe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fe||"symbol")?Symbol.toStringTag:null,ze=Object.prototype.propertyIsEnumerable,Ve=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function qe(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||Me.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-De(-e):De(e);if(r!==e){var o=String(r),i=Te.call(t,o.length+1);return _e.call(o,n,"$&_")+"."+_e.call(_e.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _e.call(t,n,"$&_")}var Ge=de.custom,He=Ge&&Ye(Ge)?Ge:null;function We(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function Ke(e){return _e.call(String(e),/"/g,"&quot;")}function Qe(e){return!("[object Array]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}function Ye(e){if(Fe)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!Ue)return!1;try{return Ue.call(e),!0}catch(oA){}return!1}var Ze=Object.prototype.hasOwnProperty||function(e){return e in this};function Je(e,t){return Ze.call(e,t)}function Xe(e){return Se.call(e)}function $e(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function et(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+ke.call(t.toString(16))}function tt(e){return"Object("+e+")"}function nt(e){return e+" { ? }"}function rt(e,t,n,r){return e+" ("+t+") {"+(r?ot(n,r):Ae.call(n,", "))+"}"}function ot(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Ae.call(e,","+n)+"\n"+t.prev}function it(e,t){var n=Qe(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Je(e,o)?t(e[o],e):""}var i,a="function"==typeof Ne?Ne(e):[];if(Fe){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)Je(e,c)&&(n&&String(Number(c))===c&&c<e.length||Fe&&i["$"+c]instanceof Symbol||(Me.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof Ne)for(var u=0;u<a.length;u++)ze.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}var at=oe,st=function(e,t){var n=ae(e,!!t);return"function"==typeof n&&ce(e,".prototype.")>-1?se(n):n},ct=function e(t,n,r,o){var i=n||{};if(Je(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Je(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(Te.call(t,0,n.maxStringLength),n)+o}return We(_e.call(_e.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,et),"single",n)}(t,i);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var c=String(t);return s?qe(t,c):c}if("bigint"==typeof t){var u=String(t)+"n";return s?qe(t,u):u}var l=void 0===i.depth?5:i.depth;if(void 0===r&&(r=0),r>=l&&l>0&&"object"==typeof t)return Qe(t)?"[Array]":"[Object]";var d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Ae.call(Array(e.indent+1)," ")}return{base:n,prev:Ae.call(Array(t+1),n)}}(i,r);if(void 0===o)o=[];else if($e(o,t)>=0)return"[Circular]";function p(t,n,a){if(n&&(o=Re.call(o)).push(n),a){var s={depth:i.depth};return Je(i,"quoteStyle")&&(s.quoteStyle=i.quoteStyle),e(t,s,r+1,o)}return e(t,i,r+1,o)}if("function"==typeof t){var f=function(e){if(e.name)return e.name;var t=Ce.call(Pe.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),h=it(t,p);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(h.length>0?" { "+Ae.call(h,", ")+" }":"")}if(Ye(t)){var m=Fe?_e.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ue.call(t);return"object"!=typeof t||Fe?m:tt(m)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var g="<"+Ie.call(String(t.nodeName)),v=t.attributes||[],y=0;y<v.length;y++)g+=" "+v[y].name+"="+We(Ke(v[y].value),"double",i);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+Ie.call(String(t.nodeName))+">"}if(Qe(t)){if(0===t.length)return"[]";var b=it(t,p);return d&&!function(e){for(var t=0;t<e.length;t++)if($e(e[t],"\n")>=0)return!1;return!0}(b)?"["+ot(b,d)+"]":"[ "+Ae.call(b,", ")+" ]"}if(function(e){return!("[object Error]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t)){var w=it(t,p);return"cause"in t&&!ze.call(t,"cause")?"{ ["+String(t)+"] "+Ae.call(je.call("[cause]: "+p(t.cause),w),", ")+" }":0===w.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Ae.call(w,", ")+" }"}if("object"==typeof t&&a){if(He&&"function"==typeof t[He])return t[He]();if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!he||!e||"object"!=typeof e)return!1;try{he.call(e);try{ye.call(e)}catch(g){return!0}return e instanceof Map}catch(oA){}return!1}(t)){var O=[];return me.call(t,(function(e,n){O.push(p(n,t,!0)+" => "+p(e,t))})),rt("Map",he.call(t),O,d)}if(function(e){if(!ye||!e||"object"!=typeof e)return!1;try{ye.call(e);try{he.call(e)}catch(t){return!0}return e instanceof Set}catch(oA){}return!1}(t)){var E=[];return be.call(t,(function(e){E.push(p(e,t))})),rt("Set",ye.call(t),E,d)}if(function(e){if(!we||!e||"object"!=typeof e)return!1;try{we.call(e,we);try{Oe.call(e,Oe)}catch(g){return!0}return e instanceof WeakMap}catch(oA){}return!1}(t))return nt("WeakMap");if(function(e){if(!Oe||!e||"object"!=typeof e)return!1;try{Oe.call(e,Oe);try{we.call(e,we)}catch(g){return!0}return e instanceof WeakSet}catch(oA){}return!1}(t))return nt("WeakSet");if(function(e){if(!Ee||!e||"object"!=typeof e)return!1;try{return Ee.call(e),!0}catch(oA){}return!1}(t))return nt("WeakRef");if(function(e){return!("[object Number]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t))return tt(p(Number(t)));if(function(e){if(!e||"object"!=typeof e||!Le)return!1;try{return Le.call(e),!0}catch(oA){}return!1}(t))return tt(p(Le.call(t)));if(function(e){return!("[object Boolean]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t))return tt(xe.call(t));if(function(e){return!("[object String]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t))return tt(p(String(t)));if(!function(e){return!("[object Date]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t)&&!function(e){return!("[object RegExp]"!==Xe(e)||Be&&"object"==typeof e&&Be in e)}(t)){var x=it(t,p),S=Ve?Ve(t)===Object.prototype:t instanceof Object||t.constructor===Object,P=t instanceof Object?"":"null prototype",C=!S&&Be&&Object(t)===t&&Be in t?Te.call(Xe(t),8,-1):P?"Object":"",T=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(C||P?"["+Ae.call(je.call([],C||[],P||[]),": ")+"] ":"");return 0===x.length?T+"{}":d?T+"{"+ot(x,d)+"}":T+"{ "+Ae.call(x,", ")+" }"}return String(t)},ut=at("%TypeError%"),lt=at("%WeakMap%",!0),dt=at("%Map%",!0),pt=st("WeakMap.prototype.get",!0),ft=st("WeakMap.prototype.set",!0),ht=st("WeakMap.prototype.has",!0),mt=st("Map.prototype.get",!0),gt=st("Map.prototype.set",!0),vt=st("Map.prototype.has",!0),yt=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},bt=(n("E9XD"),String.prototype.replace),wt=/%20/g,Ot="RFC3986",Et={default:Ot,formatters:{RFC1738:function(e){return bt.call(e,wt,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Ot},xt=Et,St=Object.prototype.hasOwnProperty,Pt=Array.isArray,Ct=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Tt=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},_t={arrayToObject:Tt,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Pt(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(oA){return r}},encode:function(e,t,n,r,o){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<i.length;++s){var c=i.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===xt.RFC1738&&(40===c||41===c)?a+=i.charAt(s):c<128?a+=Ct[c]:c<2048?a+=Ct[192|c>>6]+Ct[128|63&c]:c<55296||c>=57344?a+=Ct[224|c>>12]+Ct[128|c>>6&63]+Ct[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&i.charCodeAt(s)),a+=Ct[240|c>>18]+Ct[128|c>>12&63]+Ct[128|c>>6&63]+Ct[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Pt(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Pt(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!St.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return Pt(t)&&!Pt(n)&&(o=Tt(t,r)),Pt(t)&&Pt(n)?(n.forEach((function(n,o){if(St.call(t,o)){var i=t[o];i&&"object"==typeof i&&n&&"object"==typeof n?t[o]=e(i,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var i=n[o];return St.call(t,o)?t[o]=e(t[o],i,r):t[o]=i,t}),o)}},kt=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new ut("Side channel does not contain "+ct(e))},get:function(r){if(lt&&r&&("object"==typeof r||"function"==typeof r)){if(e)return pt(e,r)}else if(dt){if(t)return mt(t,r)}else if(n)return function(e,t){var n=yt(e,t);return n&&n.value}(n,r)},has:function(r){if(lt&&r&&("object"==typeof r||"function"==typeof r)){if(e)return ht(e,r)}else if(dt){if(t)return vt(t,r)}else if(n)return function(e,t){return!!yt(e,t)}(n,r);return!1},set:function(r,o){lt&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new lt),ft(e,r,o)):dt?(t||(t=new dt),gt(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=yt(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r},It=_t,Mt=Et,jt=Object.prototype.hasOwnProperty,At={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Rt=Array.isArray,Dt=String.prototype.split,Lt=Array.prototype.push,Nt=function(e,t){Lt.apply(e,Rt(t)?t:[t])},Ut=Date.prototype.toISOString,Ft=Mt.default,Bt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:It.encode,encodeValuesOnly:!1,format:Ft,formatter:Mt.formatters[Ft],indices:!1,serializeDate:function(e){return Ut.call(e)},skipNulls:!1,strictNullHandling:!1},zt={},Vt=function e(t,n,r,o,i,a,s,c,u,l,d,p,f,h,m){for(var g,v=t,y=m,b=0,w=!1;void 0!==(y=y.get(zt))&&!w;){var O=y.get(t);if(b+=1,void 0!==O){if(O===b)throw new RangeError("Cyclic object value");w=!0}void 0===y.get(zt)&&(b=0)}if("function"==typeof s?v=s(n,v):v instanceof Date?v=l(v):"comma"===r&&Rt(v)&&(v=It.maybeMap(v,(function(e){return e instanceof Date?l(e):e}))),null===v){if(o)return a&&!f?a(n,Bt.encoder,h,"key",d):n;v=""}if("string"==typeof(g=v)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||It.isBuffer(v)){if(a){var E=f?n:a(n,Bt.encoder,h,"key",d);if("comma"===r&&f){for(var x=Dt.call(String(v),","),S="",P=0;P<x.length;++P)S+=(0===P?"":",")+p(a(x[P],Bt.encoder,h,"value",d));return[p(E)+"="+S]}return[p(E)+"="+p(a(v,Bt.encoder,h,"value",d))]}return[p(n)+"="+p(String(v))]}var C,T=[];if(void 0===v)return T;if("comma"===r&&Rt(v))C=[{value:v.length>0?v.join(",")||null:void 0}];else if(Rt(s))C=s;else{var _=Object.keys(v);C=c?_.sort(c):_}for(var k=0;k<C.length;++k){var I=C[k],M="object"==typeof I&&void 0!==I.value?I.value:v[I];if(!i||null!==M){var j=Rt(v)?"function"==typeof r?r(n,I):n:n+(u?"."+I:"["+I+"]");m.set(t,b);var A=kt();A.set(zt,m),Nt(T,e(M,j,r,o,i,a,s,c,u,l,d,p,f,h,A))}}return T},qt=_t,Gt=Object.prototype.hasOwnProperty,Ht=Array.isArray,Wt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:qt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Kt=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Qt=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Yt=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),s=a?o.slice(0,a.index):o,c=[];if(s){if(!n.plainObjects&&Gt.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;n.depth>0&&null!==(a=i.exec(o))&&u<n.depth;){if(u+=1,!n.plainObjects&&Gt.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),function(e,t,n,r){for(var o=r?t:Qt(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(c,t,n,r)}},Zt={formats:Et,parse:function(e,t){var n=function(e){if(!e)return Wt;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Wt.charset:e.charset;return{allowDots:void 0===e.allowDots?Wt.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Wt.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Wt.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Wt.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Wt.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Wt.comma,decoder:"function"==typeof e.decoder?e.decoder:Wt.decoder,delimiter:"string"==typeof e.delimiter||qt.isRegExp(e.delimiter)?e.delimiter:Wt.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Wt.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Wt.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Wt.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Wt.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Wt.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=o.split(t.delimiter,i),s=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?c="utf-8":"utf8=%26%2310003%3B"===a[n]&&(c="iso-8859-1"),s=n,n=a.length);for(n=0;n<a.length;++n)if(n!==s){var u,l,d=a[n],p=d.indexOf("]="),f=-1===p?d.indexOf("="):p+1;-1===f?(u=t.decoder(d,Wt.decoder,c,"key"),l=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),Wt.decoder,c,"key"),l=qt.maybeMap(Qt(d.slice(f+1),t),(function(e){return t.decoder(e,Wt.decoder,c,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===c&&(l=Kt(l)),d.indexOf("[]=")>-1&&(l=Ht(l)?[l]:l),Gt.call(r,u)?r[u]=qt.combine(r[u],l):r[u]=l}return r}(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var s=i[a],c=Yt(s,r[s],n,"string"==typeof e);o=qt.merge(o,c,n)}return!0===n.allowSparse?o:qt.compact(o)},stringify:function(e,t){var n,r=e,o=function(e){if(!e)return Bt;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Bt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Mt.default;if(void 0!==e.format){if(!jt.call(Mt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Mt.formatters[n],o=Bt.filter;return("function"==typeof e.filter||Rt(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Bt.addQueryPrefix,allowDots:void 0===e.allowDots?Bt.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Bt.charsetSentinel,delimiter:void 0===e.delimiter?Bt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Bt.encode,encoder:"function"==typeof e.encoder?e.encoder:Bt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Bt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Bt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Bt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Bt.strictNullHandling}}(t);"function"==typeof o.filter?r=(0,o.filter)("",r):Rt(o.filter)&&(n=o.filter);var i,a=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in At?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=At[i];n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);for(var c=kt(),u=0;u<n.length;++u){var l=n[u];o.skipNulls&&null===r[l]||Nt(a,Vt(r[l],l,s,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,c))}var d=a.join(o.delimiter),p=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""}},Jt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xt(e){return"string"==typeof e&&Jt.test(e)}for(var $t=[],en=0;en<256;++en)$t.push((en+256).toString(16).substr(1));function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($t[e[t+0]]+$t[e[t+1]]+$t[e[t+2]]+$t[e[t+3]]+"-"+$t[e[t+4]]+$t[e[t+5]]+"-"+$t[e[t+6]]+$t[e[t+7]]+"-"+$t[e[t+8]]+$t[e[t+9]]+"-"+$t[e[t+10]]+$t[e[t+11]]+$t[e[t+12]]+$t[e[t+13]]+$t[e[t+14]]+$t[e[t+15]]).toLowerCase();if(!Xt(n))throw TypeError("Stringified UUID is invalid");return n}function nn(e){if(!Xt(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function rn(e,t,n){function r(e,r,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=nn(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var s=0;s<16;++s)o[i+s]=a[s];return o}return tn(a)}try{r.name=e}catch(o){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function on(e){return 14+(e+64>>>9<<4)+1}function an(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function sn(e,t,n,r,o,i){return an((a=an(an(t,e),an(r,i)))<<(s=o)|a>>>32-s,n);var a,s}function cn(e,t,n,r,o,i,a){return sn(t&n|~t&r,e,t,o,i,a)}function un(e,t,n,r,o,i,a){return sn(t&r|n&~r,e,t,o,i,a)}function ln(e,t,n,r,o,i,a){return sn(t^n^r,e,t,o,i,a)}function dn(e,t,n,r,o,i,a){return sn(n^(t|~r),e,t,o,i,a)}var pn,fn=rn("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,i=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[on(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=n,c=r,u=o,l=i;n=cn(n,r,o,i,e[a],7,-680876936),i=cn(i,n,r,o,e[a+1],12,-389564586),o=cn(o,i,n,r,e[a+2],17,606105819),r=cn(r,o,i,n,e[a+3],22,-1044525330),n=cn(n,r,o,i,e[a+4],7,-176418897),i=cn(i,n,r,o,e[a+5],12,1200080426),o=cn(o,i,n,r,e[a+6],17,-1473231341),r=cn(r,o,i,n,e[a+7],22,-45705983),n=cn(n,r,o,i,e[a+8],7,1770035416),i=cn(i,n,r,o,e[a+9],12,-1958414417),o=cn(o,i,n,r,e[a+10],17,-42063),r=cn(r,o,i,n,e[a+11],22,-1990404162),n=cn(n,r,o,i,e[a+12],7,1804603682),i=cn(i,n,r,o,e[a+13],12,-40341101),o=cn(o,i,n,r,e[a+14],17,-1502002290),r=cn(r,o,i,n,e[a+15],22,1236535329),n=un(n,r,o,i,e[a+1],5,-165796510),i=un(i,n,r,o,e[a+6],9,-1069501632),o=un(o,i,n,r,e[a+11],14,643717713),r=un(r,o,i,n,e[a],20,-373897302),n=un(n,r,o,i,e[a+5],5,-701558691),i=un(i,n,r,o,e[a+10],9,38016083),o=un(o,i,n,r,e[a+15],14,-660478335),r=un(r,o,i,n,e[a+4],20,-405537848),n=un(n,r,o,i,e[a+9],5,568446438),i=un(i,n,r,o,e[a+14],9,-1019803690),o=un(o,i,n,r,e[a+3],14,-187363961),r=un(r,o,i,n,e[a+8],20,1163531501),n=un(n,r,o,i,e[a+13],5,-1444681467),i=un(i,n,r,o,e[a+2],9,-51403784),o=un(o,i,n,r,e[a+7],14,1735328473),r=un(r,o,i,n,e[a+12],20,-1926607734),n=ln(n,r,o,i,e[a+5],4,-378558),i=ln(i,n,r,o,e[a+8],11,-2022574463),o=ln(o,i,n,r,e[a+11],16,1839030562),r=ln(r,o,i,n,e[a+14],23,-35309556),n=ln(n,r,o,i,e[a+1],4,-1530992060),i=ln(i,n,r,o,e[a+4],11,1272893353),o=ln(o,i,n,r,e[a+7],16,-155497632),r=ln(r,o,i,n,e[a+10],23,-1094730640),n=ln(n,r,o,i,e[a+13],4,681279174),i=ln(i,n,r,o,e[a],11,-358537222),o=ln(o,i,n,r,e[a+3],16,-722521979),r=ln(r,o,i,n,e[a+6],23,76029189),n=ln(n,r,o,i,e[a+9],4,-640364487),i=ln(i,n,r,o,e[a+12],11,-421815835),o=ln(o,i,n,r,e[a+15],16,530742520),r=ln(r,o,i,n,e[a+2],23,-995338651),n=dn(n,r,o,i,e[a],6,-198630844),i=dn(i,n,r,o,e[a+7],10,1126891415),o=dn(o,i,n,r,e[a+14],15,-1416354905),r=dn(r,o,i,n,e[a+5],21,-57434055),n=dn(n,r,o,i,e[a+12],6,1700485571),i=dn(i,n,r,o,e[a+3],10,-1894986606),o=dn(o,i,n,r,e[a+10],15,-1051523),r=dn(r,o,i,n,e[a+1],21,-2054922799),n=dn(n,r,o,i,e[a+8],6,1873313359),i=dn(i,n,r,o,e[a+15],10,-30611744),o=dn(o,i,n,r,e[a+6],15,-1560198380),r=dn(r,o,i,n,e[a+13],21,1309151649),n=dn(n,r,o,i,e[a+4],6,-145523070),i=dn(i,n,r,o,e[a+11],10,-1120210379),o=dn(o,i,n,r,e[a+2],15,718787259),r=dn(r,o,i,n,e[a+9],21,-343485551),n=an(n,s),r=an(r,c),o=an(o,u),i=an(i,l)}return[n,r,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(on(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),hn=new Uint8Array(16);function mn(){if(!pn&&!(pn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pn(hn)}function gn(e,t,n){var r=(e=e||{}).random||(e.rng||mn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return tn(r)}function vn(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function yn(e,t){return e<<t|e>>>32-t}var bn=rn("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[d][f];for(var h=16;h<80;++h)p[h]=yn(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],w=0;w<80;++w){var O=Math.floor(w/20),E=yn(m,5)+vn(O,g,v,y)+b+t[O]+p[w]>>>0;b=y,y=v,v=yn(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));class wn extends Error{constructor(e,t,n,r){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,wn),this.name="PoeError",this.isPoeError=!0,this.message=e,this.status=t,this.correlationId=n,this.selector=r}}const On=e=>(e=>e.isPoeError)(e)?e:void 0,En=(e,t,n,r,o,i,a,s,c,u,l,d,p)=>{const f={selector:e,customerId:t,requestor:a,documentUrl:d,productId:s,albelliDocId:c,uploadId:u,brandId:l,imageWidth:p||500,pricingContext:o,userTestId:n,customerConsent:r,timeZone:i};return"".concat("https://placement-offer-engine.personalization.vpsvc.com/api/v7/placements","?").concat(Zt.stringify(f,{sort:Cn}))},xn=(e,t,n,r)=>void 0!==r?"/".concat(e,"/").concat(t,"/").concat(n,"/").concat(r):"/".concat(e,"/").concat(t,"/").concat(n),Sn=(e,t,n,r)=>m(void 0,void 0,void 0,(function*(){const o=n||Pn(),i={"x-correlation-id":o};r&&(i.Authorization="Bearer ".concat(r));const a=yield fetch(e,{headers:i});if(!a.ok)throw new wn(yield Tn(a),a.status,o,t);return Object.assign(Object.assign({},yield a.json()),{correlationId:o})})),Pn=()=>{try{return gn()}catch(oA){return Math.random().toString(36)}},Cn=(e,t)=>e.localeCompare(t),Tn=e=>m(void 0,void 0,void 0,(function*(){if("function"==typeof e.text){const t=yield e.text();if(t)return t}return e.statusText}));var _n,kn,In,Mn,jn,An;!function(e){e.Grid="grid",e.Carousel="carousel"}(_n||(_n={})),function(e){e.AddToCart="AddToCart",e.EditInCrossSellStudio="EditInCrossSellStudio",e.EditInMiniStudio="EditInMiniStudio",e.GoToProductPage="GoToProductPage",e.GoToGallery="GoToGallery"}(kn||(kn={})),function(e){e.Image="Image",e.DocumentMatching="DocumentMatching",e.NonDesignable="NonDesignable"}(In||(In={})),function(e){e.Grid="grid",e.Carousel="carousel"}(Mn||(Mn={})),function(e){e.AddToCart="AddToCart",e.EditInStudio="EditInStudio",e.EditInPage="EditInPage",e.GoToGallery="GoToGallery",e.GoToProductPage="GoToProductPage"}(jn||(jn={})),function(e){e.Image="Image",e.DocumentMatching="DocumentMatching",e.NonDesignable="NonDesignable"}(An||(An={}));const Rn=e=>e.offersGroups.reduce((e,t)=>e+t.offers.length,0),Dn=(e,t)=>t?e.taxed:e.untaxed;var Ln=n("ChMm"),Nn=n("oRON");function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fn=function(e,t){return{contextData:Un({},t,Bn(e))}},Bn=function(e){return Nn.a.isAxiosError(e)?zn(e):e instanceof Error?{errorName:e.name,errorMessage:e.message}:{errorMessage:e}},zn=function(e){return{errorName:e.name,errorMessage:e.message,errorContext:{request:{method:e.config.method,url:e.config.url,data:e.config.data},response:e.response&&{status:e.response.status,data:e.response.data}}}};const Vn=new Ln.a("https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV0KdvpQhltScn2-0o6-a9jSY9lF7JfuCtxoW0ZKqO_KB-0110x8jinTW7D08mN_G-IDokyTTogx4za3L3ynT5x7Xz1N9iGeySqFd3hODwENwg==",3e3),qn=(e,t)=>{Vn.warn(e,Fn(null==t?void 0:t.error,null==t?void 0:t.contextData))},Gn=(e,t)=>{Vn.error(e,Fn(null==t?void 0:t.error,null==t?void 0:t.contextData))};var Hn;!function(e){e[e.LevelInfo=0]="LevelInfo",e[e.LevelWarn=1]="LevelWarn",e[e.LevelError=2]="LevelError"}(Hn||(Hn={}));const Wn=(e,t,n)=>{switch(e){case Hn.LevelInfo:((e,t)=>{Vn.info(e,Fn(null==t?void 0:t.error,null==t?void 0:t.contextData))})(t,n);break;case Hn.LevelWarn:qn(t,n);break;case Hn.LevelError:Gn(t,n);break;default:qn("Unsupported log level: ".concat(e))}};class Kn{constructor(e){this.isPPAGTShirt=()=>this.hasCategory("LOB-PPAGClothingandBags-Clothing-T-shirts"),this.isPPAGPolo=()=>this.hasCategory("LOB-PPAGClothingandBags-Clothing-Polos"),this.isPPAGSweater=()=>this.hasCategory("LOB-PPAGClothingandBags-Clothing-Sweaters"),this.isPPAGTOuterwear=()=>this.hasCategory("LOB-PPAGClothingandBags-Clothing-Outerwear"),this.hasCategory=e=>this.key===e,this.key=e}isPPAGClothingCategory(){return this.isPPAGTShirt()||this.isPPAGPolo()||this.isPPAGSweater()||this.isPPAGTOuterwear()}}var Qn,Yn,Zn={},Jn=le.a&&le.a.__assign||function(){return(Jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Xn(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function $n(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return Xn("Expires",e.expires?e.expires.toUTCString():"")+Xn("Domain",e.domain)+Xn("Path",e.path)+Xn("Secure",e.secure)+Xn("SameSite",e.sameSite)}(n)}function er(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[i[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(oA){}}return t}function tr(){return er(document.cookie)}function nr(e,t,n){document.cookie=$n(e,t,Jn({path:"/"},n))}Zn.__esModule=!0,Zn.encode=$n,Zn.parse=er,Zn.getAll=tr,Zn.get=function(e){return tr()[e]},Zn.set=nr,Zn.remove=function(e,t){nr(e,"",Jn(Jn({},t),{expires:-1}))};var rr=0,or=0;function ir(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||Qn,a=void 0!==e.clockseq?e.clockseq:Yn;if(null==i||null==a){var s=e.random||(e.rng||mn)();null==i&&(i=Qn=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Yn=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:or+1,l=c-rr+(u-or)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||c>rr)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rr=c,or=u,Yn=a;var d=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var p=c/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var f=0;f<6;++f)o[r+f]=i[f];return t||tn(o)}var ar="00000000-0000-0000-0000-000000000000";function sr(e){if(!Xt(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var cr=Object(le.b)(o),ur=function(){var e=window&&window.location&&window.location.hostname;if(!e||0===e.length)throw new Error("Hostname could not be determined for the current document.");return e},lr=function(){var e=window&&window.document;if(!e)throw new Error("DOM document could not be determined.");return e},dr=function(){return window&&window.location&&window.location.pathname},pr=["vistaprint","vista","promotique"],fr=["masken","mondkapjes","masks","masker","maskit","masque","mascherine","munnbind","mascaras","mascarillas","munskydd"],hr=["touch-free-payments"],mr=function(e){var t=dr();if(t&&"/"!==t)for(var n=t.split("/"),r=0;r<n.length;r+=1){if(-1!==fr.indexOf(n[r].toLowerCase()))return"masks";if(-1!==hr.indexOf(n[r].toLowerCase()))return"paypal"}var o=ur().split(".").slice(-3);if(o[0]&&"brandstore"===o[0].toLocaleLowerCase()&&"vistaprint"===o[1])return"promotique";if(o[0]&&"novelty"===o[0].toLocaleLowerCase()&&"vistaprint"===o[1])return"promotique";for(var i=o.length-1;i>=0;i-=1)if(-1!==pr.indexOf(o[i]))return o[i];return e},gr=function(){return mr("vistaprint")},vr=null,yr=function(e,t,n,r){var o=n.toUTCString();lr().cookie=e+"="+t+";expires="+o+";path=/;domain="+r},br=function(){var e,t,n,r=ur().split("."),o=new Date;o.setTime(o.getTime()+5e3);for(var i=r.length-1;i>=0;i-=1){var a=r.slice(i).join(".");if(yr("top_level_domain_resolution","1",o,a),lr().cookie.indexOf("top_level_domain_resolution")>-1)return e="top_level_domain_resolution",t=a,n=void 0,n=new Date(1970),yr(e,"",n,t),a}return null},wr=function(){return vr||(vr=br())},Or=function(){var e=br();if(e&&"localhost"!==e)return new RegExp(/^[0-9.]+$/).test(e)?e:"."+e},Er=Object(le.b)(a);function xr(e,t,n,r){this.setCookie=e,this.getCookie=t,this.getUuid=n,this.getRootCookieDomain=r}xr.prototype.ensureUserTestId=function(){var e=this.getCookie("optimizelyEndUserId");if(e)return e;e=this.getUuid();const t={domain:this.getRootCookieDomain(),expires:180};return this.setCookie("optimizelyEndUserId",e,t),e};const Sr=Zn,Pr=cr,Cr=Er,Tr=new xr(Sr.set,Sr.get,Pr.v4,Cr.getRootCookieDomain);var _r={ensureUserTestId:()=>Tr.ensureUserTestId()};function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Ir,Mr=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=kr({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(oA){}}return e?r[e]:r}},remove:function(e,t){r(e,"",kr({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,kr({},this.attributes,t))},withConverter:function(t){return e(kr({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),jr={};(Ir=jr).getEuMembers=function(){return["BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE"]},Ir.isEuMember=function(e){return-1!=Ir.getEuMembers().indexOf(e.toUpperCase())};var Ar,Rr=function(){try{switch(function(e){if(!e||0===e.length)throw new Error("Domain must be specified");var t=e.split(".");if(t.length<2)throw new Error("Domain '"+e+"' does hot have the right format.");return t.pop()}(function(){var e=("undefined"!=typeof window?window.location:void 0)&&window.location.hostname;if(!e||0===e.length)throw new Error("Hostname could not be determined for the current document.");return e}()).toLowerCase()){case"pt":return"PT";case"ie":return"IE";case"es":return"ES";case"in":return"IN";case"jp":return"JP";case"com":return"US";case"fr":return"FR";case"it":return"IT";case"uk":return"GB";case"de":return"DE";case"nl":return"NL";case"dk":return"DK";case"se":return"SE";case"at":return"AT";case"no":return"NO";case"fi":return"FI";case"be":return"BE";case"sg":return"SG";case"nz":return"NZ";case"au":return"AU";case"ca":return"CA";case"ch":return"CH";default:return"IE"}}catch(e){return console.warn(e.message,"Fallback country: IE"),"IE"}};!function(e){e[e.None=0]="None",e[e.GDPR=1]="GDPR",e[e.CCPA=2]="CCPA"}(Ar||(Ar={}));var Dr=function(){return(Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lr={functional:!0,advertising:!1,sessionReplay:!1,dataSale:!0},Nr={functional:!0,advertising:!0,sessionReplay:!0,dataSale:!0};function Ur(){var e;try{e=Rr()}catch(t){return Ar.GDPR}return e?"us"===(e=e.toLowerCase())?Ar.CCPA:function(e){return!!e&&(e=e.toLowerCase(),jr.isEuMember(e)||"ch"===e||"no"===e||"gb"===e)}(e)?Ar.GDPR:Ar.None:Ar.None}function Fr(e){var t,n;return 4===e.version?null===(n=null===(t=e.custom)||void 0===t?void 0:t.datasale)||void 0===n||n:!e.destinations||!0!==e.destinations.All||!1!==e.destinations["Facebook Pixel"]}function Br(){var e,t=Ur(),n=(e=Mr.get("tracking-preferences"))?JSON.parse(e):{};if(t===Ar.None)return{hasConsent:!1,categories:Nr};if(t===Ar.CCPA)return{hasConsent:!1,categories:Dr(Dr({},Nr),{dataSale:Fr(n)})};if(n.custom){var r=n.custom,o=r.functional,i=r.advertising,a=r.sessionreplay;return{hasConsent:!1!==n.consent,categories:{functional:null==o||o,advertising:null!=i&&i,sessionReplay:null!=a&&a,dataSale:Fr(n)}}}return{hasConsent:!1,categories:Lr}}n("wfmh");var zr=n("wyvy"),Vr={exports:{}};!function(e,t){le.a,e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(oA){return!1}}function r(e,o,i){return(r=n()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i}).apply(null,arguments)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Object.hasOwnProperty,s=Object.setPrototypeOf,c=Object.isFrozen,u=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,d=Object.freeze,p=Object.seal,f=Object.create,h="undefined"!=typeof Reflect&&Reflect,m=h.apply,g=h.construct;m||(m=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),p||(p=function(e){return e}),g||(g=function(e,t){return r(e,o(t))});var v,y=_(Array.prototype.forEach),b=_(Array.prototype.pop),w=_(Array.prototype.push),O=_(String.prototype.toLowerCase),E=_(String.prototype.match),x=_(String.prototype.replace),S=_(String.prototype.indexOf),P=_(String.prototype.trim),C=_(RegExp.prototype.test),T=(v=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(v,t)});function _(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return m(e,t,r)}}function k(e,t){s&&s(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var o=O(r);o!==r&&(c(t)||(t[n]=o),r=o)}e[r]=!0}return e}function I(e){var t,n=f(null);for(t in e)m(a,e,[t])&&(n[t]=e[t]);return n}function M(e,t){for(;null!==e;){var n=l(e,t);if(n){if(n.get)return _(n.get);if("function"==typeof n.value)return _(n.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}var j=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=d(["#text"]),F=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=p(/<%[\w\W]*|[\w\W]*%>/gm),H=p(/^data-[\-\w.\u00B7-\uFFFF]/),W=p(/^aria-[\-\w]+$/),K=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=p(/^(?:\w+script|data):/i),Y=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=p(/^html$/i),J=function(){return"undefined"==typeof window?null:window},X=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null;n.currentScript&&n.currentScript.hasAttribute("data-tt-policy-suffix")&&(r=n.currentScript.getAttribute("data-tt-policy-suffix"));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e}})}catch(i){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J(),r=function(e){return t(e)};if(r.version="2.3.8",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var i=n.document,a=n.document,s=n.DocumentFragment,c=n.HTMLTemplateElement,u=n.Node,l=n.Element,p=n.NodeFilter,f=n.NamedNodeMap,h=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,m=n.HTMLFormElement,g=n.DOMParser,v=n.trustedTypes,_=l.prototype,$=M(_,"cloneNode"),ee=M(_,"nextSibling"),te=M(_,"childNodes"),ne=M(_,"parentNode");if("function"==typeof c){var re=a.createElement("template");re.content&&re.content.ownerDocument&&(a=re.content.ownerDocument)}var oe=X(v,i),ie=oe?oe.createHTML(""):"",ae=a,se=ae.implementation,ce=ae.createNodeIterator,ue=ae.createDocumentFragment,le=ae.getElementsByTagName,de=i.importNode,pe={};try{pe=I(a).documentMode?a.documentMode:{}}catch(Pt){}var fe={};r.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==pe;var he,me,ge=q,ve=G,ye=H,be=W,we=Q,Oe=Y,Ee=K,xe=null,Se=k({},[].concat(o(j),o(A),o(R),o(L),o(U))),Pe=null,Ce=k({},[].concat(o(F),o(B),o(z),o(V))),Te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,ke=null,Ie=!0,Me=!0,je=!1,Ae=!1,Re=!1,De=!1,Le=!1,Ne=!1,Ue=!1,Fe=!1,Be=!0,ze=!0,Ve=!1,qe={},Ge=null,He=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ke=k({},["audio","video","img","source","image","track"]),Qe=null,Ye=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml",$e=Xe,et=!1,tt=["application/xhtml+xml","text/html"],nt="text/html",rt=null,ot=a.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},at=function(t){rt&&rt===t||(t&&"object"===e(t)||(t={}),t=I(t),xe="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS):Se,Pe="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR):Ce,Qe="ADD_URI_SAFE_ATTR"in t?k(I(Ye),t.ADD_URI_SAFE_ATTR):Ye,We="ADD_DATA_URI_TAGS"in t?k(I(Ke),t.ADD_DATA_URI_TAGS):Ke,Ge="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS):He,_e="FORBID_TAGS"in t?k({},t.FORBID_TAGS):{},ke="FORBID_ATTR"in t?k({},t.FORBID_ATTR):{},qe="USE_PROFILES"in t&&t.USE_PROFILES,Ie=!1!==t.ALLOW_ARIA_ATTR,Me=!1!==t.ALLOW_DATA_ATTR,je=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=t.SAFE_FOR_TEMPLATES||!1,Re=t.WHOLE_DOCUMENT||!1,Ne=t.RETURN_DOM||!1,Ue=t.RETURN_DOM_FRAGMENT||!1,Fe=t.RETURN_TRUSTED_TYPE||!1,Le=t.FORCE_BODY||!1,Be=!1!==t.SANITIZE_DOM,ze=!1!==t.KEEP_CONTENT,Ve=t.IN_PLACE||!1,Ee=t.ALLOWED_URI_REGEXP||Ee,$e=t.NAMESPACE||Xe,t.CUSTOM_ELEMENT_HANDLING&&it(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&it(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),he=he=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?nt:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===he?function(e){return e}:O,Ae&&(Me=!1),Ue&&(Ne=!0),qe&&(xe=k({},o(U)),Pe=[],!0===qe.html&&(k(xe,j),k(Pe,F)),!0===qe.svg&&(k(xe,A),k(Pe,B),k(Pe,V)),!0===qe.svgFilters&&(k(xe,R),k(Pe,B),k(Pe,V)),!0===qe.mathMl&&(k(xe,L),k(Pe,z),k(Pe,V))),t.ADD_TAGS&&(xe===Se&&(xe=I(xe)),k(xe,t.ADD_TAGS)),t.ADD_ATTR&&(Pe===Ce&&(Pe=I(Pe)),k(Pe,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&k(Qe,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(Ge===He&&(Ge=I(Ge)),k(Ge,t.FORBID_CONTENTS)),ze&&(xe["#text"]=!0),Re&&k(xe,["html","head","body"]),xe.table&&(k(xe,["tbody"]),delete _e.tbody),d&&d(t),rt=t)},st=k({},["mi","mo","mn","ms","mtext"]),ct=k({},["foreignobject","desc","title","annotation-xml"]),ut=k({},["title","style","font","a","script"]),lt=k({},A);k(lt,R),k(lt,D);var dt=k({},L);k(dt,N);var pt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});var n=O(e.tagName),r=O(t.tagName);return e.namespaceURI===Je?t.namespaceURI===Xe?"svg"===n:t.namespaceURI===Ze?"svg"===n&&("annotation-xml"===r||st[r]):Boolean(lt[n]):e.namespaceURI===Ze?t.namespaceURI===Xe?"math"===n:t.namespaceURI===Je?"math"===n&&ct[r]:Boolean(dt[n]):e.namespaceURI===Xe&&!(t.namespaceURI===Je&&!ct[r])&&!(t.namespaceURI===Ze&&!st[r])&&!dt[n]&&(ut[n]||!lt[n])},ft=function(e){w(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Pt){try{e.outerHTML=ie}catch(Pt){e.remove()}}},ht=function(e,t){try{w(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Pt){w(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Pe[e])if(Ne||Ue)try{ft(t)}catch(Pt){}else try{t.setAttribute(e,"")}catch(Pt){}},mt=function(e){var t,n;if(Le)e="<remove></remove>"+e;else{var r=E(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===he&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=oe?oe.createHTML(e):e;if($e===Xe)try{t=(new g).parseFromString(o,he)}catch(Pt){}if(!t||!t.documentElement){t=se.createDocument($e,"template",null);try{t.documentElement.innerHTML=et?"":o}catch(Pt){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),$e===Xe?le.call(t,Re?"html":"body")[0]:Re?t.documentElement:i},gt=function(e){return ce.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},vt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},bt=function(e,t,n){fe[e]&&y(fe[e],(function(e){e.call(r,t,n,rt)}))},wt=function(e){var t;if(bt("beforeSanitizeElements",e,null),vt(e))return ft(e),!0;if(C(/[\u0080-\uFFFF]/,e.nodeName))return ft(e),!0;var n=me(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:n,allowedTags:xe}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&C(/<[/\w]/g,e.innerHTML)&&C(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===n&&C(/<template/i,e.innerHTML))return ft(e),!0;if(!xe[n]||_e[n]){if(!_e[n]&&Et(n)){if(Te.tagNameCheck instanceof RegExp&&C(Te.tagNameCheck,n))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))return!1}if(ze&&!Ge[n]){var o=ne(e)||e.parentNode,i=te(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore($(i[a],!0),ee(e))}return ft(e),!0}return e instanceof l&&!pt(e)?(ft(e),!0):"noscript"!==n&&"noembed"!==n||!C(/<\/no(script|embed)/i,e.innerHTML)?(Ae&&3===e.nodeType&&(t=e.textContent,t=x(t,ge," "),t=x(t,ve," "),e.textContent!==t&&(w(r.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(ft(e),!0)},Ot=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in a||n in ot))return!1;if(Me&&!ke[t]&&C(ye,t));else if(Ie&&C(be,t));else if(!Pe[t]||ke[t]){if(!(Et(e)&&(Te.tagNameCheck instanceof RegExp&&C(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&C(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&C(Te.tagNameCheck,n)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))))return!1}else if(Qe[t]);else if(C(Ee,x(n,Oe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!We[e])if(je&&!C(we,x(n,Oe,"")));else if(n)return!1;return!0},Et=function(e){return e.indexOf("-")>0},xt=function(e){var t,n,o,i;bt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pe};for(i=a.length;i--;){var c=t=a[i],u=c.name,l=c.namespaceURI;if(n="value"===u?t.value:P(t.value),o=me(u),s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr&&(ht(u,e),s.keepAttr))if(C(/\/>/i,n))ht(u,e);else{Ae&&(n=x(n,ge," "),n=x(n,ve," "));var d=me(e.nodeName);if(Ot(d,o,n))try{l?e.setAttributeNS(l,u,n):e.setAttribute(u,n),b(r.removed)}catch(Pt){}}}bt("afterSanitizeAttributes",e,null)}},St=function e(t){var n,r=gt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),wt(n)||(n.content instanceof s&&e(n.content),xt(n));bt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(t,o){var a,c,l,d,p;if((et=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!yt(t)){if("function"!=typeof t.toString)throw T("toString is not a function");if("string"!=typeof(t=t.toString()))throw T("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(yt(t))return n.toStaticHTML(t.outerHTML)}return t}if(De||at(o),r.removed=[],"string"==typeof t&&(Ve=!1),Ve){if(t.nodeName){var f=me(t.nodeName);if(!xe[f]||_e[f])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)1===(c=(a=mt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!Ne&&!Ae&&!Re&&-1===t.indexOf("<"))return oe&&Fe?oe.createHTML(t):t;if(!(a=mt(t)))return Ne?null:Fe?ie:""}a&&Le&&ft(a.firstChild);for(var h=gt(Ve?t:a);l=h.nextNode();)3===l.nodeType&&l===d||wt(l)||(l.content instanceof s&&St(l.content),xt(l),d=l);if(d=null,Ve)return t;if(Ne){if(Ue)for(p=ue.call(a.ownerDocument);a.firstChild;)p.appendChild(a.firstChild);else p=a;return Pe.shadowroot&&(p=de.call(i,p,!0)),p}var m=Re?a.outerHTML:a.innerHTML;return Re&&xe["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&C(Z,a.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+m),Ae&&(m=x(m,ge," "),m=x(m,ve," ")),oe&&Fe?oe.createHTML(m):m},r.setConfig=function(e){at(e),De=!0},r.clearConfig=function(){rt=null,De=!1},r.isValidAttribute=function(e,t,n){rt||at({});var r=me(e),o=me(t);return Ot(r,o,n)},r.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],w(fe[e],t))},r.removeHook=function(e){if(fe[e])return b(fe[e])},r.removeHooks=function(e){fe[e]&&(fe[e]=[])},r.removeAllHooks=function(){fe={}},r}()}()}(Vr);var qr=Vr.exports;class Gr extends Error{constructor(e){super(),Error.captureStackTrace&&Error.captureStackTrace(this,Gr),this.name="UdsError",this.isUdsError=!0,this.message=e}}const Hr=e=>m(void 0,void 0,void 0,(function*(){try{return(yield Wr(e)).data}catch(t){throw new Gr("Error fetching document from UDS: ".concat(t.message))}})),Wr=e=>m(void 0,void 0,void 0,(function*(){return yield Nn.a.get(e,{headers:{"Content-Type":"application/json"}})})),Kr=(e,t)=>m(void 0,void 0,void 0,(function*(){const n=Qr(e);return yield((e,t)=>m(void 0,void 0,void 0,(function*(){try{return(yield Nn.a.post("https://storage.documents.cimpress.io/v3/documents",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(n){throw new Gr("Error creating document from UDS: ".concat(n.message))}})))(n,t)})),Qr=e=>(delete e.tenant,delete e.owner,e);class Yr extends Error{constructor(e){super(),Error.captureStackTrace&&Error.captureStackTrace(this,Yr),this.name="WesError",this.isWesError=!0,this.message=e}}const Zr=(e,t,n,r,o,i,a,s,c,u,l,d)=>m(void 0,void 0,void 0,(function*(){try{return(yield Nn.a.post(Jr("https://workentityservice.design.vpsvc.com/api/v1/works",c,l),{merchandising:{quantity:s,merchandisingSelections:i,mpvUrl:Xr(e,t,n,l)},design:{editUrl:"/studio/?workId=${workId}",docRefUrl:a.documentReference.href,designUrl:a.documentRevision.href,displayUrl:a.previewInstructions.href,manufactureUrl:a.drawingInstructions.href,metadata:{udsDocumentUrl:a.self.href}},product:{key:r,version:o.toString()},resources:d||void 0},{headers:{Authorization:"Bearer ".concat(u)}})).data}catch(p){throw new Yr("Error creating work: ".concat(p.message))}})),Jr=(e,t,n)=>e+Zt.stringify({from:n,ownerId:t},{addQueryPrefix:!0}),Xr=(e,t,n,r)=>"".concat("https://merchandising-product-service.cdn.vpsvc.com/api/v3/mpv","/").concat(e,"/").concat(t,"/").concat(n,"?requestor=").concat(r);var $r;!function(e){e[e.S=600]="S",e[e.M=768]="M",e[e.L=992]="L",e[e.XL=1200]="XL"}($r||($r={}));var eo,to=[],no="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(eo||(eo={}));var ro,oo=function(e){return Object.freeze(e)},io=function(e,t){this.inlineSize=e,this.blockSize=t,oo(this)},ao=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,oo(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),so=function(e){return e instanceof SVGElement&&"getBBox"in e},co=function(e){if(so(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},uo=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},lo="undefined"!=typeof window?window:{},po=new WeakMap,fo=/auto|scroll/,ho=/^tb|vertical/,mo=/msie|trident/i.test(lo.navigator&&lo.navigator.userAgent),go=function(e){return parseFloat(e||"0")},vo=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new io((n?t:e)||0,(n?e:t)||0)},yo=oo({devicePixelContentBoxSize:vo(),borderBoxSize:vo(),contentBoxSize:vo(),contentRect:new ao(0,0,0,0)}),bo=function(e,t){if(void 0===t&&(t=!1),po.has(e)&&!t)return po.get(e);if(co(e))return po.set(e,yo),yo;var n=getComputedStyle(e),r=so(e)&&e.ownerSVGElement&&e.getBBox(),o=!mo&&"border-box"===n.boxSizing,i=ho.test(n.writingMode||""),a=!r&&fo.test(n.overflowY||""),s=!r&&fo.test(n.overflowX||""),c=r?0:go(n.paddingTop),u=r?0:go(n.paddingRight),l=r?0:go(n.paddingBottom),d=r?0:go(n.paddingLeft),p=r?0:go(n.borderTopWidth),f=r?0:go(n.borderRightWidth),h=r?0:go(n.borderBottomWidth),m=d+u,g=c+l,v=(r?0:go(n.borderLeftWidth))+f,y=p+h,b=s?e.offsetHeight-y-e.clientHeight:0,w=a?e.offsetWidth-v-e.clientWidth:0,O=o?m+v:0,E=o?g+y:0,x=r?r.width:go(n.width)-O-w,S=r?r.height:go(n.height)-E-b,P=x+m+w+v,C=S+g+b+y,T=oo({devicePixelContentBoxSize:vo(Math.round(x*devicePixelRatio),Math.round(S*devicePixelRatio),i),borderBoxSize:vo(P,C,i),contentBoxSize:vo(x,S,i),contentRect:new ao(d,c,x,S)});return po.set(e,T),T},wo=function(e,t,n){var r=bo(e,n),o=r.borderBoxSize,i=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case eo.DEVICE_PIXEL_CONTENT_BOX:return a;case eo.BORDER_BOX:return o;default:return i}},Oo=function(e){var t=bo(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=oo([t.borderBoxSize]),this.contentBoxSize=oo([t.contentBoxSize]),this.devicePixelContentBoxSize=oo([t.devicePixelContentBoxSize])},Eo=function(e){if(co(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},xo=function(){var e=1/0,t=[];to.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new Oo(t.target),o=Eo(t.target);r.push(n),t.lastReportedSize=wo(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},So=function(e){to.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(Eo(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Po=function(){var e,t=0;for(So(t);to.some((function(e){return e.activeTargets.length>0}));)t=xo(),So(t);return to.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:no}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=no),window.dispatchEvent(e)),t>0},Co=[],To=function(e){if(!ro){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Co.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),ro=function(){n.textContent=""+(t?t--:t++)}}Co.push(e),ro()},_o=0,ko={attributes:!0,characterData:!0,childList:!0,subtree:!0},Io=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Mo=function(e){return void 0===e&&(e=0),Date.now()+e},jo=!1,Ao=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!jo){jo=!0;var n,r=Mo(e);n=function(){var n=!1;try{n=Po()}finally{if(jo=!1,e=r-Mo(),!_o)return;n?t.run(1e3):e>0?t.run(e):t.start()}},To((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,ko)};document.body?t():lo.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Io.forEach((function(t){return lo.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Io.forEach((function(t){return lo.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Ro=function(e){!_o&&e>0&&Ao.start(),!(_o+=e)&&Ao.stop()},Do=function(){function e(e,t){this.target=e,this.observedBox=t||eo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=wo(this.target,this.observedBox,!0);return e=this.target,so(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Lo=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},No=new WeakMap,Uo=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Fo=function(){function e(){}return e.connect=function(e,t){var n=new Lo(e,t);No.set(e,n)},e.observe=function(e,t,n){var r=No.get(e),o=0===r.observationTargets.length;Uo(r.observationTargets,t)<0&&(o&&to.push(r),r.observationTargets.push(new Do(t,n&&n.box)),Ro(1),Ao.schedule())},e.unobserve=function(e,t){var n=No.get(e),r=Uo(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&to.splice(to.indexOf(n),1),n.observationTargets.splice(r,1),Ro(-1))},e.disconnect=function(e){var t=this,n=No.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Bo=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Fo.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uo(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Fo.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uo(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Fo.unobserve(this,e)},e.prototype.disconnect=function(){Fo.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function zo(e){const[t,n]=Object(u.useState)({width:0,height:0});return Object(u.useLayoutEffect)(()=>{let t;return e.current&&(t=new Bo(t=>{const r=t.find(t=>t.target===e.current);if(r){const{width:e,height:t}=r.target.getBoundingClientRect();n({width:e,height:t})}}),t.observe(e.current)),()=>{t&&t.disconnect()}},[e]),t}const Vo=()=>{const[,e]=Object(u.useState)();return Object(u.useCallback)(t=>{e(()=>{throw t})},[e])};var qo=n("sz0P");function Go(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Ho(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wo={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ko(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Qo=/[A-Z]|^ms/g,Yo=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Zo=function(e){return 45===e.charCodeAt(1)},Jo=function(e){return null!=e&&"boolean"!=typeof e},Xo=Ko((function(e){return Zo(e)?e:e.replace(Qo,"-$&").toLowerCase()})),$o=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Yo,(function(e,t,n){return ti={name:t,styles:n,next:ti},t}))}return 1===Wo[e]||Zo(e)||"number"!=typeof t||0===t?t:t+"px"};function ei(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ti={name:n.name,styles:n.styles,next:ti},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ti={name:r.name,styles:r.styles,next:ti},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=ei(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":Jo(a)&&(r+=Xo(i)+":"+$o(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=ei(e,t,a);switch(i){case"animation":case"animationName":r+=Xo(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var c=0;c<a.length;c++)Jo(a[c])&&(r+=Xo(i)+":"+$o(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=ti,i=n(e);return ti=o,ei(e,t,i)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ti,ni=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ri=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";ti=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=ei(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=ei(n,t,e[a]),r&&(o+=i[a]);ni.lastIndex=0;for(var s,c="";null!==(s=ni.exec(o));)c+="-"+s[1];return{name:function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+c,styles:o,next:ti}};var oi=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(oA){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ii="-ms-",ai="-moz-",si="-webkit-",ci=Math.abs,ui=String.fromCharCode,li=Object.assign;function di(e){return e.trim()}function pi(e,t,n){return e.replace(t,n)}function fi(e,t){return e.indexOf(t)}function hi(e,t){return 0|e.charCodeAt(t)}function mi(e,t,n){return e.slice(t,n)}function gi(e){return e.length}function vi(e){return e.length}function yi(e,t){return t.push(e),e}var bi=1,wi=1,Oi=0,Ei=0,xi=0,Si="";function Pi(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:bi,column:wi,length:a,return:""}}function Ci(e,t){return li(Pi("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ti(){return xi=Ei<Oi?hi(Si,Ei++):0,wi++,10===xi&&(wi=1,bi++),xi}function _i(){return hi(Si,Ei)}function ki(){return Ei}function Ii(e,t){return mi(Si,e,t)}function Mi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ji(e){return bi=wi=1,Oi=gi(Si=e),Ei=0,[]}function Ai(e){return Si="",e}function Ri(e){return di(Ii(Ei-1,function e(t){for(;Ti();)switch(xi){case t:return Ei;case 34:case 39:34!==t&&39!==t&&e(xi);break;case 40:41===t&&e(t);break;case 92:Ti()}return Ei}(91===e?e+2:40===e?e+1:e)))}function Di(e){for(;(xi=_i())&&xi<33;)Ti();return Mi(e)>2||Mi(xi)>3?"":" "}function Li(e,t){for(;--t&&Ti()&&!(xi<48||xi>102||xi>57&&xi<65||xi>70&&xi<97););return Ii(e,ki()+(t<6&&32==_i()&&32==Ti()))}function Ni(e,t){for(;Ti()&&e+xi!==57&&(e+xi!==84||47!==_i()););return"/*"+Ii(t,Ei-1)+"*"+ui(47===e?e:Ti())}function Ui(e){for(;!Mi(_i());)Ti();return Ii(e,Ei)}function Fi(e){return Ai(function e(t,n,r,o,i,a,s,c,u){var l=0,d=0,p=s,f=0,h=0,m=0,g=1,v=1,y=1,b=0,w="",O=i,E=a,x=o,S=w;for(;v;)switch(m=b,b=Ti()){case 40:if(108!=m&&58==S.charCodeAt(p-1)){-1!=fi(S+=pi(Ri(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Ri(b);break;case 9:case 10:case 13:case 32:S+=Di(m);break;case 92:S+=Li(ki()-1,7);continue;case 47:switch(_i()){case 42:case 47:yi(zi(Ni(Ti(),ki()),n,r),u);break;default:S+="/"}break;case 123*g:c[l++]=gi(S)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+d:h>0&&gi(S)-p&&yi(h>32?Vi(S+";",o,r,p-1):Vi(pi(S," ","")+";",o,r,p-2),u);break;case 59:S+=";";default:if(yi(x=Bi(S,n,r,l,d,i,c,w,O=[],E=[],p),a),123===b)if(0===d)e(S,n,x,x,O,a,p,c,E);else switch(f){case 100:case 109:case 115:e(t,x,x,o&&yi(Bi(t,x,x,0,0,i,c,w,i,O=[],p),E),i,E,p,c,o?O:E);break;default:e(S,x,x,x,[""],E,0,c,E)}}l=d=h=0,g=y=1,w=S="",p=s;break;case 58:p=1+gi(S),h=m;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==(xi=Ei>0?hi(Si,--Ei):0,wi--,10===xi&&(wi=1,bi--),xi))continue;switch(S+=ui(b),b*g){case 38:y=d>0?1:(S+="\f",-1);break;case 44:c[l++]=(gi(S)-1)*y,y=1;break;case 64:45===_i()&&(S+=Ri(Ti())),f=_i(),d=p=gi(w=S+=Ui(ki())),b++;break;case 45:45===m&&2==gi(S)&&(g=0)}}return a}("",null,null,null,[""],e=ji(e),0,[0],e))}function Bi(e,t,n,r,o,i,a,s,c,u,l){for(var d=o-1,p=0===o?i:[""],f=vi(p),h=0,m=0,g=0;h<r;++h)for(var v=0,y=mi(e,d+1,d=ci(m=a[h])),b=e;v<f;++v)(b=di(m>0?p[v]+" "+y:pi(y,/&\f/g,p[v])))&&(c[g++]=b);return Pi(e,t,n,0===o?"rule":s,c,u,l)}function zi(e,t,n){return Pi(e,t,n,"comm",ui(xi),mi(e,2,-2),0)}function Vi(e,t,n,r){return Pi(e,t,n,"decl",mi(e,0,r),mi(e,r+1,-1),r)}function qi(e,t){for(var n="",r=vi(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Gi(e,t,n,r){switch(e.type){case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+qi(e.children,r)+"}";case"rule":e.value=e.props.join(",")}return gi(n=qi(e.children,r))?e.return=e.value+"{"+n+"}":""}function Hi(e,t){switch(function(e,t){return(((t<<2^hi(e,0))<<2^hi(e,1))<<2^hi(e,2))<<2^hi(e,3)}(e,t)){case 5103:return si+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return si+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return si+e+ai+e+ii+e+e;case 6828:case 4268:return si+e+ii+e+e;case 6165:return si+e+ii+"flex-"+e+e;case 5187:return si+e+pi(e,/(\w+).+(:[^]+)/,si+"box-$1$2"+ii+"flex-$1$2")+e;case 5443:return si+e+ii+"flex-item-"+pi(e,/flex-|-self/,"")+e;case 4675:return si+e+ii+"flex-line-pack"+pi(e,/align-content|flex-|-self/,"")+e;case 5548:return si+e+ii+pi(e,"shrink","negative")+e;case 5292:return si+e+ii+pi(e,"basis","preferred-size")+e;case 6060:return si+"box-"+pi(e,"-grow","")+si+e+ii+pi(e,"grow","positive")+e;case 4554:return si+pi(e,/([^-])(transform)/g,"$1"+si+"$2")+e;case 6187:return pi(pi(pi(e,/(zoom-|grab)/,si+"$1"),/(image-set)/,si+"$1"),e,"")+e;case 5495:case 3959:return pi(e,/(image-set\([^]*)/,si+"$1$`$1");case 4968:return pi(pi(e,/(.+:)(flex-)?(.*)/,si+"box-pack:$3"+ii+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+si+e+e;case 4095:case 3583:case 4068:case 2532:return pi(e,/(.+)-inline(.+)/,si+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(e)-1-t>6)switch(hi(e,t+1)){case 109:if(45!==hi(e,t+4))break;case 102:return pi(e,/(.+:)(.+)-([^]+)/,"$1"+si+"$2-$3$1"+ai+(108==hi(e,t+3)?"$3":"$2-$3"))+e;case 115:return~fi(e,"stretch")?Hi(pi(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==hi(e,t+1))break;case 6444:switch(hi(e,gi(e)-3-(~fi(e,"!important")&&10))){case 107:return pi(e,":",":"+si)+e;case 101:return pi(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+si+(45===hi(e,14)?"inline-":"")+"box$3$1"+si+"$2$3$1"+ii+"$2box$3")+e}break;case 5936:switch(hi(e,t+11)){case 114:return si+e+ii+pi(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return si+e+ii+pi(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return si+e+ii+pi(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return si+e+ii+e+e}return e}var Wi=function(e,t,n){for(var r=0,o=0;r=o,o=_i(),38===r&&12===o&&(t[n]=1),!Mi(o);)Ti();return Ii(e,Ei)},Ki=function(e,t){return Ai(function(e,t){var n=-1,r=44;do{switch(Mi(r)){case 0:38===r&&12===_i()&&(t[n]=1),e[n]+=Wi(Ei-1,t,n);break;case 2:e[n]+=Ri(r);break;case 4:if(44===r){e[++n]=58===_i()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ui(r)}}while(r=Ti());return e}(ji(e),t))},Qi=new WeakMap,Yi=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Qi.get(n))&&!r){Qi.set(e,!0);for(var o=[],i=Ki(t,o),a=n.props,s=0,c=0;s<i.length;s++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[s]?i[s].replace(/&\f/g,a[u]):a[u]+" "+i[s]}}},Zi=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ji=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=Hi(e.value,e.length);break;case"@keyframes":return qi([Ci(e,{value:pi(e.value,"@","@"+si)})],r);case"rule":if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qi([Ci(e,{props:[pi(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return qi([Ci(e,{props:[pi(t,/:(plac\w+)/,":"+si+"input-$1")]}),Ci(e,{props:[pi(t,/:(plac\w+)/,":-moz-$1")]}),Ci(e,{props:[pi(t,/:(plac\w+)/,ii+"input-$1")]})],r)}return""}))}}],Xi=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ji;var o,i,a={},s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c,u,l,d,p=[Gi,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(u=[Yi,Zi].concat(r,p),l=vi(u),function(e,t,n,r){for(var o="",i=0;i<l;i++)o+=u[i](e,t,n,r)||"";return o});i=function(e,t,n,r){c=n,qi(Fi(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new oi({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(s),h};function $i(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ea=function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};function ta(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function na(e,t,n){var r=[],o=$i(e,r,n);return r.length<2?n:o+t(r)}var ra,oa,ia,aa,sa=function e(t){for(var n="",r=0;r<t.length;r++){var o=t[r];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var a in i="",o)o[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=o}i&&(n&&(n+=" "),n+=i)}}return n},ca=function(e){var t=Xi(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=ri(n,t.registered,void 0);return ea(t,o,!1),t.key+"-"+o.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return na(t.registered,n,sa(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=ri(n,t.registered);ta(t,o)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=ri(n,t.registered),i="animation-"+o.name;return ta(t,{name:o.name,styles:"@keyframes "+i+"{"+o.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:$i.bind(null,t.registered),merge:na.bind(null,t.registered,n)}}({key:"css"}),ua=ca.cx,la=ca.css;la(ra||(ra=Ho(["\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    touch-action: none;\n    pointer-events: auto;\n    position: relative;\n"]))),la(oa||(oa=Ho(["\n    margin: auto;\n    color: #31414c;\n    font-size: 14px;\n"]))),la(ia||(ia=Ho(["\n    flex-grow: 1;\n    position: relative;\n"])));const da=la(aa||(aa=Ho(["\n    & > * {\n        position: absolute;\n    }\n"])));function pa({position:e,dimensions:t,rotation:n,zIndex:r,children:o,ariaLabel:i,style:a={},className:s}){const{x:c,y:u}=e,{width:d,height:p}=t;return l.a.createElement("div",{className:ua("idaf-item-position",da,s),style:Object.assign(Object.assign({},a),{transform:"translate(".concat(c,"px, ").concat(u,"px) rotate(").concat(n,"deg)"),width:d,height:p,zIndex:r}),"aria-label":i},o)}var fa;!function(e){e.MM="mm",e.CM="cm",e.M="m",e.IN="in",e.YD="yd",e.FT="ft",e.PT="pt"}(fa||(fa={}));var ha=/^\s+|\s+$/g,ma=/^[-+]0x[0-9a-f]+$/i,ga=/^0b[01]+$/i,va=/^0o[0-7]+$/i,ya=parseInt,ba="object"==typeof le.a&&le.a&&le.a.Object===Object&&le.a,wa="object"==typeof self&&self&&self.Object===Object&&self,Oa=ba||wa||Function("return this")(),Ea=Object.prototype.toString,xa=Oa.Symbol,Sa=Math.min,Pa=xa?xa.prototype:void 0,Ca=Pa?Pa.toString:void 0;function Ta(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _a(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Ea.call(e)}function ka(e){if("number"==typeof e)return e;if(_a(e))return NaN;if(Ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ha,"");var n=ga.test(e);return n||va.test(e)?ya(e.slice(2),n?2:8):ma.test(e)?NaN:+e}function Ia(e){return null==e?"":function(e){if("string"==typeof e)return e;if(_a(e))return Ca?Ca.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var Ma,ja=(Ma=Math["round"],function(e,t){if(e=ka(e),t=Sa(function(e){var t=function(e){return e?(e=ka(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}(t),292)){var n=(Ia(e)+"e").split("e");return+((n=(Ia(Ma(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return Ma(e)});if(!Aa)var Aa={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?Aa.map(e,t):e)}};var Ra=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function t(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function n(e,t,n,r,o,i,a){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=o,this.b2=i,this.histo=a}function r(){this.vboxes=new t((function(e,t){return Aa.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function o(t,n){if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,i=Aa.max([r,o,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,c,u,l=0,d=[],p=[];if(i==r)for(a=n.r1;a<=n.r2;a++){for(u=0,s=n.g1;s<=n.g2;s++)for(c=n.b1;c<=n.b2;c++)u+=t[e(a,s,c)]||0;d[a]=l+=u}else if(i==o)for(a=n.g1;a<=n.g2;a++){for(u=0,s=n.r1;s<=n.r2;s++)for(c=n.b1;c<=n.b2;c++)u+=t[e(s,a,c)]||0;d[a]=l+=u}else for(a=n.b1;a<=n.b2;a++){for(u=0,s=n.r1;s<=n.r2;s++)for(c=n.g1;c<=n.g2;c++)u+=t[e(s,c,a)]||0;d[a]=l+=u}return d.forEach((function(e,t){p[t]=l-e})),function(e){var t,r,o,i,s,c=e+"1",u=e+"2",f=0;for(a=n[c];a<=n[u];a++)if(d[a]>l/2){for(o=n.copy(),i=n.copy(),s=(t=a-n[c])<=(r=n[u]-a)?Math.min(n[u]-1,~~(a+r/2)):Math.max(n[c],~~(a-1-t/2));!d[s];)s++;for(f=p[s];!f&&d[s-1];)f=p[--s];return o[u]=s,i[c]=o[u]+1,[o,i]}}(i==r?"r":i==o?"g":"b")}}return n.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var n=this.histo;if(!this._count_set||t){var r,o,i,a=0;for(r=this.r1;r<=this.r2;r++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)a+=n[e(r,o,i)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r,o,i,a,s=0,c=0,u=0,l=0;for(o=this.r1;o<=this.r2;o++)for(i=this.g1;i<=this.g2;i++)for(a=this.b1;a<=this.b2;a++)s+=r=n[e(o,i,a)]||0,c+=r*(o+.5)*8,u+=r*(i+.5)*8,l+=r*(a+.5)*8;this._avg=s?[~~(c/s),~~(u/s),~~(l/s)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=this.r1&&t<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},r.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||void 0===t)&&(t=n,r=o.peek(i).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return Aa.naturalOrder(Aa.sum(e.color),Aa.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(i,a){if(!i.length||a<2||a>256)return!1;var s=function(t){var n,r=new Array(32768);return t.forEach((function(t){n=e(t[0]>>3,t[1]>>3,t[2]>>3),r[n]=(r[n]||0)+1})),r}(i);s.forEach((function(){}));var c=function(e,t){var r,o,i,a=1e6,s=0,c=1e6,u=0,l=1e6,d=0;return e.forEach((function(e){(r=e[0]>>3)<a?a=r:r>s&&(s=r),(o=e[1]>>3)<c?c=o:o>u&&(u=o),(i=e[2]>>3)<l?l=i:i>d&&(d=i)})),new n(a,s,c,u,l,d,t)}(i,s),u=new t((function(e,t){return Aa.naturalOrder(e.count(),t.count())}));function l(e,t){for(var n,r=e.size(),i=0;i<1e3;){if(r>=t)return;if(i++>1e3)return;if((n=e.pop()).count()){var a=o(s,n),c=a[0],u=a[1];if(!c)return;e.push(c),u&&(e.push(u),r++)}else e.push(n),i++}}u.push(c),l(u,.75*a);for(var d=new t((function(e,t){return Aa.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));u.size();)d.push(u.pop());l(d,a);for(var p=new r;d.size();)p.push(d.pop());return p}}}().quantize,Da=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};Da.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var La,Na,Ua,Fa,Ba,za=function(){};za.prototype.getColor=function(e,t){return void 0===t&&(t=10),this.getPalette(e,5,t)[0]},za.prototype.getPalette=function(e,t,n){var r=function(e){var t=e.colorCount,n=e.quality;if(void 0!==t&&Number.isInteger(t)){if(1===t)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");t=Math.max(t,2),t=Math.min(t,20)}else t=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:t,quality:n}}({colorCount:t,quality:n}),o=new Da(e),i=function(e,t,n){for(var r=e,o=[],i=0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0;i<t;i+=n)s=r[0+(a=4*i)],c=r[a+1],u=r[a+2],(void 0===(l=r[a+3])||l>=125)&&(s>250&&c>250&&u>250||o.push([s,c,u]));return o}(o.getImageData().data,o.width*o.height,r.quality),a=Ra(i,r.colorCount);return a?a.palette():null},za.prototype.getColorFromUrl=function(e,t,n){var r=this,o=document.createElement("img");o.addEventListener("load",(function(){var i=r.getPalette(o,5,n);t(i[0],e)})),o.src=e},za.prototype.getImageData=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var e=new Uint8Array(this.response);i=e.length;for(var n=new Array(i),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);var o=n.join(""),a=window.btoa(o);t("data:image/png;base64,"+a)}},n.send()},za.prototype.getColorAsync=function(e,t,n){var r=this;this.getImageData(e,(function(e){var o=document.createElement("img");o.addEventListener("load",(function(){var e=r.getPalette(o,5,n);t(e[0],this)})),o.src=e}))},function(e){e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=4]="Bottom",e[e.Left=8]="Left"}(La||(La={})),function(e){e.Round="round",e.Oblong="oblong"}(Na||(Na={})),La.Top,La.Bottom,La.Left,La.Right,la(Ua||(Ua=Ho(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border: 1px solid white;\n"])));const Va=la(Fa||(Fa=Ho(["\n    width: 100%;\n    height: 100%;\n"]))),qa=la(Ba||(Ba=Ho(["\n    display: block;\n    width: 100%;\n    height: 100%;\n"])));function Ga({src:e,show:t=!0,previewBox:n,onImageLoad:r,style:o={},ariaLabel:i,alt:a,className:s}){const c=n?{transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)"),height:n.height,width:n.width}:{};return l.a.createElement("div",{className:ua("idaf-item-preview",Va,s),style:Object.assign(Object.assign({},o),c),"aria-label":i},l.a.createElement("img",{style:{display:t?"block":"none"},className:ua("idaf-item-preview__image",qa),alt:a,src:e,onLoad:r}))}var Ha,Wa,Ka,Qa;la(Ha||(Ha=Ho(["\n    opacity: 0.5;\n    & > * {\n        position: absolute;\n    }\n"]))),la(Wa||(Wa=Ho(["\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n"]))),la(Ka||(Ka=Ho(["\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n    & > * {\n        position: absolute;\n    }\n"])));const Ya=la(Qa||(Qa=Ho(["\n    outline: 1px solid var(--dsc-designAreaInteractionColor, #00b5e2);\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    transition: opacity 0.25s ease;\n    transform: translateZ(0px); /* todo: figure out solution to outline artifacting without this */\n    &:hover {\n        opacity: 1;\n    }\n"])));function Za({selected:e=!1,children:t,style:n={},ariaLabel:r,className:o}){return l.a.createElement("div",{className:ua("idaf-item-outline",Ya,o),style:Object.assign(Object.assign({},n),{outlineWidth:e?2:void 0,opacity:e?1:void 0}),"aria-label":r},t)}La.Left,Na.Round,La.Right,Na.Round,La.Top,La.Left,La.Top,La.Right,La.Bottom,La.Right,La.Bottom,La.Left,La.Top,La.Right,La.Bottom,La.Left;const Ja="M",Xa="L",$a="C",es="Z";function ts({x:e,y:t}){return"".concat(e,",").concat(t)}function ns(e,t){const n=t.map(ts);return"".concat(e," ").concat(n.join(" "))}function rs({start:e="",directions:t,closePath:n=""}){return"".concat(e," ").concat(t.join(" ")," ").concat(n).trim()}function os(e,t=!0){const n=function(e,t){return e.map(e=>rs({start:ns(Ja,[{x:e.anchor.x,y:e.anchor.y}]),directions:e.points.map(e=>{const t=function(e){var t,n,r,o,i,a,s,c;return{end:{x:e.x,y:e.y},firstCurvePoint:{x:null!==(n=null===(t=e.controlPoints)||void 0===t?void 0:t.first.x)&&void 0!==n?n:void 0,y:null!==(o=null===(r=e.controlPoints)||void 0===r?void 0:r.first.y)&&void 0!==o?o:void 0},secondCurvePoint:{x:null!==(a=null===(i=e.controlPoints)||void 0===i?void 0:i.second.x)&&void 0!==a?a:void 0,y:null!==(c=null===(s=e.controlPoints)||void 0===s?void 0:s.second.y)&&void 0!==c?c:void 0}}}(e);return void 0!==(n=t).firstCurvePoint.x&&void 0!==n.firstCurvePoint.y&&void 0!==n.secondCurvePoint.x&&void 0!==n.secondCurvePoint.y?ns($a,[t.firstCurvePoint,t.secondCurvePoint,t.end]):ns(Xa,[t.end]);var n}),closePath:t?"".concat(es):""}))}(e,t);return rs({directions:n})}var is,as;const ss=la(is||(is=Ho(["\n    width: 100%;\n    height: 100%;\n"])));function cs({width:e,height:t,mask:n,ariaLabel:r,style:o,className:i,fillColor:a="#C4CDD6",useBorder:s=!0}){const{type:c,paths:d}=n,p=c.toLowerCase(),f=Object(u.useMemo)(()=>{if(s){return os([function({width:e,height:t}){const n={x:0,y:0};return{points:[n,{x:e,y:0},{x:e,y:t},{x:0,y:t}],anchor:n}}({width:e,height:t}),...d])}return os([...d])},[d,e,t,s]);return l.a.createElement("svg",{className:ua("idaf-path-mask idaf-fill-mask--".concat(c),ss,i),viewBox:"0 0 ".concat(e," ").concat(t),style:o,"aria-labelledby":"idaf-".concat(p,"-fillmask")},l.a.createElement("title",{id:"idaf-".concat(p,"-fillmask")},r),l.a.createElement("path",{className:la(as||(as=Ho(["\n                    fill: ",";\n                "])),a),d:f,fillRule:"evenodd"}))}const us=ja;function ls(e,t,n){return e<t?t:e>n?n:e}function ds(e,t,n=.001){return e===t||Math.abs(e-t)<=n}function ps(e){return function(e){const t=[],n=e.slice().sort((e,t)=>e[0]-t[0]);if(0===e.length)return t;t.push(n[0]);for(let r=1;r<n.length;r+=1){const e=t[t.length-1],o=n[r];o[0]>e[1]?t.push(o):(e[1]=Math.max(o[1],e[1]),e[0]=Math.min(o[0],e[0]))}return t}(e).reduce((e,t)=>e+(t[1]-t[0]),0)}function fs(e){return e/255}function hs(e){return Math.round(255*e)}function ms(e){return e<=.04045?e/12.95:Math.pow((e+.055)/1.055,2.4)}function gs(e){let t=fs(e.r),n=fs(e.g),r=fs(e.b);t=100*ms(t),n=100*ms(n),r=100*ms(r);return{x:.4124564*t+.3575761*n+.1804375*r,y:.2126729*t+.7151522*n+.072175*r,z:.0193339*t+.119192*n+.9503041*r}}function vs(e){let t=e.x/95.047,n=e.y/100,r=e.z/108.883;t=t>216/24389?Math.pow(t,1/3):(24389/27*t+16)/116,n=n>216/24389?Math.pow(n,1/3):(24389/27*n+16)/116,r=r>216/24389?Math.pow(r,1/3):(24389/27*r+16)/116;return{l:116*n-16,a:500*(t-n),b:200*(n-r)}}function ys(e){return"#".concat(((e.r<16?"0":"")+e.r.toString(16)+(e.g<16?"0":"")+e.g.toString(16)+(e.b<16?"0":"")+e.b.toString(16)).toUpperCase())}function bs(e){const t=fs(e.r),n=fs(e.g),r=fs(e.b),o=1-Math.max(t,n,r);let i=0,a=0,s=0;return 1!==o&&(i=(1-t-o)/(1-o),a=(1-n-o)/(1-o),s=(1-r-o)/(1-o)),{c:Math.round(100*i),m:Math.round(100*a),y:Math.round(100*s),k:Math.round(100*o)}}function ws(e){!function(e){if(!e.match(/^#([a-f0-9]{3,4}|[a-f0-9]{6}|[a-f0-9]{8})$/i))throw new Error("Invalid hex input, must be a 3, 4, 6 or 8 character long hexadecimal number preceded with a #")}(e);const t=function(e){const t=e.replace("#","");return 3===t.length||4===t.length?t.replace(/([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/,"$1$1$2$2$3$3").substring(0,6):8===t.length?t.substring(0,6):t}(e);return{r:parseInt(t[0]+t[t[3]?1:0],16),g:parseInt(t[t[3]?2:1]+(t[3]||t[1]),16),b:parseInt((t[4]||t[2])+(t[5]||t[2]),16)}}function Os(e){const{r:t,g:n,b:r}=ws(e);return{r:t,g:n,b:r,a:function(e){const t=e.replace("#","");return 4===t.length?parseInt(t.substring(3,5),16):8===t.length?parseInt(t.substring(6,9),16):255}(e)}}function Es(e){const t=e.k/100,n=1-Math.min(1,e.c/100*(1-t)+t),r=1-Math.min(1,e.m/100*(1-t)+t),o=1-Math.min(1,e.y/100*(1-t)+t);return{r:hs(n),g:hs(r),b:hs(o)}}function xs(e){return e>360||e<0?(e%(t=360)+t)%t:e;var t}var Ss,Ps,Cs,Ts;const _s=la(Ss||(Ss=Ho(["\n    width: 100%;\n    height: 100%;\n"]))),ks=function(e){const t=ws(e);return ys({r:255-t.r,g:255-t.g,b:255-t.b})}("#C4CDD6");function Is({width:e,height:t,mask:n,dashLength:r=0,shouldAlternate:o=!0,strokeWidth:i=.1,strokeColor:a="#C4CDD6",alternateStrokeColor:s=ks,ariaLabel:c,style:d,className:p,closePath:f=!0}){const{type:h,paths:m}=n,g=h.toLowerCase(),v=Object(u.useMemo)(()=>os(m,f),[m,f]),y=la(Ps||(Ps=Ho(["\n        stroke-width: ",";\n        fill: none;\n        stroke-dasharray: ",", ",";\n    "])),i,r*i,r*i);return l.a.createElement("svg",{className:ua("idaf-path-mask idaf-stroke-mask--".concat(h),_s,p),viewBox:"0 0 ".concat(e," ").concat(t),style:d,"aria-labelledby":"idaf-".concat(g,"-strokemask")},l.a.createElement("title",{id:"idaf-".concat(g,"-strokemask")},c),l.a.createElement("path",{className:la(Cs||(Cs=Ho(["\n                    ","\n                    stroke: ",";\n                "])),y,a),d:v,fillRule:"evenodd"}),o?l.a.createElement("path",{className:la(Ts||(Ts=Ho(["\n                        ","\n                        stroke: ",";\n                        stroke-dashoffset: ",";\n                    "])),y,s,r*i),d:v,fillRule:"evenodd"}):null)}var Ms,js,As,Rs,Ds,Ls;la(Ms||(Ms=Ho(["\n    width: 100%;\n    height: 100%;\n"])));var Ns,Us,Fs,Bs;la(js||(js=Ho(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    pointer-events: none;\n"]))),la(As||(As=Ho(["\n    position: absolute;\n    top: 100%;\n    left: calc(50% - ","px);\n"])),11),la(Rs||(Rs=Ho(["\n    width: ","px;\n    height: ","px;\n    background-color: var(--dsc-designAreaInteractionColor, #00b5e2);\n    border-radius: 100%;\n    border: 1px solid white;\n    pointer-events: auto;\n\n    svg {\n        color: white;\n        position: absolute;\n        top: calc(50% + 1px);\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: ","px;\n        height: ","px;\n    }\n"])),22,22,14,14),la(Ds||(Ds=Ho(["\n    height: ","px;\n    position: relative;\n    left: calc(50% - 1px);\n    width: 2px;\n    background-color: var(--dsc-designAreaInteractionColor, #00b5e2);\n"])),22),la(Ls||(Ls=Ho(["\n    position: absolute;\n    user-select: none;\n    right: ","px;\n    top: 50%;\n    transform: translateY(-50%);\n    font-size: 12px;\n"])),24),la(Ns||(Ns=Ho(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    touch-action: none;\n"]))),la(Us||(Us=Ho(["\n    position: absolute;\n    box-sizing: border-box;\n    border: 1px solid #00ff78;\n    background-color: rgba(0, 255, 120, 0.25);\n"]))),la(Fs||(Fs=Ho(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n"])));const zs=la(Bs||(Bs=Ho(["\n    user-select: none;\n    position: relative;\n    pointer-events: none;\n    flex-shrink: 0;\n"]))),Vs=Object(u.forwardRef)(({className:e,children:t,height:n,width:r,active:o=!1,style:i,ariaLabel:a},s)=>l.a.createElement("div",{className:ua("idaf-design-area",zs,e),style:Object.assign(Object.assign({},i),{height:n,width:r,zIndex:o?1:0}),ref:s,"aria-label":a},t));var qs;const Gs=la(qs||(qs=Ho(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 1; // atm this seems to be required or some items end up underneath the design area\n    & > * {\n        position: absolute;\n    }\n"])));function Hs({children:e,showOverflow:t=!0,name:n,style:r={},ariaLabel:o,className:i}){return l.a.createElement("div",{className:ua("idaf-design-layer",Gs,n&&"idaf-design-layer-".concat(n),i),style:Object.assign(Object.assign({},r),{overflow:t?"visible":"hidden"}),"aria-label":o},e)}var Ws,Ks,Qs,Ys,Zs;Object(u.createContext)(void 0),la(Ws||(Ws=Ho(["\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n"]))),la(Ks||(Ks=Ho(["\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n"]))),la(Qs||(Qs=Ho(["\n    pointer-events: none;\n    height: 100%;\n    width: 100%;\n"]))),function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(Ys||(Ys={}));const Js=la(Zs||(Zs=Ho(["\n    display: block;\n    width: 100%;\n    height: 100%;\n"])));function Xs({position:e,scenePreviewUrl:t,name:n,className:r}){const{x:o,y:i,width:a,height:s}=e;return l.a.createElement(Hs,{className:r,name:n?"".concat(n,"-scene"):"scene",showOverflow:!0},l.a.createElement("div",{className:ua("dec-scene-preview",n&&"dec-".concat(n,"-scene-preview")),style:{transform:"translate(".concat(o,"px, ").concat(i,"px)"),width:a,height:s}},l.a.createElement("img",{className:ua("dec-scene-preview__image",Js),src:t,alt:""})))}var $s=n("nf3U");if(!u.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!$s.t)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var ec=n("P1HI");function tc(e){e()}function nc(e){return Object($s.m)(e)}var rc="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function oc(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+ic}}var ic=1e4;var ac=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var sc=rc?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,o,i){var a=n++;return r.register(i,a,e),e.current=oc(o),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(rc):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,o){var i;return e.current=oc(r),i=e,t.add(i),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var o=ac(t),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),cc=sc.addReactionToTrack,uc=sc.recordReactionAsCommitted,lc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function dc(e){return"observer".concat(e)}var pc=function(){};function fc(){return new pc}var hc="function"==typeof Symbol&&Symbol.for,mc=hc?Symbol.for("react.forward_ref"):"function"==typeof u.forwardRef&&Object(u.forwardRef)((function(e){return null})).$$typeof,gc=hc?Symbol.for("react.memo"):"function"==typeof u.memo&&Object(u.memo)((function(e){return null})).$$typeof;function vc(e,t){var n;if(gc&&e.$$typeof===gc)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,i=e.displayName||e.name;if(mc&&e.$$typeof===mc&&(r=!0,"function"!=typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,s,c=function(e,t){return function(e,t){void 0===t&&(t="observed");var n=lc(l.a.useState(fc),1)[0],r=lc(l.a.useState(),2)[1],o=function(){return r([])},i=l.a.useRef(null);if(!i.current)var a=new $s.c(dc(t),(function(){s.mounted?o():s.changedBeforeMount=!0})),s=cc(i,a,n);var c,u,d=i.current.reaction;if(l.a.useDebugValue(d,nc),l.a.useEffect((function(){return uc(i),i.current?(i.current.mounted=!0,i.current.changedBeforeMount&&(i.current.changedBeforeMount=!1,o())):(i.current={reaction:new $s.c(dc(t),(function(){o()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},o()),function(){i.current.reaction.dispose(),i.current=null}}),[]),d.track((function(){try{c=e()}catch(oA){u=oA}})),u)throw u;return c}((function(){return o(e,t)}),i)};return""!==i&&(c.displayName=i),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=Object(u.forwardRef)(c)),c=Object(u.memo)(c),a=e,s=c,Object.keys(a).forEach((function(e){bc[e]||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(a,e))})),c}var yc,bc={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(yc=ec.a.unstable_batchedUpdates)||(yc=tc),Object($s.i)({reactionScheduler:yc});var wc=n("I8xe"),Oc=n("Ytr/");function Ec(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xc(e){return!!e&&!!e[uu]}function Sc(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===lu}(e)||Array.isArray(e)||!!e[cu]||!!e.constructor[cu]||Ic(e)||Mc(e))}function Pc(e,t,n){void 0===n&&(n=!1),0===Cc(e)?(n?Object.keys:du)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Cc(e){var t=e[uu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ic(e)?2:Mc(e)?3:0}function Tc(e,t){return 2===Cc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _c(e,t){return 2===Cc(e)?e.get(t):e[t]}function kc(e,t,n){var r=Cc(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ic(e){return ou&&e instanceof Map}function Mc(e){return iu&&e instanceof Set}function jc(e){return e.o||e.t}function Ac(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=pu(e);delete t[uu];for(var n=du(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Rc(e,t){return void 0===t&&(t=!1),Lc(e)||xc(e)||!Sc(e)||(Cc(e)>1&&(e.set=e.add=e.clear=e.delete=Dc),Object.freeze(e),t&&Pc(e,(function(e,t){return Rc(t,!0)}),!0)),e}function Dc(){Ec(2)}function Lc(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Nc(e){var t=fu[e];return t||Ec(18,e),t}function Uc(){return nu}function Fc(e,t){t&&(Nc("Patches"),e.u=[],e.s=[],e.v=t)}function Bc(e){zc(e),e.p.forEach(qc),e.p=null}function zc(e){e===nu&&(nu=e.l)}function Vc(e){return nu={p:[],l:nu,h:e,m:!0,_:0}}function qc(e){var t=e[uu];0===t.i||1===t.i?t.j():t.O=!0}function Gc(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Nc("ES5").S(t,e,r),r?(n[uu].P&&(Bc(t),Ec(4)),Sc(e)&&(e=Hc(t,e),t.l||Kc(t,e)),t.u&&Nc("Patches").M(n[uu].t,e,t.u,t.s)):e=Hc(t,n,[]),Bc(t),t.u&&t.v(t.u,t.s),e!==su?e:void 0}function Hc(e,t,n){if(Lc(t))return t;var r=t[uu];if(!r)return Pc(t,(function(o,i){return Wc(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Kc(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Ac(r.k):r.o;Pc(3===r.i?new Set(o):o,(function(t,i){return Wc(e,r,o,t,i,n)})),Kc(e,o,!1),n&&e.u&&Nc("Patches").R(r,n,e.u,e.s)}return r.o}function Wc(e,t,n,r,o,i){if(xc(o)){var a=Hc(e,o,i&&t&&3!==t.i&&!Tc(t.D,r)?i.concat(r):void 0);if(kc(n,r,a),!xc(a))return;e.m=!1}if(Sc(o)&&!Lc(o)){if(!e.h.F&&e._<1)return;Hc(e,o),t&&t.A.l||Kc(e,o)}}function Kc(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Rc(t,n)}function Qc(e,t){var n=e[uu];return(n?jc(n):e)[t]}function Yc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Zc(e){e.P||(e.P=!0,e.l&&Zc(e.l))}function Jc(e){e.o||(e.o=Ac(e.t))}function Xc(e,t,n){var r=Ic(t)?Nc("MapSet").N(t,n):Mc(t)?Nc("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Uc(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=hu;n&&(o=[r],i=mu);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):Nc("ES5").J(t,n);return(n?n.A:Uc()).p.push(r),r}function $c(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ac(e)}function eu(){function e(t){if(!Sc(t))return t;if(Array.isArray(t))return t.map(e);if(Ic(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(Mc(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return Tc(t,cu)&&(n[cu]=t[cu]),n}function t(t){return xc(t)?e(t):t}var n="add";!function(e,t){fu[e]||(fu[e]=t)}("Patches",{$:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,a=t,s=0;s<o.length-1;s++){var c=Cc(a),u=""+o[s];0!==c&&1!==c||"__proto__"!==u&&"constructor"!==u||Ec(24),"function"==typeof a&&"prototype"===u&&Ec(24),"object"!=typeof(a=_c(a,u))&&Ec(15,o.join("/"))}var l=Cc(a),d=e(r.value),p=o[o.length-1];switch(i){case"replace":switch(l){case 2:return a.set(p,d);case 3:Ec(16);default:return a[p]=d}case n:switch(l){case 1:return"-"===p?a.push(d):a.splice(p,0,d);case 2:return a.set(p,d);case 3:return a.add(d);default:return a[p]=d}case"remove":switch(l){case 1:return a.splice(p,1);case 2:return a.delete(p);case 3:return a.delete(r.value);default:return delete a[p]}default:Ec(17,i)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return function(e,r,o,i){var a=e.t,s=e.o;Pc(e.D,(function(e,c){var u=_c(a,e),l=_c(s,e),d=c?Tc(a,e)?"replace":n:"remove";if(u!==l||"replace"!==d){var p=r.concat(e);o.push("remove"===d?{op:d,path:p}:{op:d,path:p,value:l}),i.push(d===n?{op:"remove",path:p}:"remove"===d?{op:n,path:p,value:t(u)}:{op:"replace",path:p,value:t(u)})}}))}(e,r,o,i);case 5:case 1:return function(e,r,o,i){var a=e.t,s=e.D,c=e.o;if(c.length<a.length){var u=[c,a];a=u[0],c=u[1];var l=[i,o];o=l[0],i=l[1]}for(var d=0;d<a.length;d++)if(s[d]&&c[d]!==a[d]){var p=r.concat([d]);o.push({op:"replace",path:p,value:t(c[d])}),i.push({op:"replace",path:p,value:t(a[d])})}for(var f=a.length;f<c.length;f++){var h=r.concat([f]);o.push({op:n,path:h,value:t(c[f])})}a.length<c.length&&i.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,o,i);case 3:return function(e,t,r,o){var i=e.t,a=e.o,s=0;i.forEach((function(e){if(!a.has(e)){var i=t.concat([s]);r.push({op:"remove",path:i,value:e}),o.unshift({op:n,path:i,value:e})}s++})),s=0,a.forEach((function(e){if(!i.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),o.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,o,i)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===su?void 0:t}),r.push({op:"replace",path:[],value:e})}})}var tu,nu,ru="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ou="undefined"!=typeof Map,iu="undefined"!=typeof Set,au="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,su=ru?Symbol.for("immer-nothing"):((tu={})["immer-nothing"]=!0,tu),cu=ru?Symbol.for("immer-draftable"):"__$immer_draftable",uu=ru?Symbol.for("immer-state"):"__$immer_state",lu=""+Object.prototype.constructor,du="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,pu=Object.getOwnPropertyDescriptors||function(e){var t={};return du(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fu={},hu={get:function(e,t){if(t===uu)return e;var n=jc(e);if(!Tc(n,t))return function(e,t,n){var r,o=Yc(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Sc(r)?r:r===Qc(e.t,t)?(Jc(e),e.o[t]=Xc(e.A.h,r,e)):r},has:function(e,t){return t in jc(e)},ownKeys:function(e){return Reflect.ownKeys(jc(e))},set:function(e,t,n){var r=Yc(jc(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=Qc(jc(e),t),i=null==o?void 0:o[uu];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||Tc(e.t,t)))return!0;Jc(e),Zc(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Qc(e.t,t)||t in e.t?(e.D[t]=!1,Jc(e),Zc(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=jc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ec(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ec(12)}},mu={};Pc(hu,(function(e,t){mu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),mu.deleteProperty=function(e,t){return mu.set.call(this,e,t,void 0)},mu.set=function(e,t,n){return hu.set.call(this,e[0],t,n,e[0])};var gu=new(function(){function e(e){var t=this;this.g=au,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&Ec(6),void 0!==r&&"function"!=typeof r&&Ec(7),Sc(e)){var s=Vc(t),c=Xc(t,e,void 0),u=!0;try{a=n(c),u=!1}finally{u?Bc(s):zc(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Fc(s,r),Gc(e,s)}),(function(e){throw Bc(s),e})):(Fc(s,r),Gc(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===su&&(a=void 0),t.F&&Rc(a,!0),r){var l=[],d=[];Nc("Patches").M(e,a,l,d),r(l,d)}return a}Ec(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Sc(e)||Ec(8),xc(e)&&(e=function(e){return xc(e)||Ec(22,e),function e(t){if(!Sc(t))return t;var n,r=t[uu],o=Cc(t);if(r){if(!r.P&&(r.i<4||!Nc("ES5").K(r)))return r.t;r.I=!0,n=$c(t,o),r.I=!1}else n=$c(t,o);return Pc(n,(function(t,o){r&&_c(r.t,t)===o||kc(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=Vc(this),n=Xc(this,e,void 0);return n[uu].C=!0,zc(t),n},t.finishDraft=function(e,t){var n=(e&&e[uu]).A;return Fc(n,t),Gc(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!au&&Ec(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Nc("Patches").$;return xc(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}());gu.produce;var vu=gu.produceWithPatches.bind(gu);gu.setAutoFreeze.bind(gu),gu.setUseProxies.bind(gu);var yu=gu.applyPatches.bind(gu);function bu(e,t,n){let r={};const[o,i,a]=vu(e,e=>{r=t(e,n)});return{cimDoc:o,commandOutput:r,patches:i,inversePatches:a}}function wu(e){return"number"==typeof e&&!Number.isNaN(e)}function Ou(e){return null!=e}gu.createDraft.bind(gu),gu.finishDraft.bind(gu),eu();function Eu(e,t,n){const r=null!=e?e:0;switch(n){case fa.IN:return function(e,t){switch(t){case fa.FT:return function(e){return 12*e}(e);case fa.YD:return 36*e;case fa.MM:return e/25.4;case fa.CM:return e/2.54;case fa.M:return e/.0254;case fa.PT:return function(e){return e/72}(e);case fa.IN:default:return e}}(r,t);case fa.FT:return function(e,t){switch(t){case fa.IN:return e/12;case fa.YD:return 3*e;case fa.MM:return e/304.8;case fa.CM:return e/30.48;case fa.M:return e/.3048;case fa.PT:return function(e){return e/864}(e);case fa.FT:default:return e}}(r,t);case fa.YD:return function(e,t){switch(t){case fa.IN:return e/36;case fa.FT:return function(e){return e/3}(e);case fa.MM:return e/914.4;case fa.CM:return e/91.44;case fa.M:return e/.9144;case fa.PT:return function(e){return e/2592}(e);case fa.YD:default:return e}}(r,t);case fa.MM:return function(e,t){switch(t){case fa.IN:return 25.4*e;case fa.FT:return function(e){return 304.8*e}(e);case fa.YD:return 914.4*e;case fa.CM:return 10*e;case fa.M:return 1e3*e;case fa.PT:return function(e){return e/2.834646}(e);case fa.MM:default:return e}}(r,t);case fa.CM:return function(e,t){switch(t){case fa.IN:return 2.54*e;case fa.FT:return function(e){return 30.48*e}(e);case fa.YD:return 91.44*e;case fa.MM:return e/10;case fa.M:return 100*e;case fa.PT:return function(e){return e/28.34646}(e);case fa.CM:default:return e}}(r,t);case fa.M:return function(e,t){switch(t){case fa.IN:return.0254*e;case fa.FT:return function(e){return.3048*e}(e);case fa.YD:return.9144*e;case fa.MM:return e/1e3;case fa.CM:return e/100;case fa.PT:return function(e){return e/2834.646}(e);case fa.M:default:return e}}(r,t);case fa.PT:default:return function(e,t){switch(t){case fa.IN:return 72*e;case fa.FT:return function(e){return 864*e}(e);case fa.MM:return 2.834646*e;case fa.CM:return 28.34646*e;case fa.M:return 2834.646*e;case fa.YD:return 2592*e;case fa.PT:default:return e}}(r,t)}}function xu(e){const t=/[^+-.eE\d]*$/.exec(e);if(!t)throw Error('Measurement conversion failed. "'.concat(e,'" was not able to be parsed for the measurement unit.'));const n=t[0].toLowerCase().trim();if(r=n,!Object.values(fa).includes(r))throw Error('Measurement conversion failed.\n        "'.concat(n,'" is not recognized. Use "in", "ft", "yd", "mm", cm", "m", or "pt" instead.'));var r;return n}class Su{constructor(e,t){if(Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),wu(e)){if(void 0===t)throw new Error('A "unit" argument must be passed when using a number input.');this.value=e,this.unit=t}else this.value=function(e){if(/\..*\./.exec(e))throw Error('Measurement conversion failed. "'.concat(e,'" has multiple "." characters which is invalid.'));const t=parseFloat(e);if(Number.isNaN(t))throw Error('Measurement conversion failed. "'.concat(e,'" returned a NaN value.'));return t}(e),this.unit=xu(e)}get measurement(){return"".concat(this.value).concat(this.unit)}get mm(){return Eu(this.value,this.unit,fa.MM)}get cm(){return Eu(this.value,this.unit,fa.CM)}get m(){return Eu(this.value,this.unit,fa.M)}get in(){return Eu(this.value,this.unit,fa.IN)}get ft(){return Eu(this.value,this.unit,fa.FT)}get yd(){return Eu(this.value,this.unit,fa.YD)}get pt(){return Eu(this.value,this.unit,fa.PT)}}function Pu({x:e,y:t}){return Math.sqrt(e*e+t*t)}function Cu(e,t){const n=t.x+t.width,r=t.y+t.height;return e.x>t.x&&e.x<n&&e.y>t.y&&e.y<r}function Tu({x:e,y:t,width:n,height:r}){return[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}]}function _u({x:e,y:t,width:n,height:r}){return{x:e+n/2,y:t+r/2}}function ku(e,t,n){if(0===n)return e;const r=e.x-t.x,o=e.y-t.y,i=Pu({x:r,y:o}),a=Math.atan2(o,r)-function(e){return e*(Math.PI/180)}(n);return{x:t.x+i*Math.cos(a),y:t.y+i*Math.sin(a)}}function Iu(e,t,n){const r=Tu(e);return 0===n?r:[ku(r[0],t,n),ku(r[1],t,n),ku(r[2],t,n),ku(r[3],t,n)]}function Mu(e,t){return Iu(e,_u(e),t)}function ju(e,t,n){const r=_u(e),o=_u(t),i={x:t.x,y:t.y},a=ku(i,r,-n),s=ku(o,r,-n),{x:c,y:u}=ku(a,s,n);return{x:c-i.x,y:u-i.y}}function Au(e){return!!e&&void 0!==e.printUrl}function Ru(e){return!!e&&void 0!==e.content}function Du(e){return!!e&&"line"===e.type}function Lu(e){return!!e&&"rectangle"===e.type}function Nu(e){return Lu(e)||function(e){return!!e&&"ellipse"===e.type}(e)}function Uu(e){return!!e&&"curve"===e.type}function Fu(e){return Du(e)||Nu(e)||Uu(e)}function Bu(e){const t=e;return!!e&&(void 0!==t.textAreas||void 0!==t.images||void 0!==t.itemReferences||void 0!==t.shapes||void 0!==t.subpanels||void 0!==t.ornaments)}function zu(e,t){var n,r,o,i;const{panels:a}=e.document;for(let s=0;s<a.length;s++){let e=(null!==(n=a[s].images)&&void 0!==n?n:[]).findIndex(e=>e.id===t);if(-1!==e)return{item:a[s].images[e],panelIndex:s,panelId:a[s].id,itemIndex:e,itemType:"image"};if(e=(null!==(r=a[s].textAreas)&&void 0!==r?r:[]).findIndex(e=>e.id===t),-1!==e)return{item:a[s].textAreas[e],panelIndex:s,panelId:a[s].id,itemIndex:e,itemType:"textArea"};if(e=(null!==(o=a[s].shapes)&&void 0!==o?o:[]).findIndex(e=>e.id===t),-1!==e)return{item:a[s].shapes[e],panelIndex:s,panelId:a[s].id,itemIndex:e,itemType:"shape"};if(e=(null!==(i=a[s].itemReferences)&&void 0!==i?i:[]).findIndex(e=>e.id===t),-1!==e)return{item:a[s].itemReferences[e],panelIndex:s,panelId:a[s].id,itemIndex:e,itemType:"itemReference"}}return null}function Vu(e,t){const{item:n}=zu(e,t)||{};return null!=n?n:null}function qu(e,t){return e.document.panels.find(e=>e.id===t)}function Gu({width:e,height:t}){return{width:new Su(e).mm,height:new Su(t).mm}}function Hu(e){return Object.assign({x:new Su(e.x).mm,y:new Su(e.y).mm},Gu(e))}function Wu(e){if(Du(e)){const t=new Su(e.start.x).mm,n=new Su(e.start.y).mm,r=new Su(e.end.x).mm,o=new Su(e.stroke.thickness).mm;return{x:"".concat(t-o/2).concat(fa.MM),y:"".concat(n-o/2).concat(fa.MM),width:"".concat(Math.abs(r-t)+o).concat(fa.MM),height:"".concat(o).concat(fa.MM)}}return e.position}var Ku;!function(e){e.AlignLeft="AlignLeft",e.AlignRight="AlignRight",e.AlignTop="AlignTop",e.AlignBottom="AlignBottom",e.CenterHorizontally="CenterHorizontally",e.CenterVertically="CenterVertically"}(Ku||(Ku={})),Ku.AlignLeft,Ku.AlignRight,Ku.AlignTop,Ku.AlignBottom,Ku.CenterHorizontally,Ku.CenterVertically;var Qu="object"==typeof le.a&&le.a&&le.a.Object===Object&&le.a,Yu=Qu,Zu="object"==typeof self&&self&&self.Object===Object&&self,Ju=Yu||Zu||Function("return this")(),Xu=Ju.Symbol,$u=Xu,el=Object.prototype,tl=el.hasOwnProperty,nl=el.toString,rl=$u?$u.toStringTag:void 0;var ol=function(e){var t=tl.call(e,rl),n=e[rl];try{e[rl]=void 0;var r=!0}catch(oA){}var o=nl.call(e);return r&&(t?e[rl]=n:delete e[rl]),o},il=Object.prototype.toString;var al=ol,sl=function(e){return il.call(e)},cl=Xu?Xu.toStringTag:void 0;var ul=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":cl&&cl in Object(e)?al(e):sl(e)};var ll=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},dl=ul,pl=ll;var fl,hl=function(e){if(!pl(e))return!1;var t=dl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ml=Ju["__core-js_shared__"],gl=(fl=/[^.]+$/.exec(ml&&ml.keys&&ml.keys.IE_PROTO||""))?"Symbol(src)_1."+fl:"";var vl=function(e){return!!gl&&gl in e},yl=Function.prototype.toString;var bl=function(e){if(null!=e){try{return yl.call(e)}catch(oA){}try{return e+""}catch(oA){}}return""},wl=hl,Ol=vl,El=ll,xl=bl,Sl=/^\[object .+?Constructor\]$/,Pl=Function.prototype,Cl=Object.prototype,Tl=Pl.toString,_l=Cl.hasOwnProperty,kl=RegExp("^"+Tl.call(_l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Il=function(e){return!(!El(e)||Ol(e))&&(wl(e)?kl:Sl).test(xl(e))},Ml=function(e,t){return null==e?void 0:e[t]};var jl=function(e,t){var n=Ml(e,t);return Il(n)?n:void 0},Al=jl(Object,"create"),Rl=Al;var Dl=function(){this.__data__=Rl?Rl(null):{},this.size=0};var Ll=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nl=Al,Ul=Object.prototype.hasOwnProperty;var Fl=function(e){var t=this.__data__;if(Nl){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ul.call(t,e)?t[e]:void 0},Bl=Al,zl=Object.prototype.hasOwnProperty;var Vl=Al;var ql=Dl,Gl=Ll,Hl=Fl,Wl=function(e){var t=this.__data__;return Bl?void 0!==t[e]:zl.call(t,e)},Kl=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vl&&void 0===t?"__lodash_hash_undefined__":t,this};function Ql(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ql.prototype.clear=ql,Ql.prototype.delete=Gl,Ql.prototype.get=Hl,Ql.prototype.has=Wl,Ql.prototype.set=Kl;var Yl=Ql;var Zl=function(){this.__data__=[],this.size=0};var Jl=function(e,t){return e===t||e!=e&&t!=t},Xl=Jl;var $l=function(e,t){for(var n=e.length;n--;)if(Xl(e[n][0],t))return n;return-1},ed=$l,td=Array.prototype.splice;var nd=$l;var rd=$l;var od=$l;var id=Zl,ad=function(e){var t=this.__data__,n=ed(t,e);return!(n<0)&&(n==t.length-1?t.pop():td.call(t,n,1),--this.size,!0)},sd=function(e){var t=this.__data__,n=nd(t,e);return n<0?void 0:t[n][1]},cd=function(e){return rd(this.__data__,e)>-1},ud=function(e,t){var n=this.__data__,r=od(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ld(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ld.prototype.clear=id,ld.prototype.delete=ad,ld.prototype.get=sd,ld.prototype.has=cd,ld.prototype.set=ud;var dd=ld,pd=jl(Ju,"Map"),fd=Yl,hd=dd,md=pd;var gd=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var vd=function(e,t){var n=e.__data__;return gd(t)?n["string"==typeof t?"string":"hash"]:n.map},yd=vd;var bd=vd;var wd=vd;var Od=vd;var Ed=function(){this.size=0,this.__data__={hash:new fd,map:new(md||hd),string:new fd}},xd=function(e){var t=yd(this,e).delete(e);return this.size-=t?1:0,t},Sd=function(e){return bd(this,e).get(e)},Pd=function(e){return wd(this,e).has(e)},Cd=function(e,t){var n=Od(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Td(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Td.prototype.clear=Ed,Td.prototype.delete=xd,Td.prototype.get=Sd,Td.prototype.has=Pd,Td.prototype.set=Cd;var _d=Td,kd=_d;function Id(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Id.Cache||kd),n}Id.Cache=kd;var Md=Id;var jd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ad=/\\(\\)?/g;(function(e){var t=Md(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache})((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jd,(function(e,n,r,o){t.push(r?o.replace(Ad,"$1"):n||e)})),t}));var Rd=Xu?Xu.prototype:void 0;Rd&&Rd.toString;var Dd,Ld,Nd,Ud=jl;function Fd(e){if("bearer"===e.authType)return{Authorization:"Bearer ".concat(e.value)};if("session"===e.authType)return{"x-session-id":e.value};throw TypeError("Provided auth configuration with no compatible auth type (bearer or session)")}!function(){try{var e=Ud(Object,"defineProperty");e({},"",{})}catch(oA){}}(),function(e){e.RGB="rgb",e.RGBA="rgba",e.Hex="hex",e.CMYK="cmyk",e.CMYKA="cmyka",e.Thread="thread",e.Pantone="pantone",e.Spot="spot",e.CustomSpot="custom-spot"}(Dd||(Dd={})),Dd.RGB,Dd.RGBA,Dd.Hex,Dd.CMYK,Dd.CMYKA,Dd.Spot,Dd.CustomSpot,Dd.Pantone,Dd.Thread,function(e){e.ProcessColorsAndSpotColors="ProcessColorsAndSpotColors",e.ProcessColorsOnly="ProcessColorsOnly",e.SpotColorsOnly="SpotColorsOnly"}(Ld||(Ld={})),function(e){e.ColorFormatError="validateColorRestrictions:ColorFormat",e.TooManySpotColors="validateColorRestrictions:TooManySpotColors",e.NotEnoughSpotColors="validateColorRestrictions:NotEnoughSpotColors",e.TooManyOtherSpotColors="validateColorRestrictions:TooManyOtherSpotColors",e.NotEnoughOtherSpotColors="validateColorRestrictions:NotEnoughOtherSpotColors",e.TooManyTotalSpotColors="validateColorRestrictions:TooManyTotalSpotColors",e.NotEnoughTotalSpotColors="validateColorRestrictions:NotEnoughTotalSpotColors"}(Nd||(Nd={}));var Bd,zd;function Vd(e){return{top:"".concat(e.top),bottom:"".concat(e.bottom),left:"".concat(e.left),right:"".concat(e.right)}}function qd(e){return{top:parseFloat(e.top),bottom:parseFloat(e.bottom),left:parseFloat(e.left),right:parseFloat(e.right)}}function Gd(e){return{x:new Su(e.x).mm,y:new Su(e.y).mm,width:new Su(e.width).mm,height:new Su(e.height).mm}}function Hd(e){let t=1/0,n=1/0,r=-1/0,o=-1/0;return e.forEach(e=>{e.x<t&&(t=e.x),e.x>r&&(r=e.x),e.y<n&&(n=e.y),e.y>o&&(o=e.y)}),{x:t,y:n,width:r-t,height:o-n}}function Wd(e,t,n){const r=Gd(e),o=Gd(n);return!function(e,t){const n=[e,t];let r,o,i,a;for(let s=0;s<n.length;s++){const c=n[s];for(let n=0;n<c.length;n++){const s=(n+1)%c.length,u=c[n],l=c[s],d={x:l.y-u.y,y:u.x-l.x};r=void 0,o=void 0;for(let t=0;t<e.length;t++){const n=d.x*e[t].x+d.y*e[t].y;(void 0===r||n<r)&&(r=n),(void 0===o||n>o)&&(o=n)}i=void 0,a=void 0;for(let e=0;e<t.length;e++){const n=d.x*t[e].x+d.y*t[e].y;(void 0===i||n<i)&&(i=n),(void 0===a||n>a)&&(a=n)}if(void 0!==o&&void 0!==i&&o<=i||void 0!==a&&void 0!==r&&a<=r)return!1}}return!0}(Mu(r,t),Tu(o))}function Kd(e,{id:t,boundaries:n}){var r;const o=zu(e,t);if(!o)return;const{item:i}=o,a=Hu(n),s=Hu(Wu(i)),{x:c,y:u}=function(e,t,n){const r=Hd(Mu(e,t));let o,i;return r.x>n.x+n.width&&(o=n.x+n.width-r.width),r.x+r.width<n.x&&(o=n.x),r.y>n.y+n.height&&(i=n.y+n.height-r.height),r.y+r.height<n.y&&(i=n.y),{x:Ou(o)?e.x+o-r.x:void 0,y:Ou(i)?e.y+i-r.y:void 0}}(s,parseFloat(null!==(r=i.rotationAngle)&&void 0!==r?r:"0"),a);if(Du(i)){const e=new Su(i.stroke.thickness).mm;if(wu(c)){const t=c+e/2,n=new Su(i.end.x).mm-new Su(i.start.x).mm;i.start.x="".concat(t).concat(fa.MM),i.end.x="".concat(t+n).concat(fa.MM)}wu(u)&&(i.start.y="".concat(u+e/2).concat(fa.MM),i.end.y="".concat(u+e/2).concat(fa.MM))}else wu(c)&&(i.position.x="".concat(c).concat(fa.MM)),wu(u)&&(i.position.y="".concat(u).concat(fa.MM))}function Qd(e,t){const n=function(e){const{width:t,height:n}=Gu(e);return Math.min(t,n)}(e);return 0===n?0:t/n}function Yd(e,{id:t,newWidth:n,newHeight:r,newX:o,newY:i}){var a;n=Math.max(n,0),r=Math.max(r,0);const s=zu(e,t);if(!s)return;const{item:c,panelIndex:u}=s,l=e.document.panels[u],d={x:"0mm",y:"0mm",width:l.width,height:l.height},p=Wu(c),f=Ou(o),h=Ou(i),m={x:f?new Su(o,fa.MM).measurement:p.x,y:h?new Su(i,fa.MM).measurement:p.y,width:new Su(n,fa.MM).measurement,height:new Su(r,fa.MM).measurement};if(Lu(c)&&(c.cornerRadius=null===(a=function(e,t,n){if(!Ou(e.cornerRadius))return;const r=Qd(e.position,new Su(e.cornerRadius).mm),o=Math.min(t,n),i=ls(o*r,0,o/2);return new Su(i,fa.MM)}(c,n,r))||void 0===a?void 0:a.measurement),Du(c)){const e=new Su(c.stroke.thickness).mm,t=new Su(new Su(m.x).mm+e/2,fa.MM).measurement,r=new Su(new Su(t).mm+n-e,fa.MM).measurement,o=new Su(new Su(m.y).mm+e/2,fa.MM).measurement;m.height=c.stroke.thickness,c.start.x=t,c.start.y=o,c.end.x=r,c.end.y=o}else c.position.width=m.width,c.position.height=m.height,f&&(c.position.x=m.x),h&&(c.position.y=m.y);Wd(m,parseFloat(c.rotationAngle||"0"),d)&&Kd(e,{id:t,boundaries:d})}Ld.ProcessColorsOnly,Ld.ProcessColorsAndSpotColors,Ld.SpotColorsOnly,Ld.SpotColorsOnly,Ld.SpotColorsOnly,Ld.SpotColorsOnly,function(e){e.BringForward="BringForward",e.PushBackward="PushBackward",e.BringToFront="BringToFront",e.PushToBack="PushToBack"}(Bd||(Bd={}));class Zd extends Error{constructor(e,t="ExecuteCommandError",n){super("".concat(t,": ").concat(e)),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t,n&&(this.data=n),Error.captureStackTrace&&Error.captureStackTrace(this,Zd)}}function Jd(e,{id:t,crop:n,autoUpdatePosition:r}){if([n.left,n.right,n.top,n.bottom].some(e=>e<0||e>=1))throw new Zd("All crop values must be a percentage value [0,1)",zd.InvalidCropValue);if(n.left+n.right>=1||n.top+n.bottom>=1)throw new Zd("Horizontal or Vertical crop values may not add up to be 1 or more",zd.OverCropped);const o=Vu(e,t);if(Au(o)){if(r){const r=function({item:e,crop:t}){const n=e.cropFractions?qd(e.cropFractions):{top:0,right:0,bottom:0,left:0},r=1-n.left-n.right,o=1-n.top-n.bottom,i=(1-t.left-t.right)/r,a=(1-t.top-t.bottom)/o,s={x:new Su(e.position.x).mm,y:new Su(e.position.y).mm},c={width:new Su(e.position.width).mm,height:new Su(e.position.height).mm};if(ds(i,1)&&ds(a,1))return{newWidth:c.width,newHeight:c.height,newX:s.x,newY:s.y};const u=c.width/r,l=c.height/o,d=(n.left-t.left)*u,p=(n.top-t.top)*l,f={x:s.x-d,y:s.y-p},h={width:c.width*i,height:c.height*a},m=e.rotationAngle?parseFloat(e.rotationAngle):0,g=ju(Object.assign(Object.assign({},s),c),Object.assign(Object.assign({},f),h),m);return{newWidth:h.width,newHeight:h.height,newX:f.x+g.x,newY:f.y+g.y}}({item:o,crop:n});Yd(e,Object.assign({id:t},r))}o.cropFractions=Vd(n)}}function Xd(e,t){Jd(e,t),t.autoUpdatePosition||(!function(e,{id:t,position:n}){const r=zu(e,t);if(!r)return;const{item:o,panelIndex:i}=r,{x:a,y:s}=n,c=e.document.panels[i],u={x:"0mm",y:"0mm",width:c.width,height:c.height},l=Object.assign(Object.assign({},Wu(o)),{x:a,y:s});if(Du(o)){const e=new Su(o.end.x).mm-new Su(o.start.x).mm,t=new Su(o.stroke.thickness).mm,n=new Su(new Su(a).mm+t/2,fa.MM).measurement,r=new Su(new Su(s).mm+t/2,fa.MM).measurement;o.start.x=n,o.start.y=r,o.end.x=new Su(new Su(n).mm+e,fa.MM).measurement,o.end.y=r}else o.position.x=a,o.position.y=s;Wd(l,parseFloat(o.rotationAngle||"0"),u)&&Kd(e,{id:t,boundaries:u})}(e,t),Yd(e,t))}!function(e){e.InvalidCropValue="cropItem:InvalidCropValue",e.OverCropped="cropItem:OverCropped"}(zd||(zd={}));var $d=dd;var ep=dd,tp=pd,np=_d;var rp=dd,op=function(){this.__data__=new $d,this.size=0},ip=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ap=function(e){return this.__data__.get(e)},sp=function(e){return this.__data__.has(e)},cp=function(e,t){var n=this.__data__;if(n instanceof ep){var r=n.__data__;if(!tp||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new np(r)}return n.set(e,t),this.size=n.size,this};function up(e){var t=this.__data__=new rp(e);this.size=t.size}up.prototype.clear=op,up.prototype.delete=ip,up.prototype.get=ap,up.prototype.has=sp,up.prototype.set=cp;var lp=up;var dp=function(e){return null!=e&&"object"==typeof e},pp=ul,fp=dp;var hp=function(e){return fp(e)&&"[object Arguments]"==pp(e)},mp=dp,gp=Object.prototype,vp=gp.hasOwnProperty,yp=gp.propertyIsEnumerable,bp=hp(function(){return arguments}())?hp:function(e){return mp(e)&&vp.call(e,"callee")&&!yp.call(e,"callee")},wp={exports:{}};var Op=function(){return!1};!function(e,t){var n=Ju,r=Op,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(wp,wp.exports);var Ep=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},xp=ul,Sp=Ep,Pp=dp,Cp={};Cp["[object Float32Array]"]=Cp["[object Float64Array]"]=Cp["[object Int8Array]"]=Cp["[object Int16Array]"]=Cp["[object Int32Array]"]=Cp["[object Uint8Array]"]=Cp["[object Uint8ClampedArray]"]=Cp["[object Uint16Array]"]=Cp["[object Uint32Array]"]=!0,Cp["[object Arguments]"]=Cp["[object Array]"]=Cp["[object ArrayBuffer]"]=Cp["[object Boolean]"]=Cp["[object DataView]"]=Cp["[object Date]"]=Cp["[object Error]"]=Cp["[object Function]"]=Cp["[object Map]"]=Cp["[object Number]"]=Cp["[object Object]"]=Cp["[object RegExp]"]=Cp["[object Set]"]=Cp["[object String]"]=Cp["[object WeakMap]"]=!1;var Tp=function(e){return Pp(e)&&Sp(e.length)&&!!Cp[xp(e)]};var _p=function(e){return function(t){return e(t)}},kp={exports:{}};!function(e,t){var n=Qu,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(oA){}}();e.exports=a}(kp,kp.exports);var Ip=Tp,Mp=_p,jp=kp.exports,Ap=jp&&jp.isTypedArray,Rp=Ap?Mp(Ap):Ip,Dp={exports:{}};!function(e,t){var n=Ju,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(Dp,Dp.exports);var Lp=jl(Ju,"DataView"),Np=pd,Up=jl(Ju,"Promise"),Fp=jl(Ju,"Set"),Bp=jl(Ju,"WeakMap"),zp=ul,Vp=bl,qp=Vp(Lp),Gp=Vp(Np),Hp=Vp(Up),Wp=Vp(Fp),Kp=Vp(Bp),Qp=zp;(Lp&&"[object DataView]"!=Qp(new Lp(new ArrayBuffer(1)))||Np&&"[object Map]"!=Qp(new Np)||Up&&"[object Promise]"!=Qp(Up.resolve())||Fp&&"[object Set]"!=Qp(new Fp)||Bp&&"[object WeakMap]"!=Qp(new Bp))&&(Qp=function(e){var t=zp(e),n="[object Object]"==t?e.constructor:void 0,r=n?Vp(n):"";if(r)switch(r){case qp:return"[object DataView]";case Gp:return"[object Map]";case Hp:return"[object Promise]";case Wp:return"[object Set]";case Kp:return"[object WeakMap]"}return t});var Yp=Qp,Zp=Ju.Uint8Array,Jp=Xu?Xu.prototype:void 0;Jp&&Jp.valueOf;var Xp=kp.exports;Xp&&Xp.isMap;var $p,ef,tf,nf,rf=kp.exports;rf&&rf.isSet,function(e){e.None="none",e.Offset="offset",e.Digital="digital",e.OffsetOrDigital="offsetOrDigital",e.DirectToGarment="directToGarment",e.HeatTransfer="heatTransfer",e.LaserEngraving="laserEngraving",e.ScreenPrint="screenPrint",e.PadPrint="padPrint",e.InkJet="inkJet",e.Thermography="thermography",e.EmbroideryFlat="embroideryFlat",e.EmbroideryCylinder="embroideryCylinder",e.Sublimation="sublimation",e.Unknown="unknown"}($p||($p={})),function(e){e.MoveTo="moveTo",e.LineTo="lineTo",e.Close="close",e.CurveTo="curveTo"}(ef||(ef={})),function(e){e.IncompatibleItem="removeColorOverrides:IncompatibleItem",e.NoColorOverrides="removeColorOverrides:NoColorOverrides"}(tf||(tf={})),function(e){e.PRINT="print",e.EMBROIDERY="embroidery"}(nf||(nf={}));n("80JR"),n("sYik"),n("Trhe");var of=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},af=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var sf,cf=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function uf(e){return cf(this,void 0,void 0,(function*(){const{colorPalette:t}=yield function(e){var{headers:t,jtiFileUrl:n}=e,r=af(e,["headers","jtiFileUrl"]);return of(this,void 0,void 0,(function*(){const e=new URL("".concat("https://stitchapi.embroidery.cimpress.io","/integration/interrogate"));e.searchParams.append("fileUrl",n);try{const n=yield fetch(e.toString(),Object.assign({headers:t},r));if(!n.ok)throw new Error(n.statusText);try{return{colorPalette:(yield n.json()).colorPallete}}catch(o){throw new Error("An error occured while parsing the response, ".concat(o.message))}}catch(i){throw new Error("Fetch to getJtiInfo failed: ".concat(i.message))}}))}(Object.assign({},e));return t.filter(e=>"substrate"!==e.id).map(e=>({color:"thread(".concat(e.id,")"),ordinal:e.ordinal})).sort((e,t)=>function(e,t){return e-t}(e.ordinal,t.ordinal))}))}!function(e){e.NotInitialized="NotInitialized",e.Fetching="Fetching",e.Ready="Ready",e.Failed="Failed"}(sf||(sf={}));n("W47U");nf.PRINT,nf.PRINT;var lf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class df{constructor(e,t){Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.model=e,this.parent=t,Au(e)?this.type="image":Fu(e)?this.type="shape":Ru(e)?this.type="textArea":this.type="itemReference"}get id(){return this.model.id}get asJson(){return Object($s.y)(this.model)}setFromJson(e){const t=this.asJson;if(t===e)return;Object.entries(e).forEach(([e,n])=>{t[e]!==n&&(this.model[e]=n)});const n=Object.keys(t),r=Object.keys(e);n.length>r.length&&n.forEach(e=>{r.includes(e)||delete this.model[e]})}isTextAreaItem(){return"textArea"===this.type}isImageItem(){return"image"===this.type}isShapeItem(){return"shape"===this.type}isItemReference(){return"itemReference"===this.type}}function pf(e,t){var n,r,o,i,a;const s=new Set,c={added:[],changed:[],deleted:[]};[...(null===(n=t.images)||void 0===n?void 0:n.map(e=>e.id))||[],...(null===(r=t.textAreas)||void 0===r?void 0:r.map(e=>e.id))||[],...(null===(o=t.shapes)||void 0===o?void 0:o.map(e=>e.id))||[],...(null===(i=t.itemReferences)||void 0===i?void 0:i.map(e=>e.id))||[],...(null===(a=t.subpanels)||void 0===a?void 0:a.map(e=>e.id))||[]].forEach(t=>{e.find(e=>e.id===t)?c.changed.push(t):c.added.push(t),s.add(t)});for(let u=e.length-1;u>=0;u-=1){const t=e[u];s.has(t.id)||c.deleted.push(t.id)}return c}lf([$s.u],df.prototype,"model",void 0),lf([$s.h],df.prototype,"id",null),lf([Object($s.h)({keepAlive:!0})],df.prototype,"asJson",null),lf([$s.f.bound],df.prototype,"setFromJson",null);var ff=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class mf{constructor(e,t){Object.defineProperty(this,"subpanelProperties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"subpanel"}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object($s.t)(this);const n=hf(e,["images","textAreas","shapes","itemReferences","subpanels"]);this.subpanelProperties=n,this.parent=t,this.setFromJson(e)}get id(){return this.subpanelProperties.id}get asJson(){const e=this.items.filter(e=>"image"===e.type).map(e=>e.asJson),t=this.items.filter(e=>"textArea"===e.type).map(e=>e.asJson),n=this.items.filter(e=>"shape"===e.type).map(e=>e.asJson),r=this.items.filter(e=>"itemReference"===e.type).map(e=>e.asJson),o=this.items.filter(e=>"subpanel"===e.type).map(e=>e.asJson);return Object.assign(Object.assign({},this.modelAsJson),{images:e,textAreas:t,shapes:n,itemReferences:r,subpanels:o})}get modelAsJson(){return Object($s.y)(this.subpanelProperties)}setFromJson(e){const t=pf(this.items,e),{images:n,textAreas:r,shapes:o,itemReferences:i,subpanels:a}=e,s=hf(e,["images","textAreas","shapes","itemReferences","subpanels"]),c=this.modelAsJson;if(c!==s){Object.entries(s).forEach(([e,t])=>{c[e]!==t&&(this.subpanelProperties[e]=t)});const e=Object.keys(c),t=Object.keys(s);e.length>t.length&&e.forEach(e=>{t.includes(e)||delete this.subpanelProperties[e]})}const u=[...n||[],...r||[],...o||[],...i||[],...(null==a?void 0:a.filter(Bu))||[]];for(const l of t.changed){const e=this.items.find(e=>e.id===l),t=u.find(e=>e.id===l);e&&t?e.setFromJson(t):console.warn("Skipping sync of item which had changed detected but no longer exists")}for(const l of t.added){const e=u.find(e=>e.id===l);e&&(Bu(e)?this.items.push(new mf(e,this)):this.items.push(new df(e,this)))}for(const l of t.deleted){const e=this.items.findIndex(e=>e.id===l);-1!==e&&this.items.splice(e,1)}}}ff([$s.u],mf.prototype,"subpanelProperties",void 0),ff([$s.u],mf.prototype,"items",void 0),ff([$s.h],mf.prototype,"id",null),ff([$s.h],mf.prototype,"asJson",null),ff([Object($s.h)({keepAlive:!0})],mf.prototype,"modelAsJson",null),ff([$s.f.bound],mf.prototype,"setFromJson",null);var gf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},vf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class yf{constructor(e){Object.defineProperty(this,"panelProperties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this);const t=vf(e,["metadata","images","textAreas","shapes","subpanels"]);this.panelProperties=t,this.setFromJson(e)}get id(){return this.panelProperties.id}get asJson(){const e=this.items.filter(e=>"image"===e.type).map(e=>e.asJson),t=this.items.filter(e=>"textArea"===e.type).map(e=>e.asJson),n=this.items.filter(e=>"shape"===e.type).map(e=>e.asJson),r=this.items.filter(e=>"itemReference"===e.type).map(e=>e.asJson),o=this.items.filter(e=>"subpanel"===e.type).map(e=>e.asJson),i=Object.assign(Object.assign({},this.panelProperties),{images:e,textAreas:t,shapes:n,itemReferences:r,subpanels:o});return void 0!==this.metadata&&(i.metadata=this.metadataAsJson),i}get metadataAsJson(){return Object($s.y)(this.metadata)}setFromJson(e){var t;this.metadataAsJson!==e.metadata&&(this.metadata=e.metadata);const n=pf(this.items,e),r=[...e.images||[],...e.textAreas||[],...e.shapes||[],...e.itemReferences||[],...(null===(t=e.subpanels)||void 0===t?void 0:t.filter(Bu))||[]];for(const o of n.changed){const e=this.items.find(e=>e.id===o),t=r.find(e=>e.id===o);e&&t?e.setFromJson(t):console.warn("Skipping sync of item which had changed detected but no longer exists")}for(const o of n.added){const e=r.find(e=>e.id===o);e&&(Bu(e)?this.items.push(new mf(e,this)):this.items.push(new df(e,this)))}for(const o of n.deleted){const e=this.items.findIndex(e=>e.id===o);-1!==e&&this.items.splice(e,1)}}}gf([$s.u],yf.prototype,"items",void 0),gf([$s.u],yf.prototype,"metadata",void 0),gf([Object($s.h)({keepAlive:!0})],yf.prototype,"asJson",null),gf([Object($s.h)({keepAlive:!0})],yf.prototype,"metadataAsJson",null),gf([$s.f.bound],yf.prototype,"setFromJson",null);var bf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},wf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class Of{constructor(e){Object.defineProperty(this,"cimDocProperties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"panels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object($s.t)(this);const{metadata:t,document:n}=e,r=wf(e,["metadata","document"]);this.cimDocProperties=r,this.metadata=t,this.setFromJson(e)}get asJson(){return Object.assign(Object.assign({},this.cimDocProperties),{document:{panels:this.panels.map(e=>e.asJson)},metadata:Object($s.y)(this.metadata)})}setFromJson(e){this.asJson.metadata!==e.metadata&&(this.metadata=e.metadata);const t=new Set;e.document.panels.forEach(e=>{const n=this.panels.find(t=>t.id===e.id);n?n.setFromJson(e):this.panels.push(new yf(e)),t.add(e.id)});for(let n=this.panels.length-1;n>=0;n-=1){const e=this.panels[n];t.has(e.id)||this.panels.splice(n,1)}}executeCommand(e,t){const n=bu(this.asJson,e,t);return this.setFromJson(n.cimDoc),n}}bf([$s.u],Of.prototype,"metadata",void 0),bf([$s.u],Of.prototype,"panels",void 0),bf([Object($s.h)({keepAlive:!0})],Of.prototype,"asJson",null),bf([$s.f.bound],Of.prototype,"setFromJson",null),bf([$s.f.bound],Of.prototype,"executeCommand",null);var Ef;function xf(e,t){const n=encodeURIComponent(e);return"".concat("https://instructions.documents.cimpress.io/v3","/instructions:").concat(t,"?documentUri=").concat(n)}!function(e){e.preview="preview",e.drawing="drawing",e.item="item"}(Ef||(Ef={}));n("UxZ4");var Sf=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Pf({cimDoc:e,headers:t,deleteAfterDays:n,abortSignal:r}){return function(e,t){var n;return Sf(this,void 0,void 0,(function*(){const r=yield fetch(e,{method:t.type,headers:Object.assign(Object.assign({},t.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t.cimDoc),signal:t.signal});if(r.ok){const e=yield r.json(),t=null!==(n=r.headers.get("ETag"))&&void 0!==n?n:"*";return Object.assign({etag:t},e)}throw new Error("Failed to create UDS request")}))}("".concat("https://storage.documents.cimpress.io/v3","/documents"),{cimDoc:void 0!==n?Object.assign(Object.assign({},e),{deleteAfterDays:n}):e,headers:t,type:"POST",signal:r})}function Cf({renderingInstructionsUrl:e,sceneUrl:t,tenant:n,size:r,format:o="jpg"}){const i={format:o,category:"design-stack"};e&&(i.instructions_uri=e),t&&(i.scene=t),Object.entries(function(e){let t;return t=function(e){return"object"==typeof e}(e)?{width:"".concat(Math.round(e.width)),height:"".concat(Math.round(e.height))}:{pixel:e},t}(r)).forEach(([e,t])=>{t&&(i[e]=t)});const a=new URLSearchParams(i);return"".concat(function(e){return"https://rendering.documents.cimpress.io/v1/".concat(e,"/preview")}(n),"?").concat(a.toString())}function Tf(e){return{version:e.version,fontRepositoryUrl:e.fontRepositoryUrl,document:{panels:[e.panel]}}}var _f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var kf=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var If,Mf;!function(e){e.Product="Product",e.Design="Design"}(If||(If={})),function(e){e.Full="Full",e.Closeup="Closeup",e.Underlay="Underlay",e.Overlay="Overlay"}(Mf||(Mf={}));const jf=Object(u.createContext)(void 0);function Af({designEngine:e,children:t}){return l.a.createElement(jf.Provider,{value:e},t)}function Rf(){const e=Object(u.useContext)(jf);if(!e)throw new Error("Cannot use the useDesignEngine hook without providing a DesignEngine. Make sure there is a DesignEngineProvider above this component, and that it is being passed a DesignEngine.");return e}var Df=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Lf=vc(({panelId:e,sceneUrl:t,name:n,transparent:r=!1,className:o})=>{const{auth:i,panels:a,renderTenant:s}=Rf(),c=Object(u.useMemo)(()=>Fd(i),[i]),[d,p]=Object(u.useState)(void 0);if(Object(u.useEffect)(()=>{!function(){Df(this,void 0,void 0,(function*(){if(!t)return;const e=yield function(e,t){return kf(this,void 0,void 0,(function*(){const n="".concat("https://assets.documents.cimpress.io/v1/interrogation","?sceneUri=").concat(encodeURIComponent(e)),{data:{Width:r,Height:o,Slots:i}}=yield wc.a.get(n,{headers:t});return{width:r,height:o,slots:i.map(({Id:e,Page:t,Bounds:n})=>({id:e,pageNumber:t,bounds:{x:n.X,y:n.Y,width:n.Width,height:n.Height}}))}}))}(t,c);p(e)}))}()},[t,c]),!t||!d)return null;const f=a.findIndex(t=>t.id===e);if(-1===f)return null;const{dimensions:h}=a[f],{width:m,height:g,slots:v}=d,y=f+1,b=v.find(e=>e.pageNumber===y);if(!b)return null;const{bounds:w}=b,O=h.width/w.width,E=h.height/w.height,x={x:-w.x*O,y:-w.y*E,width:m*O,height:g*E},S=function({sceneUrl:e,renderSize:t,tenant:n,transparent:r}){return Cf({sceneUrl:e,size:t,tenant:n,format:r?"png":"jpg"})}({sceneUrl:t,renderSize:{width:m,height:g},tenant:s,transparent:r});return l.a.createElement(Xs,{position:x,scenePreviewUrl:S,name:n,className:o})}),Nf=()=>"undefined"!=typeof navigator&&Boolean(navigator.userAgent.match(/iPhone|iPad|iPod/i)),Uf=()=>"undefined"!=typeof navigator&&Boolean(navigator.userAgent.match(/android/i)),Ff=()=>window.matchMedia("(pointer:coarse)").matches,Bf=()=>Nf()||Uf()||Ff(),zf=()=>"undefined"!=typeof navigator&&Boolean(navigator.userAgent.match(/safari/i))&&Boolean(!navigator.userAgent.match(/chrome/i))&&!Bf();function Vf(e,t,n){var r=this,o=Object(u.useRef)(null),i=Object(u.useRef)(0),a=Object(u.useRef)(null),s=Object(u.useRef)([]),c=Object(u.useRef)(),l=Object(u.useRef)(),d=Object(u.useRef)(e),p=Object(u.useRef)(!0);d.current=e;var f=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,t):null;return Object(u.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]),Object(u.useMemo)((function(){var e=function(e){var t=s.current,n=c.current;return s.current=c.current=null,i.current=e,l.current=d.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(a.current),a.current=f?requestAnimationFrame(e):setTimeout(e,t)},u=function(e){if(!p.current)return!1;var n=e-o.current,r=e-i.current;return!o.current||n>=t||n<0||g&&r>=v},y=function(t){return a.current=null,m&&s.current?e(t):(s.current=c.current=null,l.current)},b=function e(){var r=Date.now();if(u(r))return y(r);if(p.current){var a=r-o.current,s=r-i.current,c=t-a,l=g?Math.min(c,v-s):c;n(e,l)}},w=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=Date.now(),v=u(m);if(s.current=d,c.current=r,o.current=m,v){if(!a.current&&p.current)return i.current=o.current,n(b,t),h?e(o.current):l.current;if(g)return n(b,t),e(o.current)}return a.current||n(b,t),l.current};return w.cancel=function(){a.current&&(f?cancelAnimationFrame(a.current):clearTimeout(a.current)),i.current=0,s.current=o.current=c.current=a.current=null},w.isPending=function(){return!!a.current},w.flush=function(){return a.current?y(Date.now()):l.current},w}),[h,g,t,v,m,f])}var qf={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&e.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var s in o)t.call(o,s)&&o[s]&&e.push(s);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(qf);var Gf=qf.exports;n("QFcT");function Hf(e,t){return e.map((function(e,n){return e+t[n]}))}function Wf(e,t){return e.map((function(e,n){return e-t[n]}))}function Kf(e){return Math.hypot.apply(Math,e)}function Qf(e,t){void 0===t&&(t=e);var n=Kf(t),r=0===n?0:1/n,o=t.map((function(e){return r*e}));return{distance:Kf(e),direction:o}}function Yf(e,t,n){var r=Kf(t),o=0===r?0:1/r,i=0===n?0:1/n,a=i*r,s=t.map((function(e){return i*e})),c=t.map((function(e){return o*e}));return{velocities:s,velocity:a,distance:Kf(e),direction:c}}function Zf(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Jf(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function Xf(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Jf(t-e,n-t,r)+t:e>n?+Jf(e-n,n-t,r)+n:e}function $f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(){return(eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function th(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return rh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function ih(){}function ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?ih:1===t.length?t[0]:function(){for(var e,n,r=oh(t);!(n=r()).done;){var o=n.value;e=o.apply(this,arguments)||e}return e}}function sh(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function ch(e,t){return Object.assign({},t,e||{})}function uh(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function lh(e,t){void 0===e&&(e={});for(var n={},r=0,o=Object.entries(t);r<o.length;r++){var i=o[r],a=i[0],s=i[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=lh(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}function dh(){return"undefined"!=typeof window&&"ontouchstart"in window}function ph(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function fh(e){return Array.from(ph(e)).map((function(e){return e.identifier}))}function hh(e){return{buttons:"buttons"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var mh=function(e){return e};function gh(e,t){void 0===t&&(t=mh);var n=ph(e),r=n?n[0]:e;return t([r.clientX,r.clientY])}function vh(e,t,n){void 0===n&&(n=mh);var r=Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),o=r[0],i=r[1];if(!o||!i)throw Error("The event doesn't have two pointers matching the pointerIds");var a=i.clientX-o.clientX,s=i.clientY-o.clientY,c=(i.clientX+o.clientX)/2,u=(i.clientY+o.clientY)/2;return{values:n([Math.hypot(a,s),-180*Math.atan2(a,s)/Math.PI]),origin:n([c,u])}}function yh(e,t){void 0===t&&(t=mh);var n=e.currentTarget,r=n.scrollX,o=n.scrollY,i=n.scrollLeft,a=n.scrollTop;return t([r||i||0,o||a||0])}function bh(e,t){void 0===t&&(t=mh);var n=e.deltaX,r=e.deltaY,o=e.deltaMode;return 1===o?(n*=40,r*=40):2===o&&(n*=800,r*=800),t([n,r])}function wh(e,t){return void 0===t&&(t=mh),t([e.scale,e.rotation])}var Oh={threshold:function(e){return void 0===e&&(e=0),sh(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return sh(.15);case!1:return sh(0);default:return sh(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"==typeof e?e:sh(e)},transform:!0},Eh=eh({},Oh,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return Eh.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,o=t.right,i=void 0===o?1/0:o,a=t.top,s=void 0===a?-1/0:a,c=t.bottom;return[[r,i],[s,void 0===c?1/0:c]]}}),xh="undefined"!=typeof window&&window.document&&window.document.createElement,Sh={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=xh?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,o=t.capture;return{passive:r,capture:void 0!==o&&o}},transform:!0},Ph=eh({},Oh,{bounds:function(e,t,n){var r=n.distanceBounds,o=void 0===r?{}:r,i=n.angleBounds,a=void 0===i?{}:i,s=function(e){var t=ch(uh(o,e),{min:-1/0,max:1/0});return[t.min,t.max]},c=function(e){var t=ch(uh(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof o&&"function"!=typeof a?[s(),c()]:function(e){return[s(e),c(e)]}}}),Ch=eh({},Eh,{useTouch:function(e){void 0===e&&(e=!1);var t=dh(),n="undefined"!=typeof window&&"onpointerdown"in window;return!(!e||!t)||!(!t||n)},experimental_preventWindowScrollY:function(e){return void 0===e&&(e=!1),e},threshold:function(e,t,n){var r=n.filterTaps,o=void 0!==r&&r,i=n.lockDirection,a=void 0!==i&&i,s=n.axis,c=sh(e,o?3:a||(void 0===s?void 0:s)?1:0);return this.filterTaps=o,c},swipeVelocity:function(e){return void 0===e&&(e=.5),sh(e)},swipeDistance:function(e){return void 0===e&&(e=50),sh(e)},swipeDuration:function(e){return void 0===e&&(e=250),e},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function Th(e){return void 0===e&&(e={}),lh(e,Eh)}function _h(e,t){void 0===e&&(e={}),void 0===t&&(t=new Set);var n=e,r=n.drag,o=n.wheel,i=n.move,a=n.scroll,s=n.pinch,c=n.hover,u=n.eventOptions,l=n.window,d=n.transform,p=function(e){return void 0===e&&(e={}),lh(e,Sh)}({domTarget:n.domTarget,eventOptions:u,transform:d,window:l,enabled:n.enabled});return t.has("onDrag")&&(p.drag=function(e){return void 0===e&&(e={}),lh(e,Ch)}(r)),t.has("onWheel")&&(p.wheel=Th(o)),t.has("onScroll")&&(p.scroll=Th(a)),t.has("onMove")&&(p.move=Th(i)),t.has("onPinch")&&(p.pinch=function(e){return void 0===e&&(e={}),lh(e,Ph)}(s)),t.has("onHover")&&(p.hover=eh({enabled:!0},c)),p}function kh(e){return eh({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:ih,canceled:!1,memo:void 0,args:void 0},e)}function Ih(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:kh({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:kh({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:kh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:kh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:kh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var Mh=new Map,jh=function(e){return e},Ah=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(i))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var o=n.controller.pointerIds.size||n.controller.touchIds.size,i=n.controller.state.shared.buttons>0||o>0,a=eh({},n.controller.state.shared,n.state,n.mapStateValues(n.state),{locked:!!document.pointerLockElement,touches:o,down:i}),s=n.handler(a);return n.state.memo=void 0!==s?s:n.state.memo,a},this.controller=e,this.args=t}var t,n,r,o=e.prototype;return o.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},o.updateGestureState=function(e){Object.assign(this.state,e)},o.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},o.getMovement=function(e){var t=this.config.rubberband,n=this.state,r=n._bounds,o=n._initial,i=n._active,a=n._intentional,s=n.lastOffset,c=n.movement,u=n._threshold,l=this.getInternalMovement(e,this.state),d=!1===a[0]?Rh(l[0],u[0]):a[0],p=!1===a[1]?Rh(l[1],u[1]):a[1],f=this.checkIntentionality([d,p],l);if(f._blocked)return eh({},f,{_movement:l,delta:[0,0]});var h=f._intentional,m=l,g=[!1!==h[0]?l[0]-h[0]:0,!1!==h[1]?l[1]-h[1]:0],v=Hf(g,s),y=i?t:[0,0];return g=Dh(r,Hf(g,o),y),eh({},f,{intentional:!1!==h[0]||!1!==h[1],_initial:o,_movement:m,movement:g,values:e,offset:Dh(r,v,y),delta:Wf(g,c)})},o.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||jh}}])&&$f(t.prototype,n),r&&$f(t,r),e}();function Rh(e,t){return Math.abs(e)>=t&&Zf(e)*t}function Dh(e,t,n){var r=t[0],o=t[1],i=n[0],a=n[1],s=e[0],c=s[0],u=s[1],l=e[1],d=l[0],p=l[1];return[Xf(r,c,u,i),Xf(o,d,p,a)]}function Lh(e,t,n){var r=e.state,o=t.timeStamp,i=t.type,a=r.values;return{_lastEventType:i,event:t,timeStamp:o,elapsedTime:n?0:o-r.startTime,previous:a}}function Nh(e,t,n,r){var o=e.state,i=e.config,a=e.stateKey,s=e.args,c=e.transform,u=o.offset,l=n.timeStamp,d=i.initial,p=i.bounds,f=Wf(c(i.threshold),c([0,0])).map(Math.abs),h=eh({},Ih()[a],{_active:!0,args:s,values:t,initial:null!=r?r:t,_threshold:f,offset:u,lastOffset:u,startTime:l});return eh({},h,{_initial:uh(d,h),_bounds:uh(p,h)})}var Uh=function(e){var t=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=dh(),this.supportsGestureEvents=function(){try{return"constructor"in GestureEvent}catch(oA){return!1}}(),this.bind=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o,i={},a=oh(t.classes);!(o=a()).done;){var s=o.value;new s(t,n).addBindings(i)}var c=function(e){Kh(i,e,(function(r){return t.nativeRefs[e](eh({},t.state.shared,{event:r,args:n}))}))};for(var u in t.nativeRefs)c(u);return t.config.domTarget?qh(t,i):Gh(t,i)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=Wh(t.config),n=t.config.eventOptions;e&&Yh(e,Hh(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,o=e.windowListeners;if(!n)return;for(var i in o){var a=o[i];Yh(n,a,r)}e.windowListeners={}}(t)},this.classes=e,this.state=Ih(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Fh(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(fh(t))}function Bh(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):fh(t).forEach((function(t){return e.touchIds.delete(t)}))}function zh(e,t,n){var r=e.config,o=e.windowListeners;void 0===n&&(n=r.eventOptions),r.window&&(Yh(r.window,o[t],n),delete o[t])}function Vh(e,t,n,r){var o=e.config,i=e.windowListeners;void 0===n&&(n=[]),void 0===r&&(r=o.eventOptions),o.window&&(Yh(o.window,i[t],r),Qh(o.window,i[t]=n,r))}function qh(e,t){var n=e.config,r=e.domListeners,o=Wh(n);if(!o)throw new Error("domTarget must be defined");var i=n.eventOptions;Yh(o,Hh(r),i);for(var a=0,s=Object.entries(t);a<s.length;a++){var c=s[a],u=c[0],l=c[1],d=u.slice(2).toLowerCase();r.push([d,ah.apply(void 0,l)])}Qh(o,r,i)}function Gh(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",o=0,i=Object.entries(t);o<i.length;o++){var a=i[o],s=a[0],c=a[1],u=Array.isArray(c)?c:[c];n[s+r]=ah.apply(void 0,u)}return n}function Hh(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function Wh(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function Kh(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function Qh(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,o=oh(t);!(r=o()).done;){var i=r.value,a=i[0],s=i[1];e.addEventListener(a,s,n)}}function Yh(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,o=oh(t);!(r=o()).done;){var i=r.value,a=i[0],s=i[1];e.removeEventListener(a,s,n)}}function Zh(e,t,n){void 0===n&&(n={});var r=function(e){var t=new Set;e.drag&&t.add(Mh.get("drag"));e.wheel&&t.add(Mh.get("wheel"));e.scroll&&t.add(Mh.get("scroll"));e.move&&t.add(Mh.get("move"));e.pinch&&t.add(Mh.get("pinch"));e.hover&&t.add(Mh.get("hover"));return t}(e),o=l.a.useMemo((function(){return new Uh(r)}),[]);return o.config=t,o.handlers=e,o.nativeRefs=n,l.a.useEffect(o.effect,[]),o.config.domTarget?Jh:o.bind}function Jh(){0}var Xh=function(e){function t(){return e.apply(this,arguments)||this}th(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return Wf(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],o=n[1],i=this.state.axis||(r>o?"x":r<o?"y":void 0);return this.config.axis||this.config.lockDirection?i?this.config.axis&&i!==this.config.axis?{_intentional:e,_blocked:!0,axis:i}:(e["x"===i?1:0]=!1,{_intentional:e,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}:{_intentional:e,_blocked:!1,axis:i}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,Yf(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(Ah);function $h(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}var em=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.setPointerCapture=function(e){if(!t.config.useTouch&&!document.pointerLockElement){var n=e.target,r=e.pointerId;n&&"setPointerCapture"in n&&n.setPointerCapture(r),t.updateGestureState({_dragTarget:n,_dragPointerId:r})}},t.releasePointerCapture=function(){if(!t.config.useTouch&&!document.pointerLockElement){var e=t.state,n=e._dragTarget,r=e._dragPointerId;if(r&&n&&"releasePointerCapture"in n&&(!("hasPointerCapture"in n)||n.hasPointerCapture(r)))try{n.releasePointerCapture(r)}catch(oA){}}},t.preventScroll=function(e){t.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},t.getEventId=function(e){return t.config.useTouch?e.changedTouches[0].identifier:e.pointerId},t.isValidEvent=function(e){return t.state._pointerId===t.getEventId(e)},t.shouldPreventWindowScrollY=t.config.experimental_preventWindowScrollY&&t.controller.supportsTouchEvents,t.setUpWindowScrollDetection=function(e){$h(e),Vh(t.controller,t.stateKey,[["touchmove",t.preventScroll],["touchend",t.clean.bind(nh(t))],["touchcancel",t.clean.bind(nh(t))]],{passive:!1}),t.setTimeout(t.startDrag.bind(nh(t)),250,e)},t.setUpDelayedDragTrigger=function(e){t.state._dragDelayed=!0,$h(e),t.setTimeout(t.startDrag.bind(nh(t)),t.config.delay,e)},t.setStartState=function(e){var n=gh(e,t.transform);t.updateSharedState(hh(e)),t.updateGestureState(eh({},Nh(nh(t),n,e),Lh(nh(t),e,!0),{_pointerId:t.getEventId(e)})),t.updateGestureState(t.getMovement(n))},t.onDragStart=function(e){Fh(t.controller,e),t.enabled&&!t.state._active&&(t.setStartState(e),t.setPointerCapture(e),t.shouldPreventWindowScrollY?t.setUpWindowScrollDetection(e):t.config.delay>0?t.setUpDelayedDragTrigger(e):t.startDrag(e,!0))},t.onDragChange=function(e){if(!t.state.canceled&&t.state._active&&t.isValidEvent(e)&&(t.state._lastEventType!==e.type||e.timeStamp!==t.state.timeStamp)){var n;if(document.pointerLockElement){var r=e.movementX,o=e.movementY;n=Hf(t.transform([r,o]),t.state.values)}else n=gh(e,t.transform);var i=t.getKinematics(n,e);if(!t.state._dragStarted){if(t.state._dragDelayed)return void t.startDrag(e);if(!t.shouldPreventWindowScrollY)return;if(t.state._dragPreventScroll||!i.axis)return;if("x"!==i.axis)return void(t.state._active=!1);t.startDrag(e)}var a=hh(e);t.updateSharedState(a);var s=Lh(nh(t),e),c=Kf(i._movement),u=t.state._dragIsTap;u&&c>=3&&(u=!1),t.updateGestureState(eh({},s,i,{_dragIsTap:u})),t.fireGestureHandler()}},t.onDragEnd=function(e){if(Bh(t.controller,e),t.isValidEvent(e)&&(t.clean(),t.state._active)){t.state._active=!1;var n=t.state._dragIsTap,r=t.state.velocities,o=r[0],i=r[1],a=t.state.movement,s=a[0],c=a[1],u=t.state._intentional,l=u[0],d=u[1],p=t.config.swipeVelocity,f=p[0],h=p[1],m=t.config.swipeDistance,g=m[0],v=m[1],y=t.config.swipeDuration,b=eh({},Lh(nh(t),e),t.getMovement(t.state.values)),w=[0,0];b.elapsedTime<y&&(!1!==l&&Math.abs(o)>f&&Math.abs(s)>g&&(w[0]=Zf(o)),!1!==d&&Math.abs(i)>h&&Math.abs(c)>v&&(w[1]=Zf(i))),t.updateSharedState({buttons:0}),t.updateGestureState(eh({},b,{tap:n,swipe:w})),t.fireGestureHandler(t.config.filterTaps&&!0===n)}},t.clean=function(){e.prototype.clean.call(nh(t)),t.state._dragStarted=!1,t.releasePointerCapture(),zh(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0,_active:!1}),t.updateSharedState({buttons:0}),setTimeout((function(){return t.fireGestureHandler()}),0))},t.onClick=function(e){t.state._dragIsTap||e.stopPropagation()},t}th(t,e);var n=t.prototype;return n.startDrag=function(e,t){void 0===t&&(t=!1),this.state._active&&!this.state._dragStarted&&(t||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(e){(this.config.useTouch?(Kh(e,"onTouchStart",this.onDragStart),Kh(e,"onTouchMove",this.onDragChange),Kh(e,"onTouchEnd",this.onDragEnd),Kh(e,"onTouchCancel",this.onDragEnd)):(Kh(e,"onPointerDown",this.onDragStart),Kh(e,"onPointerMove",this.onDragChange),Kh(e,"onPointerUp",this.onDragEnd),Kh(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps)&&Kh(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(Xh),tm=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="pinching",t.stateKey="pinch",t.onPinchStart=function(e){Fh(t.controller,e);var n=t.controller.touchIds;if(t.enabled&&!(t.state._active&&t.state._pointerIds.every((function(e){return n.has(e)}))||n.size<2)){var r=Array.from(n).slice(0,2),o=vh(e,r,t.transform),i=o.values,a=o.origin;t.updateSharedState(hh(e)),t.updateGestureState(eh({},Nh(nh(t),i,e),Lh(nh(t),e,!0),{_pointerIds:r,cancel:t.onCancel,origin:a})),t.updateGestureState(t.getMovement(i)),t.fireGestureHandler()}},t.onPinchChange=function(e){var n=t.state,r=n.canceled,o=n._active;if(!r&&o&&e.timeStamp!==t.state.timeStamp){var i=hh(e);t.updateSharedState(i);try{var a=vh(e,t.state._pointerIds,t.transform),s=a.values,c=a.origin,u=t.getKinematics(s,e);t.updateGestureState(eh({},Lh(nh(t),e),u,{origin:c})),t.fireGestureHandler()}catch(oA){t.onPinchEnd(e)}}},t.onPinchEnd=function(e){Bh(t.controller,e);var n=fh(e);t.state._pointerIds.every((function(e){return!n.includes(e)}))||(t.clean(),t.state._active&&(t.updateGestureState(eh({},Lh(nh(t),e),t.getMovement(t.state.values),{_active:!1})),t.fireGestureHandler()))},t.onCancel=function(){t.state.canceled||(t.updateGestureState({_active:!1,canceled:!0}),setTimeout((function(){return t.fireGestureHandler()}),0))},t.onGestureStart=function(e){if(t.enabled){e.preventDefault();var n=wh(e,t.transform);t.updateSharedState(hh(e)),t.updateGestureState(eh({},Nh(nh(t),n,e),Lh(nh(t),e,!0),{origin:[e.clientX,e.clientY],cancel:t.onCancel})),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()}},t.onGestureChange=function(e){var n=t.state,r=n.canceled,o=n._active;if(!r&&o){e.preventDefault();var i=hh(e);t.updateSharedState(i);var a=wh(e,t.transform);a[0]=260*(a[0]-t.state.event.scale)+t.state.values[0];var s=t.getKinematics(a,e);t.updateGestureState(eh({},Lh(nh(t),e),s,{origin:[e.clientX,e.clientY]})),t.fireGestureHandler()}},t.onGestureEnd=function(e){t.clean(),t.state._active&&(t.updateGestureState(eh({},Lh(nh(t),e),t.getMovement(t.state.values),{_active:!1,origin:[e.clientX,e.clientY]})),t.fireGestureHandler())},t.wheelShouldRun=function(e){return t.enabled&&e.ctrlKey},t.getWheelValuesFromEvent=function(e){var n=bh(e,t.transform)[1],r=t.state.values,o=r[0],i=r[1],a=7*-n,s=void 0!==i?i:0;return{values:[o+a,s],origin:[e.clientX,e.clientY],delta:[a,s]}},t.onWheel=function(e){t.wheelShouldRun(e)&&(t.setTimeout(t.onWheelEnd),t.state._active?t.onWheelChange(e):t.onWheelStart(e))},t.onWheelStart=function(e){var n=t.getWheelValuesFromEvent(e),r=n.values,o=n.delta,i=n.origin;e.cancelable&&e.preventDefault(),t.updateSharedState(hh(e)),t.updateGestureState(eh({},Nh(nh(t),r,e,t.state.values),Lh(nh(t),e,!0),{offset:r,delta:o,origin:i})),t.updateGestureState(t.getMovement(r)),t.fireGestureHandler()},t.onWheelChange=function(e){e.cancelable&&e.preventDefault(),t.updateSharedState(hh(e));var n=t.getWheelValuesFromEvent(e),r=n.values,o=n.origin,i=n.delta;t.updateGestureState(eh({},Lh(nh(t),e),t.getKinematics(r,e),{origin:o,delta:i})),t.fireGestureHandler()},t.onWheelEnd=function(){t.clean(),t.state._active&&(t.state._active=!1,t.updateGestureState(t.getMovement(t.state.values)),t.fireGestureHandler())},t}return th(t,e),t.prototype.addBindings=function(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Kh(e,"onGestureStart",this.onGestureStart),Kh(e,"onGestureChange",this.onGestureChange),Kh(e,"onGestureEnd",this.onGestureEnd)):(Kh(e,"onTouchStart",this.onPinchStart),Kh(e,"onTouchMove",this.onPinchChange),Kh(e,"onTouchEnd",this.onPinchEnd),Kh(e,"onTouchCancel",this.onPinchEnd),Kh(e,"onWheel",this.onWheel))},t}(function(e){function t(){return e.apply(this,arguments)||this}th(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){var n=t.values[1],r=e[0],o=e[1],i=void 0===o?n:o,a=i-n,s=t.turns;return Math.abs(a)>270&&(s+=Zf(a)),Wf([r,i-360*s],t.initial)},n.getKinematics=function(e,t){var n=this.getMovement(e),r=(e[1]-n._movement[1]-this.state.initial[1])/360,o=t.timeStamp-this.state.timeStamp;return eh({turns:r},n,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(Yf(n.movement,n.delta,o),["distance","velocity"]))},n.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},t}(Ah)),nm=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="wheeling",t.stateKey="wheel",t.debounced=!0,t.handleEvent=function(e){if((!e.ctrlKey||!("pinch"in t.controller.handlers))&&t.enabled){t.setTimeout(t.onEnd),t.updateSharedState(hh(e));var n=Hf(bh(e,t.transform),t.state.values);if(t.state._active)t.updateGestureState(eh({},Lh(nh(t),e),t.getKinematics(n,e)));else{t.updateGestureState(eh({},Nh(nh(t),n,e,t.state.values),Lh(nh(t),e,!0)));var r=t.getMovement(n),o=Qf(r.delta);t.updateGestureState(r),t.updateGestureState(o)}t.fireGestureHandler()}},t.onEnd=function(){if(t.clean(),t.state._active){var e=t.getMovement(t.state.values);t.updateGestureState(e),t.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),t.fireGestureHandler()}},t}return th(t,e),t.prototype.addBindings=function(e){Kh(e,"onWheel",this.handleEvent)},t}(Xh),rm=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="moving",t.stateKey="move",t.debounced=!0,t.onMove=function(e){t.enabled&&(t.setTimeout(t.onMoveEnd),t.state._active?t.onMoveChange(e):t.onMoveStart(e))},t.onMoveStart=function(e){t.updateSharedState(hh(e));var n=gh(e,t.transform);t.updateGestureState(eh({},Nh(nh(t),n,e),Lh(nh(t),e,!0))),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()},t.onMoveChange=function(e){t.updateSharedState(hh(e));var n=gh(e,t.transform);t.updateGestureState(eh({},Lh(nh(t),e),t.getKinematics(n,e))),t.fireGestureHandler()},t.onMoveEnd=function(){if(t.clean(),t.state._active){var e=t.state.values;t.updateGestureState(t.getMovement(e)),t.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),t.fireGestureHandler()}},t.hoverTransform=function(){return t.controller.config.hover.transform||t.controller.config.transform},t.onPointerEnter=function(e){if(t.controller.state.shared.hovering=!0,t.controller.config.enabled){if(t.controller.config.hover.enabled){var n=gh(e,t.hoverTransform()),r=eh({},t.controller.state.shared,t.state,Lh(nh(t),e,!0),{args:t.args,values:n,active:!0,hovering:!0});t.controller.handlers.hover(eh({},r,t.mapStateValues(r)))}"move"in t.controller.handlers&&t.onMoveStart(e)}},t.onPointerLeave=function(e){if(t.controller.state.shared.hovering=!1,"move"in t.controller.handlers&&t.onMoveEnd(),t.controller.config.hover.enabled){var n=gh(e,t.hoverTransform()),r=eh({},t.controller.state.shared,t.state,Lh(nh(t),e),{args:t.args,values:n,active:!1});t.controller.handlers.hover(eh({},r,t.mapStateValues(r)))}},t}return th(t,e),t.prototype.addBindings=function(e){"move"in this.controller.handlers&&Kh(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(Kh(e,"onPointerEnter",this.onPointerEnter),Kh(e,"onPointerLeave",this.onPointerLeave))},t}(Xh),om=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="scrolling",t.stateKey="scroll",t.debounced=!0,t.handleEvent=function(e){if(t.enabled){t.clearTimeout(),t.setTimeout(t.onEnd);var n=yh(e,t.transform);if(t.updateSharedState(hh(e)),t.state._active)t.updateGestureState(eh({},Lh(nh(t),e),t.getKinematics(n,e)));else{t.updateGestureState(eh({},Nh(nh(t),n,e,t.state.values),Lh(nh(t),e,!0)));var r=t.getMovement(n),o=Qf(r.delta);t.updateGestureState(r),t.updateGestureState(o)}t.fireGestureHandler()}},t.onEnd=function(){t.clean(),t.state._active&&(t.updateGestureState(eh({},t.getMovement(t.state.values),{_active:!1,velocities:[0,0],velocity:0})),t.fireGestureHandler())},t}return th(t,e),t.prototype.addBindings=function(e){Kh(e,"onScroll",this.handleEvent)},t}(Xh),im=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function am(e,t){void 0===t&&(t={});var n=function(e){var t={},n={},r=new Set;for(var o in e)im.test(o)?(r.add(RegExp.lastMatch),n[o]=e[o]):t[o]=e[o];return[n,t,r]}(e),r=n[0],o=n[1],i=n[2];Mh.set("drag",em),Mh.set("hover",rm),Mh.set("move",rm),Mh.set("pinch",tm),Mh.set("scroll",om),Mh.set("wheel",nm);var a=_h(t,i),s={};return i.has("onDrag")&&(s.drag=sm(r,"onDrag")),i.has("onWheel")&&(s.wheel=sm(r,"onWheel")),i.has("onScroll")&&(s.scroll=sm(r,"onScroll")),i.has("onMove")&&(s.move=sm(r,"onMove")),i.has("onPinch")&&(s.pinch=sm(r,"onPinch")),i.has("onHover")&&(s.hover=r.onHover),Zh(s,a,o)}function sm(e,t){var n=t+"Start",r=t+"End";return function(o){var i=void 0;return o.first&&n in e&&e[n](o),t in e&&(i=e[t](o)),o.last&&r in e&&e[r](o),i}}class cm{constructor(e){Object.defineProperty(this,"item",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.item=e}static supports(e){return!0}dispose(){}}var um,lm=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class dm extends cm{constructor(e){super(e),Object($s.t)(this)}get label(){return this.item.type}}lm([$s.h],dm.prototype,"label",null),function(e){e.Image="image",e.TextArea="textArea",e.Shape="shape",e.ItemReference="itemReference"}(um||(um={}));var pm=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function fm(e,t){return"string"==typeof t?t:Array.isArray(t)||"inline"!==t.type&&void 0!==t.type?Array.isArray(t)?t.reduce((e,t)=>t.content.reduce((e,t)=>e?"".concat(e," ").concat(t.content):t.content,e),e):e+fm(e,t.content):e?"".concat(e," ").concat(t.content):t.content}class hm extends dm{static supports(e){return e.type!==um.ItemReference}constructor(e){super(e),Object($s.t)(this)}get label(){switch(this.item.type){case um.TextArea:{const r=this.item.model.content.reduce(fm,"");return r.trim()?r:(e=this.item,(null===(t=e.templateInfo)||void 0===t?void 0:t.placeholder)||(null===(n=e.templateInfo)||void 0===n?void 0:n.label)||"")}default:return"".concat(this.item.type)}var e,t,n}}function mm(e,t){switch(t){case Dd.RGB:return ys(e);case Dd.CMYK:return ys(Es(e));case Dd.Hex:default:return e}}function gm(e,t){switch(t){case Dd.Hex:return bs(ws(e));case Dd.RGB:return bs(e);case Dd.CMYK:default:return e}}function vm(e,t,n){switch(n){case Dd.RGB:return function(e,t){switch(t){case Dd.Hex:return ws(e);case Dd.CMYK:return Es(e);case Dd.RGB:default:return e}}(e.value,t);case Dd.RGBA:return function(e,t){switch(t){case Dd.RGB:return{r:(n=e).r,g:n.g,b:n.b,a:255};case Dd.Hex:return Os(e);case Dd.RGBA:default:return e}var n}(e.value,t);case Dd.Hex:return mm(e.value,t);case Dd.CMYK:return gm(e.value,t);default:return e}}function ym(e,t){return e.format===t?e.value:vm(e,e.format,t)}pm([$s.w],hm.prototype,"label",null);const bm=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,wm=/(^rgb\((#[0-9a-fA-F]{3}|#[0-9a-fA-F]{6})\))$/,Om=/^cmyk\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)$/,Em=/^cmyka\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)$/,xm=/^rgb\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)$/,Sm=/^rgba\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)$/,Pm=/(^thread\((\w*)\))$/,Cm=/(^pantone\((.*)\))$/,Tm=/(^spot\((.*)\))$/,_m=/(^spot\(([^,]*), (.*)\))$/;function km(e){return function(e){return void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&void 0===e.a}(e)||function(e){return void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&void 0!==e.a}(e)||function(e){return"string"==typeof e&&!!e.match(bm)}(e)}function Im(e){if(e.match(Sm)){const t=e.match(/[0-9]{1,3}/g);return{value:{r:+t[0],g:+t[1],b:+t[2],a:+t[3]},format:Dd.RGBA}}if(e.match(Pm))return{value:e.replace(/thread\(|\)/g,""),format:Dd.Thread};if(e.match(Cm))return{value:e.replace(/pantone\(|\)/g,""),format:Dd.Pantone};if(e.match(_m)){const n=e.match(_m),{value:r,format:o}=Im(n[3]);if(km(r)&&((t=o)===Dd.RGB||t===Dd.RGBA||t===Dd.Hex))return{value:{spotValue:n[2],rasterColor:r,rasterFormat:o},format:Dd.CustomSpot};throw new TypeError("Could not determine format for color: ".concat(e))}var t;if(e.match(Tm)){return{value:e.match(Tm)[2],format:Dd.Spot}}if(e.match(wm)){return{value:e.match(/rgb\((.*)\)/)[1],format:Dd.Hex}}if(e.match(bm))return{value:e,format:Dd.Hex};if(e.match(xm)){const t=e.match(/[0-9]{1,3}/g);return{value:{r:+t[0],g:+t[1],b:+t[2]},format:Dd.RGB}}if(e.match(Om)){const t=e.match(/[0-9]{1,3}/g);return{value:{c:+t[0],m:+t[1],y:+t[2],k:+t[3]},format:Dd.CMYK}}if(e.match(Em)){const t=e.match(/[0-9]{1,3}/g);return{value:{c:+t[0],m:+t[1],y:+t[2],k:+t[3],a:+t[4]},format:Dd.CMYKA}}throw new TypeError("Could not determine format for color: ".concat(e))}class Mm{constructor(e){Object.defineProperty(this,"rawValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.rawValue=e;const t=Im(e);this.value=t.value,this.format=t.format}get rgb(){return ym(this,Dd.RGB)}get hex(){return ym(this,Dd.Hex)}}function jm(e={},t){if(e.template){const n=e.template.findIndex(({id:e})=>t===e),r=e.template[n];return null==r?void 0:r.background}return!1}function Am(e,{panelId:t,color:n}){var r;const o=qu(e,t);if(!o)throw new Error("No panel found with matching id: ".concat(t));const i=null===(r=o.shapes)||void 0===r?void 0:r.filter(t=>jm(e.metadata,t.id));if(i&&Nu(i[0]))i[0].color=n;else{const t=gn(),r={id:t,zIndex:-1001,type:"rectangle",position:{x:"0".concat(fa.MM),y:"0".concat(fa.MM),height:"".concat(new Su(o.height).mm).concat(fa.MM),width:"".concat(new Su(o.width).mm).concat(fa.MM)},color:n};o.shapes?o.shapes.push(r):o.shapes=[r];const i={id:t,background:!0,locks:{edit:!1,transform:!1,zIndex:!0}};s={initializeTemplate:!0},(a=e).metadata||(a.metadata={}),s.initializeDclMetadata&&!a.metadata.dclMetadata&&(a.metadata.dclMetadata=[]),s.initializeDsPanelLayout&&!a.metadata.dsPanelLayout&&(a.metadata.dsPanelLayout={}),s.initializeTemplate&&!a.metadata.template&&(a.metadata.template=[]),e.metadata.template.push(i)}var a,s}function Rm(e,{panelId:t}){var n;const r=qu(e,t);if(!r)throw new Error("No panel found with matching id: ".concat(t));const o=null===(n=r.shapes)||void 0===n?void 0:n.find(t=>jm(e.metadata,t.id));o&&function(e,{id:t}){var n,r;const o=zu(e,t);if(!o)throw new Error("removeItem: cannot find item with id ".concat(t));const{itemType:i,itemIndex:a,panelIndex:s}=o,c=e.document.panels[s];let u=[];if("image"===i?u=c.images:"textArea"===i?u=c.textAreas:"shape"===i?u=c.shapes:"itemReference"===i&&(u=c.itemReferences),u.splice(a,1),null===(n=e.metadata)||void 0===n?void 0:n.template){const n=e.metadata.template.findIndex(e=>t===e.id);-1!==n&&e.metadata.template.splice(n,1)}if(null===(r=e.metadata)||void 0===r?void 0:r.dclMetadata){const n=e.metadata.dclMetadata.findIndex(e=>t===e.id);-1!==n&&e.metadata.dclMetadata.splice(n,1)}}(e,{id:o.id})}class Dm{constructor(e){Object.defineProperty(this,"designPanel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.designPanel=e}dispose(){}}function Lm(e){return!!e&&void 0!==e.placeholder&&"boolean"==typeof e.placeholder}function Nm(e){return"boolean"!=typeof e.placeholder&&(!!e&&(void 0!==e.placeholder&&"string"==typeof e.placeholder||void 0!==e.label&&"string"==typeof e.label))}var Um=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Fm extends cm{constructor(e){super(e),Object($s.t)(this)}get isPlaceholder(){return!(!this.item.templateInfo||!Lm(this.item.templateInfo))&&this.item.templateInfo.placeholder}get isPlaceholderReplaced(){return!(!this.item.templateInfo||!Lm(this.item.templateInfo))&&!!this.item.templateInfo.placeholderReplaced}get isBackground(){return!(!this.item.templateInfo||(e=this.item.templateInfo,!e||void 0===e.background))&&this.item.templateInfo.background;var e}get label(){if(this.item.templateInfo&&(Nm(this.item.templateInfo)||Lm(this.item.templateInfo)))return this.item.templateInfo.label}get text(){if(this.item.templateInfo&&Nm(this.item.templateInfo))return this.item.templateInfo.text}get textPlaceholder(){if(this.item.templateInfo&&Nm(this.item.templateInfo))return this.item.templateInfo.placeholder}}Um([$s.h],Fm.prototype,"isPlaceholder",null),Um([$s.h],Fm.prototype,"isPlaceholderReplaced",null),Um([$s.h],Fm.prototype,"isBackground",null),Um([$s.h],Fm.prototype,"label",null),Um([$s.h],Fm.prototype,"text",null),Um([$s.h],Fm.prototype,"textPlaceholder",null);var Bm=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class zm extends Dm{constructor(e){super(e),Object($s.t)(this)}get backgroundColor(){const e=this.designPanel.items.find(e=>e.type===um.Shape&&e.getComponent(Fm).isBackground);if(e){const{color:t}=e.model;if(t)return ym(new Mm(t),Dd.Hex)}return""}changeColor(e){const{id:t,designEngine:n}=this.designPanel;if(e){const r=ym(new Mm(e),Dd.Hex);n.executeCommand(Am,{panelId:t,color:"rgb(".concat(r,")")})}else n.executeCommand(Rm,{panelId:t})}}Bm([$s.h],zm.prototype,"backgroundColor",null),Bm([$s.f.bound],zm.prototype,"changeColor",null);var Vm=_d,qm=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Gm=function(e){return this.__data__.has(e)};function Hm(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vm;++t<n;)this.add(e[t])}Hm.prototype.add=Hm.prototype.push=qm,Hm.prototype.has=Gm;var Wm=Hm,Km=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Qm=function(e,t){return e.has(t)};var Ym=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var d=-1,p=!0,f=2&n?new Wm:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],m=t[d];if(r)var g=a?r(m,h,d,t,e,i):r(h,m,d,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(f){if(!Km(t,(function(e,t){if(!Qm(f,t)&&(h===e||o(h,e,n,r,i)))return f.push(t)}))){p=!1;break}}else if(h!==m&&!o(h,m,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p};var Zm=Zp,Jm=Jl,Xm=Ym,$m=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},eg=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},tg=Xu?Xu.prototype:void 0,ng=tg?tg.valueOf:void 0;var rg=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Zm(e),new Zm(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Jm(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=$m;case"[object Set]":var c=1&r;if(s||(s=eg),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Xm(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(ng)return ng.call(e)==ng.call(t)}return!1};var og=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},ig=Array.isArray,ag=og,sg=ig;var cg=function(e,t,n){var r=t(e);return sg(e)?r:ag(r,n(e))};var ug=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},lg=function(){return[]},dg=Object.prototype.propertyIsEnumerable,pg=Object.getOwnPropertySymbols,fg=pg?function(e){return null==e?[]:(e=Object(e),ug(pg(e),(function(t){return dg.call(e,t)})))}:lg;var hg=/^(?:0|[1-9]\d*)$/;var mg=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},gg=bp,vg=ig,yg=wp.exports,bg=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&hg.test(e))&&e>-1&&e%1==0&&e<t},wg=Rp,Og=Object.prototype.hasOwnProperty;var Eg=function(e,t){var n=vg(e),r=!n&&gg(e),o=!n&&!r&&yg(e),i=!n&&!r&&!o&&wg(e),a=n||r||o||i,s=a?mg(e.length,String):[],c=s.length;for(var u in e)!t&&!Og.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bg(u,c))||s.push(u);return s},xg=Object.prototype;var Sg=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xg)};var Pg=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Cg=Sg,Tg=Pg,_g=Object.prototype.hasOwnProperty;var kg=hl,Ig=Ep;var Mg=Eg,jg=function(e){if(!Cg(e))return Tg(e);var t=[];for(var n in Object(e))_g.call(e,n)&&"constructor"!=n&&t.push(n);return t},Ag=function(e){return null!=e&&Ig(e.length)&&!kg(e)};var Rg=cg,Dg=fg,Lg=function(e){return Ag(e)?Mg(e):jg(e)};var Ng=function(e){return Rg(e,Lg,Dg)},Ug=Object.prototype.hasOwnProperty;var Fg=lp,Bg=Ym,zg=rg,Vg=function(e,t,n,r,o,i){var a=1&n,s=Ng(e),c=s.length;if(c!=Ng(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Ug.call(t,l)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<c;){var m=e[l=s[u]],g=t[l];if(r)var v=a?r(g,m,l,t,e,i):r(m,g,l,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f},qg=Yp,Gg=ig,Hg=wp.exports,Wg=Rp,Kg=Object.prototype.hasOwnProperty;var Qg=function(e,t,n,r,o,i){var a=Gg(e),s=Gg(t),c=a?"[object Array]":qg(e),u=s?"[object Array]":qg(t),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),p=c==u;if(p&&Hg(e)){if(!Hg(t))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new Fg),a||Wg(e)?Bg(e,t,n,r,o,i):zg(e,t,c,n,r,o,i);if(!(1&n)){var f=l&&Kg.call(e,"__wrapped__"),h=d&&Kg.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,g=h?t.value():t;return i||(i=new Fg),o(m,g,n,r,i)}}return!!p&&(i||(i=new Fg),Vg(e,t,n,r,o,i))},Yg=dp;var Zg=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Yg(t)&&!Yg(n)?t!=t&&n!=n:Qg(t,n,r,o,e,i))};var Jg=function(e,t){return Zg(e,t)};function Xg(e){return"embroideryFlat"===e||"embroideryCylinder"===e}function $g(e,t){return function(e,t){const n=Pu({x:e.a,y:e.b}),r=Pu({x:t.a,y:t.b}),o=1+.014*n,i=1+.048*n,a=e.l-t.l,s=e.a-t.a,c=e.b-t.b,u=n-r,l=Math.sqrt(Math.max(s*s+c*c-u*u,0));return Math.sqrt(Math.pow(a/2,2)+Math.pow(u/(1*i),2)+Math.pow(l/(1*o),2))}(vs(gs(e)),vs(gs(t)))}const ev=[255,255,255];var tv=n("ZeN8");class nv extends Error{constructor(e,t){super(e),Object.defineProperty(this,"inlineDocumentUri",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.inlineDocumentUri=t}}function rv(e){const t=function(e){const t=JSON.stringify(e);return Object(tv.a)(t)}(e);if(t.length>7e3)throw new nv("Provided cimdoc exceeds inline document url length of ".concat(7e3),t);return t}function ov(e,t,n){const r={id:"preview-0",name:"preview",width:t.width,height:t.height,decorationTechnology:t.decorationTechnology},o=Object.assign(Object.assign(Object.assign({},e),{rotationAngle:void 0}),n);return Bu(e)?r.subpanels=[o]:Au(e)?r.images=[o]:Ru(e)?r.textAreas=[o]:Fu(e)?r.shapes=[o]:r.itemReferences=[o],{version:t.version,fontRepositoryUrl:t.fontRepositoryUrl,document:{panels:[r]}}}function iv(e,t,n){return function(e,t){let n;try{n=rv(e)}catch(r){if(!(r instanceof nv))throw console.warn("WARNING! Failed to generate instructions URL for rendering preview!"),r;n=r.inlineDocumentUri}return xf(n,t)}(ov(t,e,n),Ef.item)}function av(e){const t=1/(e*function(){const e=devicePixelRatio||1;return e>4?4:e}()),n=us(t,3);return new Su(n,fa.MM).measurement}var sv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class cv extends cm{constructor(e){super(e),Object($s.t)(this)}get previewModel(){return this.item.model}}sv([$s.h],cv.prototype,"previewModel",null);var uv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class lv extends cv{constructor(e,t="Type text here"){super(e),Object.defineProperty(this,"placeholderText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.placeholderText=t,Object($s.t)(this)}static supports(e){return e.type===um.TextArea}get previewModel(){var e;let{content:t}=this.item.model;const{position:{width:n}}=this.item.model,r={position:{x:"0mm",y:"0mm",height:"0mm",width:n},verticalAlignment:"top"};if(1===t.length&&("\n"===t[0].content||""===t[0].content)){const n=this.item.templateInfo;t=[Object.assign(Object.assign({},t[0]),{type:"inline",content:null!==(e=null==n?void 0:n.placeholder)&&void 0!==e?e:this.placeholderText})]}return Object.assign(Object.assign(Object.assign({},this.item.model),r),{content:t})}}function dv({designItem:e,itemPropertyOverrides:t,zoomOverride:n}){const{designEngine:r,designPanel:o}=e,{version:i,fontRepositoryUrl:a}=r.cimDocConfiguration,{zoom:s}=r.layoutManager,{renderTenant:c}=r,{width:u,height:l,decorationTechnology:d}=o,p={version:i,fontRepositoryUrl:a,width:u,height:l,decorationTechnology:d};let f=e.model;if(e.hasComponent(cv)){const{previewModel:t}=e.getComponent(cv);f=t}return function({item:e,cimDocInfo:t,renderSize:n,itemPropertyOverrides:r,tenant:o}){return Cf({renderingInstructionsUrl:iv(t,e,r),size:n,format:"png",tenant:o})}({item:f,cimDocInfo:p,itemPropertyOverrides:t,renderSize:av(null!=n?n:s),tenant:c})}uv([$s.w],lv.prototype,"previewModel",null);var pv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const fv=()=>{};function hv(e){return e.catch(fv),e}var mv,gv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.Loading="loading",e.Ready="ready",e.Modified="modified",e.Failed="failed"}(mv||(mv={}));const vv={hueOffset:0,hueMultiplier:1,saturationOffset:0,saturationMultiplier:1,lightnessOffset:0,lightnessMultiplier:1};function yv(e){let{lightnessOffset:t,lightnessMultiplier:n}=e;return t>0&&(n=1+t,t=0),Object.assign(Object.assign({},e),{lightnessOffset:t,lightnessMultiplier:n})}class bv extends cm{constructor(e){super(e),Object.defineProperty(this,"initialColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isSingleColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"colorAdjustment",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},vv)}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:mv.Loading}),Object.defineProperty(this,"pendingColorRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposeImageReplaceReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposeColorCommitReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposeSelectionChangeReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.disposeImageReplaceReaction=Object($s.x)(()=>this.item.model.previewUrl,()=>{this.pendingColorRead&&this.pendingColorRead.cancel(),this.pendingColorRead=hv(Object($s.l)(this.extractImageColors()))}),this.disposeColorCommitReaction=Object($s.x)(()=>this.item.model.colorAdjustment,e=>{this.colorAdjustment=yv(Object.assign(Object.assign({},vv),e)),this.hasUnsavedChanges&&(this.status=mv.Ready)},{equals:$s.g.shallow}),this.disposeSelectionChangeReaction=Object($s.x)(()=>this.item.isSelected,e=>{e||this.hasUnsavedChanges&&(this.colorAdjustment=yv(Object.assign(Object.assign({},vv),this.item.model.colorAdjustment)),this.status=mv.Ready)}),this.pendingColorRead=hv(Object($s.l)(this.extractImageColors()))}static supports(e){return e.type===um.Image&&!Xg(e.designPanel.decorationTechnology)}*extractImageColors(){this.status=mv.Loading,this.initialColor=void 0,this.isSingleColor=void 0,this.colorAdjustment=yv(Object.assign(Object.assign({},vv),this.item.model.colorAdjustment));try{const e=function(e,t=10){return e.reduce((e,n)=>(e.some(e=>$g(n,e)<=t)||e.push(n),e),[])}(function(e){var t;return(null!==(t=(new za).getPalette(e))&&void 0!==t?t:[ev]).map(e=>({r:e[0],g:e[1],b:e[2]}))}(yield function(e,t={}){const{abortSignal:n}=t;return new Promise((t,r)=>{const o=new Image,i=()=>{o.src="",r(new DOMException("The request to get an image with URL ".concat(e," was aborted"),"AbortError"))};n&&n.aborted&&i(),e.includes("data:")||(o.crossOrigin="Anonymous"),null==n||n.addEventListener("abort",i),o.onload=()=>{null==n||n.removeEventListener("abort",i),t(o)},o.onerror=()=>{null==n||n.removeEventListener("abort",i),r(o)},o.src=e})}(this.item.model.previewUrl)));this.initialColor=function(e){const{r:t,g:n,b:r}=e,o=fs(t),i=fs(n),a=fs(r),s=Math.max(o,i,a),c=Math.min(o,i,a),u=s-c;let l,d;const p=(s+c)/2;return l=0===u?0:s===o?(i-a)/u%6*60:s===i?60*((a-o)/u+2):60*((o-i)/u+4),l<0&&(l+=360),d=0===u?0:u/(1-Math.abs(2*p-1)),{h:l,s:d,l:p}}(e[0]),this.isSingleColor=1===e.length,this.status=mv.Ready}catch(e){this.status=mv.Failed}}setColorAdjustment({h:e,s:t,l:n}){if(this.status!==mv.Ready&&this.status!==mv.Modified)return;const r=this.initialColor.h;this.colorAdjustment.hueOffset=e-r,this.colorAdjustment.saturationMultiplier=2*t,this.colorAdjustment.lightnessMultiplier=2*n,this.status=mv.Modified}get currentHsl(){var e,t,n;if(this.status!==mv.Ready&&this.status!==mv.Modified)return;const r=this.initialColor.h,{colorAdjustment:o}=this.item.model;if(this.isSingleColor)return o?{h:o.hueOffset,s:o.saturationOffset,l:o.lightnessOffset}:this.initialColor;if(this.hasUnsavedChanges)return{h:xs(this.colorAdjustment.hueOffset+r),s:this.colorAdjustment.saturationMultiplier/2,l:this.colorAdjustment.lightnessMultiplier/2};let i=null!==(e=null==o?void 0:o.lightnessMultiplier)&&void 0!==e?e:1;return o&&o.lightnessOffset>0&&(i=o.lightnessOffset+1),{h:xs((null!==(t=null==o?void 0:o.hueOffset)&&void 0!==t?t:0)+r),s:(null!==(n=null==o?void 0:o.saturationMultiplier)&&void 0!==n?n:1)/2,l:i/2}}get hasColorAjustments(){return!Jg(this.colorAdjustment,vv)}get hasUnsavedChanges(){return this.status===mv.Modified}get isLoading(){return this.status===mv.Loading}get originalPreviewUrl(){return dv({designItem:this.item,itemPropertyOverrides:{colorAdjustment:void 0}})}dispose(){super.dispose(),this.disposeImageReplaceReaction(),this.disposeColorCommitReaction(),this.disposeSelectionChangeReaction(),this.pendingColorRead.cancel()}}gv([$s.u],bv.prototype,"initialColor",void 0),gv([$s.u],bv.prototype,"isSingleColor",void 0),gv([$s.u],bv.prototype,"colorAdjustment",void 0),gv([$s.u],bv.prototype,"status",void 0),gv([$s.k],bv.prototype,"extractImageColors",null),gv([$s.f.bound],bv.prototype,"setColorAdjustment",null),gv([$s.h],bv.prototype,"currentHsl",null),gv([$s.h],bv.prototype,"hasColorAjustments",null),gv([$s.h],bv.prototype,"hasUnsavedChanges",null),gv([$s.h],bv.prototype,"isLoading",null),gv([$s.h],bv.prototype,"originalPreviewUrl",null);var wv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Ov extends cm{constructor(e){super(e),Object($s.t)(this)}get locks(){return console.warn("WARNING! ItemLocksComponent.locks has been deprecated and will be removed in an upcoming major version. Use the following properties from ItemLocksComponent instead: isRestricted, isUserLocked, isLayerLocked, isLockedForEditing, overrides"),this.templateLocks}get templateLocks(){if(this.item.templateInfo&&((e=this.item.templateInfo)&&void 0!==e.locks)){const{locks:e}=this.item.templateInfo;return e}var e;return{edit:!1,transform:!1,zIndex:!1}}get locked(){return console.warn("WARNING! ItemLocksComponent.locked has been deprecated and will be removed in an upcoming major version. Use ItemLocksComponent.isUserLocked instead."),this.templateLocks.transform||this.templateLocks.zIndex}get isRestricted(){const{isPlaceholder:e}=this.item.getComponent(Fm);return!e&&this.templateLocks.edit}get isUserLocked(){return this.templateLocks.transform}get isLayerLocked(){return this.templateLocks.zIndex}get isLockedForEditing(){return this.isRestricted||this.isUserLocked}get overrides(){var e;return null!==(e=this.templateLocks.overrides)&&void 0!==e?e:{}}}wv([$s.h],Ov.prototype,"locks",null),wv([$s.h],Ov.prototype,"templateLocks",null),wv([$s.h],Ov.prototype,"isRestricted",null),wv([$s.h],Ov.prototype,"isUserLocked",null),wv([$s.h],Ov.prototype,"isLayerLocked",null),wv([$s.h],Ov.prototype,"isLockedForEditing",null),wv([$s.h],Ov.prototype,"overrides",null);var Ev=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function xv(e){return!!e&&!!(null==e?void 0:e.position)&&!!(null==e?void 0:e.dimensions)}class Sv extends cm{constructor(e){super(e),Object.defineProperty(this,"initialCrop",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,left:0,right:0,bottom:0}}),Object.defineProperty(this,"temporaryCropping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temporaryDimensionsScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this)}static supports(e){return e.type===um.Image}setTemporaryCropping(e){xv(e)?this.temporaryCropping=e:this.temporaryCropping=e?Object.assign(Object.assign({},this.temporaryCropping),e):e}setTemporaryDimensionsScale(e){this.temporaryDimensionsScale=e}commitCrop(e=!1){var t,n;if(this.temporaryCropping){const{designEngine:r,id:o}=this.item,{executeCommand:i,layoutManager:a}=r,{zoom:s}=a;if(xv(this.temporaryCropping)&&!e){const{crop:e,dimensions:r,position:a}=this.temporaryCropping;i(Xd,{id:o,crop:e,newWidth:r.width/(null!==(t=this.temporaryDimensionsScale)&&void 0!==t?t:s),newHeight:r.height/(null!==(n=this.temporaryDimensionsScale)&&void 0!==n?n:s),position:{x:new Su(a.x/s,fa.MM).measurement,y:new Su(a.y/s,fa.MM).measurement}})}else{const{crop:t}=this.temporaryCropping;i(Jd,{id:o,crop:t,autoUpdatePosition:e})}this.setTemporaryCropping(void 0),this.setTemporaryDimensionsScale(void 0)}}get uncroppedUrl(){return dv({designItem:this.item,itemPropertyOverrides:{cropFractions:Vd(this.initialCrop),position:{x:new Su(0,fa.MM).measurement,y:new Su(0,fa.MM).measurement,width:new Su(this.uncroppedDimensions.width,fa.MM).measurement,height:new Su(this.uncroppedDimensions.height,fa.MM).measurement}},zoomOverride:this.temporaryDimensionsScale})}get currentCropping(){var e;return xv(this.temporaryCropping)?this.temporaryCropping:{crop:(null===(e=this.temporaryCropping)||void 0===e?void 0:e.crop)||this.crop,position:this.item.position,dimensions:this.item.dimensions}}get crop(){const{cropFractions:e}=this.item.model;return e?qd(e):this.initialCrop}get isCroppingActive(){return this.item.designEngine.idaManager.inlineCroppingId===this.item.id}get uncroppedDimensions(){return function({selection:e,size:t}){const n=e.left+e.right,r=e.top+e.bottom;return{width:t.width/Math.max(.001,1-n),height:t.height/Math.max(.001,1-r)}}({selection:this.crop,size:this.item.unzoomedDimensions})}get cropChanged(){return!!this.temporaryCropping}}Ev([$s.u],Sv.prototype,"temporaryCropping",void 0),Ev([$s.u],Sv.prototype,"temporaryDimensionsScale",void 0),Ev([$s.f.bound],Sv.prototype,"setTemporaryCropping",null),Ev([$s.f.bound],Sv.prototype,"setTemporaryDimensionsScale",null),Ev([$s.f.bound],Sv.prototype,"commitCrop",null),Ev([$s.h],Sv.prototype,"uncroppedUrl",null),Ev([$s.h],Sv.prototype,"currentCropping",null),Ev([$s.h],Sv.prototype,"crop",null),Ev([$s.h],Sv.prototype,"isCroppingActive",null),Ev([$s.h],Sv.prototype,"cropChanged",null);var Pv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Cv extends cm{static supports(e){return e.type===um.Shape}constructor(e){super(e),Object($s.t)(this)}get isOneDimensional(){return Du(this.item.model)}get hasEditableShapeOptions(){var e,t;return!!(null===(t=null===(e=this.item.metadata)||void 0===e?void 0:e.shapeOptions)||void 0===t?void 0:t.shape)}get strokeColor(){var e;const{model:t}=this.item;return(null===(e=t.stroke)||void 0===e?void 0:e.color)||void 0}get fillColor(){const{model:e}=this.item;if(Nu(e)||Uu(e))return e.color}get strokeWidth(){const{model:e}=this.item;if(e.stroke)return new Su(e.stroke.thickness).pt}get cornerRadius(){const{model:e}=this.item;if(Lu(e)&&Ou(e.cornerRadius))return new Su(e.cornerRadius).mm}get dimensions(){const{dimensions:e,model:t,designEngine:n}=this.item,{layoutManager:{zoom:r}}=n;return Du(t)?{length:e.width/r}:{width:e.width/r,height:e.height/r}}}Pv([$s.h],Cv.prototype,"isOneDimensional",null),Pv([$s.h],Cv.prototype,"hasEditableShapeOptions",null),Pv([$s.h],Cv.prototype,"strokeColor",null),Pv([$s.h],Cv.prototype,"fillColor",null),Pv([$s.h],Cv.prototype,"strokeWidth",null),Pv([$s.h],Cv.prototype,"cornerRadius",null),Pv([$s.h],Cv.prototype,"dimensions",null);var Tv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class _v extends cm{constructor(e){super(e),Object($s.t)(this)}get canBeAspectRatioLocked(){return!(this.item.type===um.Shape&&this.item.getComponent(Cv).isOneDimensional||this.item.type===um.TextArea)}get isAspectRatioLocked(){var e;if(!this.canBeAspectRatioLocked)return!1;const{type:t,metadata:n}=this.item,r=t!==um.Shape;return null!==(e=null==n?void 0:n.isAspectRatioLocked)&&void 0!==e?e:r}}Tv([$s.h],_v.prototype,"canBeAspectRatioLocked",null),Tv([$s.h],_v.prototype,"isAspectRatioLocked",null);var kv,Iv,Mv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function jv(e,t){const n=e.y===t.y;return{type:kv.Mask,offset:n?e.y:e.x,direction:n?Iv.Horizontal:Iv.Vertical,targetStart:n?Math.min(e.x,t.x):Math.min(e.y,t.y),targetEnd:n?Math.max(e.x,t.x):Math.max(e.y,t.y)}}function Av(e,t){const n=[];let r=e.anchor;return e.points.forEach(e=>{var t,o;o=r,(t=e).controlPoints&&o.controlPoints||t.x!==o.x&&t.y!==o.y||n.push(jv(e,r)),r=e}),n.push(jv(r,e.anchor)),n.map(e=>Object.assign(Object.assign({},e),{offset:e.offset*t,targetStart:e.targetStart*t,targetEnd:e.targetEnd*t}))}function Rv(e,t){if(t.offset in e){const n=e[t.offset];n.targetStart=Math.min(n.targetStart,t.targetStart),n.targetEnd=Math.max(n.targetEnd,t.targetEnd)}else e[t.offset]=Object.assign({},t)}!function(e){e[e.Boundary=0]="Boundary",e[e.Center=1]="Center",e[e.Mask=2]="Mask",e[e.ItemCenter=3]="ItemCenter"}(kv||(kv={})),function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(Iv||(Iv={}));class Dv extends Dm{constructor(e){super(e),Object($s.t)(this)}get itemSnapLines(){const e={},t={};return this.unselectedSnappableItems.forEach(n=>{const{snapLines:r}=n.getComponent(Uv);r.horizontal.forEach(t=>Rv(e,t)),r.vertical.forEach(e=>Rv(t,e))}),[...Object.values(e),...Object.values(t)]}get itemCenterSnapLines(){const e={},t={};return this.unselectedSnappableItems.forEach(n=>{const{centerSnapLines:r}=n.getComponent(Uv);Rv(e,r.horizontal),Rv(t,r.vertical)}),[...Object.values(e),...Object.values(t)]}get maskSnapLines(){var e,t;const n=null!==(t=null===(e=this.designPanel.panelDesignRequirements)||void 0===e?void 0:e.masks)&&void 0!==t?t:[],{designEngine:r}=this.designPanel,{zoom:o}=r.layoutManager,i={},a={};for(const s of n)for(const e of s.paths)for(const t of Av(e,o))Rv(t.direction===Iv.Horizontal?i:a,t);return[...Object.values(i),...Object.values(a)]}get centerSnapLines(){const{width:e,height:t}=this.designPanel.dimensions;return[{type:kv.Center,direction:Iv.Horizontal,offset:t/2,targetStart:0,targetEnd:e},{type:kv.Center,direction:Iv.Vertical,offset:e/2,targetStart:0,targetEnd:t}]}get unselectedSnappableItems(){return this.designPanel.items.filter(e=>!e.isSelected&&e.getComponent(Uv).canBeSnappedTo)}}Mv([$s.h],Dv.prototype,"itemSnapLines",null),Mv([$s.h],Dv.prototype,"itemCenterSnapLines",null),Mv([$s.h],Dv.prototype,"maskSnapLines",null),Mv([$s.h],Dv.prototype,"centerSnapLines",null),Mv([$s.h],Dv.prototype,"unselectedSnappableItems",null);var Lv=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function Nv(e,t){return Object.assign(Object.assign({},e),{targetStart:Math.min(e.targetStart,t.targetStart),targetEnd:Math.max(e.targetEnd,t.targetEnd)})}class Uv extends cm{constructor(e){super(e),Object.defineProperty(this,"snappingThresholdPx",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object($s.t)(this)}get canBeSnappedTo(){return!this.item.getComponent(Fm).isBackground}get snapBox(){const{position:e,dimensions:t}=this.item;let n=Object.assign(Object.assign({},e),t);const r=_u(n);if(this.item.type===um.TextArea){const{previewBox:t}=this.item;n={x:e.x+t.x,y:e.y+t.y,width:t.width,height:t.height}}const o=Iu(n,r,-this.item.rotation),{x:i,y:a,width:s,height:c}=Hd(o);return{x:i,y:a,width:s,height:c}}get snapLines(){const{x:e,y:t,width:n,height:r}=this.snapBox;return{horizontal:[{type:kv.Boundary,direction:Iv.Horizontal,offset:t,targetStart:e,targetEnd:e+n},{type:kv.Boundary,direction:Iv.Horizontal,offset:t+r,targetStart:e,targetEnd:e+n}],vertical:[{type:kv.Boundary,direction:Iv.Vertical,offset:e,targetStart:t,targetEnd:t+r},{type:kv.Boundary,direction:Iv.Vertical,offset:e+n,targetStart:t,targetEnd:t+r}]}}get centerSnapLines(){const e=_u(this.snapBox);return{horizontal:{type:kv.Center,direction:Iv.Horizontal,offset:e.y,targetStart:this.snapBox.x,targetEnd:this.snapBox.x+this.snapBox.width},vertical:{type:kv.Center,direction:Iv.Vertical,offset:e.x,targetStart:this.snapBox.y,targetEnd:this.snapBox.y+this.snapBox.height}}}get targetSnapLines(){if(!this.item.isSelected)return{};const{itemSnapLines:e,itemCenterSnapLines:t,maskSnapLines:n,centerSnapLines:r}=this.item.designPanel.getComponent(Dv);let o=1/0,i=null,a=null,s=1/0,c=null,u=null;const{horizontal:l,vertical:d}=this.snapLines;for(const h of[...e,...n])if(h.direction===Iv.Horizontal)for(const e of l){const t=Math.abs(h.offset-e.offset);t<o&&(o=t,i=h,a=e)}else for(const e of d){const t=Math.abs(h.offset-e.offset);t<s&&(s=t,c=h,u=e)}const{horizontal:p,vertical:f}=this.centerSnapLines;for(const h of t)if(h.direction===Iv.Horizontal){const e=Math.abs(h.offset-p.offset);e<o&&(o=e,i=Object.assign(Object.assign({},h),{type:kv.ItemCenter}),a=p)}else{const e=Math.abs(h.offset-f.offset);e<s&&(s=e,c=Object.assign(Object.assign({},h),{type:kv.ItemCenter}),u=f)}for(const h of r)if(h.direction===Iv.Horizontal){const e=Math.abs(h.offset-p.offset);e<o&&(o=e,i=h,a=p)}else{const e=Math.abs(h.offset-f.offset);e<s&&(s=e,c=h,u=f)}return{horizontal:o<=this.snappingThresholdPx?{line:Nv(i,a),delta:i.offset-a.offset}:void 0,vertical:s<=this.snappingThresholdPx?{line:Nv(c,u),delta:c.offset-u.offset}:void 0}}}function Fv(e,...t){return n=>n(e,...t)}function Bv(e,...t){return n=>n(e,...t)}function zv(e){return"function"==typeof e}function Vv(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Lv([$s.h],Uv.prototype,"canBeSnappedTo",null),Lv([$s.h],Uv.prototype,"snapBox",null),Lv([$s.h],Uv.prototype,"snapLines",null),Lv([$s.h],Uv.prototype,"centerSnapLines",null),Lv([$s.h],Uv.prototype,"targetSnapLines",null);var qv=Vv((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Gv(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Hv=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=v(i),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(zv(c))try{c()}catch(oA){o=oA instanceof qv?oA.errors:[oA]}var u=this._teardowns;if(u){this._teardowns=null;try{for(var l=v(u),d=l.next();!d.done;d=l.next()){var p=d.value;try{Qv(p)}catch(h){o=null!=o?o:[],h instanceof qv?o=b(b([],y(o)),y(h.errors)):o.push(h)}}}catch(m){n={error:m}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new qv(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Qv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Gv(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&Gv(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Wv=Hv.EMPTY;function Kv(e){return e instanceof Hv||e&&"closed"in e&&zv(e.remove)&&zv(e.add)&&zv(e.unsubscribe)}function Qv(e){zv(e)?e():e.unsubscribe()}var Yv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zv={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return setTimeout.apply(void 0,b([],y(e)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)})),delegate:void 0};function Jv(e){Zv.setTimeout((function(){throw e}))}function Xv(){}var $v=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Kv(t)&&t.add(n)):n.destination=ry,n}return p(t,e),t.create=function(e,t,n){return new ey(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Hv),ey=function(e){function t(t,n,r){var o,i=e.call(this)||this;if(zv(t))o=t;else if(t){var a;o=t.next,n=t.error,r=t.complete,i&&Yv.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return i.unsubscribe()}:a=t,o=null==o?void 0:o.bind(a),n=null==n?void 0:n.bind(a),r=null==r?void 0:r.bind(a)}return i.destination={next:o?ty(o):Xv,error:ty(null!=n?n:ny),complete:r?ty(r):Xv},i}return p(t,e),t}($v);function ty(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,b([],y(t)))}catch(r){Jv(r)}}}function ny(e){throw e}var ry={closed:!0,next:Xv,error:ny,complete:Xv},oy="function"==typeof Symbol&&Symbol.observable||"@@observable";function iy(e){return e}function ay(e){return 0===e.length?iy:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function sy(e){e()}var cy=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof $v||function(e){return e&&zv(e.next)&&zv(e.error)&&zv(e.complete)}(r)&&Kv(r)?e:new ey(e,t,n);return sy((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=uy(t))((function(t,r){var o=new ey({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[oy]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ay(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=uy(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function uy(e){var t;return null!==(t=null!=e?e:Yv.Promise)&&void 0!==t?t:Promise}function ly(e){return zv(null==e?void 0:e.lift)}function dy(e){return function(t){if(ly(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var py=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.onFinalize=i,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return p(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}($v);!function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,ly(t)&&(r.lift=t.lift),r}p(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new Hv;var n=this.getSubject();t.add(this.source.subscribe(new py(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=Hv.EMPTY)}return t},t.prototype.refCount=function(){return dy((function(e,t){var n=null;e._refCount++;var r=new py(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}(cy);var fy,hy,my={now:function(){return(my.delegate||performance).now()},delegate:void 0},gy={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=t((function(t){n=void 0,e(t)}));return new Hv((function(){return null==n?void 0:n(r)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gy.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,b([],y(e)))})),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cancelAnimationFrame.apply(void 0,b([],y(e)))})),delegate:void 0};hy=gy.schedule,new cy((function(e){var t=new Hv,n=fy||my,r=n.now();return t.add(hy((function o(i){var a=n.now();e.next({timestamp:fy?a:i,elapsed:a-r}),e.closed||t.add(hy(o))}))),t}));var vy=Vv((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),yy=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(t,e),t.prototype.lift=function(e){var t=new by(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new vy},t.prototype.next=function(e){var t=this;sy((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var o=t.observers.slice();try{for(var i=v(o),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;sy((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;sy((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,n=this.isStopped,r=this.observers;return t||n?Wv:(r.push(e),new Hv((function(){return Gv(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new cy;return e.source=this,e},t.create=function(e,t){return new by(e,t)},t}(cy),by=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return p(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Wv},t}(yy);!function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}p(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)}}(yy);var wy={now:function(){return(wy.delegate||Date).now()},delegate:void 0};!function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=wy);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}p(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,o=(r?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!r){for(var i=t.now(),a=0,s=1;s<n.length&&n[s]<=i;s+=2)a=s;a&&n.splice(0,a+1)}}}(yy),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}p(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,a=t.isStopped,s=t._isComplete;n?e.error(i):(a||s)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this._hasValue,n=this._value;this._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,n),e.prototype.complete.call(this))}}(yy);var Oy,Ey=function(e){function t(t,n){return e.call(this)||this}return p(t,e),t.prototype.schedule=function(e,t){return this},t}(Hv),xy={setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xy.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,b([],y(e)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)})),delegate:void 0},Sy=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return p(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),xy.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;xy.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(oA){r=!0,n=oA||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Gv(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ey),Py=1,Cy={};function Ty(e){return e in Cy&&(delete Cy[e],!0)}var _y=function(e){var t=Py++;return Cy[t]=!0,Oy||(Oy=Promise.resolve()),Oy.then((function(){return Ty(t)&&e()})),t},ky=function(e){Ty(e)},Iy={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Iy.delegate;return((null==n?void 0:n.setImmediate)||_y).apply(void 0,b([],y(e)))},clearImmediate:function(e){return ky(e)},delegate:void 0},My=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Iy.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);t.actions.some((function(e){return e.id===n}))||(Iy.clearImmediate(n),t._scheduled=void 0)},t}(Sy),jy=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=wy.now,e}(),Ay=function(e){function t(t,n){void 0===n&&(n=jy.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return p(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(jy);new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Ay))(My);var Ry=new Ay(Sy),Dy=Ry,Ly=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Sy);new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t}(Ay))(Ly);var Ny=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=gy.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);t.actions.some((function(e){return e.id===n}))||(gy.cancelAnimationFrame(n),t._scheduled=void 0)},t}(Sy);new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Ay))(Ny),function(e){function t(t,n){void 0===t&&(t=Fy),void 0===n&&(n=1/0);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}p(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10}(Ay);var Uy,Fy=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return p(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return Hv.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Sy);function By(e,t){return void 0===t&&(t=iy),e=null!=e?e:zy,dy((function(n,r){var o,i=!0;n.subscribe(new py(r,(function(n){var a=t(n);!i&&e(o,a)||(i=!1,o=a,r.next(n))})))}))}function zy(e,t){return e===t}new cy((function(e){return e.complete()})),function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Uy||(Uy={})),Vv((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})),Vv((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),Vv((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})),Vv((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})),Vv((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),new cy(Xv),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}p(t,e),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&e.prototype.unsubscribe.call(this)}}(py);var Vy=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function qy(e){return zv(null==e?void 0:e.then)}function Gy(e){return zv(e[oy])}function Hy(e){return Symbol.asyncIterator&&zv(null==e?void 0:e[Symbol.asyncIterator])}function Wy(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ky="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Qy(e){return zv(null==e?void 0:e[Ky])}function Yy(e){return O(this,arguments,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,w(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,w(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,w(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Zy(e){return zv(null==e?void 0:e.getReader)}function Jy(e){if(e instanceof cy)return e;if(null!=e){if(Gy(e))return o=e,new cy((function(e){var t=o[oy]();if(zv(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Vy(e))return r=e,new cy((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(qy(e))return n=e,new cy((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Jv)}));if(Hy(e))return Xy(e);if(Qy(e))return t=e,new cy((function(e){var n,r;try{for(var o=v(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(Zy(e))return Xy(Yy(e))}var t,n,r,o;throw Wy(e)}function Xy(e){return new cy((function(t){(function(e,t){var n,r,o,i;return m(this,void 0,void 0,(function(){var a,s;return g(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=E(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function $y(e,t){return dy((function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(new py(r,(function(n){null==o||o.unsubscribe();var a=0,c=i++;Jy(e(n,c)).subscribe(o=new py(r,(function(e){return r.next(t?t(n,e,c,a++):e)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))}function eb(e){return dy((function(t,n){Jy(e).subscribe(new py(n,(function(){return n.complete()}),Xv)),!n.closed&&t.subscribe(n)}))}function tb(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var nb,rb=function(e){var t=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])}(e);return t.filter((function(e,n){return t.indexOf(e)===n}))},ob=function(e){return rb(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function ib(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function ab(e,t){if(tb(arguments.length<=2,"fromPromise expects up to two arguments"),tb("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object($s.f)("observableFromPromise-resolve",(function(e){n.value=e,n.state="fulfilled"})),Object($s.f)("observableFromPromise-reject",(function(e){n.value=e,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=ib;var r=t&&"fulfilled"===t.state?t.value:void 0;return Object($s.j)(n,{value:r,state:"pending"},{},{deep:!1}),n}(nb=ab||(ab={})).reject=Object($s.f)("fromPromise.reject",(function(e){var t=nb(Promise.reject(e));return t.state="rejected",t.value=e,t})),nb.resolve=Object($s.f)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var t=nb(Promise.resolve(e));return t.state="fulfilled",t.value=e,t}));var sb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function cb(e,t){var n;void 0===t&&(t=!1);var r=Object($s.h)(e);return(n={subscribe:function(e){return"function"==typeof e?{unsubscribe:Object($s.v)(r,(function(t){var n=t.newValue;return e(n)}),t)}:e&&"object"==typeof e&&e.next?{unsubscribe:Object($s.v)(r,(function(t){var n=t.newValue;return e.next(n)}),t)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},n}!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),Object($s.d)((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),sb([$s.u.ref],e.prototype,"current",void 0),sb([$s.f.bound],e.prototype,"next",null),sb([$s.f.bound],e.prototype,"complete",null),sb([$s.f.bound],e.prototype,"error",null)}();var ub=function(){return(ub=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},lb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},db=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:$s.u.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:$s.u.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),Object($s.t)(this),tb(Object($s.r)(e),"createViewModel expects an observable object");var n=ob(this);ob(e).forEach((function(r){var o;if(!n.includes(r)&&r!==$s.a&&"__mobxDidRunLazyInitializers"!==r){if(tb(-1===db.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object($s.o)(e,r)){var i=Object($s.e)(e,r),a=i.derivation.bind(t),s=null===(o=i.setter_)||void 0===o?void 0:o.bind(t);t.localComputedValues.set(r,Object($s.h)(a,{set:s}))}var c=Object.getOwnPropertyDescriptor(e,r),u=c?{enumerable:c.enumerable}:{};Object.defineProperty(t,r,ub(ub({},u),{configurable:!0,get:function(){return Object($s.o)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Object($s.f)((function(n){Object($s.o)(e,r)?t.localComputedValues.get(r).set(n):n!==t.model[r]?t.localValues.set(r,n):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;Object($s.s)(this.localValues).forEach((function(t){var n=e.localValues.get(t),r=e.model[t];Object($s.p)(r)?r.replace(n):Object($s.q)(r)?(r.clear(),r.merge(n)):Object($s.n)(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),lb([$s.h],e.prototype,"isDirty",null),lb([$s.h],e.prototype,"changedValues",null),lb([$s.f.bound],e.prototype,"submit",null),lb([$s.f.bound],e.prototype,"reset",null),lb([$s.f.bound],e.prototype,"resetProperty",null)}();var pb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function fb(e,t){return dy((function(n,r){var o=0;n.subscribe(new py(r,(function(n){r.next(e.call(t,n,o++))})))}))}function hb(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function mb(e,t){return void 0===t&&(t=0),dy((function(n,r){n.subscribe(new py(r,(function(n){return hb(r,e,(function(){return r.next(n)}),t)}),(function(){return hb(r,e,(function(){return r.complete()}),t)}),(function(n){return hb(r,e,(function(){return r.error(n)}),t)})))}))}function gb(e,t){return void 0===t&&(t=0),dy((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function vb(e,t){if(!e)throw new Error("Iterable cannot be null");return new cy((function(n){hb(n,t,(function(){var r=e[Symbol.asyncIterator]();hb(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function yb(e,t){if(null!=e){if(Gy(e))return function(e,t){return Jy(e).pipe(gb(t),mb(t))}(e,t);if(Vy(e))return function(e,t){return new cy((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(qy(e))return function(e,t){return Jy(e).pipe(gb(t),mb(t))}(e,t);if(Hy(e))return vb(e,t);if(Qy(e))return function(e,t){return new cy((function(n){var r;return hb(n,t,(function(){r=e[Ky](),hb(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return zv(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Zy(e))return function(e,t){return vb(Yy(e),t)}(e,t)}throw Wy(e)}!function(e){function t(t,n,r){var o=void 0===r?{}:r,i=o.name,a=void 0===i?"ogm"+(1e3*Math.random()|0):i,s=o.keyToName,c=void 0===s?function(e){return""+e}:s,u=e.call(this)||this;Object.defineProperty(u,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._keyToName=c,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+a),u._base=t;for(var l=0;l<t.length;l++)u._addItem(t[l]);return u._disposeBaseObserver=Object($s.v)(u._base,(function(e){if("splice"===e.type)Object($s.z)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];u._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object($s.z)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}pb(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object($s.u)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),r=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:r.length,reaction:Object($s.x)((function(){return t._groupBy(e)}),(function(n,r){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),r.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}($s.b);var bb=Array.isArray,wb=Object.getPrototypeOf,Ob=Object.prototype,Eb=Object.keys;function xb(e){if(1===e.length){var t=e[0];if(bb(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&wb(r)===Ob){var n=Eb(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function Sb(e){return zv((t=e)[t.length-1])?e.pop():void 0;var t}var Pb=Array.isArray;function Cb(e){return fb((function(t){return function(e,t){return Pb(t)?e.apply(void 0,b([],y(t))):e(t)}(e,t)}))}function Tb(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function _b(e,t){void 0===t&&(t={});var n=t.selector,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["selector"]);return new cy((function(t){var o=new AbortController,i=o.signal,a=!0,s=r.signal;if(s)if(s.aborted)o.abort();else{var c=function(){i.aborted||o.abort()};s.addEventListener("abort",c),t.add((function(){return s.removeEventListener("abort",c)}))}var u=f(f({},r),{signal:i}),l=function(e){a=!1,t.error(e)};return fetch(e,u).then((function(e){n?Jy(n(e)).subscribe(new py(t,void 0,(function(){a=!1,t.complete()}),l)):(a=!1,t.next(e),t.complete())})).catch(l),function(){a&&o.abort()}}))}function kb(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sb(e),r=xb(e),o=r.args,i=r.keys,a=new cy((function(e){var t=o.length;if(t)for(var n=new Array(t),r=t,a=t,s=function(t){var s=!1;Jy(o[t]).subscribe(new py(e,(function(e){s||(s=!0,a--),n[t]=e}),(function(){return r--}),void 0,(function(){r&&s||(a||e.next(i?Tb(i,n):n),e.complete())})))},c=0;c<t;c++)s(c);else e.complete()}));return n?a.pipe(Cb(n)):a}({metadata:_b(e).pipe(fb(e=>{const t=e.headers.get("x-render-metadata");return t?JSON.parse(t):void 0})),previewUrl:(n=e,new cy(e=>{const t=new Image;return t.onload=()=>{e.next(t),e.complete()},t.onerror=t=>{e.error(t)},t.src=n,()=>{t.src=""}})).pipe((t=e,fb((function(){return t}))))});var t,n}function Ib(e,t=!1){const n=cb(e,t);return r=n,o?yb(r,o):Jy(r);var r,o}var Mb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class jb extends cm{constructor(e){super(e),Object.defineProperty(this,"unsubscribed$",{enumerable:!0,configurable:!0,writable:!0,value:new yy}),Object($s.t)(this),Ib(()=>this.item.previewUrl,!0).pipe(By(),$y(e=>kb(e)),eb(this.unsubscribed$)).subscribe(({metadata:e})=>{e&&this.updateMetadata(e)})}static supports(e){return e.type!==um.TextArea}updateMetadata(e){const t=Wu(this.item.model),{previewBox:n}=e;this.item.renderingMetadata=Object.assign(Object.assign({},e),{previewBox:Object.assign(Object.assign({},n),{deltaWidth:"".concat(new Su(n.width).mm-new Su(t.width).mm,"mm"),deltaHeight:"".concat(new Su(n.height).mm-new Su(t.height).mm,"mm")})})}dispose(){this.unsubscribed$.next()}}Mb([$s.f],jb.prototype,"updateMetadata",null);var Ab={leading:!0,trailing:!1};function Rb(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Dy);var r,o=-1;return null!=t&&((r=t)&&zv(r.schedule)?n=t:o=t),new cy((function(t){var r=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;r<0&&(r=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=o?this.schedule(void 0,o):t.complete())}),r)}))}function Db(e,t,n){void 0===t&&(t=Ry),void 0===n&&(n=Ab);var r=Rb(e,t);return function(e,t){return void 0===t&&(t=Ab),dy((function(n,r){var o=t.leading,i=t.trailing,a=!1,s=null,c=null,u=!1,l=function(){null==c||c.unsubscribe(),c=null,i&&(f(),u&&r.complete())},d=function(){c=null,u&&r.complete()},p=function(t){return c=Jy(e(t)).subscribe(new py(r,l,d))},f=function(){if(a){a=!1;var e=s;s=null,r.next(e),!u&&p(e)}};n.subscribe(new py(r,(function(e){a=!0,s=e,(!c||c.closed)&&(o?f():p(e))}),(function(){u=!0,(!(i&&a&&c)||c.closed)&&r.complete()})))}))}((function(){return r}),n)}var Lb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Nb extends cm{constructor(e){super(e),Object.defineProperty(this,"unsubscribed$",{enumerable:!0,configurable:!0,writable:!0,value:new yy}),Object($s.t)(this),Ib(()=>this.item.previewUrl,!0).pipe(Db(200,void 0,{leading:!0,trailing:!0}),By(),$y(e=>kb(e)),eb(this.unsubscribed$)).subscribe(({previewUrl:e,metadata:t})=>{this.updatePreviewData(e,t)})}static supports(e){return e.type===um.TextArea}updatePreviewData(e,t){t?(this.updateMetadata(t),this.item.previewData={previewUrl:e,previewBox:this.item.previewBox}):this.item.renderingMetadata=void 0}updateMetadata(e){const t=Wu(this.item.model),{previewBox:n}=e;this.item.renderingMetadata=Object.assign(Object.assign({},e),{previewBox:Object.assign(Object.assign({},n),{deltaWidth:"".concat(new Su(n.width).mm-new Su(t.width).mm,"mm"),deltaHeight:"".concat(new Su(n.height).mm-new Su(t.height).mm,"mm")})})}dispose(){this.unsubscribed$.next()}}Lb([$s.f],Nb.prototype,"updatePreviewData",null),Lb([$s.f],Nb.prototype,"updateMetadata",null);var Ub=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Fb extends cm{constructor(e){super(e),Object.defineProperty(this,"processList",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object($s.t)(this)}startProcessing(){const e=gn();return this.processList.add(e),()=>{this.unsetProcess(e)}}unsetProcess(e){this.processList.delete(e)}get isProcessing(){return this.processList.size>0}}Ub([$s.u],Fb.prototype,"processList",void 0),Ub([$s.f.bound],Fb.prototype,"startProcessing",null),Ub([$s.f],Fb.prototype,"unsetProcess",null),Ub([$s.h],Fb.prototype,"isProcessing",null);var Bb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class zb extends cm{constructor(e){super(e),Object.defineProperty(this,"isMoving",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isRotating",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object($s.t)(this)}setIsMoving(e){this.isMoving=e}setIsRotating(e){this.isRotating=e}}Bb([$s.u],zb.prototype,"isMoving",void 0),Bb([$s.u],zb.prototype,"isRotating",void 0),Bb([$s.f.bound],zb.prototype,"setIsMoving",null),Bb([$s.f.bound],zb.prototype,"setIsRotating",null);const Vb=["image/jpeg","image/png","image/gif"];var qb;!function(e){e.Running="Running",e.Completed="Completed",e.Failed="Failed"}(qb||(qb={}));var Gb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Hb extends cm{constructor(e){super(e),Object($s.t)(this)}get fillColorChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.Shape&&!this.item.getComponent(Cv).isOneDimensional,i=null!==(e=t.fillColor)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get fontColorChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.TextArea,i=null!==(e=t.fontColor)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get fontSizeChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.TextArea,i=null!==(e=t.fontSize)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get fontStyleChange(){return{allowed:!Xg(this.item.designPanel.decorationTechnology)}}get fontTypeChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.TextArea,i=null!==(e=t.fontType)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get strokeColorChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.Shape,i=null!==(e=t.strokeColor)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get strokeWidthChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.Shape,i=null!==(e=t.strokeWidth)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get textContentChange(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=this.item.type===um.TextArea,i=null!==(e=t.content)&&void 0!==e&&e;return{allowed:o&&(!n||i)&&!r}}get crop(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),{isPlaceholder:o,isPlaceholderReplaced:i}=this.item.getComponent(Fm),a=this.item.type===um.Image,s=o&&!i,c=null!==(e=t.crop)&&void 0!==e&&e,u=Xg(this.item.designPanel.decorationTechnology);return{allowed:a&&!s&&(!n||c)&&!r&&!u}}get layerChange(){const{isLockedForEditing:e,isLayerLocked:t}=this.item.getComponent(Ov);return{allowed:!e&&!t}}get sharpen(){var e,t,n;const{overrides:r,isRestricted:o,isUserLocked:i}=this.item.getComponent(Ov),{isPlaceholder:a,isPlaceholderReplaced:s}=this.item.getComponent(Fm),c=this.item.type===um.Image,u=a&&!s,l=null!==(e=r.sharpen)&&void 0!==e&&e,d=Xg(this.item.designPanel.decorationTechnology),p=Vb.includes(null!==(n=null===(t=this.item.metadata)||void 0===t?void 0:t.mimeType)&&void 0!==n?n:"");return{allowed:c&&!u&&(!o||l)&&!i&&!d&&p}}get transform(){var e;const{overrides:t,isRestricted:n,isUserLocked:r}=this.item.getComponent(Ov),o=null!==(e=t.sizeAndPosition)&&void 0!==e&&e;return{allowed:(!n||o)&&!r}}}Gb([$s.h],Hb.prototype,"fillColorChange",null),Gb([$s.h],Hb.prototype,"fontColorChange",null),Gb([$s.h],Hb.prototype,"fontSizeChange",null),Gb([$s.h],Hb.prototype,"fontStyleChange",null),Gb([$s.h],Hb.prototype,"fontTypeChange",null),Gb([$s.h],Hb.prototype,"strokeColorChange",null),Gb([$s.h],Hb.prototype,"strokeWidthChange",null),Gb([$s.h],Hb.prototype,"textContentChange",null),Gb([$s.h],Hb.prototype,"crop",null),Gb([$s.h],Hb.prototype,"layerChange",null),Gb([$s.h],Hb.prototype,"sharpen",null),Gb([$s.h],Hb.prototype,"transform",null);var Wb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Kb extends Dm{constructor(e){super(e),Object($s.t)(this)}get strokeWidth(){const{dimensions:e,unzoomedDimensions:t}=this.designPanel;return t.width/e.width}get masks(){var e,t;return null!==(t=null===(e=this.designPanel.standardizedPanelRequirements)||void 0===e?void 0:e.masks)&&void 0!==t?t:[]}get guides(){var e,t;return null!==(t=null===(e=this.designPanel.standardizedPanelRequirements)||void 0===e?void 0:e.guides)&&void 0!==t?t:[]}}Wb([$s.h],Kb.prototype,"strokeWidth",null);var Qb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Yb extends Dm{constructor(e){super(e),Object($s.t)(this)}get defaultTextWidth(){var e,t;const n=null===(t=null===(e=this.designPanel.panelDesignRequirements)||void 0===e?void 0:e.masks)||void 0===t?void 0:t.find(e=>"SAFE"===e.type);let r;return(null==n?void 0:n.paths)&&1===n.paths.length&&(r=(e=>{if(3!==e.points.length||e.points.find(e=>e.controlPoints))return;const t=[e.anchor.x],n=[e.anchor.y];let r=e.anchor;for(const a of e.points){switch(i=r,ds((o=a).x,i.x)?"vertical":ds(o.y,i.y)?"horizontal":void 0){case"horizontal":n.find(e=>ds(e,a.y))||n.push(a.y);break;case"vertical":t.find(e=>ds(e,a.x))||t.push(a.x);break;default:return}r=a}var o,i;return 2===t.length&&2===n.length?{xMin:Math.min(...t),xMax:Math.max(...t),yMin:Math.min(...n),yMax:Math.min(...n)}:void 0})(n.paths[0])),r?(r.xMax-r.xMin)*(2/3):void 0}get defaultFontFamily(){const e=this.designPanel.items.find(e=>e.type===um.TextArea);return e?e.model.content[0].fontFamily:void 0}get defaultColor(){const e=this.designPanel.items.find(e=>e.type===um.TextArea);return e?e.model.content[0].color:void 0}}Qb([$s.h],Yb.prototype,"defaultTextWidth",null),Qb([$s.h],Yb.prototype,"defaultFontFamily",null),Qb([$s.h],Yb.prototype,"defaultColor",null);var Zb=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Jb extends Dm{constructor(e){super(e),Object($s.t)(this)}get orderedItems(){return this.designPanel.items.slice().sort((e,t)=>Math.round(100*e.position.y)/100==Math.round(100*t.position.y)/100?e.position.x-t.position.x:e.position.y-t.position.y)}}Zb([$s.h],Jb.prototype,"orderedItems",null);var Xb,$b=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ew=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.Idle=0]="Idle",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Failed=3]="Failed"}(Xb||(Xb={}));class tw extends cm{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:Xb.Idle}),Object.defineProperty(this,"initialThreadColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pendingColorRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposePrintUrlReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.disposePrintUrlReaction=Object($s.x)(()=>this.item.model.printUrl,()=>ew(this,void 0,void 0,(function*(){this.status=Xb.Loading,this.pendingColorRead&&this.pendingColorRead.cancel(),this.pendingColorRead=hv(Object($s.l)(this.extractThreadColors()))}))),this.pendingColorRead=hv(Object($s.l)(this.extractThreadColors()))}static supports(e){return e.type===um.Image&&Xg(e.designPanel.decorationTechnology)}get isLoading(){return this.status===Xb.Loading}get orderedThreadColors(){const{colorOverrides:e}=this.item.model;return e&&e.length>0?e:this.initialThreadColors}dispose(){super.dispose(),this.disposePrintUrlReaction(),this.pendingColorRead.cancel()}*extractThreadColors(){const{templateInfo:e}=this.item;if(e&&Lm(e)&&!e.placeholderReplaced)this.status=Xb.Ready;else try{if(this.item.model.printUrl){this.status=Xb.Loading;const e=Fd(this.item.designEngine.auth),t=yield uf({headers:e,jtiFileUrl:this.item.model.printUrl});this.setInitialThreadColors(t)}this.status=Xb.Ready}catch(t){console.error(t),this.status=Xb.Failed}}setInitialThreadColors(e){this.initialThreadColors=e}}function nw(e,t){return(t-e+180)%360-180}function rw(e,t,n){const r=nw(e,t);return Math.abs(r)<=n}$b([$s.u],tw.prototype,"status",void 0),$b([$s.u],tw.prototype,"initialThreadColors",void 0),$b([$s.h],tw.prototype,"isLoading",null),$b([$s.h],tw.prototype,"orderedThreadColors",null),$b([$s.k],tw.prototype,"extractThreadColors",null),$b([$s.f],tw.prototype,"setInitialThreadColors",null);var ow=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const iw=[0,45,90,135,180,225,270,315];class aw extends cm{constructor(e,t){super(e),Object.defineProperty(this,"snappingAngles",{enumerable:!0,configurable:!0,writable:!0,value:iw}),Object.defineProperty(this,"snappingThresholdDegrees",{enumerable:!0,configurable:!0,writable:!0,value:2}),t&&Ou(null==t?void 0:t.snappingThresholdDegrees)&&this.setSnappingThreshold(t.snappingThresholdDegrees),(null==t?void 0:t.snappingAngles)&&(this.snappingAngles=t.snappingAngles),Object($s.t)(this)}get isSnappable(){return Ou(this.snappingAngle)}get snappingAngle(){return function(e,t,n){let r,o=Number.POSITIVE_INFINITY;for(const i of t){const t=rw(e,i,n),a=nw(e,i),s=Math.abs(a);t&&s<o&&(o=s,r=i)}return r}(this.item.rotation,this.snappingAngles,this.snappingThresholdDegrees)}setSnappingAngles(e){this.snappingAngles=e}setSnappingThreshold(e){!function(e){if(!(e>0&&e<=180))throw new Error("Snapping threshold is not in the interval 0 < threshold <= 180")}(e),this.snappingThresholdDegrees=e}}function sw(e,{panelId:t}){e.metadata&&e.metadata.dsPanelLayout&&e.metadata.dsPanelLayout[t]&&delete e.metadata.dsPanelLayout[t]}ow([$s.u],aw.prototype,"snappingAngles",void 0),ow([$s.u],aw.prototype,"snappingThresholdDegrees",void 0),ow([$s.h],aw.prototype,"isSnappable",null),ow([$s.h],aw.prototype,"snappingAngle",null),ow([$s.f.bound],aw.prototype,"setSnappingAngles",null),ow([$s.f.bound],aw.prototype,"setSnappingThreshold",null);var cw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class uw extends Dm{constructor(e){super(e),Object($s.t)(this)}get panelLayout(){const{metadata:e}=this.designPanel.designEngine;return e.dsPanelLayout&&e.dsPanelLayout[this.designPanel.id]}get hasPanelImageLayout(){return!(!this.panelLayout||!this.panelLayout.layoutId)}get panelImageLayoutId(){return this.panelLayout?this.panelLayout.layoutId:void 0}removePanelImageLayout(){const e=this.designPanel.id;this.hasPanelImageLayout&&this.designPanel.designEngine.executeCommand(sw,{panelId:e})}}cw([$s.h],uw.prototype,"panelLayout",null),cw([$s.h],uw.prototype,"hasPanelImageLayout",null),cw([$s.h],uw.prototype,"panelImageLayoutId",null),cw([$s.f.bound],uw.prototype,"removePanelImageLayout",null);class lw{constructor(e){Object.defineProperty(this,"panelComponentsMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemComponentsMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"designEngine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.designEngine=e,this.panelComponentsMap=new Map,this.registerPanelComponents(this.designEngine.defaultComponents.panels),this.itemComponentsMap=new Map,this.registerItemComponents(this.designEngine.defaultComponents.items)}get panelComponents(){return this.panelComponentsMap.values()}get itemComponents(){return this.itemComponentsMap.values()}registerPanelComponent(e,...t){const n=Bv(e,...t);this.registerPanelComponentBlueprint(n)}registerPanelComponents(e){for(const t of e)this.registerPanelComponentBlueprint(t)}removePanelComponent(e){this.panelComponentsMap.has(e)&&(this.panelComponentsMap.delete(e),this.removeComponentFromExistingPanels(e))}registerItemComponent(e,...t){const n=Fv(e,...t);this.registerItemComponentBlueprint(n)}registerItemComponents(e){for(const t of e)this.registerItemComponentBlueprint(t)}removeItemComponent(e){this.itemComponentsMap.has(e)&&(this.itemComponentsMap.delete(e),this.removeComponentFromExistingItems(e))}registerPanelComponentBlueprint(e){e((t,...n)=>{this.panelComponentsMap.has(t)?console.warn("".concat(t.name," is already registered, skipping")):(this.panelComponentsMap.set(t,e),this.addComponentToExistingPanels(t,...n))})}addComponentToExistingPanels(e,...t){for(const n of this.designEngine.panels)n.components.set(e,new e(n,...t))}removeComponentFromExistingPanels(e){for(const t of this.designEngine.panels){const n=t.components.get(e);n&&(n.dispose(),t.components.delete(e))}}registerItemComponentBlueprint(e){e((t,...n)=>{this.itemComponentsMap.has(t)?console.warn("".concat(t.name," is already registered, skipping")):(this.itemComponentsMap.set(t,e),this.addComponentToExistingItems(t,...n))})}addComponentToExistingItems(e,...t){for(const n of this.designEngine.panels)for(const r of n.items)e.supports(r)&&r.components.set(e,new e(r,...t))}removeComponentFromExistingItems(e){for(const t of this.designEngine.panels)for(const n of t.items){const t=n.components.get(e);t&&(t.dispose(),n.components.delete(e))}}}var dw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class pw{constructor(e,t){Object.defineProperty(this,"selectedIds",{enumerable:!0,configurable:!0,writable:!0,value:$s.u.set()}),Object.defineProperty(this,"candidateSelectedIds",{enumerable:!0,configurable:!0,writable:!0,value:$s.u.set()}),Object.defineProperty(this,"inlineCroppingId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temporaryPositionDelta",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"temporarySizeDelta",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0}}),Object.defineProperty(this,"temporaryRotationDelta",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visibleDesignPanelIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposeItemIdsReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"panels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.panels=e,this.setVisibleDesignPanelIds(t),this.disposeItemIdsReaction=Object($s.x)(()=>this.visibleItems,e=>{const t=e.map(({id:e})=>e);this.selectedIds.forEach(e=>{t.includes(e)||this.selectedIds.delete(e)})})}setVisibleDesignPanelIds(e){this.visibleDesignPanelIds=e}get visiblePanels(){const{visibleDesignPanelIds:e,panels:t}=this;return e?e.map(e=>{const n=t.find(t=>t.id===e);if(!n)throw new Error("Unable to find a visible panel with id ".concat(e));return n}):this.panels}get visibleItems(){return this.visiblePanels.reduce((e,t)=>[...e,...t.items],[])}get selectedItemIds(){return[...this.selectedIds.values()]}setSelectedIds(e,t=!0){t&&this.selectedIds.clear(),e.forEach(e=>this.selectedIds.add(e))}setCandidateSelectedIds(e,t=!0){t&&this.candidateSelectedIds.clear(),e.forEach(e=>this.candidateSelectedIds.add(e))}setInlineCroppingId(e){this.inlineCroppingId=e}setTemporaryPositionDelta(e){this.temporaryPositionDelta.x=e.x,this.temporaryPositionDelta.y=e.y}setTemporarySizeDelta(e){this.temporarySizeDelta.width=e.width,this.temporarySizeDelta.height=e.height}setTemporaryRotationDelta(e){this.temporaryRotationDelta=e}dispose(){this.disposeItemIdsReaction()}}function fw(e,t,n){return void 0===n&&(n=1/0),zv(t)?fw((function(n,r){return fb((function(e,o){return t(n,e,r,o)}))(Jy(e(n,r)))}),n):("number"==typeof t&&(n=t),dy((function(t,r){return function(e,t,n,r,o,i,a,s){var c=[],u=0,l=0,d=!1,p=function(){!d||c.length||u||t.complete()},f=function(e){return u<r?h(e):c.push(e)},h=function e(s){i&&t.next(s),u++;var d=!1;Jy(n(s,l++)).subscribe(new py(t,(function(e){null==o||o(e),i?f(e):t.next(e)}),(function(){d=!0}),void 0,(function(){if(d)try{u--;for(var n=function(){var n=c.shift();a?hb(t,a,(function(){return e(n)})):e(n)};c.length&&u<r;)n();p()}catch(o){t.error(o)}})))};return e.subscribe(new py(t,f,(function(){d=!0,p()}))),function(){null==s||s()}}(t,r,e,n)})))}dw([$s.u],pw.prototype,"selectedIds",void 0),dw([$s.u],pw.prototype,"candidateSelectedIds",void 0),dw([$s.u],pw.prototype,"inlineCroppingId",void 0),dw([$s.u],pw.prototype,"temporaryPositionDelta",void 0),dw([$s.u],pw.prototype,"temporarySizeDelta",void 0),dw([$s.u],pw.prototype,"temporaryRotationDelta",void 0),dw([$s.u],pw.prototype,"visibleDesignPanelIds",void 0),dw([$s.f.bound],pw.prototype,"setVisibleDesignPanelIds",null),dw([$s.h],pw.prototype,"visiblePanels",null),dw([$s.h],pw.prototype,"visibleItems",null),dw([$s.h],pw.prototype,"selectedItemIds",null),dw([$s.f.bound],pw.prototype,"setSelectedIds",null),dw([$s.f.bound],pw.prototype,"setCandidateSelectedIds",null),dw([$s.f.bound],pw.prototype,"setInlineCroppingId",null),dw([$s.f.bound],pw.prototype,"setTemporaryPositionDelta",null),dw([$s.f.bound],pw.prototype,"setTemporarySizeDelta",null),dw([$s.f.bound],pw.prototype,"setTemporaryRotationDelta",null);var hw,mw=["addListener","removeListener"],gw=["addEventListener","removeEventListener"],vw=["on","off"];function yw(e,t,n,r){if(zv(n)&&(r=n,n=void 0),r)return yw(e,t,n).pipe(Cb(r));var o=y(function(e){return zv(e.addEventListener)&&zv(e.removeEventListener)}(e)?gw.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return zv(e.addListener)&&zv(e.removeListener)}(e)?mw.map(bw(e,t)):function(e){return zv(e.on)&&zv(e.off)}(e)?vw.map(bw(e,t)):[],2),i=o[0],a=o[1];if(!i&&Vy(e))return fw((function(e){return yw(e,t,n)}))(Jy(e));if(!i)throw new TypeError("Invalid event target");return new cy((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return a(t)}}))}function bw(e,t){return function(n){return function(r){return e[n](t,r)}}}function ww(e,t,n){const r=n.top+n.bottom,o=n.left+n.right,i=(t.width-o)/Math.max(1,e.width),a=(t.height-r)/Math.max(1,e.height);return a<i?a:i}!function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(hw||(hw={}));var Ow=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class xw{constructor(e,t,n){if(Object.defineProperty(this,"zoom",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"initialZoom",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"pan",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"mode",{enumerable:!0,configurable:!0,writable:!0,value:hw.Vertical}),Object.defineProperty(this,"activeDesignPanelId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isPanAnimating",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"visiblePanels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zoomBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minimumViewMargins",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"focusOnResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"panContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:new yy}),Object.defineProperty(this,"focusActivePanel",{enumerable:!0,configurable:!0,writable:!0,value:e=>{0!==this.visiblePanels.length&&this.panContainer&&(this.activeDesignPanelId?this.focusDesignPanel(this.activeDesignPanelId,e):this.focusDesignPanel(this.visiblePanels[0].id,e))}}),Object.defineProperty(this,"registerPanContainer",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.panContainer=e}}),Object.defineProperty(this,"registerViewport",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.viewport=e}}),Object.defineProperty(this,"zoomTo",{enumerable:!0,configurable:!0,writable:!0,value:(e,{animateOnPan:t=!1}={})=>{const n=this.getSafeArea(),r=n.width/2+n.x,o=n.height/2+n.y,i=e/this.zoom,a=r-this.pan.x,s=o-this.pan.y,c=(r-this.pan.x)*i-a,u=(o-this.pan.y)*i-s;this.setZoom(e),this.setPan({x:this.pan.x-c,y:this.pan.y-u},t)}}),Object($s.t)(this),n&&n.max<=n.min)throw new Error("The max zoom bound should be greater than the min zoom bound.");var r,o;this.visiblePanels=e,this.minimumViewMargins=null!=t?t:{top:0,left:0,bottom:0,right:0},this.zoomBounds=n,yw(window,"resize").pipe(eb(this.unsubscribe),(r=50,void 0===o&&(o=Ry),dy((function(e,t){var n=null,i=null,a=null,s=function(){if(n){n.unsubscribe(),n=null;var e=i;i=null,t.next(e)}};function c(){var e=a+r,i=o.now();if(i<e)return n=this.schedule(void 0,e-i),void t.add(n);s()}e.subscribe(new py(t,(function(e){i=e,a=o.now(),n||(n=o.schedule(c,r),t.add(n))}),(function(){s(),t.complete()}),void 0,(function(){i=n=null})))})))).subscribe(()=>{this.focusOnResize&&this.focusActivePanel(!0)})}setZoom(e){let t=e;if(t<1e-4*this.initialZoom&&(t=1e-4*this.initialZoom),this.zoomBounds){const{min:n,max:r}=this.zoomBounds;t=ls(e,n*this.initialZoom,r*this.initialZoom)}this.zoom=t}setPan({x:e,y:t},n=!1){this.pan={x:e,y:t},this.isPanAnimating=n}endPanAnimation(){this.isPanAnimating=!1}focusDesignPanel(e,t=!0,{animateOnPan:n=!1}={}){const r=this.visiblePanels.find(t=>t.id===e);if(!r)throw new Error("Cannot focus panel with id ".concat(e," because it is not visible"));const o=this.getSafeArea(),{width:i,height:a}=r.unzoomedDimensions,{staticMargins:s}=r,c=Math.max(s.top,this.minimumViewMargins.top),u=Math.max(s.bottom,this.minimumViewMargins.bottom),l=Math.max(s.left,this.minimumViewMargins.left),d=Math.max(s.right,this.minimumViewMargins.right),p=c+u,f=l+d;if(t){let e=ww({width:i,height:a},{width:o.width,height:o.height},{top:c,left:l,right:d,bottom:u});e<=0&&(e=1e-4),this.initialZoom=e,this.setZoom(e)}const{x:h,y:m}=r.position,g=r.dimensions,v=(o.width-(g.width+f))/2+l,y=(o.height-(g.height+p))/2+c;this.setPan({x:-h+v+o.x,y:-m+y+o.y},n)}seeAllPanels({animateOnPan:e=!1}={}){const t=this.getSafeArea();this.zoom=1;const{totalPanelWidth:n,totalPanelHeight:r,marginSizeX:o,marginSizeY:i}=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const i=[],a=[];for(const u of e){const{width:e,height:s}=u.dimensions,{x:c,y:l}=u.position,{top:d,left:p,bottom:f,right:h}=u.staticMargins;i.push([c,c+e]),a.push([l,l+s]),c-p<t&&(t=c-p),c+e+h>r&&(r=c+e+h),l-d<n&&(n=l-d),l+s+f>o&&(o=l+s+f)}const s=ps(i),c=ps(a);return{totalPanelWidth:s,totalPanelHeight:c,marginSizeX:r-t-s,marginSizeY:o-n-c}}(this.visiblePanels),a=(t.width-o)/n,s=(t.height-i)/r;this.zoom=s<a?s:a;const c=n*this.zoom+o,u=r*this.zoom+i,l=(t.width-c)/2,d=(t.height-u)/2;this.setPan({x:l+t.x,y:d+t.y},e)}setMode(e){this.mode=e}setActiveDesignPanelId(e){this.activeDesignPanelId=e}focusToArea(e,t,n={}){var r,{changeZoom:o=!0,restrictToPanelBoundary:i=!1,animateOnPan:a=!1}=n,s=Ew(n,["changeZoom","restrictToPanelBoundary","animateOnPan"]);e!==this.activeDesignPanelId&&this.setActiveDesignPanelId(e);const c=this.visiblePanels.find(({id:t})=>t===e);if(!c)throw new Error("The panelId provided was not .");let u=this.zoom;const{x:l,y:d,width:p,height:f}=t,h=this.getSafeArea(),{top:m,left:g,right:v,bottom:y}=null!==(r=s.margins)&&void 0!==r?r:{top:0,left:0,right:0,bottom:0},b=_u(h);if(o){u=ww({width:p,height:f},{width:h.width,height:h.height},{top:m,left:g,right:v,bottom:y})}let w={x:l*u+g,y:d*u+m,width:p*u+g+v,height:f*u+m+y};i&&(w=function(e,t){const[n,r,o,i]=Tu(e),a=Object.assign({},e);if(!Cu(n,t)&&!Cu(i,t)){const e=t.x-n.x;a.x+=e,a.width-=e}if(!Cu(n,t)&&!Cu(r,t)){const e=t.y-n.y;a.y+=e,a.height-=e}return Cu(r,t)||Cu(o,t)||(a.width-=e.x+e.width-(t.width+t.x)),Cu(o,t)||Cu(i,t)||(a.height-=e.y+e.height-(t.height+t.y)),a}(w,Object.assign(Object.assign({},c.position),c.dimensions)));const O=_u(w),E=b.x-(this.pan.x+c.position.x+O.x),x=b.y-(this.pan.y+c.position.y+O.y);this.zoom!==u&&this.setZoom(u),this.setPan({x:this.pan.x+E,y:this.pan.y+x},a)}focusToItem(e,t={}){let n,r;for(const o of this.visiblePanels){const t=o.items.find(t=>t.id===e);if(t){n=t,r=o.id;break}}if(!n||!r)throw new Error("The item to focus could not be found.");this.focusToArea(r,n.unzoomedBoundingBox,t)}get activePanel(){const e=this.activeDesignPanelId;if(!e)return;return this.visiblePanels.find(t=>t.id===e)}dispose(){this.unsubscribe.next()}getSafeArea(){if(!this.panContainer)throw new Error("LayoutManager requires a panContainer");const e={width:0,height:0,x:0,y:0},t=this.panContainer.getBoundingClientRect();if(this.viewport){const n=this.viewport.getBoundingClientRect();e.width=n.width,e.height=n.height,e.x=n.x-t.x,e.y=n.y-t.y}else e.width=t.width,e.height=t.height;return e}}Ow([$s.u],xw.prototype,"zoom",void 0),Ow([$s.u],xw.prototype,"initialZoom",void 0),Ow([$s.u],xw.prototype,"pan",void 0),Ow([$s.u],xw.prototype,"mode",void 0),Ow([$s.u],xw.prototype,"activeDesignPanelId",void 0),Ow([$s.u],xw.prototype,"isPanAnimating",void 0),Ow([$s.f],xw.prototype,"focusActivePanel",void 0),Ow([$s.f.bound],xw.prototype,"setZoom",null),Ow([$s.f.bound],xw.prototype,"setPan",null),Ow([$s.f.bound],xw.prototype,"endPanAnimation",null),Ow([$s.f.bound],xw.prototype,"zoomTo",void 0),Ow([$s.f.bound],xw.prototype,"focusDesignPanel",null),Ow([$s.f.bound],xw.prototype,"seeAllPanels",null),Ow([$s.f.bound],xw.prototype,"setMode",null),Ow([$s.f.bound],xw.prototype,"setActiveDesignPanelId",null),Ow([$s.f.bound],xw.prototype,"focusToArea",null),Ow([$s.f.bound],xw.prototype,"focusToItem",null),Ow([$s.h],xw.prototype,"activePanel",null);const Sw=[Fv(bv),Fv(Sv),Fv(_v),Fv(Ov),Fv(zb),Fv(Fb),Fv(Hb),Fv(jb),Fv(Uv),Fv(Fm),Fv(lv),Fv(Nb),Fv(Cv),Fv(hm)];function Pw(e,t){switch(e){case"top":return t.points[0].x-t.anchor.x;case"right":return t.points[1].y-t.points[0].y;case"bottom":return t.points[1].x-t.points[2].x;case"left":return t.points[2].y-t.anchor.y;default:return 0}}function Cw(e,t){switch(e){case"top":return t.anchor.x;case"right":return t.points[0].y;case"bottom":return t.points[2].x;case"left":return t.anchor.y;default:return 0}}const Tw=[Bv(zm),Bv(Kb),Bv(class extends Dm{get paths(){var e,t,n,r,o,i,a,s;const c=null!==(t=null===(e=this.designPanel.standardizedPanelRequirements)||void 0===e?void 0:e.masks)&&void 0!==t?t:[];return{BLEED:null===(r=null===(n=null==c?void 0:c.find(e=>"BLEED"===e.type))||void 0===n?void 0:n.paths)||void 0===r?void 0:r[0],TRIM:null===(i=null===(o=null==c?void 0:c.find(e=>"TRIM"===e.type))||void 0===o?void 0:o.paths)||void 0===i?void 0:i[0],SAFE:null===(s=null===(a=null==c?void 0:c.find(e=>"SAFE"===e.type))||void 0===a?void 0:a.paths)||void 0===s?void 0:s[0]}}getRuler(e,t){if(!t){return{length:"top"===e||"bottom"===e?new Su(this.designPanel.width).mm:new Su(this.designPanel.height).mm,offset:0}}if(t&&this.paths[t])return{length:Pw(e,this.paths[t]),offset:Cw(e,this.paths[t])}}}),Bv(Dv),Bv(Yb),Bv(Jb)];var _w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kw=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class Iw{constructor({item:e,designPanel:t,designEngine:n}){Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"renderingMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"previewData",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"disposePreviewUrlReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"designPanel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"designEngine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemPreviewUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.model=e,this.designEngine=n,this.designPanel=t,this.components=new Map,this.itemPreviewUrl="",this.disposePreviewUrlReaction=Object($s.x)(()=>this.transientPreviewUrl,e=>kw(this,void 0,void 0,(function*(){Object($s.d)(()=>kw(this,void 0,void 0,(function*(){e&&e.length>7e3?this.setItemPreviewUrl(yield this.saveDocumentForItemPreview()):this.setItemPreviewUrl(e)})))})),{fireImmediately:!0})}getComponent(e){let t=this.components.get(e);if(!t)for(const[,n]of this.components)if(n instanceof e){t=n;break}if(!t)throw new Error("Could not find component ".concat(e.name," on ").concat(this.type," with ID ").concat(this.id));return t}hasComponent(e){let t=this.components.has(e);if(!t)for(const[,n]of this.components)if(n instanceof e){t=!0;break}return t}saveDocumentForItemPreview(){return kw(this,void 0,void 0,(function*(){const{renderTenant:e}=this.designEngine,{zoom:t}=this.designEngine.layoutManager,n=yield function({designItem:e}){return pv(this,void 0,void 0,(function*(){const{designEngine:t,designPanel:n}=e,{version:r,fontRepositoryUrl:o}=t.cimDocConfiguration,{width:i,height:a,decorationTechnology:s}=n,c={version:r,fontRepositoryUrl:o,width:i,height:a,decorationTechnology:s};let u=e.model;if(e.hasComponent(cv)){const{previewModel:t}=e.getComponent(cv);u=t}const l=ov(u,c);return yield Pf({cimDoc:l,headers:Fd(t.auth),deleteAfterDays:1})}))}({designItem:this});if(n){const{_links:r}=n;return Cf({renderingInstructionsUrl:r.drawingInstructions.href.replace(Ef.drawing,Ef.item),size:av(t),format:"png",tenant:e})}return""}))}setFromJson(e){const t=this.asJson;if(t===e)return;Object.entries(e).forEach(([e,n])=>{t[e]!==n&&(this.model[e]=n)});const n=Object.keys(t),r=Object.keys(e);n.length>r.length&&n.forEach(e=>{r.includes(e)||delete this.model[e]})}get id(){return this.model.id}get asJson(){return Object($s.y)(this.model)}get transientPreviewUrl(){return dv({designItem:this})}get previewUrl(){return this.itemPreviewUrl}get rotation(){const e=this.model.rotationAngle?parseFloat(this.model.rotationAngle):0;return this.isSelected?this.designEngine.idaManager.temporaryRotationDelta+e:e}get isSelected(){return this.designEngine.idaManager.selectedIds.has(this.id)}get isCandidateForSelection(){return this.designEngine.idaManager.candidateSelectedIds.has(this.id)}get isSelectable(){const{isRestricted:e,overrides:t}=this.getComponent(Ov),{isBackground:n}=this.getComponent(Fm),r=Object.values(null!=t?t:{}).some(e=>e);return(!e||r)&&!n}get templateInfo(){var e;return(null!==(e=this.designEngine.metadata.template)&&void 0!==e?e:[]).find(e=>e.id===this.id)}get metadata(){var e;return(null!==(e=this.designEngine.metadata.dclMetadata)&&void 0!==e?e:[]).find(e=>e.id===this.id)}get unzoomedBoundingBox(){const{x:e,y:t,width:n,height:r}=Wu(this.model),o={x:new Su(e).mm,y:new Su(t).mm,width:new Su(n).mm,height:new Su(r).mm};return Hd(Iu(o,_u(o),this.rotation))}setItemPreviewUrl(e){this.itemPreviewUrl=e}dispose(){this.disposePreviewUrlReaction(),this.components.forEach(e=>{e.dispose()})}}function Mw(e,t){const n=new Map;for(const r of e)r((e,...r)=>{if(e.supports(t)){if(n.has(e))throw new Error("Duplicate component: ".concat(e.name," was found. Duplicate components may not exist."));n.set(e,new e(t,...r))}});return n}_w([$s.u],Iw.prototype,"model",void 0),_w([$s.u],Iw.prototype,"renderingMetadata",void 0),_w([$s.u],Iw.prototype,"previewData",void 0),_w([$s.u],Iw.prototype,"itemPreviewUrl",void 0),_w([$s.f.bound],Iw.prototype,"setFromJson",null),_w([$s.h],Iw.prototype,"id",null),_w([Object($s.h)({keepAlive:!0})],Iw.prototype,"asJson",null),_w([$s.h],Iw.prototype,"transientPreviewUrl",null),_w([$s.h],Iw.prototype,"previewUrl",null),_w([$s.h],Iw.prototype,"rotation",null),_w([$s.h],Iw.prototype,"isSelected",null),_w([$s.h],Iw.prototype,"isCandidateForSelection",null),_w([$s.h],Iw.prototype,"isSelectable",null),_w([$s.h],Iw.prototype,"templateInfo",null),_w([$s.h],Iw.prototype,"metadata",null),_w([$s.h],Iw.prototype,"unzoomedBoundingBox",null),_w([$s.f],Iw.prototype,"setItemPreviewUrl",null);var jw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Aw extends Iw{constructor({item:e,designPanel:t,designEngine:n}){super({item:e,designPanel:t,designEngine:n}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:um.Image}),Object($s.t)(this);const{itemComponents:r}=n.componentManager;this.components=Mw(r,this)}get previewBox(){return Object.assign(Object.assign({},this.dimensions),{x:0,y:0})}get dimensions(){const{zoom:e}=this.designEngine.layoutManager,{width:t,height:n}=this.model.position;return{width:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.width:0))*e,height:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.height:0))*e}}get unzoomedDimensions(){const{width:e,height:t}=this.model.position;return{width:new Su(e).mm,height:new Su(t).mm}}get position(){const{zoom:e}=this.designEngine.layoutManager,{x:t,y:n}=this.model.position;return{x:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.x:0))*e,y:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.y:0))*e}}}jw([$s.h],Aw.prototype,"previewBox",null),jw([$s.h],Aw.prototype,"dimensions",null),jw([$s.h],Aw.prototype,"unzoomedDimensions",null),jw([$s.h],Aw.prototype,"position",null);var Rw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Dw extends Iw{constructor({item:e,designEngine:t,designPanel:n}){super({item:e,designEngine:t,designPanel:n}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:um.ItemReference}),Object($s.t)(this);const{itemComponents:r}=t.componentManager;this.components=Mw(r,this)}get previewBox(){return Object.assign(Object.assign({},this.dimensions),{x:0,y:0})}get dimensions(){const{zoom:e}=this.designEngine.layoutManager,{width:t,height:n}=Wu(this.model);return{width:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.width:0))*e,height:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.height:0))*e}}get position(){const{zoom:e}=this.designEngine.layoutManager,{x:t,y:n}=Wu(this.model);return{x:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.x:0))*e,y:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.y:0))*e}}}function Lw(e,t){var n,r;if(!e.images)return e;const o=null==t?void 0:t.filter(e=>Lm(e)&&e.placeholder&&!e.placeholderReplaced).map(({id:e})=>e),i=null!==(r=null===(n=e.images)||void 0===n?void 0:n.filter(e=>!(null==o?void 0:o.includes(e.id))))&&void 0!==r?r:void 0;return Object.assign(Object.assign({},e),{images:i})}Rw([$s.h],Dw.prototype,"previewBox",null),Rw([$s.h],Dw.prototype,"dimensions",null),Rw([$s.h],Dw.prototype,"position",null);var Nw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Uw extends Iw{constructor({item:e,designEngine:t,designPanel:n}){super({item:e,designEngine:t,designPanel:n}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:um.TextArea}),Object.defineProperty(this,"disposeHeightReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this);const{itemComponents:r}=t.componentManager;this.components=Mw(r,this),this.disposeHeightReaction=Object($s.x)(()=>this.renderingMetadata,e=>{e&&e.actual&&this.updateHeight(e.actual.height)},{fireImmediately:!0})}get previewBox(){const{zoom:e}=this.designEngine.layoutManager;let t={x:0,y:0};const{width:n,height:r}=this.renderingMetadata?this.renderingMetadata.previewBox:{width:"0mm",height:"0mm"};if(this.renderingMetadata){const{top:n,left:r}=this.renderingMetadata.previewBox;t={x:new Su(r).mm*e,y:new Su(n).mm*e}}return Object.assign(Object.assign({},t),{width:new Su(n).mm*e,height:new Su(r).mm*e})}get dimensions(){const{zoom:e}=this.designEngine.layoutManager,{width:t,height:n}=this.model.position;return{width:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.width:0))*e,height:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.height:0))*e}}get position(){const{zoom:e}=this.designEngine.layoutManager,{x:t,y:n}=this.model.position;return{x:(new Su(t).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.x:0))*e,y:(new Su(n).mm+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.y:0))*e}}updateHeight(e){const t=Hu(Wu(this.model)),n=new Su(e).mm,r=this.model.rotationAngle?parseFloat(this.model.rotationAngle):0,o=ju(t,Object.assign(Object.assign({},t),{height:n}),r);this.model.position.x=new Su(us(t.x+o.x,3),fa.MM).measurement,this.model.position.y=new Su(us(t.y+o.y,3),fa.MM).measurement,this.model.position.height=e}dispose(){super.dispose(),this.disposeHeightReaction()}}Nw([$s.h],Uw.prototype,"previewBox",null),Nw([$s.h],Uw.prototype,"dimensions",null),Nw([$s.h],Uw.prototype,"position",null),Nw([$s.f.bound],Uw.prototype,"updateHeight",null);var Fw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class Bw extends Iw{constructor({item:e,designPanel:t,designEngine:n}){super({item:e,designPanel:t,designEngine:n}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:um.Shape}),Object($s.t)(this);const{itemComponents:r}=n.componentManager;this.components=Mw(r,this)}get previewBox(){return Object.assign(Object.assign({},this.dimensions),{x:0,y:0})}get dimensions(){var e,t;const{zoom:n}=this.designEngine.layoutManager,{width:r,height:o}=Wu(this.model),{deltaWidth:i="0mm",deltaHeight:a="0mm"}=null!==(t=null===(e=this.renderingMetadata)||void 0===e?void 0:e.previewBox)&&void 0!==t?t:{deltaWidth:"0mm",deltaHeight:"0mm"};return{width:(new Su(r).mm+new Su(i).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.width:0))*n,height:(new Su(o).mm+new Su(a).mm+(this.isSelected?this.designEngine.idaManager.temporarySizeDelta.height:0))*n}}get position(){var e,t;const{zoom:n}=this.designEngine.layoutManager,{x:r,y:o}=Wu(this.model),{top:i,left:a}=null!==(t=null===(e=this.renderingMetadata)||void 0===e?void 0:e.previewBox)&&void 0!==t?t:{top:"0mm",left:"0mm"},s=Du(this.model);return{x:(new Su(r).mm+(s?0:new Su(a).mm)+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.x:0))*n,y:(new Su(o).mm+(s?0:new Su(i).mm)+(this.isSelected?this.designEngine.idaManager.temporaryPositionDelta.y:0))*n}}}Fw([$s.h],Bw.prototype,"previewBox",null),Fw([$s.h],Bw.prototype,"dimensions",null),Fw([$s.h],Bw.prototype,"position",null);var zw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Vw(e,t){return e.map(({anchor:e,points:n})=>({anchor:{x:new Su(e.x,t).mm,y:new Su(e.y,t).mm},points:n.map(({x:e,y:n,controlPoints:r})=>{const o={x:new Su(e,t).mm,y:new Su(n,t).mm};return r&&(o.controlPoints={first:{x:new Su(r.first.x,t).mm,y:new Su(r.first.y,t).mm},second:{x:new Su(r.second.x,t).mm,y:new Su(r.second.y,t).mm}}),o})}))}var qw=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Gw=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class Hw{constructor({designEngine:e,panel:t}){var n,r;Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"decorationTechnology",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"panelDesignRequirements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"standardizedPanelRequirements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposeInstructionsUrlReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"designEngine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"staticMargins",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"instructionsUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this),this.designEngine=e,this.id=t.id,this.name=t.name,this.width=t.width,this.height=t.height,this.decorationTechnology=t.decorationTechnology;const{panels:o}=this.designEngine.designRequirements,i=o.find(e=>e.id===t.id);this.panelDesignRequirements=i,this.standardizedPanelRequirements=i&&function(e){var{height:t,width:n,masks:r,guides:o}=e,i=zw(e,["height","width","masks","guides"]);const{unit:a}=new Su(n),s=Object.assign(Object.assign({},i),{width:new Su(n).mm,height:new Su(t).mm});return s.masks=null==r?void 0:r.map(({paths:e,type:t})=>({type:t,paths:Vw(e,a)})),s.guides=null==o?void 0:o.map(({paths:e,type:t})=>({type:t,paths:Vw(e,a)})),s}(i),this.staticMargins=null!==(r=null===(n=this.panelDesignRequirements)||void 0===n?void 0:n.staticMargins)&&void 0!==r?r:{top:30,bottom:30,left:30,right:30},this.setFromJson(t),this.components=function(e,t){const n=new Map;for(const r of e)r((e,...r)=>{if(n.has(e))throw new Error("Duplicate component: ".concat(e.name," was found. Duplicate components may not exist."));n.set(e,new e(t,...r))});return n}(this.designEngine.componentManager.panelComponents,this),this.instructionsUrl=this.transientInstructions,this.disposeInstructionsUrlReaction=Object($s.x)(()=>this.transientInstructions,e=>Gw(this,void 0,void 0,(function*(){encodeURIComponent(e).length>7e3?this.setInstructionsUrl(yield this.getInstructionsUrl()):this.setInstructionsUrl(e)})),{fireImmediately:!0})}getComponent(e){const t=this.components.get(e);if(!t)throw new Error("Could not find component ".concat(e.name," with ID ").concat(this.id));return t}hasComponent(e){return this.components.has(e)}getInstructionsUrl(){const{version:e,fontRepositoryUrl:t}=this.designEngine.cimDocConfiguration;return function(e,t){return _f(this,void 0,void 0,(function*(){const n=Tf(e),r=Fd(t),o=yield Pf({cimDoc:n,headers:r,deleteAfterDays:1});if(o){const{_links:e}=o;return e.previewInstructions.href}throw new Error("getPreviewInstructions:noSavedDocument: Could not create a document with the provided cimDoc")}))}({version:e,fontRepositoryUrl:t,panel:Lw(this.asJson,this.designEngine.metadata.template)},this.designEngine.auth)}setFromJson(e){var t,n,r,o;const i=new Set;null===(t=e.images)||void 0===t||t.forEach(e=>{const t=this.items.find(t=>t.model.id===e.id);t?t.setFromJson(e):this.items.push(new Aw({item:e,designEngine:this.designEngine,designPanel:this})),i.add(e.id)}),null===(n=e.textAreas)||void 0===n||n.forEach(e=>{const t=this.items.find(t=>t.model.id===e.id);t?t.setFromJson(e):this.items.push(new Uw({item:e,designEngine:this.designEngine,designPanel:this})),i.add(e.id)}),null===(r=e.shapes)||void 0===r||r.forEach(e=>{const t=this.items.find(t=>t.model.id===e.id);t?t.setFromJson(e):this.items.push(new Bw({item:e,designEngine:this.designEngine,designPanel:this})),i.add(e.id)}),null===(o=e.itemReferences)||void 0===o||o.forEach(e=>{const t=this.items.find(t=>t.model.id===e.id);t?t.setFromJson(e):this.items.push(new Dw({item:e,designEngine:this.designEngine,designPanel:this})),i.add(e.id)});for(let a=this.items.length-1;a>=0;a-=1){const e=this.items[a];i.has(e.id)||(e.dispose(),this.items.splice(a,1))}}get asJson(){const e=this.items.filter(e=>"image"===e.type).map(e=>e.asJson),t=this.items.filter(e=>"textArea"===e.type).map(e=>e.asJson),n=this.items.filter(e=>"shape"===e.type).map(e=>e.asJson),r=this.items.filter(e=>"itemReference"===e.type).map(e=>e.asJson),o={id:this.id,name:this.name,decorationTechnology:this.decorationTechnology,width:this.width,height:this.height};return o.images=e,o.textAreas=t,o.shapes=n,o.itemReferences=r,o}get dimensions(){return{width:new Su(this.width).mm*this.designEngine.layoutManager.zoom,height:new Su(this.height).mm*this.designEngine.layoutManager.zoom}}get unzoomedDimensions(){return{width:new Su(this.width).mm,height:new Su(this.height).mm}}get position(){const{idaManager:e,layoutManager:t}=this.designEngine,n=t.mode,r=e.visiblePanels.findIndex(e=>e===this);if(0===r||-1===r)return{x:this.staticMargins.left,y:this.staticMargins.top};const o=e.visiblePanels[r-1];if(n===hw.Horizontal){return{x:o.position.x+o.dimensions.width+o.staticMargins.right+this.staticMargins.left,y:this.staticMargins.top}}const i=o.position.y+o.dimensions.height+o.staticMargins.bottom+this.staticMargins.top;return{x:this.staticMargins.left,y:i}}get transientInstructions(){const{version:e,fontRepositoryUrl:t}=this.designEngine.cimDocConfiguration,n=Tf({version:e,fontRepositoryUrl:t,panel:Lw(this.asJson,this.designEngine.metadata.template)});let r;try{r=rv(n)}catch(o){const{inlineDocumentUri:e}=o;r=e}return xf(r,Ef.preview)}get previewInstructionsUrl(){return this.instructionsUrl.length<=7e3?this.instructionsUrl:""}setInstructionsUrl(e){this.instructionsUrl=e}dispose(){this.items.forEach(e=>e.dispose()),this.disposeInstructionsUrlReaction(),this.components.forEach(e=>{e.dispose()})}}qw([$s.u],Hw.prototype,"items",void 0),qw([$s.u],Hw.prototype,"staticMargins",void 0),qw([$s.u],Hw.prototype,"instructionsUrl",void 0),qw([$s.f.bound],Hw.prototype,"setFromJson",null),qw([Object($s.h)({keepAlive:!0})],Hw.prototype,"asJson",null),qw([$s.h],Hw.prototype,"dimensions",null),qw([$s.h],Hw.prototype,"unzoomedDimensions",null),qw([$s.h],Hw.prototype,"position",null),qw([$s.h],Hw.prototype,"transientInstructions",null),qw([$s.h],Hw.prototype,"previewInstructionsUrl",null),qw([$s.f],Hw.prototype,"setInstructionsUrl",null);var Ww=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};eu();class Kw{constructor(e){Object.defineProperty(this,"designEngine",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"changes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inverseChanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"changeHead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interceptor",{enumerable:!0,configurable:!0,writable:!0,value:()=>!0}),Object($s.t)(this)}updateHistory(e,t){void 0!==this.changeHead&&this.changeHead!==this.changes.length-1&&(this.changes=this.changes.slice(0,this.changeHead+1),this.inverseChanges=this.inverseChanges.slice(0,this.changeHead+1)),this.changes.push(e),this.inverseChanges.push(t),this.changeHead=this.changes.length-1}applyPatches(e){const t=this.designEngine.asJson,n=yu(t,e),r=function(e,t){var n,r,o,i,a,s,c,u,l,d;const p=new Set,f=new Set,h=new Set,m=new Set;for(let y=0;y<e.document.panels.length;y+=1){const l=e.document.panels[y],d=t.document.panels[y];if(l!==d){p.add(l.id);const e=new Set,t=[...null!==(n=d.images)&&void 0!==n?n:[],...null!==(r=d.textAreas)&&void 0!==r?r:[],...null!==(o=d.shapes)&&void 0!==o?o:[],...null!==(i=d.itemReferences)&&void 0!==i?i:[]],g=[...null!==(a=l.images)&&void 0!==a?a:[],...null!==(s=l.textAreas)&&void 0!==s?s:[],...null!==(c=l.shapes)&&void 0!==c?c:[],...null!==(u=l.itemReferences)&&void 0!==u?u:[]];for(const n of t){const{id:t}=n;e.add(t);const r=g.find(e=>e.id===t);r?r!==n&&h.add(t):f.add(t)}for(const n of g)e.has(n.id)||m.add(n.id)}}const g=null===(l=t.metadata)||void 0===l?void 0:l.template,v=null===(d=e.metadata)||void 0===d?void 0:d.template;if(g||v){const n=new Set,r=(e,n)=>{const r=zu(e,n);if(r)h.add(r.item.id),p.add(r.panelId);else{const e=qu(t,n);e&&p.add(e.id)}};if(g)for(const e of g){const{id:o}=e;if(!m.has(o)&&!f.has(o)){n.add(o);(null==v?void 0:v.find(e=>e.id===o))!==e&&r(t,o)}}if(v)for(const t of v){const{id:o}=t;n.has(o)||m.has(o)||f.has(o)||r(e,o)}}return{changedPanelIds:[...p],changedItemIds:[...h],addedItemIds:[...f],removedItemIds:[...m]}}(t,n),o=this.interceptor(r);return o&&this.designEngine.setFromJson(n),o}undoRedo(e,t){const n=1===t?1:0,r=Object($s.y)(e[this.changeHead+n]);this.applyPatches(r)&&(this.changeHead+=t)}undo(){if(!this.canUndo)throw Error("Cannot undo: no past history");this.undoRedo(this.inverseChanges,-1)}redo(){if(!this.canRedo)throw Error("Cannot redo: no future history");this.undoRedo(this.changes,1)}get canUndo(){return void 0!==this.changeHead&&this.changeHead>=0}get canRedo(){return void 0!==this.changeHead&&this.changeHead<=this.changes.length-2}}Ww([$s.u],Kw.prototype,"changes",void 0),Ww([$s.u],Kw.prototype,"inverseChanges",void 0),Ww([$s.u],Kw.prototype,"changeHead",void 0),Ww([$s.f.bound],Kw.prototype,"updateHistory",null),Ww([$s.f],Kw.prototype,"applyPatches",null),Ww([$s.f.bound],Kw.prototype,"undo",null),Ww([$s.f.bound],Kw.prototype,"redo",null),Ww([$s.h],Kw.prototype,"canUndo",null),Ww([$s.h],Kw.prototype,"canRedo",null);const Qw="WARNING",Yw="ERROR";var Zw,Jw,Xw,$w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class eO{constructor({cimDoc:e,designRequirements:t,authConfig:n,defaultComponents:r={}}){var o;Object.defineProperty(this,"designRequirements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"layoutManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"idaManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historyManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"panels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"auth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cimDocConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"componentManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultComponents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object($s.t)(this);const i=function(e,t){if(e.panels.length!==t.document.panels.length)return{valid:!1,message:"".concat(Yw,": The number of panels on the input document does not match the number of panels in the design requirements")};let n=!0,r="";for(let o=0;o<e.panels.length;o+=1){const i=e.panels[o],a=t.document.panels[o];i.id!==a.id&&(i.id=a.id,n=n&&!0,r+="".concat(Qw,": The designRequirements of panel at index ").concat(o," had a different id than that from the cimDoc, and has been updated to match the cimDoc.\n")),i.name!==a.name&&(i.name=a.name,n=n&&!0,r+="".concat(Qw,": The designRequirements of panel at index ").concat(o," had a different panel name than that from the cimDoc, and has been updated to match the cimDoc.\n"));const s=new Su(i.width).mm,c=new Su(i.height).mm;!1===ds(s,new Su(a.width).mm)&&(n=n&&!1,r+="".concat(Yw,": The width of the panel at index ").concat(o," on the input document does not match the corresponding panel in the design requirements.\n")),!1===ds(c,new Su(a.height).mm)&&(n=n&&!1,r+="".concat(Yw,": The height of the panel at index ").concat(o," on the input document does not match the corresponding panel in the design requirements.\n")),i.decorationTechnology!==a.decorationTechnology&&(n=n&&!1,r+="".concat(Yw,": The decoration technology of panel at index ").concat(o," does not match the one in Cimdoc.\n"))}return{valid:n,message:r||void 0}}(t,e);if(!i.valid)throw new Error(i.message);const{version:a,fontRepositoryUrl:s,projectionId:c}=e;this.designRequirements=t,this.cimDocConfiguration={version:a,fontRepositoryUrl:s,projectionId:c},this.metadata=null!==(o=e.metadata)&&void 0!==o?o:{},this.defaultComponents=Object.assign({panels:Tw,items:Sw},r);const{minimumViewMargins:u}=t;this.idaManager=new pw(this.panels),this.layoutManager=new xw(this.idaManager.visiblePanels,u),this.componentManager=new lw(this),this.auth=n,this.historyManager=new Kw(this),this.setFromJson(e)}setFromJson(e){var t;this.asJson.metadata!==e.metadata&&(this.metadata=null!==(t=e.metadata)&&void 0!==t?t:{});const n=new Set;e.document.panels.forEach(e=>{const t=this.panels.find(t=>t.id===e.id);t?t.setFromJson(e):this.panels.push(new Hw({designEngine:this,panel:e})),n.add(e.id)});for(let r=this.panels.length-1;r>=0;r-=1){const e=this.panels[r];n.has(e.id)||(e.dispose(),this.panels.splice(r,1))}}executeCommand(e,t){const n=bu(this.asJson,e,t);return this.historyManager.updateHistory(n.patches,n.inversePatches),this.setFromJson(n.cimDoc),n}get asJson(){return{version:this.cimDocConfiguration.version,fontRepositoryUrl:this.cimDocConfiguration.fontRepositoryUrl,projectionId:this.cimDocConfiguration.projectionId,document:{panels:this.panels.map(e=>e.asJson)},metadata:Object($s.y)(this.metadata)}}get renderTenant(){const{renderingTenant:e}=this.constructor;return e}dispose(){this.layoutManager.dispose(),this.idaManager.dispose();for(const e of this.panels)e.dispose()}}function tO(e){return"normal"===e||"bold"===e||"italic"===e||"underline"===e||"strikeout"===e}function nO(e,t,n){let r=!1;const o=function(e){return e.split(",").map(e=>e.trim().toLowerCase()).filter(tO)}(t);return n===nf.EMBROIDERY&&(o.includes("strikeout")||o.includes("underline"))?r=!1:o.includes("bold")&&o.includes("italic")?r=!!e.boldItalicUrl:o.includes("bold")?r=!!e.boldUrl:o.includes("italic")?r=!!e.italicUrl:o.includes("normal")?r=!!e.normalUrl:(o.includes("strikeout")||o.includes("underline"))&&(r=!0),r}function rO(e){return"normal"===e||"bold"===e||"italic"===e||"underline"===e||"strikeout"===e}function oO(e){return function(e){return e.split(",").map(e=>e.trim().toLowerCase()).filter(rO)}(e).filter(e=>"normal"!==e).reduce((e,t)=>(e[t]=!0,e),{})}function iO(e,{itemId:t,restrictions:n,fontManifest:r}){let o=!1,i=!1;const a=Vu(e,t);if(!a)throw new Error("No item found with matching id: ".concat(t));if(!Ru(a))throw new Error("Can only restrict font size and font style of a text item");return function e(t,n){t.forEach(t=>{n(t),"list"!==t.type&&"listItem"!==t.type||e(t.content,n)})}(a.content,e=>{if(null==n?void 0:n.restrictFontSize){const{minPtSize:t,maxPtSize:r}=n.restrictFontSize;if(e.fontSize){const n=parseFloat(e.fontSize);(n<t||n>r)&&(e.fontSize="".concat(ls(parseFloat(e.fontSize),t,r),"pt"),o=!0)}}if((null==n?void 0:n.restrictStyle)&&e.fontStyle&&e.fontFamily&&r){const t=oO(e.fontStyle),n=function(e,t){return e.fontFamilies.find(e=>e.name.toLowerCase()===t.toLowerCase())}(r,e.fontFamily);if(n){Object.keys(t).forEach(e=>{nO(n,e,r.fontFlavor)||(i=!0,t[e]=!1)});const o=Object.keys(t).reduce((e,n)=>t[n]?[...e,n]:e,[]).join(",");e.fontStyle=o.length?o:function(e){return e.normalUrl?"normal":e.boldUrl?"bold":e.italicUrl?"italic":"bold,italic"}(n)}}}),o||i?{fontSize:o,fontStyle:i}:null}function aO(e,{itemId:t,content:n,restrictions:r,fontManifest:o}){const i=Vu(e,t);if(!i)throw new Error("No item found with matching id: ".concat(t));if(!Ru(i))throw new Error("Can't set the text content of items which aren't text areas");return i.content=n,iO(e,{itemId:t,restrictions:r,fontManifest:o})}Object.defineProperty(eO,"renderingTenant",{enumerable:!0,configurable:!0,writable:!0,value:"dsc"}),$w([$s.u],eO.prototype,"panels",void 0),$w([$s.u],eO.prototype,"metadata",void 0),$w([$s.u],eO.prototype,"auth",void 0),$w([$s.f.bound],eO.prototype,"setFromJson",null),$w([$s.f.bound],eO.prototype,"executeCommand",null),$w([Object($s.h)({keepAlive:!0})],eO.prototype,"asJson",null),function(e){e.OriginalUpload="Design:OriginalUpload",e.Print="Design:Print",e.Page="Design:Page"}(Zw||(Zw={})),function(e){e.MoveTo="M",e.LineTo="L",e.CurveTo="C"}(Jw||(Jw={})),function(e){e.MoveTo="moveTo",e.LineTo="lineTo",e.Close="close",e.CurveTo="curveTo"}(Xw||(Xw={}));var sO=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};sO([$s.w],class extends Iw{constructor({item:e,designPanel:t,designEngine:n}){super({item:e,designPanel:t,designEngine:n}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:um.Image}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object($s.t)(this);const{itemComponents:r}=n.componentManager;this.components=Mw(r,this)}get previewBox(){return Object.assign(Object.assign({},this.dimensions),{x:4,y:8})}get position(){return{x:15,y:16}}get dimensions(){return{width:23,height:42}}get unzoomedDimensions(){return{width:23,height:42}}get previewUrl(){if(this.templateInfo){const{mock:e}=this.templateInfo;return"".concat(e,"-preview-url")}return""}}.prototype,"previewUrl",null);n("HWI+");function cO(e,t){e.document.panels.forEach(e=>{e.itemReferences&&e.itemReferences.forEach(e=>{e.id===t.itemId&&(e.data.content=t.textValue)})})}var uO=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};uO([$s.w],class extends dm{static supports(e){return e.type===um.ItemReference&&"Word Art"===e.model.type}constructor(e){super(e),Object($s.t)(this)}get label(){const e=this.item.model.data.content;return e.trim()?e:(t=this.item,(null===(n=t.templateInfo)||void 0===n?void 0:n.placeholder)||(null===(r=t.templateInfo)||void 0===r?void 0:r.label)||"");var t,n,r}}.prototype,"label",null);var lO=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};class dO extends cv{static supports(e){return e.type===um.ItemReference&&"Word Art"===e.model.type}constructor(e){super(e),Object($s.t)(this)}get previewModel(){var e,t;return this.item.model.data.content?this.item.model:Object.assign(Object.assign({},this.item.model),{data:Object.assign(Object.assign({},this.item.model.data),{content:null!==(t=null!==(e=this.item.templateInfo.placeholder)&&void 0!==e?e:this.item.templateInfo.label)&&void 0!==t?t:""})})}}lO([$s.w],dO.prototype,"previewModel",null);const pO=(e,t=[])=>{const n=Vo();Object(u.useEffect)(()=>{let t=!0,r=null;window.AbortController&&(r=new AbortController);const o=e=>{t&&e()},i=e({abortSignal:null==r?void 0:r.signal,runIfMounted:o,isComponentMounted:t,throwErrorToBoundary:e=>{o(()=>n(e))}});return()=>{null==r||r.abort(),t=!1,i&&i()}},[...t,n])};var fO;!function(e){e.Calcifer="DesignPlatformCalciferError",e.DataReady="DesignPlatformDataReady",e.Demo="DesignPlatformDemoEvent",e.Document="DesignPlatformDocument",e.DSSViewError="DesignPlatformDSSViewError",e.Error="DesignPlatformError",e.FocusFailure="DesignPlatformFocusFailure",e.PURCS="DesignPlatformPURCS"}(fO||(fO={}));class hO extends Error{constructor(e){super(e.message),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.stack=e.stack,this.options=e.options}}n("cM8m");var mO=n("+9jB");const gO=["locale","productKey","requestor","selectedOptions","abortSignal","disablePricing"],vO=async e=>{const{locale:t,productKey:n,requestor:r,selectedOptions:o,abortSignal:i,disablePricing:a=!1}=e,s=Go(e,gO),c=(e=>"https://studio-calcifer.design.vpsvc.com/v2/initializedStudioConfig/?"+mO.a.stringify(e))(Object(qo.a)({locale:t,productKey:n,requestor:r,selectedOptions:o,disablePricing:a},s));try{const e=await fetch(c,{signal:i});if(!e.ok){const o=await e.text(),i=JSON.parse(o);throw new hO({message:'Failed to fetch product configuration: "'+n+'" with requestor: "'+r+'", locale: "'+t+'".Responded with status '+e.status+" and error message "+i.title+".",name:"Design Platform: Fetching Calcifer product configuration failed",options:{src:fO.Calcifer}})}return await e.json()}catch(u){if(u instanceof Error&&"AbortError"===u.name)throw u;throw new hO({message:u instanceof Error?"Fetch failed for "+c+": "+u.message+".":"Fetch failed for "+c+".",name:"Design Platform: Fetch Failure.",options:{src:fO.Calcifer,url:c}})}};const yO=e=>{const t=Object(u.useRef)(e);return!function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}(t.current,e)&&(t.current=e),t.current},bO=l.a.createContext(void 0);var wO;!function(e){e.UNINITIALIZED="UNINITIALIZED",e.LOADING="LOADING",e.ERROR="ERROR",e.READY="READY"}(wO||(wO={}));const OO=(e,t)=>{switch(t.type){case"FETCHING":return Object(qo.a)({},e,{state:wO.LOADING});case"ERROR":return Object(qo.a)({},e,{state:wO.ERROR,error:t.payload});case"UPDATE_PRODUCT_CONFIGURATION":return Object(qo.a)({},e,{state:wO.READY,designViews:t.payload.designViews.designViews,productKey:t.payload.productKey,productVersion:t.payload.productVersion,scenesConfiguration:t.payload.scenesConfiguration});default:return e}},EO=e=>{const{children:t,productKey:n,requestor:r,locale:o,productVersion:i,productAttributes:a}=e,[s,c]=Object(u.useReducer)(OO,{state:wO.UNINITIALIZED,errorMessage:null,designViews:[],locale:o,productKey:n,productVersion:i,requestor:r,scenesConfiguration:{underlay:[],overlay:[]},productAttributes:a}),d=yO(a);return pO(e=>{let{abortSignal:t,runIfMounted:a,throwErrorToBoundary:s}=e;!async function(){if(n&&d&&o)try{c({type:"FETCHING"});const e=o.split("-")[1],s=i||await(async(e,t,n)=>{const r="https://catalog.products.vpsvc.com/api/v2/products/"+e+"/versions/current?requestor="+t;try{const o=await fetch(r,{signal:n.abortSignal});if(!o.ok)throw new hO({message:'Failed to fetch current version for product "'+e+'" with requestor "'+t+'". Responded with status '+o.status+" and status text "+o.statusText+".",name:"Design Platform: Fetching Product Version Failed",options:{src:fO.DSSViewError,productKey:e,requestor:t}});return(await o.json()).version}catch(o){if(o instanceof Error&&"AbortError"===o.name)throw o;throw new hO({message:o instanceof Error?"Fetch failed for "+r+": "+(null==o?void 0:o.message)+".":"Fetch failed for "+r+".",name:"Design Platform: Fetch Failure.",options:{src:fO.DSSViewError,pcsUrl:r}})}})(n,r,{abortSignal:t}),u=await vO({productVersion:s,productKey:n,locale:o,market:e,requestor:r,disablePricing:!0,selectedOptions:JSON.stringify(d),abortSignal:t});a(async()=>{c({type:"UPDATE_PRODUCT_CONFIGURATION",payload:u})})}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;a(()=>{console.error("An error occurred when fetching the product configuration",e),e instanceof Error&&c({type:"ERROR",payload:e.message}),s(e)})}}()},[n,d,o,i,r]),l.a.createElement(bO.Provider,{value:s},t)},xO=()=>{const e=Object(u.useContext)(bO);if(void 0===e)throw new Error("You must wrap your component in the CalciferProvider");return e},SO=()=>{const{designViews:e,state:t,errorMessage:n}=xO();return{designViewDisplayNames:null==e?void 0:e.map(e=>{var t;return{id:e.id,normalizedName:e.name.toLowerCase(),canonicalName:e.name,displayName:(null==(t=e.location)?void 0:t.name)||e.name}}),state:t,errorMessage:n}};function PO(e){return function(e){e.document.surfaces&&(e.document.panels=e.document.surfaces,delete e.document.surfaces)}(e),function(e){var t;for(const n of e.document.panels)for(const e of null!==(t=n.textAreas)&&void 0!==t?t:[])e.textFields&&(e.content=e.textFields,delete e.textFields)}(e),e}var CO,TO;!function(e){e.CIMDOC_LOADED="CIMDOC_LOADED",e.REPLACE_CIMDOC="REPLACE_CIMDOC",e.LOADING_CIMDOC="LOADING_CIMDOC",e.LOADING_ERROR="LOADING_ERROR"}(CO||(CO={})),function(e){e.LOADING="LOADING",e.READY="READY",e.UNINITIALIZED="UNINITIALIZED",e.ERROR="ERROR"}(TO||(TO={}));const _O=(e,t)=>{switch(t.type){case CO.LOADING_CIMDOC:return Object(qo.a)({},e,{state:TO.LOADING,cimDoc:null,docUri:t.props});case CO.CIMDOC_LOADED:case CO.REPLACE_CIMDOC:{const{cimDoc:n,docUri:r}=t.props;return Object(qo.a)({},e,{state:TO.READY,cimDoc:n,docUri:null!=r?r:void 0})}case CO.LOADING_ERROR:return Object(qo.a)({},e,{state:TO.ERROR,cimDoc:null,errorMessage:t.props});default:return e}},kO=Object(u.createContext)(void 0),IO=e=>{var t;const[n,r]=Object(u.useReducer)(_O,{cimDoc:null!=(t=e.cimDoc)?t:null,docUri:e.docUri,state:e.cimDoc?TO.READY:TO.UNINITIALIZED});pO(t=>{let{abortSignal:n,runIfMounted:o,throwErrorToBoundary:i}=t;const a=async e=>{try{r({type:CO.LOADING_CIMDOC,props:e});const t=await(async(e,t)=>{try{const n=await fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},signal:t});if(!n.ok)throw new hO({message:"Failed to fetch document "+e+".",name:"Design Platform: CimDoc Fetch Failure",options:{src:fO.Document,documentUri:e}});return await n.json()}catch(n){if(n instanceof Error&&"AbortError"===n.name)throw n;throw new hO({message:n instanceof Error?"Fetch failed for "+e+": "+n.message:"Fetch failed for "+e+".",name:"Design Platform: Fetch Failure.",options:{src:fO.Document,documentUri:e}})}})(e,n);o(()=>{r({type:CO.CIMDOC_LOADED,props:{cimDoc:t,docUri:e}})})}catch(t){o(()=>{r({type:CO.LOADING_ERROR,props:t instanceof Error?t.message:void 0}),i(t)})}};if(e.cimDoc){const t=e.cimDoc;o(()=>{r({type:CO.CIMDOC_LOADED,props:{cimDoc:t,docUri:e.docUri}})})}else e.docUri&&a(e.docUri)},[e.docUri,e.cimDoc]);const o=Object(u.useMemo)(()=>{const e=(e,t)=>r({type:CO.REPLACE_CIMDOC,props:{cimDoc:e,docUri:t}});switch(n.state){case TO.ERROR:return{state:n.state,cimDoc:null,errorMessage:n.errorMessage,updateCimDoc:e};case TO.UNINITIALIZED:case TO.LOADING:return{state:n.state,cimDoc:null,errorMessage:void 0,updateCimDoc:e};default:return{state:TO.READY,cimDoc:PO(n.cimDoc),errorMessage:void 0,updateCimDoc:e}}},[n.cimDoc,n.state,n.errorMessage]);return l.a.createElement(kO.Provider,{value:o},e.children)},MO=()=>{const e=Object(u.useContext)(kO);if(void 0===e)throw new Error("useDocument must be used in a child component of DocumentProvider");return e};var jO=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class AO extends Error{constructor(e){super(e),this.name="TimeoutError"}}var RO=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function DO(e,t={}){return RO(this,void 0,void 0,(function*(){const{interval:n=20,timeout:r=Number.POSITIVE_INFINITY,before:o=!0}=t;let i;const a=new Promise((t,r)=>{const a=()=>RO(this,void 0,void 0,(function*(){try{const r=yield e();if("boolean"!=typeof r)throw new TypeError("Expected condition to return a boolean");!0===r?t():i=setTimeout(a,n)}catch(o){r(o)}}));o?a():i=setTimeout(a,n)});if(r!==Number.POSITIVE_INFINITY)try{return yield function(e,t,n,r){let o;const i=new Promise((i,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");t!==Number.POSITIVE_INFINITY?(r=Object.assign({customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout}},r),o=r.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{i(n())}catch(s){a(s)}return}const r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),o=n instanceof Error?n:new AO(r);"function"==typeof e.cancel&&e.cancel(),a(o)},t),(()=>{jO(this,void 0,void 0,(function*(){try{i(yield e)}catch(t){a(t)}finally{r.customTimers.clearTimeout.call(void 0,o)}}))})()):i(e)});return i.clear=()=>{clearTimeout(o),o=void 0},i}(a,r)}catch(s){throw i&&clearTimeout(i),s}return a}))}const LO=l.a.createContext(void 0),NO=()=>{const e=Object(u.useContext)(LO);if(void 0===e)throw new Error("You must wrap your component in the FocusManagerProvider");return e},UO=e=>{const t=Object(u.useRef)(null),n=Vo(),r=Object(u.useCallback)(({interval:e=1,timeout:r=16,before:o=!1}={})=>{DO(()=>{var e;return!!t.current&&(null===(e=t.current)||void 0===e||e.focus(),!0)},{interval:e,timeout:r,before:o}).catch(()=>{n(new hO({message:"Cannot find element for focus",name:"FocusManagerProvider: Failed to Focus in applyFocus()",options:{src:fO.FocusFailure,applyFocusOptions:{interval:e,timeout:r,before:o}}}))})},[t,n]),o=Object(u.useCallback)(e=>{t.current=e},[t]),i=Object(u.useMemo)(()=>({applyFocus:r,setTargetFocusElement:o}),[r,o]);return l.a.createElement(LO.Provider,{value:i},e.children)},FO=e=>{const{applyFocus:t,id:n,customRef:r}=e,o=Object(u.useRef)(null),i=null!=r?r:o;return Object(u.useLayoutEffect)(()=>{if(t&&i.current){if(i.current.focus(),i.current instanceof HTMLTextAreaElement){const e=i.current.value.length;i.current.setSelectionRange(e,e)}i.current instanceof HTMLInputElement&&i.current.setSelectionRange(0,0)}},[t,n,i]),i},BO=({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,pannableZoneSize:r,borderMargin:o=0})=>{const i=e.x+t.x,a=e.y+t.y;return{bottomVisible:a+r.height<n.height,leftVisible:i>o,rightVisible:i+r.width<n.width,topVisible:a>o}},zO=({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,pannableZoneSize:r,borderMargin:o=0})=>{const{bottomVisible:i,leftVisible:a,rightVisible:s,topVisible:c}=BO({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,pannableZoneSize:r,borderMargin:o});return{top:i?0:n.height-(e.y+r.height+o),bottom:c?0:-e.y+o,left:s?0:n.width-(e.x+r.width+o),right:a?0:-e.x+o}},VO=()=>{Object(u.useEffect)(()=>{const e=e=>{e.preventDefault()};return document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),()=>{document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}},[])};function qO(e){const t=Object(u.useRef)(null);return Object(u.useEffect)(()=>{t.current=e},[e]),t.current}var GO=u.useLayoutEffect,HO=function(e,t){"function"!=typeof e?e.current=t:e(t)},WO={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},KO=function(e){Object.keys(WO).forEach((function(t){e.style.setProperty(t,WO[t],"important")}))},QO=null;var YO=function(){},ZO=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],JO=!!document.documentElement.currentStyle,XO=function(e){var t,n,r=(t=e,n=u.useRef(t),GO((function(){n.current=t})),n);Object(u.useLayoutEffect)((function(){var e=function(e){r.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},$O=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,o=e.minRows,i=e.onChange,a=void 0===i?YO:i,s=e.onHeightChange,c=void 0===s?YO:s,l=Go(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var d=void 0!==l.value,p=Object(u.useRef)(null),f=function(e,t){var n=Object(u.useRef)();return Object(u.useCallback)((function(r){e.current=r,n.current&&HO(n.current,null),n.current=t,t&&HO(t,r)}),[t])}(p,t),h=Object(u.useRef)(0),m=Object(u.useRef)(),g=function(){var e=p.current,t=n&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,ZO.reduce((function(e,t){return e[t]=n[t],e}),{})),o=r.boxSizing;return""===o?null:(JO&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var i=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),QO||((QO=document.createElement("textarea")).setAttribute("tabindex","-1"),QO.setAttribute("aria-hidden","true"),KO(QO)),null===QO.parentNode&&document.body.appendChild(QO);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;QO.style[t]=a[t]})),KO(QO),QO.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(QO,e);QO.value="x";var u=QO.scrollHeight-o,l=u*n;"border-box"===s&&(l=l+o+i),c=Math.max(l,c);var d=u*r;return"border-box"===s&&(d=d+o+i),[c=Math.min(d,c),u]}(t,e.value||e.placeholder||"x",o,r),a=i[0],s=i[1];h.current!==a&&(h.current=a,e.style.setProperty("height",a+"px","important"),c(a,{rowHeight:s}))}};return Object(u.useLayoutEffect)(g),XO(g),Object(u.createElement)("textarea",Object(qo.a)({},l,{onChange:function(e){d||g(),a(e)},ref:f}))},eE=Object(u.forwardRef)($O);const tE=["color","style","panel","underlay"],nE=e=>{const{color:t,style:n,panel:r,underlay:o}=e,i=Go(e,tE),a=null==o?void 0:o.find(e=>e.name.toLowerCase()===(null==r?void 0:r.name.toLowerCase()));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({style:Object(qo.a)({},n,{backgroundColor:t||"white",height:"100%",width:"100%"})},i)),a&&r&&l.a.createElement(Lf,{panelId:r.id,sceneUrl:a.url,name:a.name}))};var rE="easel-ida-react__ContextualPopover-module__inner__50a5a9c";const oE=Object(u.createContext)(null);oE.displayName="PanContainerSizeContext";const iE=(e,t)=>e-t>=0,aE=(e,t,n)=>e+t<n,sE=e=>-e+"px",cE=e=>e+"px",uE=e=>e*Math.PI/180;class lE extends cm{constructor(e){super(e),Object($s.t)(this)}get label(){switch(this.item.type){case um.TextArea:{const e=this.item.model.content.reduce(dE,"");return e.trim()?e:pE(this.item)}case um.ItemReference:if("Word Art"===this.item.model.type){const e=this.item.model.data.content;return e.trim()?e:pE(this.item)}return this.item.model.type||"";default:return this.item.type+""}}}function dE(e,t){return"string"==typeof t?t:Array.isArray(t)||"inline"!==t.type&&void 0!==t.type?Array.isArray(t)?t.reduce((e,t)=>t.content.reduce((e,t)=>e?e+" "+t.content:t.content,e),e):e+dE(e,t.content):e?e+" "+t.content:t.content}function pE(e){var t,n;return(null==(t=e.templateInfo)?void 0:t.placeholder)||(null==(n=e.templateInfo)?void 0:n.label)||""}h([$s.h],lE.prototype,"label",null);class fE extends cm{constructor(e){super(e),Object($s.t)(this)}get itemCornerPoints(){return{topLeft:{x:this.item.position.x,y:this.item.position.y},topRight:{x:this.item.position.x+this.item.dimensions.width,y:this.item.position.y},bottomLeft:{x:this.item.position.x,y:this.item.position.y+this.item.dimensions.height},bottomRight:{x:this.item.position.x+this.item.dimensions.width,y:this.item.position.y+this.item.dimensions.height}}}rotatedItemCornerPoints(e){if(!this.item.model.rotationAngle)return;const t=this.itemCornerPoints;let n=parseFloat(this.item.model.rotationAngle);e&&e.rotationModulo&&(n%=e.rotationModulo);const r=((e,t)=>{let{x:n,y:r}=e;return e=>{let{x:o,y:i}=e;const a=uE(t);return{x:Math.cos(a)*(o-n)-Math.sin(a)*(i-r)+n,y:Math.sin(a)*(o-n)+Math.cos(a)*(i-r)+r}}})(this.itemCenter,n);return{topLeft:r(t.topLeft),topRight:r(t.topRight),bottomLeft:r(t.bottomLeft),bottomRight:r(t.bottomRight)}}get itemCenter(){return{x:this.item.position.x+this.item.dimensions.width/2,y:this.item.position.y+this.item.dimensions.height/2}}get itemBoxCornersWithPan(){const e=this.item.designEngine.layoutManager.pan,t=this.itemCornerPoints;return{topLeft:{x:t.topLeft.x+e.x,y:t.topLeft.y+e.y},topRight:{x:t.topRight.x+e.x,y:t.topRight.y+e.y},bottomLeft:{x:t.bottomLeft.x+e.x,y:t.bottomLeft.y+e.y},bottomRight:{x:t.bottomRight.x+e.x,y:t.bottomRight.y+e.y}}}rotatedItemBoxCornersWithPan(e){const t=this.item.designEngine.layoutManager.pan,n=this.rotatedItemCornerPoints(e);if(n)return{topLeft:{x:n.topLeft.x+t.x,y:n.topLeft.y+t.y},topRight:{x:n.topRight.x+t.x,y:n.topRight.y+t.y},bottomLeft:{x:n.bottomLeft.x+t.x,y:n.bottomLeft.y+t.y},bottomRight:{x:n.bottomRight.x+t.x,y:n.bottomRight.y+t.y}}}isPointInItemBox(e){let{coordinates:t,includePan:n,rotationModulo:r}=e;if(this.item.model.rotationAngle){const e=n?this.rotatedItemBoxCornersWithPan({rotationModulo:r}):this.rotatedItemCornerPoints({rotationModulo:r});return gE(e,t,this.item.dimensions)}const o=n?this.itemBoxCornersWithPan:this.itemCornerPoints;return gE(o,t,this.item.dimensions)}}h([$s.h],fE.prototype,"itemCornerPoints",null),h([$s.h],fE.prototype,"itemCenter",null),h([$s.h],fE.prototype,"itemBoxCornersWithPan",null);const hE=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),mE=(e,t,n)=>{const r=(e+t+n)/2;return Math.sqrt(r*(r-e)*(r-t)*(r-n))},gE=(e,t,n)=>{if(!e)return!1;const r=Math.round(n.width*n.height),o=[mE(hE(t,e.topLeft),hE(e.topLeft,e.topRight),hE(e.topRight,t)),mE(hE(t,e.topRight),hE(e.topRight,e.bottomRight),hE(e.bottomRight,t)),mE(hE(t,e.bottomRight),hE(e.bottomRight,e.bottomLeft),hE(e.bottomLeft,t)),mE(hE(t,e.bottomLeft),hE(e.bottomLeft,e.topLeft),hE(e.topLeft,t))];return!(Math.round(o.reduce((e,t)=>e+t,0))>r)};class vE extends cm{static supports(e){if(e.type===um.TextArea){const t=(e,t)=>{var n;return new Set(null==(n=e.model.content)?void 0:n.map(e=>e[t])).size>1},n=t(e,"color")||t(e,"fontFamily")||t(e,"fontSize")||t(e,"fontStyle")||t(e,"inlineBaseDirection"),r=e.model.content.find(e=>"inline"!==e.type&&void 0!==e.type);return!n&&!r}return e.type===um.ItemReference&&"Word Art"===e.model.type}}class yE extends Dm{constructor(e){super(e),Object($s.t)(this)}get orderedItems(){return this.designPanel.items.slice().sort((e,t)=>Math.round(100*e.position.y)/100==Math.round(100*t.position.y)/100?e.position.x-t.position.x:e.position.y-t.position.y)}}h([$s.h],yE.prototype,"orderedItems",null);class bE extends Dm{constructor(e){super(e),Object($s.t)(this)}get hasEditableContent(){return this.designPanel.items.some(e=>e.type===um.TextArea||e.type===um.ItemReference&&"Word Art"===e.model.type)}}h([$s.h],bE.prototype,"hasEditableContent",null);const wE=["boundingContainer","margin","children","className","style"];var OE;!function(e){e.DIRTY="DIRTY",e.READY="READY"}(OE||(OE={}));const EE=Object(u.createContext)(void 0),xE=EE.Consumer,SE=(e,t)=>{switch(t.type){case"RESET_TO_DIRTY":return{state:OE.DIRTY,style:t.payload};case"APPLY_COMPUTED_STYLES":return{state:OE.READY,style:t.payload};default:return e}},PE=vc(e=>{var t;const{boundingContainer:n,margin:r=0,children:o,className:i,style:a}=e,s=Go(e,wE),c=Rf(),d=Object(u.useRef)(null),p=zo(Object(u.useRef)(n)).width,[f,h]=Object(u.useReducer)(SE,{style:{"--es-contextualpopover-maxWidth":"375px"},state:OE.DIRTY}),m=null==(t=c.layoutManager.activePanel)?void 0:t.items.find(e=>e.isSelected),g=function(e){var t;let{margin:n,dispatch:r}=e;const o=Rf(),i=(()=>{var e;const t=Object(u.useContext)(oE);if(!t)throw new Error("usePanContainerSize must be used within a PanArea");return null==(e=t.current)?void 0:e.getBoundingClientRect()})(),a=Object(u.useMemo)(()=>{var e,t;return null!=(e=null==(t=o.layoutManager.activePanel)?void 0:t.items)?e:[]},[null==(t=o.layoutManager.activePanel)?void 0:t.items]);return Object(u.useCallback)(e=>{const t=a.find(e=>e.isSelected);if(!t)return;const s=(e=>{const{styles:t,popoverDimensions:n,panContainerDimensions:r,item:o,pan:i}=e;if(!r)return t;const a=o.dimensions.height,s=o.getComponent(fE).itemCenter,c={x:s.x+i.x,y:s.y+i.y},u=o.model.rotationAngle?parseFloat(o.model.rotationAngle)%360:0;let l=o.getComponent(fE).rotatedItemCornerPoints({rotationModulo:180});l||(l=o.getComponent(fE).itemCornerPoints);const d=((e,t,n)=>{const{topRight:r,topLeft:o,bottomLeft:i,bottomRight:a}=n,s=t%180;return s>0&&s<=90?{topCorner:o,bottomCorner:a}:s>90&&s<180?{topCorner:i,bottomCorner:r}:{topCorner:o,bottomCorner:a}})(0,u,l);t["--es-contextualpopover-translateX"]=((e,t,n)=>t/2>n?"calc(-50% - "+(n-t/2)+"px)":t/2>e.width-n?"calc(-50% + "+(e.width-n-t/2)+"px)":"-50%")(r,n.width,c.x);const p=n.width/2*Math.tan(uE(360-u)),f=a/2/Math.cos(uE(360-u)),h=p+f,m=n.width/2>d.topCorner.x-s.x,g=n.width/2>s.x-d.bottomCorner.x,v=iE(m?d.topCorner.y+i.y:s.y+i.y-p-f,n.height),y=aE(g?d.bottomCorner.y+i.y:s.y+i.y+h,n.height,r.height);return u%180==0?(v||(t["--es-contextualpopover-translateY"]=cE(a),y||(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=sE(d.topCorner.y+i.y))),t):(u%180==90?!v&&y?(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=cE(Math.abs(s.y-d.bottomCorner.y)+a/2)):v?(t["--es-contextualpopover-translateY"]="-100%",t["--es-contextualpopover-top"]=cE(-(s.y-d.topCorner.y-a/2))):(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=sE(-(r.height-(s.y+2*i.y)))):!v&&y?g?(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=sE(-(d.bottomCorner.y-s.y+a/2))):(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=sE(-h-n.height-a)):v?m?(t["--es-contextualpopover-translateY"]="0%",t["--es-contextualpopover-top"]=sE(n.height+s.y-a/2-d.topCorner.y)):(t["--es-contextualpopover-translateY"]="-100%",t["--es-contextualpopover-top"]=sE(p)):(t["--es-contextualpopover-translateY"]="25%",t["--es-contextualpopover-top"]=sE(s.y+i.y)),t)})({item:t,popoverDimensions:e,styles:{"--es-contextualpopover-maxWidth":(null==i?void 0:i.width)+"px"},pan:o.layoutManager.pan,margin:n,panContainerDimensions:i});r({type:"APPLY_COMPUTED_STYLES",payload:s})},[a,i,o.layoutManager.pan,n,r])}({margin:r,dispatch:h}),v=Vf(()=>{h({type:"RESET_TO_DIRTY",payload:{"--es-contextualpopover-maxWidth":p+"px"}})},500);if(Object(u.useEffect)(()=>(window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)),[v]),Object(u.useLayoutEffect)(()=>{if(d.current&&f.state===OE.DIRTY){const e=d.current.getBoundingClientRect();g(e)}},[f.state,d,g]),!m)return null;return l.a.createElement(EE.Provider,{value:f.state},l.a.createElement(pa,{position:m.position,dimensions:m.dimensions,rotation:0,zIndex:m.model.zIndex},l.a.createElement("div",Object.assign({className:Gf(rE,i),style:Object(qo.a)({},f.style,a),onMouseDown:e=>{e.stopPropagation()},ref:d},s),o)))});PE.displayName="ContextualPopover";const CE=e=>({type:e.pathType,paths:e.paths.map(e=>({anchor:{x:e.anchorX,y:e.anchorY},points:e.pathPoints.map(e=>{let{endPointX:t,endPointY:n,firstControlPointX:r,firstControlPointY:o,secondControlPointX:i,secondControlPointY:a}=e;const s={x:t,y:n};return void 0!==r&&void 0!==o&&void 0!==i&&void 0!==a&&(s.controlPoints={first:{x:r,y:o},second:{x:i,y:a}}),s})}))});function TE(e,t){return{minimumViewMargins:t,panels:e.map(e=>Object(qo.a)({id:e.id,name:e.name,width:e.widthCm+"cm",height:e.heightCm+"cm",decorationTechnology:e.processType},function(e){if(!e||!e.masks)return;const t=[...e.masks,...e.guides||[]];return e&&{masks:t.map(CE)}}(e.docAdditionalData),{staticMargins:{top:0,bottom:0,left:0,right:0}}))}}var _E;!function(e){e.READY="READY",e.LOADING="LOADING",e.UNINITIALIZED="UNINITIALIZED"}(_E||(_E={}));const kE=l.a.createContext(void 0),IE=e=>{const{children:t,accessToken:n,requestor:r,initialMinimumViewMargins:o,panelComponents:i,itemComponents:a}=e,{designViews:s,state:c}=xO(),{cimDoc:d,state:p}=MO(),f=Object(u.useRef)(),[h,m]=Object(u.useState)(_E.UNINITIALIZED);Object(u.useEffect)(()=>(d&&"READY"===p&&s&&"READY"===c&&r&&n?(f.current=function(e){const{designViews:t,cimDoc:n,accessToken:r,minimumViewMargins:o,panelComponents:i=[],itemComponents:a=[]}=e,s=TE(t,o);eO.renderingTenant=e.requestor;const c=new eO({cimDoc:n,designRequirements:s,authConfig:{value:r,authType:"bearer"}});c.componentManager.registerPanelComponents([Bv(bE),Bv(yE),...i.map(e=>Bv(e))]),c.componentManager.registerItemComponents([Fv(vE),Fv(lE),Fv(dO),Fv(fE),...a.map(e=>Fv(e))]),!1;return c}({cimDoc:d,designViews:s,requestor:r,accessToken:n,minimumViewMargins:o,panelComponents:i,itemComponents:a}),m(_E.READY)):"LOADING"!==p&&"LOADING"!==c||m(_E.LOADING),()=>{f.current&&f.current.dispose()}),[d,s,r,n,o,c,p,i,a]);const g=Object(u.useMemo)(()=>{let e={state:_E.UNINITIALIZED,designEngine:null};return h===_E.LOADING?e={state:_E.LOADING,designEngine:null}:h===_E.READY&&f.current&&(e={state:_E.READY,designEngine:f.current}),e},[h,f]);return l.a.createElement(kE.Provider,{value:g},t)};const ME=["children","docUri","cimDoc"],jE=e=>{const{children:t,docUri:n,cimDoc:r}=e,o=Go(e,ME);return l.a.createElement(EO,Object.assign({},o),l.a.createElement(IO,{docUri:n,cimDoc:r},t))},AE=["children","accessToken","requestor","initialMinimumViewMargins","panelComponents","itemComponents"],RE=e=>{const{children:t,accessToken:n,requestor:r,initialMinimumViewMargins:o,panelComponents:i,itemComponents:a}=e,s=Go(e,AE);return l.a.createElement(jE,Object.assign({requestor:r},s),l.a.createElement(IE,{accessToken:n,requestor:r,initialMinimumViewMargins:o,panelComponents:i,itemComponents:a},t))},DE=()=>{const e=Object(u.useContext)(kE);if(void 0===e)throw new Error("useDesignEngineLifecycle hook must be used in a child component of DesignEngineLifecycleProvider");return e},LE=l.a.createContext(void 0),NE=vc(e=>{var t;const{children:n,validator:r}=e,{designEngine:o}=DE();return l.a.createElement(LE.Provider,{value:r(null!=(t=null==o?void 0:o.asJson)?t:null)},n)}),UE=()=>{const e=Object(u.useContext)(LE);if(void 0===e)throw new Error("useDocumentEditSupport must be used within a DocumentEditSupportProvider component");return e},FE=["item","style"],BE=vc(e=>{const{item:t,style:n}=e,r=Go(e,FE);return l.a.createElement(pa,{position:t.position,rotation:t.rotation,dimensions:t.dimensions,zIndex:t.model.zIndex},l.a.createElement("div",Object.assign({},r,{style:Object(qo.a)({},n,{pointerEvents:"none",position:"absolute",top:0,left:0})}),l.a.createElement(Ga,{src:t.previewUrl,previewBox:t.previewBox})))});var zE="easel-ida-react__ItemSelection-module__component__50a5a9c",VE="easel-ida-react__ItemSelection-module__componentSelected__50a5a9c";const qE=["item","className"],GE=vc(e=>{const{item:t,className:n}=e,r=Go(e,qE),o=Object(u.useRef)(null),i=Rf(),{setTargetFocusElement:a}=NO(),s=i.idaManager.selectedItemIds[0];return Object(u.useEffect)(()=>{s===t.id&&o.current&&a(o.current)},[s,t.id,a]),l.a.createElement(pa,{dimensions:t.dimensions,position:t.position,rotation:t.rotation,zIndex:t.model.zIndex},l.a.createElement("button",Object.assign({},r,{className:Gf(zE,{[VE]:t.isSelected},n),onClick:e=>{e.stopPropagation(),i.idaManager.setSelectedIds([t.id])},"aria-label":t.getComponent(lE).label,ref:o}),l.a.createElement(Za,{selected:t.isSelected},l.a.createElement("div",{style:{height:t.dimensions.height}}))))}),HE=l.a.createContext(void 0),WE=e=>{let{minZoomMultiplier:t=1,maxZoomMultiplier:n=1,children:r}=e;const o=Object(u.useMemo)(()=>({minZoomMultiplier:t,maxZoomMultiplier:n}),[t,n]);return l.a.createElement(HE.Provider,{value:o},r)},KE=()=>{const e=Object(u.useContext)(HE),{designEngine:t}=DE(),n=(null==t?void 0:t.layoutManager.initialZoom)||1;if(void 0===e)throw new Error("You must wrap your component in the ZoomLimitProvider");const{minZoomMultiplier:r,maxZoomMultiplier:o}=e;return Object(u.useMemo)(()=>({minZoom:n*r,maxZoom:n*o}),[n,r,o])},QE=e=>{let{activePanel:t,panBox:n,clientX:r,clientY:o,touchedItemsRef:i,handleSelection:a,currentSelectionId:s}=e;const c=((e,t)=>{const{items:n}=e;return n.filter(e=>e.getComponent(fE).isPointInItemBox({coordinates:t,includePan:!0}))})(t,{x:r-n.left,y:o-n.top}).filter(e=>e.hasComponent(vE));if(0===c.length)return i.current.itemIds=[],i.current.index=-1,a(null),{selectionUpdated:!1};const u=c.sort((e,t)=>t.model.zIndex-e.model.zIndex).map(e=>e.id);if(s!==u[0])return i.current.itemIds=u,i.current.index=0,a(u[0]),{selectionUpdated:!0};if(i.current.itemIds.join("")===u.join("")){const{itemIds:e,index:t}=i.current;return i.current.index=t===e.length-1?0:i.current.index+1,a(e[i.current.index]),{selectionUpdated:!0}}return i.current.itemIds=u,i.current.index=0,{selectionUpdated:!1}},YE=["children","panContainerStyles","pannableZoneRef","panAreaRef","panningToItem","panTransitionDuration","dragThreshold","enableItemSelection","className","style","translationStr","transformOrigin"],ZE=vc(e=>{const{children:t,panContainerStyles:n,pannableZoneRef:r,panAreaRef:o,panningToItem:i,panTransitionDuration:a,dragThreshold:s,enableItemSelection:c,className:d,style:p={},translationStr:f,transformOrigin:h}=e,m=Go(e,YE),g=Rf();g.layoutManager.focusOnResize=!1,g.layoutManager.focusOnResize=!1;const[v,y]=[g.idaManager.selectedItemIds,g.idaManager.setSelectedIds],b=Object(u.useRef)({wasSingleTouch:!1,startX:0,startY:0}),w={overflow:"visible",transition:i.current},O=Object(u.useRef)("100%"),E=Object(u.useRef)({index:-1,itemIds:[]}),x=g.layoutManager.focusToItem,S="string"==typeof m["data-testid"]?m["data-testid"]+"-touchArea":void 0;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({},m,{className:Gf("idaf-pan-area__pannable-zone",d),style:Object(qo.a)({},p,w,{transform:f,transformOrigin:h}),ref:r}),t),l.a.createElement("div",{"data-testid":S,className:"idaf-pan-area_mobile",style:Object(qo.a)({},n,{height:Uf()?"100%":O.current}),onTouchStart:e=>{e.stopPropagation(),o.current&&"100%"===O.current&&(O.current=o.current.getBoundingClientRect().height),c&&(b.current={wasSingleTouch:1===e.touches.length,startX:e.touches[0].clientX,startY:e.touches[0].clientY})},onTouchEnd:e=>{if(!c||!g.layoutManager.activePanel)return;const t=e.target;if(t instanceof HTMLElement){const n=1===e.changedTouches.length,{clientX:r,clientY:o}=e.changedTouches[0]||{},{wasSingleTouch:c,startX:u,startY:l}=b.current;if(c&&n&&Math.abs(r-u)<s&&Math.abs(o-l)<s){const n=t.getBoundingClientRect(),{selectionUpdated:s}=QE({activePanel:g.layoutManager.activePanel,panBox:n,clientX:r,clientY:o,touchedItemsRef:E,currentSelectionId:v[0],handleSelection:e=>{e?(y([e]),(()=>{var e;const t=null==(e=g.layoutManager.activePanel)?void 0:e.items.find(e=>e.isSelected);t&&g.layoutManager.activePanel&&(i.current=a,x(t.id,{changeZoom:!1,margins:{top:0,bottom:t.dimensions.height,left:0,right:0}}))})()):y([])}});s&&e.preventDefault()}}},onContextMenu:e=>e.preventDefault(),tabIndex:-1,ref:o}))}),JE=["children","panContainerStyles","pannableZoneRef","panAreaRef","className","style","translationStr","transformOrigin"],XE={height:"100%"},$E=vc(e=>{const{children:t,panContainerStyles:n,pannableZoneRef:r,panAreaRef:o,className:i,style:a={},translationStr:s,transformOrigin:c}=e,d=Go(e,JE),p=d["data-testid"],f="string"==typeof p?p+"-innerPointerArea":void 0,h=Rf(),m=h.idaManager.selectedItemIds[0];return Object(u.useLayoutEffect)(()=>{h&&h.layoutManager.panContainer&&!m&&zf()&&(h.layoutManager.panContainer.scrollTop=0)},[m,h]),l.a.createElement("div",Object.assign({},d,{className:Gf("idaf-pan-area",i),style:Object(qo.a)({},n,a),onContextMenu:e=>e.preventDefault(),ref:o}),l.a.createElement("div",{"data-testid":f,className:"idaf-pan-area__pannable-zone",style:Object(qo.a)({},XE,{transform:s,transformOrigin:c}),ref:r},t))}),ex=()=>{var e,t;const{designEngine:n}=DE();return null!=(e=null==n||null==(t=n.layoutManager.activePanel)?void 0:t.items.filter(e=>e.isSelected).filter(e=>e.hasComponent(vE)))?e:[]},tx=e=>((e,t)=>{const n=e.length>0,r=Bf()&&n,[o,i]=Object(u.useState)(!1),[a,s]=Object(u.useState)(!1);return Object(u.useEffect)(()=>{n&&s(!0)},[n]),Object(u.useEffect)(()=>{Uf()&&(r?a&&i(!0):setTimeout(()=>{i(!1)},null!=t?t:250))},[r,a,t]),o})(ex().map(e=>e.id),e),nx=["children","enableItemSelection","dragThreshold","pinchToZoomDistance","panTransitionDuration","onPinchStart","className"],rx={position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden"},ox=vc(e=>{let{children:t,enableItemSelection:n=!0,dragThreshold:r=15,pinchToZoomDistance:o=200,panTransitionDuration:i="0.25s",onPinchStart:a,className:s}=e,c=Go(e,nx);const d=Bf()?"touch":"pointer",p=zf()||Nf(),f=Object(u.useRef)(null),h=Object(u.useRef)(null),{minZoom:m,maxZoom:g}=KE(),v=Rf(),y=v.idaManager.selectedItemIds,b=v.layoutManager.focusDesignPanel,[w,O]=[v.layoutManager.zoom,v.layoutManager.zoomTo],[E,x]=[v.layoutManager.pan,v.layoutManager.setPan],[S,P]=Object(u.useState)(1),C=Object(u.useRef)("0s"),T=Object(u.useRef)();T.current&&clearTimeout(T.current),T.current=setTimeout(()=>"0s"!==C.current?C.current="0s":null,250);const _=tx();Object(u.useLayoutEffect)(()=>{f.current&&v.layoutManager.registerPanContainer(f.current)},[v.layoutManager]);const k=zo(f),I=v.layoutManager.activePanel,M=()=>{const e=(null==I?void 0:I.dimensions.height)||0,t=(null==I?void 0:I.dimensions.width)||0;I&&0===y.length&&e<k.height&&t<k.width&&!_&&b(I.id,!1)},j=null==I?void 0:I.dimensions.height,A=null==I?void 0:I.dimensions.width;Object(u.useLayoutEffect)(()=>{M()},[y.length,k.height,j,A]);const R=zO({currentPosition:{x:E.x,y:E.y},dragDeltaPosition:{x:0,y:0},panAreaSize:{height:k.height,width:k.width},pannableZoneSize:{height:(null==I?void 0:I.dimensions.height)||0,width:(null==I?void 0:I.dimensions.width)||0},borderMargin:35});VO(),am({onDrag:e=>{const{cancel:t,pinching:n,delta:r,event:o}=e,i=null==o?void 0:o.target;n||"INPUT"===i.nodeName||"TEXTAREA"===i.nodeName?t():x({x:E.x+r[0],y:E.y+r[1]})},onPinch:e=>{const{dragging:t,movement:[n],offset:[r],lastOffset:[i],last:a}=e;if(t)return;let s;s=p?Math.abs(1+(r-i)/500*2):(1+Math.abs(n/o))**Math.sign(n);const c=ls(s*w,m,g);a?(O(c),P(1)):P(c/w)},onPinchEnd:M,onDragEnd:M,onPinchStart:e=>{null==a||a(d,e)}},{domTarget:f,drag:{threshold:r,bounds:R,rubberband:!0,filterTaps:!0}});const D="translate("+E.x+"px, "+E.y+"px) scale("+S+")",L=k.width/2-E.x+"px "+(k.height/2-E.y)+"px";return"touch"===d?l.a.createElement(ZE,Object.assign({},c,{panAreaRef:f,pannableZoneRef:h,panContainerStyles:rx,panningToItem:C,panTransitionDuration:i,dragThreshold:r,enableItemSelection:n,translationStr:D,transformOrigin:L,className:s}),t):l.a.createElement(oE.Provider,{value:f},l.a.createElement($E,Object.assign({},c,{panAreaRef:f,pannableZoneRef:h,panContainerStyles:rx,translationStr:D,transformOrigin:L,className:s}),t))});ox.displayName="PanArea";var ix="easel-ida-react__SelectedTextEditor-module__container__50a5a9c";const ax=["className","documentUpdateDelay","children"];const sx=l.a.createContext(void 0),cx=vc(e=>{const{className:t,documentUpdateDelay:n=500,children:r}=e,o=Go(e,ax),i=Rf(),{applyFocus:a}=NO(),s=i.idaManager.visibleItems.find(e=>!(!e.isSelected||e.type!==um.TextArea&&(e.type!==um.ItemReference||"Word Art"!==e.model.type)));let c="",d="";var p;s&&(s.type===um.ItemReference&&"Word Art"===s.model.type&&(c=s.model.data.content),s.type===um.TextArea&&(c=s.model.content.map(e=>e.content).join("")),p=s.templateInfo,d=p&&void 0!==p.label&&s.templateInfo.label?s.templateInfo.label:"");const f=Object(u.useCallback)((e,t)=>{if(e.type===um.TextArea){if(1!==e.model.content.length)throw new Error("Can not edit a text area with more than one item contents");{const n=[Object(qo.a)({},e.model.content[0],{content:t,type:"inline"})];i.executeCommand(aO,{itemId:e.id,content:n})}}else e.type===um.ItemReference&&"Word Art"===e.model.type&&i.executeCommand(cO,{itemId:e.id,textValue:t})},[i]),[h,m]=Object(u.useState)(c),[g,v]=Object(u.useState)(),y=function(e,t,n){var r=void 0===n?{}:n,o=r.leading,i=void 0===o||o,a=r.trailing;return Vf(e,t,{maxWait:t,leading:i,trailing:void 0===a||a})}(f,n),b=qO(null==s?void 0:s.id),w=(null==s?void 0:s.type)===um.TextArea;Object(u.useLayoutEffect)(()=>{(null==s?void 0:s.id)!==b&&m(c)},[s,c,b]),Object(u.useEffect)(()=>{if(g)throw g},[g]);const O=Object(u.useCallback)(e=>{if(e.preventDefault(),s)try{f(s,h)}catch(t){t instanceof Error&&v(t)}a(),i.idaManager.setSelectedIds([])},[s,h,a,i.idaManager,f]),E=Object(u.useMemo)(()=>({isMultiline:w,placeholder:d,value:h,setValue:m,updateDocument:y,handleSubmit:O}),[w,d,h,y,O]);return l.a.createElement(sx.Provider,{value:E},l.a.createElement("form",Object.assign({},o,{onSubmit:O,className:Gf(ix,t)}),r))}),ux=()=>{const e=Object(u.useContext)(sx);if(void 0===e)throw new Error("Component must be wrapped in a SelectedTextEditor element");return e};var lx="easel-ida-react__SelectedTextInput-module__textinput__50a5a9c",dx="easel-ida-react__SelectedTextInput-module__textarea__50a5a9c",px="easel-ida-react__SelectedTextInput-module__hiddenScrollbar__50a5a9c";const fx=["applyFocus","maxRows"],hx=vc(e=>{const{applyFocus:t=!0,maxRows:n=4}=e,r=Go(e,fx),o=Object(u.useRef)(null),i=Object(u.useRef)(null),{isMultiline:a,selectedItemId:s,getTextInputProps:c}=(()=>{const e=ux(),t=Rf(),{applyFocus:n}=NO(),r=t.idaManager.selectedItemIds[0],o=t.idaManager.visibleItems.find(e=>e.id===r),i=t=>{e.setValue(t.target.value),e.updateDocument(o,t.target.value)},a=()=>{Nf()&&(n(),t.idaManager.setSelectedIds([]))},s=t=>{"Enter"!==t.key||e.isMultiline?"Tab"!==t.key&&"Escape"!==t.key||e.handleSubmit(t):t.preventDefault()};return{isMultiline:e.isMultiline,selectedItemId:r,getTextInputProps:t=>Object(qo.a)({},t,{placeholder:e.placeholder,value:e.value,onChange:i,onBlur:a,onKeyDown:s})}})();return FO({applyFocus:Boolean(s)&&!a&&t,id:s,customRef:o}),FO({applyFocus:Boolean(s)&&a&&t,id:s,customRef:i}),a?l.a.createElement(eE,Object.assign({},c(Object(qo.a)({},r,{maxRows:n,className:Gf(dx,px)})),{ref:i})):l.a.createElement(zr.TextInput,Object.assign({},c(Object(qo.a)({},r,{className:lx})),{ref:o}))}),mx=e=>{const{placeholder:t}=ux();return l.a.createElement(zr.FormLabel,Object.assign({},e),t)},gx=e=>{const{activePanel:t}=Rf().layoutManager;return t?Object(qo.a)({},t,{masks:null==t?void 0:t.getComponent(Kb).masks.filter(t=>t.type.toLowerCase()===e.toLowerCase())}):null};function vx(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}vx(".easel-ida-react__ContextualPopover-module__inner__50a5a9c{--es-contextualpopover-maxWidth:0;--es-contextualpopover-translateY:-100%;--es-contextualpopover-translateX:-50%;--es-contextualpopover-left:0;--es-contextualpopover-top:0;width:375px;background:none;padding:16px;pointer-events:all;margin-left:50%;left:var(--es-contextualpopover-left);top:var(--es-contextualpopover-top);transform:translateY(var(--es-contextualpopover-translateY)) translateX(var(--es-contextualpopover-translateX));max-width:var(--es-contextualpopover-maxWidth)}\n.easel-ida-react__ItemSelection-module__component__50a5a9c{background-color:transparent;border:none;cursor:pointer;display:block;height:100%;outline:1px solid transparent;padding:0;pointer-events:auto;position:absolute;touch-action:auto;width:100%}.easel-ida-react__ItemSelection-module__component__50a5a9c>:last-child{outline-color:var(--visage-color-design-experience-selected,--visage-text-input-border-color-focus,var(--visage-color-brand-blue))}.easel-ida-react__ItemSelection-module__component__50a5a9c:focus>:last-child{opacity:1}.easel-ida-react__ItemSelection-module__componentSelected__50a5a9c{pointer-events:none;touch-action:none}\n.easel-ida-react__SelectedTextEditor-module__container__50a5a9c{display:flex;width:100%}\n.easel-ida-react__SelectedTextInput-module__textarea__50a5a9c,.easel-ida-react__SelectedTextInput-module__textinput__50a5a9c{flex-grow:1}.easel-ida-react__SelectedTextInput-module__textarea__50a5a9c{border-radius:var(--visage-text-input-border-radius,calc(var(--visage-text-input-height)/2));padding:1rem var(--visage-text-input-padding-horizontal);font-size:var(--visage-text-input-font-size);min-height:var(--visage-text-input-height);width:100%;resize:none;overflow-x:hidden}@media only screen and (min-width:768px){.easel-ida-react__SelectedTextInput-module__textarea__50a5a9c,.easel-ida-react__SelectedTextInput-module__textinput__50a5a9c.easel-ida-react__SelectedTextInput-module__textinput__50a5a9c{border:1px solid #dfdfdf;border-radius:30px;box-shadow:0 4px 10px rgba(0,0,0,.1);padding:16px 24px;min-height:unset!important;font-size:var(--visage-text-size-7);line-height:var(--visage-text-size-5-line-height);letter-spacing:-.01em}}.easel-ida-react__SelectedTextInput-module__textarea__50a5a9c:focus{border-color:var(--visage-text-input-border-color-focus);outline:var(--visage-text-input-outline-focus)}.easel-ida-react__SelectedTextInput-module__hiddenScrollbar__50a5a9c{scrollbar-width:none}.easel-ida-react__SelectedTextInput-module__hiddenScrollbar__50a5a9c::-webkit-scrollbar{width:0;background:transparent}");n("XbcX"),n("c9m3");var yx="easel-chrome-react__CanvasSelector-module__selector__50a5a9c";const bx=["className","aria-pressed"],wx=e=>{const{className:t,"aria-pressed":n}=e,r=Go(e,bx),o=Gf(yx,t);return l.a.createElement("button",Object.assign({"aria-pressed":n,className:o},r))};var Ox="easel-chrome-react__MobileDock-module__dock__50a5a9c",Ex="easel-chrome-react__MobileDock-module__dockToBottomViaOffset__50a5a9c",xx="easel-chrome-react__MobileDock-module__dockToTop__50a5a9c",Sx="easel-chrome-react__MobileDock-module__dockVisible__50a5a9c";const Px=["component","position","style","className"],Cx=e=>{const{offsetTop:t,height:n}=e;return{offsetTop:t,height:n}},Tx=e=>{const{component:t="div",position:n="keyboard",style:r,className:o}=e,i=Go(e,Px),a=Nf(),[s,c]=Object(u.useState)(!1),[d,p]=Object(u.useState)("undefined"!=typeof window&&window.visualViewport?Cx(window.visualViewport):null);return Object(u.useLayoutEffect)(()=>{c(!0)},[]),Object(u.useEffect)(()=>{if(!a||"keyboard"!==n||!window.visualViewport)return;const e=()=>p(Cx(window.visualViewport));return window.addEventListener("orientationchange",e),window.visualViewport.addEventListener("resize",e),window.visualViewport.addEventListener("scroll",e),()=>{window.removeEventListener("orientationchange",e),window.visualViewport.removeEventListener("resize",e),window.visualViewport.removeEventListener("scroll",e)}},[a,n]),l.a.createElement(t,Object.assign({className:Gf(Ox,{[Ex]:"keyboard"===n&&a,[xx]:"top"===n,[Sx]:s},o),style:Object(qo.a)({"--offset":(d?d.height+d.offsetTop:0)+"px"},null!=r?r:{})},i))};vx(".easel-chrome-react__CanvasSelector-module__selector__50a5a9c{width:70px;background:#fff;color:#000;cursor:pointer;margin-right:8px;margin-left:8px;border:1px solid #d3d3d3;pointer-events:auto;box-sizing:content-box;padding:20px 8px;text-align:left;border-radius:8px;font-weight:700;touch-action:manipulation}.easel-chrome-react__CanvasSelector-module__selector__50a5a9c:focus{outline:1px solid var(--visage-dropdown-border-color-focus,var(--visage-color-brand-blue))}.easel-chrome-react__CanvasSelector-module__selector__50a5a9c[aria-pressed=true]{border:1px solid #000}\n.easel-chrome-react__MobileDock-module__dock__50a5a9c{--offset:0;position:fixed;z-index:9999;left:0;width:100%;bottom:0;background-color:#f8f8f8;border-radius:.4444444444rem .4444444444rem 0 0;padding:.444444rem .8888888889rem}.easel-chrome-react__MobileDock-module__dockToBottomViaOffset__50a5a9c{top:var(--offset);bottom:auto;transform:translateY(-100%)}.easel-chrome-react__MobileDock-module__dockToTop__50a5a9c{bottom:auto;top:0;transition-property:transform;transition-duration:.3s;transform:translateY(-100%)}.easel-chrome-react__MobileDock-module__dockToTop__50a5a9c.easel-chrome-react__MobileDock-module__dockVisible__50a5a9c{transform:translateY(0)}\n.easel-chrome-react__Sheet-module__sheet__50a5a9c{background-color:var(--visage-color-background);border-radius:24px 24px 0 0;box-shadow:0 -2px 8px 1px rgba(0,17,26,.1);overflow:hidden;padding:1.3333333333rem 1rem}@media only screen and (min-width:1024px){.easel-chrome-react__Sheet-module__sheet__50a5a9c{box-shadow:none}}.easel-chrome-react__Sheet-module__sheetFixed__50a5a9c{position:fixed;bottom:0;left:0;width:100%;z-index:1}");var _x=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},kx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ix=e=>_x(void 0,void 0,void 0,(function*(){const{abortSignal:t}=e,n=kx(e,["abortSignal"]),r=yield(e=>_x(void 0,void 0,void 0,(function*(){const{productKey:t,requestor:n,locale:r}=e;return"https://merchandising-site-experience.prod.merch.vpsvc.com/api/v1/tenant/vistaprint/productKey/".concat(t,"/mpvs?requestor=").concat(n,"&cultures=").concat(r)})))(n);return fetch(r,{signal:t}).then(e=>e.json())}));var Mx=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},jx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ax=e=>Mx(void 0,void 0,void 0,(function*(){const{abortSignal:t}=e,n=jx(e,["abortSignal"]);try{const e=yield(e=>Mx(void 0,void 0,void 0,(function*(){const{productKey:t,requestor:n,locale:r,flowAction:o="uploadandgo",selectedOptions:i,mpvId:a,nextStep:s,siteContext:c,currentExperienceType:u="Studio"}=e;let l=a;if(!a&&t){const e=yield Ix({productKey:t,requestor:n,locale:r});if(l=e["".concat(r.toLowerCase())],!l)throw new Error("Failed to fetch MSX data: ".concat(e.message))}let d="requestor=".concat(n);return i&&(d+=Object.keys(i).reduce((e,t)=>"".concat(e,"&optionValues").concat(encodeURIComponent("[".concat(t,"]")),"=").concat(encodeURIComponent(i[t])),"")),c&&(d+="&siteContext=".concat(encodeURIComponent(c))),s?"https://siteflow.merch.vpsvc.com/v2/nextstep/vistaprint/".concat(r,"/").concat(u,"/").concat(l,"?").concat(d):"https://siteflow.merch.vpsvc.com/v2/action/vistaprint/".concat(r,"/").concat(o,"/").concat(l,"?").concat(d)})))(n);return fetch(e,{signal:t}).then(e=>e.json())}catch(r){throw new Error("Failed to fetch SiteFlow data: ".concat(r))}}));var Rx=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Dx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Lx=e=>Rx(void 0,void 0,void 0,(function*(){var{signal:t}=e,n=Dx(e,["signal"]);const r=yield fetch((e=>{var{placement:t}=e,n=Dx(e,["placement"]);const r="https://studio-available-routes-service.design.vpsvc.com/v1/studioRouting/".concat(t),o=new URLSearchParams(Object.assign(Object.assign({},n),{productVersion:n.productVersion.toString()}));return"".concat(r,"?").concat(o.toString())})(n),{method:"get",signal:t});if(!r.ok)throw new Error("Something went wrong with the response, ".concat(r.statusText));return yield r.json()}));function Nx(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Ux,Fx;(Fx=Ux||(Ux={}))[Fx.NotStarted=0]="NotStarted",Fx[Fx.Running=1]="Running",Fx[Fx.Stopped=2]="Stopped";var Bx={type:"xstate.init"};function zx(e){return void 0===e?[]:[].concat(e)}function Vx(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function qx(e){return function(t){return e===t}}function Gx(e){return"string"==typeof e?{type:e}:e}function Hx(e,t){return{value:e,context:t,actions:[],changed:!1,matches:qx(e)}}function Wx(e,t,n){var r=t,o=!1;return[e.filter((function(e){if("xstate.assign"===e.type){o=!0;var t=Object.assign({},r);return"function"==typeof e.assignment?t=e.assignment(r,n):Object.keys(e.assignment).forEach((function(o){t[o]="function"==typeof e.assignment[o]?e.assignment[o](r,n):e.assignment[o]})),r=t,!1}return!0})),r,o]}function Kx(e,t){void 0===t&&(t={});var n=Nx(Wx(zx(e.states[e.initial].entry).map((function(e){return Vx(e,t.actions)})),e.context,Bx),2),r=n[0],o=n[1],i={config:e,_options:t,initialState:{value:e.initial,actions:r,context:o,matches:qx(e.initial)},transition:function(t,n){var r,o,a="string"==typeof t?{value:t,context:e.context}:t,s=a.value,c=a.context,u=Gx(n),l=e.states[s];if(l.on){var d=zx(l.on[u.type]);try{for(var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),f=p.next();!f.done;f=p.next()){var h=f.value;if(void 0===h)return Hx(s,c);var m="string"==typeof h?{target:h}:h,g=m.target,v=m.actions,y=void 0===v?[]:v,b=m.cond,w=void 0===b?function(){return!0}:b,O=void 0===g,E=null!=g?g:s,x=e.states[E];if(w(c,u)){var S=Nx(Wx((O?zx(y):[].concat(l.exit,y,x.entry).filter((function(e){return e}))).map((function(e){return Vx(e,i._options.actions)})),c,u),3),P=S[0],C=S[1],T=S[2],_=null!=g?g:s;return{value:_,context:C,actions:P,changed:g!==s||P.length>0||T,matches:qx(_)}}}}catch(Fx){r={error:Fx}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}return Hx(s,c)}};return i}var Qx=function(e,t){return e.actions.forEach((function(n){var r=n.exec;return r&&r(e.context,t)}))};var Yx,Zx={},Jx={exports:{}},Xx={};var $x,eS;function tS(){return $x||($x=1,function(e){e.exports=function(){if(Yx)return Xx;Yx=1;var e=l.a,t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(o){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),c=n({inst:{value:s,getSnapshot:t}}),u=c[0].inst,l=c[1];return o((function(){u.value=s,u.getSnapshot=t,a(u)&&l({inst:u})}),[e,s,t]),r((function(){return a(u)&&l({inst:u}),e((function(){a(u)&&l({inst:u})}))}),[e]),i(s),s};return Xx.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,Xx}()}(Jx)),Jx.exports}!function(e){e.exports=function(){if(eS)return Zx;eS=1;var e=tS();return Zx.useSubscription=function(t){return e.useSyncExternalStore(t.subscribe,t.getCurrentValue)},Zx}()}({exports:{}});var nS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function rS(e,t){var n,r,o=(n=function(){return function(e){var t=e.initialState,n=Ux.NotStarted,r=new Set,o={_machine:e,send:function(o){n===Ux.Running&&(t=e.transition(t,o),Qx(t,Gx(o)),r.forEach((function(e){return e(t)})))},subscribe:function(e){return r.add(e),e(t),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var i="object"==typeof r?r:{context:e.config.context,value:r};t={value:i.value,actions:[],context:i.context,matches:qx(i.value)}}return n=Ux.Running,Qx(t,Bx),o},stop:function(){return n=Ux.Stopped,r.clear(),o},get state(){return t},get status(){return n}};return o}(Kx(e.config,t||e._options)).start()},(r=u.useRef()).current||(r.current={v:n()}),r.current.v),i=nS(Object(u.useState)((function(){return function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t}(o)})),2),a=i[0],s=i[1];return Object(u.useEffect)((function(){t&&(o._machine._options=t)})),Object(u.useEffect)((function(){return o.subscribe(s),function(){o.stop()}}),[]),[a,o.send,o]}var oS,iS="easel-design-experience-react__IDA-module__mobileDock__50a5a9c",aS="easel-design-experience-react__IDA-module__mobileDockField__50a5a9c",sS="easel-design-experience-react__IDA-module__mobileDockDoneButton__50a5a9c",cS="easel-design-experience-react__IDA-module__formField__50a5a9c",uS="easel-design-experience-react__IDA-module__contextualPopoverLayerWrapper__50a5a9c",lS="easel-design-experience-react__IDA-module__outlineStrokeMask__50a5a9c";!function(e){e[e.CONTEXTUAL_POPOVER=0]="CONTEXTUAL_POPOVER",e[e.DOCK=1]="DOCK"}(oS||(oS={}));const dS=e=>{const{children:t,targetElement:n}=e;return ec.a.createPortal(t,n)},pS=vc(e=>{const{textEditorMode:t,doneButtonText:n,className:r,dockPortal:o,modalHeader:i}=e,a=Rf(),s=a.idaManager.selectedItemIds[0],c=UE(),d=gx("BLEED"),p=null==d?void 0:d.masks.flatMap(e=>e.paths),f=(null==d?void 0:d.masks[0])&&p&&Object(qo.a)({},d.masks[0],{paths:p}),h=gx("FOLD"),m=Bf(),{scenesConfiguration:g}=xO(),{underlay:v,overlay:y}=g;if(null===c)throw new Error("Cannot validate document");const{valid:b}=c,w=a.layoutManager.activePanel,[O,E]=Object(u.useState)(void 0),x=null==y?void 0:y.find(e=>e.name.toLowerCase()===(null==w?void 0:w.name.toLowerCase()));return Object(u.useLayoutEffect)(()=>{s&&m&&i&&E(i.getBoundingClientRect().height+"px")},[s,i,m]),l.a.createElement(l.a.Fragment,null,l.a.createElement(l.a.Fragment,null,w&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Vs,{id:w.id,width:w.dimensions.width,height:w.dimensions.height,style:{top:w.position.y,left:w.position.x,position:"absolute"}},l.a.createElement(Hs,null,l.a.createElement(nE,{panel:w,underlay:v})),l.a.createElement(Hs,{showOverflow:!1},w.items.map(e=>l.a.createElement(BE,{"data-cy":"item-preview","data-testid":e.id,key:e.id,item:e,"aria-hidden":!0}))),d&&f&&l.a.createElement(Hs,null,l.a.createElement(cs,{key:d.id,width:parseFloat(d.width),height:parseFloat(d.height),mask:f,fillColor:"var(--x-sell-studio-canvas-background)"}),l.a.createElement(Is,{className:lS,height:parseFloat(d.height),width:parseFloat(d.width),mask:f,strokeColor:"black",shouldAlternate:!1,strokeWidth:.75})),b?l.a.createElement(Hs,null,w.getComponent(yE).orderedItems.filter(e=>e.hasComponent(vE)).map(e=>l.a.createElement(GE,{item:e,"data-cy":"item-selection","data-testid":"selection-"+e.id,key:e.id}))):l.a.createElement(u.Fragment,null),h&&h.masks.length>0&&l.a.createElement(Hs,null,h.masks.map((e,t)=>l.a.createElement(Is,{key:t,width:parseFloat(h.width),height:parseFloat(h.height),mask:e,strokeColor:"red",alternateStrokeColor:"transparent",shouldAlternate:!0,dashLength:10.5,strokeWidth:.15}))),x&&l.a.createElement(Hs,null,l.a.createElement(Lf,{panelId:w.id,sceneUrl:x.url,name:x.name})),t===oS.CONTEXTUAL_POPOVER&&s&&a.layoutManager.panContainer&&l.a.createElement("div",{className:uS},l.a.createElement(Hs,null,l.a.createElement(PE,{"data-testid":"selected-contextual-text-editor-container",boundingContainer:a.layoutManager.panContainer,margin:10},l.a.createElement(xE,null,e=>l.a.createElement(cx,{"data-testid":"contextual-text-editor-container","data-cy":"selected-text-editor"},l.a.createElement(zr.FormField,{className:Gf(cS,r)},l.a.createElement(mx,{visuallyHidden:!0}),l.a.createElement(hx,{"data-testid":"selected-text-input",applyFocus:"READY"===e}))))))))),t===oS.DOCK&&o&&s&&l.a.createElement(dS,{targetElement:o},l.a.createElement(Tx,{position:"top","data-testid":"mobile-dock-editor","data-cy":"popup-text-editor",onMouseDown:e=>e.stopPropagation(),className:iS,style:{minHeight:O}},l.a.createElement(cx,{"data-testid":"dock-text-editor-container","data-cy":"selected-text-editor"},l.a.createElement(zr.FormField,{className:aS},l.a.createElement(mx,{visuallyHidden:!0}),l.a.createElement(hx,null)),l.a.createElement(zr.TextButton,{className:sS,type:"submit",skin:"unstyled",marginLeft:4,marginTop:4},n))))))}),fS={top:16,right:16,bottom:16,left:16},hS={top:24,right:24,bottom:24,left:24},mS={top:130,right:90,bottom:130,left:90},gS={top:40,bottom:40,left:15,right:15},vS={top:15,bottom:15,left:40,right:40},yS={top:32,right:32,bottom:32,left:32},bS={top:48,right:48,bottom:48,left:48},wS={top:95,bottom:95,left:95,right:95},OS={top:125,bottom:125,left:125,right:125};var ES;!function(e){e.HORIZONTAL="Horizontal",e.VERTICAL="Vertical",e.SQUARE="Square"}(ES||(ES={}));const xS=(e,t)=>e<t?ES.HORIZONTAL:e>t?ES.VERTICAL:ES.SQUARE;var SS="easel-design-experience-react__TouchDesignExperience-module__designExperience__50a5a9c";const PS=["className","textEditorMode","doneButtonText","dockPortal","getMinimimViewMargins","data-testid","loadingFallback","modalHeader"],CS=vc(e=>{var t,n;const{className:r,textEditorMode:o,doneButtonText:i,dockPortal:a,getMinimimViewMargins:s,"data-testid":c,loadingFallback:d,modalHeader:p}=e,f=Go(e,PS),h=c||"design-experience-wrapper",m=DE(),{state:g,designEngine:v}=m,y=null==v?void 0:v.layoutManager.activePanel,b=Object(u.useRef)(null),w=Object(zr.useScreenClass)(),O=UE(),E=null==v?void 0:v.panels.find(e=>e.getComponent(bE).hasEditableContent),x=E?E.id:null==v?void 0:v.panels[0].id,S=e=>{"pointer"===e&&(null==v||v.idaManager.setSelectedIds([],!0))},P=null==v?void 0:v.layoutManager.panContainer,C=null==v||null==(t=v.layoutManager.activePanel)?void 0:t.dimensions.height,T=null==v||null==(n=v.layoutManager.activePanel)?void 0:n.dimensions.width;return Object(u.useLayoutEffect)(()=>{if(!b.current||!v||!v.layoutManager.activePanel||g!==_E.READY)return;const e=v.layoutManager.activePanel,{height:t,width:n}=b.current.getBoundingClientRect(),r=s?s({panAreaHeight:t,panAreaWidth:n,panel:e,screenClass:w}):(e=>{const{screenClass:t,panel:n,panAreaHeight:r,panAreaWidth:o}=e,i=new Su(n.height),a=new Su(n.width),s=xS(i.mm,a.mm),c=xS(r,o);if("xs"===t||"sm"===t)return s===ES.HORIZONTAL?fS:hS;if("md"===t)return c===ES.HORIZONTAL?s===ES.HORIZONTAL?gS:vS:mS;const u=i.mm<=100&&a.mm;return!u||s!==ES.HORIZONTAL&&s!==ES.VERTICAL?u&&s===ES.SQUARE?OS:s===ES.HORIZONTAL?yS:bS:wS})({panAreaHeight:t,panAreaWidth:n,panel:e,screenClass:w});r&&(v.layoutManager.minimumViewMargins=r)},[v,P,C,T,w,s,g]),Object(u.useEffect)(()=>{v&&void 0!==x&&g===_E.READY&&void 0===v.layoutManager.activeDesignPanelId&&(v.layoutManager.setActiveDesignPanelId(x),v.idaManager.setVisibleDesignPanelIds([x]))},[v,x,g]),Object(u.useEffect)(()=>{v&&y&&void 0!==x&&g===_E.READY&&v.layoutManager.focusDesignPanel(y?y.id:x,!0)},[y,v,x,g]),m.state===_E.READY?l.a.createElement(Af,{designEngine:m.designEngine},l.a.createElement("div",Object.assign({ref:b,className:Gf(SS,r),"data-testid":h},f),l.a.createElement(ox,{"data-testid":h+"-panArea",enableItemSelection:null==O?void 0:O.valid,onPinchStart:S},l.a.createElement(pS,{textEditorMode:o,modalHeader:p,doneButtonText:i,dockPortal:a})))):d});function TS(e){const t=[];for(const n of e)for(const e of n)t.push(e);return t}const _S=(e,t)=>{var n;return new Set(null==(n=e.content)?void 0:n.map(e=>e[t])).size>1},kS=["embroideryFlat","embroideryCylinder","laserEngraving","screenPrint","padPrint","thermography"],IS=["RaisedFoilSilver","RaisedFoilGold","RaisedFoilGlitterSilver","Glitter"];l.a.Component;var MS,jS,AS,RS;!function(e){e.loading="loading",e.editIdle="edit.idle",e.editSelected="edit.selected",e.preview="preview"}(MS||(MS={})),function(e){e.DESIGN_ENGINE_READY="DESIGN_ENGINE_READY",e.SELECT_ITEM="SELECT_ITEM",e.DESELECT_ITEM="DESELECT_ITEM",e.SELECT_PREVIEW="SELECT_PREVIEW",e.CLOSE_PREVIEW="CLOSE_PREIVEW"}(jS||(jS={})),MS.loading,MS.loading,jS.DESIGN_ENGINE_READY,MS.editIdle,MS.editIdle,jS.SELECT_PREVIEW,MS.preview,jS.SELECT_ITEM,MS.editSelected,MS.editSelected,jS.SELECT_PREVIEW,MS.preview,jS.DESELECT_ITEM,MS.editIdle,MS.preview,jS.CLOSE_PREVIEW,MS.editIdle,function(e){e.edit="edit"}(AS||(AS={})),function(e){e.edit="edit",e.loading="loading",e.editIdle="edit.idle",e.editSelected="edit.selected",e.preview="preview"}(RS||(RS={}));function DS(){return(DS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}vx(".easel-design-experience-react__IDA-module__mobileDock__50a5a9c{display:flex}.easel-design-experience-react__IDA-module__mobileDockField__50a5a9c{display:flex;width:100%}.easel-design-experience-react__IDA-module__mobileDockDoneButton__50a5a9c{align-self:flex-start}.easel-design-experience-react__IDA-module__formField__50a5a9c{display:flex;width:100%}.easel-design-experience-react__IDA-module__contextualPopoverLayerWrapper__50a5a9c{pointer-events:none}.easel-design-experience-react__IDA-module__outlineStrokeMask__50a5a9c{overflow:visible}.easel-design-experience-react__IDA-module__outlineStrokeMask__50a5a9c path{vector-effect:non-scaling-stroke}\n.easel-design-experience-react__TouchDesignExperience-module__designExperience__50a5a9c{pointer-events:auto;overflow:hidden;position:absolute;width:100%;height:100%;top:0;left:0;min-height:20vh}\n.easel-design-experience-react__SelectorOverflowWrapper-module__wrapper__50a5a9c{align-items:center;display:flex;flex-wrap:nowrap;justify-content:center;padding:20px}.easel-design-experience-react__SelectorOverflowWrapper-module__showOverflow__50a5a9c{justify-content:flex-start;overflow:auto}.easel-design-experience-react__SelectorOverflowWrapper-module__content__50a5a9c{align-items:center;display:flex;flex-wrap:nowrap;flex-shrink:0}\n.easel-design-experience-react__CanvasSelectors-module__canvasSelectors__50a5a9c{background-color:var(--x-sell-studio-canvas-background);width:100%}"),"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var LS={status:"not-requested",loading:!1,result:void 0,error:void 0},NS={status:"loading",loading:!0,result:void 0,error:void 0},US=function(){},FS={initialState:function(e){return e&&e.executeOnMount?NS:LS},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return NS},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:US,onError:US},BS=function(e,t,n){var r,o=function(e){return DS({},FS,{},e)}(n),i=Object(u.useState)(null),a=i[0],s=i[1],c=function(e){var t=Object(u.useState)((function(){return e.initialState(e)})),n=t[0],r=t[1],o=Object(u.useCallback)((function(){return r(e.initialState(e))}),[r,e]),i=Object(u.useCallback)((function(){return r(e.setLoading(n))}),[n,r]),a=Object(u.useCallback)((function(t){return r(e.setResult(t,n))}),[n,r]),s=Object(u.useCallback)((function(t){return r(e.setError(t,n))}),[n,r]),c=r,l=Object(u.useCallback)((function(e){return c(DS({},n,{},e))}),[n,c]);return{value:n,set:c,merge:l,reset:o,setLoading:i,setResult:a,setError:s}}(o),l=(r=Object(u.useRef)(!1),Object(u.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[]),function(){return r.current}),d=function(){var e=Object(u.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),p=function(e){return l()&&d.is(e)},f=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.apply(void 0,n);if(s(n),i instanceof Promise)return d.set(i),c.setLoading(),i.then((function(e){p(i)&&c.setResult(e),o.onSuccess(e,{isCurrent:function(){return d.is(i)}})}),(function(e){p(i)&&c.setError(e),o.onError(e,{isCurrent:function(){return d.is(i)}})})),i;var a=i;return c.setResult(a),Promise.resolve(a)},h=!l();return Object(u.useEffect)((function(){h?o.executeOnMount&&f.apply(void 0,t):o.executeOnUpdate&&f.apply(void 0,t)}),t),DS({},c.value,{set:c.set,merge:c.merge,reset:c.reset,execute:f,currentPromise:d.get(),currentParams:a})};function zS(e,t,n){return BS(e,t,n)}var VS,qS,GS=Object(u.createContext)({transformPagePoint:function(e){return e},features:[],isStatic:!1}),HS=Object(u.createContext)(null),WS=Object(u.createContext)(null);!function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(VS||(VS={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(qS||(qS={}));var KS={measureLayout:function(e){return e.updateLayoutMeasurement()},layoutReady:function(e){return e.notifyLayoutReady()}};function QS(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var n=void 0===t?KS:t,r=n.measureLayout,o=n.layoutReady,i=n.parent,a=Array.from(e).sort((function(e,t){return e.depth-t.depth})),s=function(){a.forEach((function(e){return e.resetTransform()})),a.forEach(r)};i?i.withoutTransform(s):s(),a.forEach(o),a.forEach((function(e){e.isPresent&&(e.presence=VS.Present)})),e.clear()}}}var YS=Object(u.createContext)(QS()),ZS=Object(u.createContext)(QS());function JS(e){return!!e.forceUpdate}var XS=Object(u.createContext)({});var $S=function(e,t){return($S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function eP(e,t){function n(){this.constructor=e}$S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var tP=function(){return(tP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function nP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function rP(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function oP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rP(arguments[t]));return e}function iP(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}var aP=function(){return(aP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function sP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var cP=function(e,t,n){return Math.min(Math.max(n,e),t)};function uP(e){var t,n,r=e.duration,o=void 0===r?800:r,i=e.bounce,a=void 0===i?.25:i,s=e.velocity,c=void 0===s?0:s,u=e.mass,l=void 0===u?1:u,d=1-a;d=cP(.05,1,d),o=cP(.01,10,o/1e3),d<1?(t=function(e){var t=e*d,n=t*o;return.001-(t-c)/lP(e,d)*Math.exp(-n)},n=function(e){var n=e*d*o,r=n*c+c,i=Math.pow(d,2)*Math.pow(e,2)*o,a=Math.exp(-n),s=lP(Math.pow(e,2),d);return(.001-t(e)>0?-1:1)*((r-i)*a)/s}):(t=function(e){return Math.exp(-e*o)*((e-c)*o+1)-.001},n=function(e){return Math.exp(-e*o)*(o*o*(c-e))});var p=function(e,t,n){for(var r=n,o=1;o<12;o++)r-=e(r)/t(r);return r}(t,n,5/o);if(isNaN(p))return{stiffness:100,damping:10};var f=Math.pow(p,2)*l;return{stiffness:f,damping:2*d*Math.sqrt(l*f)}}function lP(e,t){return e*Math.sqrt(1-t*t)}var dP=["duration","bounce"],pP=["stiffness","damping","mass"];function fP(e,t){return t.some((function(t){return void 0!==e[t]}))}function hP(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.restSpeed,a=void 0===i?2:i,s=e.restDelta,c=sP(e,["from","to","restSpeed","restDelta"]),u={done:!1,value:n},l=function(e){var t=aP({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!fP(e,pP)&&fP(e,dP)){var n=uP(e);(t=aP(aP(aP({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(c),d=l.stiffness,p=l.damping,f=l.mass,h=l.velocity,m=l.isResolvedFromDuration,g=mP,v=mP;function y(){var e=h?-h/1e3:0,t=o-n,r=p/(2*Math.sqrt(d*f)),i=Math.sqrt(d/f)/1e3;if(null!=s||(s=Math.abs(o-n)<=1?.01:.4),r<1){var a=lP(i,r);g=function(n){var s=Math.exp(-r*i*n);return o-s*((e+r*i*t)/a*Math.sin(a*n)+t*Math.cos(a*n))},v=function(n){var o=Math.exp(-r*i*n);return r*i*o*(Math.sin(a*n)*(e+r*i*t)/a+t*Math.cos(a*n))-o*(Math.cos(a*n)*(e+r*i*t)-a*t*Math.sin(a*n))}}else if(1===r)g=function(n){return o-Math.exp(-i*n)*(t+(e+i*t)*n)};else{var c=i*Math.sqrt(r*r-1);g=function(n){var a=Math.exp(-r*i*n),s=Math.min(c*n,300);return o-a*((e+r*i*t)*Math.sinh(s)+c*t*Math.cosh(s))/c}}}return y(),{next:function(e){var t=g(e);if(m)u.done=e>=c.duration;else{var n=1e3*v(e),r=Math.abs(n)<=a,i=Math.abs(o-t)<=s;u.done=r&&i}return u.value=u.done?o:t,u},flipTarget:function(){var e;h=-h,n=(e=[o,n])[0],o=e[1],y()}}}hP.needsInterpolation=function(e,t){return"string"==typeof e||"string"==typeof t};var mP=function(e){return 0},gP=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},vP=function(){return(vP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yP=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},bP=function(e){return e%1?Number(e.toFixed(5)):e},wP=/(-)?([\d]*\.?[\d])+/g,OP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,EP=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function xP(e){return"string"==typeof e}var SP={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},PP=vP(vP({},SP),{transform:yP(0,1)}),CP=vP(vP({},SP),{default:1}),TP=function(e){return{test:function(t){return xP(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},_P=TP("deg"),kP=TP("%"),IP=TP("px"),MP=TP("vh"),jP=TP("vw"),AP=vP(vP({},kP),{parse:function(e){return kP.parse(e)/100},transform:function(e){return kP.transform(100*e)}}),RP=function(e,t){return function(n){return xP(n)&&EP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)}},DP=function(e,t,n){return function(r){var o;if(!xP(r))return r;var i=r.match(wP),a=i[0],s=i[1],c=i[2],u=i[3];return(o={})[e]=parseFloat(a),o[t]=parseFloat(s),o[n]=parseFloat(c),o.alpha=void 0!==u?parseFloat(u):1,o}},LP=yP(0,255),NP=vP(vP({},SP),{transform:function(e){return Math.round(LP(e))}}),UP={test:RP("rgb","red"),parse:DP("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,o=e.alpha,i=void 0===o?1:o;return"rgba("+NP.transform(t)+", "+NP.transform(n)+", "+NP.transform(r)+", "+bP(PP.transform(i))+")"}};var FP={test:RP("#"),parse:function(e){var t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:UP.transform},BP={test:RP("hsl","hue"),parse:DP("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,o=e.alpha,i=void 0===o?1:o;return"hsla("+Math.round(t)+", "+kP.transform(bP(n))+", "+kP.transform(bP(r))+", "+bP(PP.transform(i))+")"}},zP={test:function(e){return UP.test(e)||FP.test(e)||BP.test(e)},parse:function(e){return UP.test(e)?UP.parse(e):BP.test(e)?BP.parse(e):FP.parse(e)},transform:function(e){return xP(e)?e:e.hasOwnProperty("red")?UP.transform(e):BP.transform(e)}};function VP(e){var t=[],n=0,r=e.match(OP);r&&(n=r.length,e=e.replace(OP,"${c}"),t.push.apply(t,r.map(zP.parse)));var o=e.match(wP);return o&&(e=e.replace(wP,"${n}"),t.push.apply(t,o.map(SP.parse))),{values:t,numColors:n,tokenised:e}}function qP(e){return VP(e).values}function GP(e){var t=VP(e),n=t.values,r=t.numColors,o=t.tokenised,i=n.length;return function(e){for(var t=o,n=0;n<i;n++)t=t.replace(n<r?"${c}":"${n}",n<r?zP.transform(e[n]):bP(e[n]));return t}}var HP=function(e){return"number"==typeof e?0:e};var WP={test:function(e){var t,n,r,o;return isNaN(e)&&xP(e)&&(null!==(n=null===(t=e.match(wP))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(OP))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:qP,createTransformer:GP,getAnimatableNone:function(e){var t=qP(e);return GP(e)(t.map(HP))}},KP=new Set(["brightness","contrast","saturate","opacity"]);function QP(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var o=(r.match(wP)||[])[0];if(!o)return e;var i=r.replace(o,""),a=KP.has(n)?1:0;return o!==r&&(a*=100),n+"("+a+i+")"}var YP=/([a-z-]*)\(.*?\)/g,ZP=vP(vP({},WP),{getAnimatableNone:function(e){var t=e.match(YP);return t?t.map(QP).join(" "):e}});function JP(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function XP(e){return!!e.touches}var $P={pageX:0,pageY:0};function eC(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||$P;return{x:n[t+"X"],y:n[t+"Y"]}}function tC(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function nC(e,t){return void 0===t&&(t="page"),{point:XP(e)?eC(e,t):tC(e,t)}}function rC(e){return nC(e,"client")}var oC=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,nC(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r};function iC(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function aC(e,t,n,r){Object(u.useEffect)((function(){var o=e.current;if(n&&o)return iC(o,t,n,r)}),[e,t,n,r])}var sC="undefined"!=typeof window,cC={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},uC={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function lC(e){return sC&&null===window.onpointerdown?e:sC&&null===window.ontouchstart?uC[e]:sC&&null===window.onmousedown?cC[e]:e}function dC(e,t,n,r){return iC(e,lC(t),oC(n,"pointerdown"===t),r)}function pC(e,t,n,r){return aC(e,lC(t),n&&oC(n,"pointerdown"===t),r)}var fC=function(e,t){return function(n){return t(e(n))}},hC=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(fC)},mC="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},gC="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(mC())}),1/60*1e3)};var vC=!0,yC=!1,bC=!1,wC={delta:0,timestamp:0},OC=["read","update","preRender","render","postRender"],EC=OC.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,o=!1,i=new WeakSet,a={schedule:function(e,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);var c=s&&o,u=c?t:n;return a&&i.add(e),-1===u.indexOf(e)&&(u.push(e),c&&o&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),i.delete(e)},process:function(s){var c;if(o=!0,t=(c=[n,t])[0],(n=c[1]).length=0,r=t.length)for(var u=0;u<r;u++){var l=t[u];l(s),i.has(l)&&(a.schedule(l),e())}o=!1}};return a}((function(){return yC=!0})),e}),{}),xC=OC.reduce((function(e,t){var n=EC[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),yC||TC(),n.schedule(e,t,r)},e}),{}),SC=OC.reduce((function(e,t){return e[t]=EC[t].cancel,e}),{}),PC=function(e){return EC[e].process(wC)},CC=function e(t){yC=!1,wC.delta=vC?1/60*1e3:Math.max(Math.min(t-wC.timestamp,40),1),wC.timestamp=t,bC=!0,OC.forEach(PC),bC=!1,yC&&(vC=!1,gC(e))},TC=function(){yC=!0,vC=!0,bC||gC(CC)},_C=function(){return wC},kC=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},IC=function(e){return kC(e)&&e.hasOwnProperty("z")},MC=function(e){return"number"==typeof e},jC=function(e,t){return Math.abs(e-t)};function AC(e,t){if(MC(e)&&MC(t))return jC(e,t);if(kC(e)&&kC(t)){var n=jC(e.x,t.x),r=jC(e.y,t.y),o=IC(e)&&IC(t)?jC(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}var RC=function(e){return 1e3*e},DC=function(){function e(e,t,n){var r=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=UC(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=AC(e.offset,{x:0,y:0})>=3;if(t||n){var o=e.point,i=_C().timestamp;r.history.push(tP(tP({},o),{timestamp:i}));var a=r.handlers,s=a.onStart,c=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),c&&c(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=LC(t,r.transformPagePoint),JP(e)&&0===e.buttons?r.handlePointerUp(e,t):xC.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers.onEnd;if(n&&r.startEvent){var o=UC(LC(t,r.transformPagePoint),r.history);n&&n(e,o)}},!(XP(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var i=LC(nC(e),this.transformPagePoint),a=i.point,s=_C().timestamp;this.history=[tP(tP({},a),{timestamp:s})];var c=t.onSessionStart;c&&c(e,UC(i,this.history)),this.removeListeners=hC(dC(window,"pointermove",this.handlePointerMove),dC(window,"pointerup",this.handlePointerUp),dC(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),SC.update(this.updatePoint)},e}();function LC(e,t){return t?{point:t(e.point)}:e}function NC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function UC(e,t){var n=e.point;return{point:n,delta:NC(n,BC(t)),offset:NC(n,FC(t)),velocity:zC(t,.1)}}function FC(e){return e[0]}function BC(e){return e[e.length-1]}function zC(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=BC(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>RC(t)));)n--;if(!r)return{x:0,y:0};var i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function VC(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var qC=VC("dragHorizontal"),GC=VC("dragVertical");function HC(e){var t=!1;if("y"===e)t=GC();else if("x"===e)t=qC();else{var n=qC(),r=GC();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function WC(e){return e}function KC(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function QC(){return{x:{min:0,max:1},y:{min:0,max:1}}}var YC={translate:0,scale:1,origin:0,originPoint:0};function ZC(){return{x:tP({},YC),y:tP({},YC)}}function JC(e){return[e("x"),e("y")]}var XC=function(e,t,n){return-n*e+n*t+e};function $C(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),AC(e,t)<n}function eT(e){return e.max-e.min}function tT(e,t){var n=.5,r=eT(e),o=eT(t);return o>r?n=gP(t.min,t.max-r,e.min):r>o&&(n=gP(e.min,e.max-o,t.min)),cP(0,1,n)}function nT(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=XC(t.min,t.max,e.origin),e.scale=eT(n)/eT(t),$C(e.scale,1,1e-4)&&(e.scale=1),e.translate=XC(n.min,n.max,e.origin)-e.originPoint,$C(e.translate)&&(e.translate=0)}function rT(e,t,n,r){nT(e.x,t.x,n.x,oT(r.originX)),nT(e.y,t.y,n.y,oT(r.originY))}function oT(e){return"number"==typeof e?e:.5}function iT(e,t,n){var r=t.min,o=t.max;return void 0!==r&&e<r?e=n?XC(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?XC(o,e,n.max):Math.min(e,o)),e}function aT(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function sT(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=rP([o,r],2))[0],o=n[1]),{min:e.min+r,max:e.min+o}}function cT(e,t,n){return{min:uT(e,t),max:uT(e,n)}}function uT(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function lT(e,t){return KC(function(e,t){var n=e.top,r=e.left,o=e.bottom,i=e.right;void 0===t&&(t=WC);var a=t({x:r,y:n}),s=t({x:i,y:o});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}var dT=function(e,t,n){var r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},pT=[FP,UP,BP],fT=function(e){return pT.find((function(t){return t.test(e)}))},hT=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},mT=function(e,t){var n=fT(e),r=fT(t);hT(e),hT(t),n.transform,r.transform;var o=n.parse(e),i=r.parse(t),a=aP({},o),s=n===BP?XC:dT;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=XC(o.alpha,i.alpha,e),n.transform(a)}};function gT(e,t){return MC(e)?function(n){return XC(e,t,n)}:zP.test(e)?mT(e,t):wT(e,t)}var vT=function(e,t){var n=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}(e),r=n.length,o=e.map((function(e,n){return gT(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=o[t](e);return n}},yT=function(e,t){var n=aP(aP({},e),t),r={};for(var o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=gT(e[o],t[o]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function bT(e){for(var t=WP.parse(e),n=t.length,r=0,o=0,i=0,a=0;a<n;a++)r||"number"==typeof t[a]?r++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:i}}var wT=function(e,t){var n=WP.createTransformer(t),r=bT(e),o=bT(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&(r.numNumbers,o.numNumbers),hC(vT(r.parsed,o.parsed),n)},OT=function(e,t){return function(n){return XC(e,t,n)}};function ET(e,t,n){for(var r,o=[],i=n||("number"==typeof(r=e[0])?OT:"string"==typeof r?zP.test(r)?mT:wT:Array.isArray(r)?vT:"object"==typeof r?yT:void 0),a=e.length-1,s=0;s<a;s++){var c=i(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]:t;c=hC(u,c)}o.push(c)}return o}function xT(e,t,n){var r=void 0===n?{}:n,o=r.clamp,i=void 0===o||o,a=r.ease,s=r.mixer,c=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[c-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=ET(t,a,s),l=2===c?function(e,t){var n=e[0],r=e[1],o=t[0];return function(e){return o(gP(n,r,e))}}(e,u):function(e,t){var n=e.length,r=n-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[r]&&(i=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>o||s===r);s++);i=s-1}var c=gP(e[i],e[i+1],o);return t[i](c)}}(e,u);return i?function(t){return l(cP(e[0],e[c-1],t))}:l}var ST,PT=function(e){return function(t){return 1-e(1-t)}},CT=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},TT=function(e){return function(t){return t*t*((e+1)*t-e)}},_T=function(e){return e},kT=(ST=2,function(e){return Math.pow(e,ST)}),IT=PT(kT),MT=CT(kT),jT=function(e){return 1-Math.sin(Math.acos(e))},AT=PT(jT),RT=CT(AT),DT=TT(1.525),LT=PT(DT),NT=CT(DT),UT=function(e){var t=TT(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),FT=function(e){if(1===e||0===e)return e;var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},BT=PT(FT);function zT(e,t){return e.map((function(){return t||MT})).splice(0,e.length-1)}function VT(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.ease,a=e.offset,s=e.duration,c=void 0===s?300:s,u={done:!1,value:n},l=Array.isArray(o)?o:[n,o],d=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===l.length?a:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),c);function p(){return xT(d,l,{ease:Array.isArray(i)?i:zT(l,i)})}var f=p();return{next:function(e){return u.value=f(e),u.done=e>=c,u},flipTarget:function(){l.reverse(),f=p()}}}var qT={keyframes:VT,spring:hP,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,o=void 0===r?0:r,i=e.power,a=void 0===i?.8:i,s=e.timeConstant,c=void 0===s?350:s,u=e.restDelta,l=void 0===u?.5:u,d=e.modifyTarget,p={done:!1,value:o},f=a*n,h=o+f,m=void 0===d?h:d(h);return m!==h&&(f=m-o),{next:function(e){var t=-f*Math.exp(-e/c);return p.done=!(t>l||t<-l),p.value=p.done?m:m+t,p},flipTarget:function(){}}}};function GT(e,t,n){return void 0===n&&(n=0),e-t-n}var HT=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return xC.update(t,!0)},stop:function(){return SC.update(t)}}};function WT(e){var t,n,r,o,i,a=e.from,s=e.autoplay,c=void 0===s||s,u=e.driver,l=void 0===u?HT:u,d=e.elapsed,p=void 0===d?0:d,f=e.repeat,h=void 0===f?0:f,m=e.repeatType,g=void 0===m?"loop":m,v=e.repeatDelay,y=void 0===v?0:v,b=e.onPlay,w=e.onStop,O=e.onComplete,E=e.onRepeat,x=e.onUpdate,S=sP(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),P=S.to,C=0,T=S.duration,_=!1,k=!0,I=function(e){if(Array.isArray(e.to))return VT;if(qT[e.type])return qT[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?VT:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?hP:VT}(S);(null===(n=(t=I).needsInterpolation)||void 0===n?void 0:n.call(t,a,P))&&(i=xT([0,100],[a,P],{clamp:!1}),a=0,P=100);var M=I(aP(aP({},S),{from:a,to:P}));function j(){C++,"reverse"===g?p=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?GT(t+-e,t,n):t-(e-t)+n}(p,T,y,k=C%2==0):(p=GT(p,T,y),"mirror"===g&&M.flipTarget()),_=!1,E&&E()}function A(e){if(k||(e=-e),p+=e,!_){var t=M.next(Math.max(0,p));o=t.value,i&&(o=i(o)),_=k?t.done:p<=0}null==x||x(o),_&&(0===C&&(null!=T||(T=p)),C<h?function(e,t,n,r){return r?e>=t+n:e<=-n}(p,T,y,k)&&j():(r.stop(),O&&O()))}return c&&(null==b||b(),(r=l(A)).start()),{stop:function(){null==w||w(),r.stop()}}}function KT(e,t){return t?e*(1e3/t):0}var QT=function(e,t){return 1-3*t+3*e},YT=function(e,t){return 3*t-6*e},ZT=function(e){return 3*e},JT=function(e,t,n){return((QT(t,n)*e+YT(t,n))*e+ZT(t))*e},XT=function(e,t,n){return 3*QT(t,n)*e*e+2*YT(t,n)*e+ZT(t)};function $T(e,t,n,r){if(e===t&&n===r)return _T;for(var o=new Float32Array(11),i=0;i<11;++i)o[i]=JT(.1*i,e,n);function a(t){for(var r=0,i=1;10!==i&&o[i]<=t;++i)r+=.1;--i;var a=r+.1*((t-o[i])/(o[i+1]-o[i])),s=XT(a,e,n);return s>=.001?function(e,t,n,r){for(var o=0;o<8;++o){var i=XT(t,n,r);if(0===i)return t;t-=(JT(t,n,r)-e)/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,o){var i,a,s=0;do{(i=JT(a=t+(n-t)/2,r,o)-e)>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,r,r+.1,e,n)}return function(e){return 0===e||1===e?e:JT(a(e),t,r)}}var e_={linear:_T,easeIn:kT,easeInOut:MT,easeOut:IT,circIn:jT,circInOut:RT,circOut:AT,backIn:DT,backInOut:NT,backOut:LT,anticipate:UT,bounceIn:BT,bounceInOut:function(e){return e<.5?.5*(1-FT(1-2*e)):.5*FT(2*e-1)+.5},bounceOut:FT},t_=function(e){if(Array.isArray(e)){e.length;var t=rP(e,4);return $T(t[0],t[1],t[2],t[3])}return"string"==typeof e?e_[e]:e},n_=function(e,t){return"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!WP.test(t)||t.startsWith("url(")))},r_=function(e){return Array.isArray(e)},o_=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},i_=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},a_=function(){return{type:"keyframes",ease:"linear",duration:.3}},s_=function(e){return{type:"keyframes",duration:.8,values:e}},c_={x:o_,y:o_,z:o_,rotate:o_,rotateX:o_,rotateY:o_,rotateZ:o_,scaleX:i_,scaleY:i_,scale:i_,opacity:a_,backgroundColor:a_,color:a_,default:i_},u_=tP(tP({},SP),{transform:Math.round}),l_={color:zP,backgroundColor:zP,outlineColor:zP,fill:zP,stroke:zP,borderColor:zP,borderTopColor:zP,borderRightColor:zP,borderBottomColor:zP,borderLeftColor:zP,borderWidth:IP,borderTopWidth:IP,borderRightWidth:IP,borderBottomWidth:IP,borderLeftWidth:IP,borderRadius:IP,radius:IP,borderTopLeftRadius:IP,borderTopRightRadius:IP,borderBottomRightRadius:IP,borderBottomLeftRadius:IP,width:IP,maxWidth:IP,height:IP,maxHeight:IP,size:IP,top:IP,right:IP,bottom:IP,left:IP,padding:IP,paddingTop:IP,paddingRight:IP,paddingBottom:IP,paddingLeft:IP,margin:IP,marginTop:IP,marginRight:IP,marginBottom:IP,marginLeft:IP,rotate:_P,rotateX:_P,rotateY:_P,rotateZ:_P,scale:CP,scaleX:CP,scaleY:CP,scaleZ:CP,skew:_P,skewX:_P,skewY:_P,distance:IP,translateX:IP,translateY:IP,translateZ:IP,x:IP,y:IP,z:IP,perspective:IP,transformPerspective:IP,opacity:PP,originX:AP,originY:AP,originZ:IP,zIndex:u_,filter:ZP,WebkitFilter:ZP,fillOpacity:PP,strokeOpacity:PP,numOctaves:u_},d_=[SP,IP,kP,_P,jP,MP,{test:function(e){return"auto"===e},parse:function(e){return e}}],p_=function(e){return function(t){return t.test(e)}},f_=function(e){return d_.find(p_(e))},h_=oP(d_,[zP,WP]),m_=function(e){return h_.find(p_(e))},g_=function(e){return l_[e]},v_=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function y_(e,t){var n,r=g_(e);return r!==ZP&&(r=WP),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var b_;function w_(e){var t=e.ease,n=e.times,r=e.yoyo,o=e.flip,i=e.loop,a=nP(e,["ease","times","yoyo","flip","loop"]),s=tP({},a);return n&&(s.offset=n),a.duration&&(s.duration=RC(a.duration)),a.repeatDelay&&(s.repeatDelay=RC(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!=typeof e[0]}(t)?t.map(t_):t_(t)),"tween"===a.type&&(s.type="keyframes"),(r||i||o)&&(!0,r?s.repeatType="reverse":i?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=i||r||o||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}function O_(e,t,n){var r,o,i,a;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=oP(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=nP(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=tP(tP({},e),(o=n,i=t.to,a=r_(i)?s_:c_[o]||c_.default,tP({to:i},a(i))))),tP(tP({},t),w_(e))}function E_(e,t,n,r,o){var i,a=x_(r,e),s=null!==(i=a.from)&&void 0!==i?i:t.get(),c=n_(e,n);"none"===s&&c&&"string"==typeof n&&(s=y_(e,n));var u=n_(e,s);return u&&c&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:o,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,o=e.velocity,i=void 0===o?0:o,a=e.min,s=e.max,c=e.power,u=void 0===c?.8:c,l=e.timeConstant,d=void 0===l?750:l,p=e.bounceStiffness,f=void 0===p?500:p,h=e.bounceDamping,m=void 0===h?10:h,g=e.restDelta,v=void 0===g?1:g,y=e.modifyTarget,b=e.driver,w=e.onUpdate,O=e.onComplete;function E(e){return void 0!==a&&e<a||void 0!==s&&e>s}function x(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function S(e){null==t||t.stop(),t=WT(aP(aP({},e),{driver:b,onUpdate:function(t){var n;null==w||w(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:O}))}function P(e){S(aP({type:"spring",stiffness:f,damping:m,restDelta:v},e))}if(E(r))P({from:r,velocity:i,to:x(r)});else{var C=u*i+r;void 0!==y&&(C=y(C));var T,_,k=x(C),I=k===a?-1:1;S({type:"decay",from:r,velocity:i,timeConstant:d,power:u,restDelta:v,modifyTarget:y,onUpdate:E(C)?function(e){T=_,_=e,i=KT(e-T,_C().delta),(1===I&&e>k||-1===I&&e<k)&&P({from:e,to:k,velocity:i})}:void 0})}return{stop:function(){return null==t?void 0:t.stop()}}}(tP(tP({},r),a)):WT(tP(tP({},O_(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e;return t.set(n),o(),null===(e=null==a?void 0:a.onComplete)||void 0===e||e.call(a),{stop:function(){}}}}function x_(e,t){return e[t]||e.default||e}function S_(e,t,n,r){return void 0===r&&(r={}),t.start((function(o){var i,a,s=E_(e,t,n,r,o),c=function(e,t){var n;return null!==(n=(x_(e,t)||{}).delay)&&void 0!==n?n:0}(r,e),u=function(){return a=s()};return c?i=setTimeout(u,RC(c)):u(),function(){clearTimeout(i),null==a||a.stop()}}))}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"}(b_||(b_={}));var P_,C_=new WeakMap,T_=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic={x:{min:0,max:1},y:{min:0,max:1}},this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),C_.set(t,this)}return e.prototype.start=function(e,t){var n=this,r=void 0===t?{}:t,o=r.snapToCursor,i=void 0!==o&&o,a=r.cursorProgress;i&&this.snapToCursor(e);var s=this.props.transformPagePoint;this.panSession=new DC(e,{onSessionStart:function(){n.stopMotion()},onStart:function(e,t){var r,o,i,s=n.props,c=s.drag,u=s.dragPropagation;if(!c||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=HC(c),n.openGlobalLock)){n.prepareBoundingBox(),n.visualElement.lockProjectionTarget(),n.resolveDragConstraints();var l=rC(e).point;JC((function(e){var t=n.visualElement.projection.target[e],r=t.min,o=t.max;n.cursorProgress[e]=a?a[e]:gP(r,o,l[e]);var i=n.getAxisMotionValue(e);i&&(n.originPoint[e]=i.get())})),n.isDragging=!0,n.currentDirection=null,null===(o=(r=n.props).onDragStart)||void 0===o||o.call(r,e,t),null===(i=n.visualElement.animationState)||void 0===i||i.setActive(b_.Drag,!0)}},onMove:function(e,t){var r,o,i,a,s=n.props,c=s.dragPropagation,u=s.dragDirectionLock;if(c||n.openGlobalLock){var l=t.offset;if(u&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(l),void(null!==n.currentDirection&&(null===(o=(r=n.props).onDirectionLock)||void 0===o||o.call(r,n.currentDirection)));n.updateAxis("x",e,l),n.updateAxis("y",e,l),null===(a=(i=n.props).onDrag)||void 0===a||a.call(i,e,t),P_=e}},onEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:s})},e.prototype.prepareBoundingBox=function(){var e=this.visualElement;e.withoutTransform((function(){e.updateLayoutMeasurement()})),e.rebaseProjectionTarget(!0,e.measureViewportBox(!1))},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.dragElastic;this.constraints=!!n&&(iP(n)?this.resolveRefConstraints(this.visualElement.getLayoutState().layout,n):function(e,t){var n=t.top,r=t.left,o=t.bottom,i=t.right;return{x:aT(e.x,r,i),y:aT(e.y,n,o)}}(this.visualElement.getLayoutState().layout,n)),this.elastic=function(e){return!1===e?e=0:!0===e&&(e=.35),{x:cT(e,"left","right"),y:cT(e,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&JC((function(t){var n,r,o;e.getAxisMotionValue(t)&&(e.constraints[t]=(n=e.visualElement.getLayoutState().layout[t],r=e.constraints[t],o={},void 0!==r.min&&(o.min=r.min-n.min),void 0!==r.max&&(o.max=r.max-n.min),o))}))},e.prototype.resolveRefConstraints=function(e,t){var n=this.props,r=n.onMeasureDragConstraints,o=n.transformPagePoint,i=t.current;this.constraintsBox=lT(i,o);var a=function(e,t){return{x:sT(e.x,t.x),y:sT(e.y,t.y)}}(e,this.constraintsBox);if(r){var s=r(function(e){var t=e.x,n=e.y;return{top:n.min,bottom:n.max,left:t.min,right:t.max}}(a));this.hasMutatedConstraints=!!s,s&&(a=KC(s))}return a},e.prototype.cancelDrag=function(){var e;this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(b_.Drag,!1)},e.prototype.stop=function(e,t){var n;this.visualElement.unlockProjectionTarget(),null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var r=this.isDragging;if(this.cancelDrag(),r){var o=this.props,i=o.dragMomentum,a=o.onDragEnd;if(i||this.elastic){var s=t.velocity;this.animateDragEnd(s)}null==a||a(e,t)}},e.prototype.snapToCursor=function(e){var t=this;this.prepareBoundingBox(),JC((function(n){if(__(n,t.props.drag,t.currentDirection)){var r=t.getAxisMotionValue(n);if(r){var o=rC(e).point,i=t.visualElement.getLayoutState().layout,a=i[n].max-i[n].min,s=i[n].min+a/2,c=o[n]-s;t.originPoint[n]=o[n],r.set(c)}else t.cursorProgress[n]=.5,t.updateVisualElementAxis(n,e)}}))},e.prototype.updateAxis=function(e,t,n){if(__(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,n):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var n=this.getAxisMotionValue(e);if(t&&n){var r=this.originPoint[e]+t[e],o=this.constraints?iT(r,this.constraints[e],this.elastic[e]):r;n.set(o)}},e.prototype.updateVisualElementAxis=function(e,t){var n,r=this.visualElement.getLayoutState().layout[e],o=r.max-r.min,i=this.cursorProgress[e],a=function(e,t,n,r,o){var i=e-t*n;return r?iT(i,r,o):i}(rC(t).point[e],o,i,null===(n=this.constraints)||void 0===n?void 0:n[e],this.elastic[e]);this.visualElement.setProjectionTargetAxis(e,a,a+o)},e.prototype.setProps=function(e){var t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,o=void 0!==r&&r,i=e.dragPropagation,a=void 0!==i&&i,s=e.dragConstraints,c=void 0!==s&&s,u=e.dragElastic,l=void 0===u?.35:u,d=e.dragMomentum,p=void 0===d||d,f=nP(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=tP({drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:l,dragMomentum:p},f)},e.prototype.getAxisMotionValue=function(e){var t=this.props,n=t.layout,r=t.layoutId,o="_drag"+e.toUpperCase();return this.props[o]?this.props[o]:n||void 0!==r?void 0:this.visualElement.getValue(e,0)},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,r=n.drag,o=n.dragMomentum,i=n.dragElastic,a=n.dragTransition,s=JC((function(n){if(__(n,r,t.currentDirection)){var s=t.constraints?t.constraints[n]:{},c=i?200:1e6,u=i?40:1e7,l=tP(tP({type:"inertia",velocity:o?e[n]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},a),s);return t.getAxisMotionValue(n)?t.startAxisValueAnimation(n,l):t.visualElement.startLayoutAnimation(n,l)}}));return Promise.all(s).then((function(){var e,n;null===(n=(e=t.props).onDragTransitionEnd)||void 0===n||n.call(e)}))},e.prototype.stopMotion=function(){var e=this;JC((function(t){var n=e.getAxisMotionValue(t);n?n.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);if(n){var r=n.get();return n.set(r),n.set(r),S_(e,n,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.drag;if(iP(t.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};JC((function(t){r[t]=tT(e.visualElement.projection.target[t],e.constraintsBox[t])})),this.prepareBoundingBox(),this.resolveDragConstraints(),JC((function(t){if(__(t,n,null)){var o=function(e,t,n){var r=e.max-e.min,o=XC(t.min,t.max-r,n);return{min:o,max:o+r}}(e.visualElement.projection.target[t],e.constraintsBox[t],r[t]),i=o.min,a=o.max;e.visualElement.setProjectionTargetAxis(t,i,a)}}))}},e.prototype.mount=function(e){var t=this,n=dC(e.getInstance(),"pointerdown",(function(e){var n=t.props,r=n.drag,o=n.dragListener;r&&(void 0===o||o)&&t.start(e)})),r=iC(window,"resize",(function(){t.scalePoint()})),o=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),i=e.prevDragCursor;return i&&this.start(P_,{cursorProgress:i}),function(){null==n||n(),null==r||r(),null==o||o(),t.cancelDrag()}},e}();function __(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var k_=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t,n,r=this;return t=this.subscriptions,n=e,-1===t.indexOf(n)&&t.push(n),function(){return function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}(r.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var o=0;o<r;o++){var i=this.subscriptions[o];i&&i(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),I_=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new k_,this.velocityUpdateSubscribers=new k_,this.renderSubscribers=new k_,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=_C(),o=r.delta,i=r.timestamp;n.lastUpdated!==i&&(n.timeDelta=o,n.lastUpdated=i,xC.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return xC.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?KT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function M_(e){return new I_(e)}function j_(e){return Array.isArray(e)}function A_(e){return"string"==typeof e||j_(e)}function R_(e,t,n,r,o){var i;return void 0===r&&(r={}),void 0===o&&(o={}),"string"==typeof t&&(t=null===(i=e.variants)||void 0===i?void 0:i[t]),"function"==typeof t?t(null!=n?n:e.custom,r,o):t}function D_(e,t,n){var r=e.getProps();return R_(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function L_(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||A_(e.initial)||A_(e.animate)||A_(e.whileHover)||A_(e.whileDrag)||A_(e.whileTap)||A_(e.whileFocus)||A_(e.exit)}function N_(e){return Boolean(L_(e)||e.variants)}function U_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,M_(n))}function F_(e,t,n){var r,o,i,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),c=s.length;if(c)for(var u=0;u<c;u++){var l=s[u],d=t[l],p=null;Array.isArray(d)&&(p=d[0]),null===p&&(p=null!==(o=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==o?o:t[l]),null!=p&&("string"==typeof p&&/^\-?\d*\.?\d+$/.test(p)?p=parseFloat(p):!m_(p)&&WP.test(d)&&(p=y_(l,d)),e.addValue(l,M_(p)),null!==(i=(a=n)[l])&&void 0!==i||(a[l]=p),e.setBaseTarget(l,p))}}function B_(e,t){if(t)return(t[e]||t.default||t).from}function z_(e,t,n){var r,o,i={};for(var a in e)i[a]=null!==(r=B_(a,t))&&void 0!==r?r:null===(o=n.getValue(a))||void 0===o?void 0:o.get();return i}function V_(e,t,n){var r;void 0===n&&(n={});var o=D_(e,t,n.custom),i=(o||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var s=o?function(){return q_(e,o,n)}:function(){return Promise.resolve()},c=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var o=a.delayChildren,i=void 0===o?0:o,s=a.staggerChildren,c=a.staggerDirection;return function(e,t,n,r,o,i){void 0===n&&(n=0);void 0===r&&(r=0);void 0===o&&(o=1);var a=[],s=(e.variantChildren.size-1)*r,c=1===o?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(G_).forEach((function(e,r){a.push(V_(e,t,tP(tP({},i),{delay:n+c(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,i+r,s,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var l=rP("beforeChildren"===u?[s,c]:[c,s],2),d=l[0],p=l[1];return d().then(p)}return Promise.all([s(),c(n.delay)])}function q_(e,t,n){var r,o=void 0===n?{}:n,i=o.delay,a=void 0===i?0:i,s=o.transitionOverride,c=o.type,u=e.makeTargetAnimatable(t),l=u.transition,d=void 0===l?e.getDefaultTransition():l,p=u.transitionEnd,f=nP(u,["transition","transitionEnd"]);s&&(d=s);var h=[],m=c&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[c]);for(var g in f){var v=e.getValue(g),y=f[g];if(!(!v||void 0===y||m&&H_(m,g))){var b=S_(g,v,y,tP({delay:a},d));h.push(b)}}return Promise.all(h).then((function(){p&&function(e,t){var n=D_(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd,i=void 0===o?{}:o;r.transition;var a,s=nP(r,["transitionEnd","transition"]);for(var c in s=tP(tP({},s),i)){U_(e,c,(a=s[c],r_(a)?a[a.length-1]||0:a))}}(e,p)}))}function G_(e,t){return e.sortNodePosition(t)}function H_(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function W_(e){return"object"==typeof e&&"function"==typeof e.start}function K_(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Q_=[b_.Animate,b_.Hover,b_.Tap,b_.Drag,b_.Focus,b_.Exit],Y_=oP(Q_).reverse(),Z_=Q_.length;function J_(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(),Array.isArray(t)){var o=t.map((function(t){return V_(e,t,n)}));r=Promise.all(o)}else if("string"==typeof t)r=V_(e,t,n);else{var i="function"==typeof t?D_(e,t,n.custom):t;r=q_(e,i,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function X_(e){var t,n=J_(e),r=((t={})[b_.Animate]=$_(!0),t[b_.Hover]=$_(),t[b_.Tap]=$_(),t[b_.Drag]=$_(),t[b_.Focus]=$_(),t[b_.Exit]=$_(),t),o={},i=!0,a=function(t,n){var r=D_(e,n);if(r){r.transition;var o=r.transitionEnd,i=nP(r,["transition","transitionEnd"]);t=tP(tP(tP({},t),i),o)}return t};function s(t,s){for(var c=e.getProps(),u=e.getVariantContext(!0)||{},l=[],d=new Set,p={},f=1/0,h=function(n){var o=Y_[n],h=r[o],m=null!==(E=c[o])&&void 0!==E?E:u[o],g=A_(m),v=o===s?h.isActive:null;!1===v&&(f=n);var y=m===u[o]&&m!==c[o]&&g;if(y&&i&&e.manuallyAnimateOnMount&&(y=!1),h.protectedKeys=tP({},p),!h.isActive&&null===v||!m&&!h.prevProp||W_(m)||"boolean"==typeof m)return"continue";var b=function(e,t){if("string"==typeof t)return t!==e;if(j_(t))return!K_(t,e);return!1}(h.prevProp,m)||o===s&&h.isActive&&!y&&g||n>f&&g,w=Array.isArray(m)?m:[m],O=w.reduce(a,{});!1===v&&(O={});var E=h.prevResolvedValues,x=void 0===E?{}:E,S=tP(tP({},x),O),P=function(e){b=!0,d.delete(e),h.needsAnimating[e]=!0};for(var C in S){var T=O[C],_=x[C];p.hasOwnProperty(C)||(T!==_?r_(T)&&r_(_)?K_(T,_)?h.protectedKeys[C]=!0:P(C):void 0!==T?P(C):d.add(C):void 0!==T&&d.has(C)?P(C):h.protectedKeys[C]=!0)}h.prevProp=m,h.prevResolvedValues=O,h.isActive&&(p=tP(tP({},p),O)),i&&e.blockInitialAnimation&&(b=!1),b&&!y&&l.push.apply(l,oP(w.map((function(e){return{animation:e,options:tP({type:o},t)}}))))},m=0;m<Z_;m++)h(m);if(o=tP({},p),d.size){var g={};d.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),l.push({animation:g})}var v=Boolean(l.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(v=!1),i=!1,v?n(l):Promise.resolve()}return{isAnimated:function(e){return void 0!==o[e]},animateChanges:s,setActive:function(t,n,o){var i;return r[t].isActive===n?Promise.resolve():(null===(i=e.variantChildren)||void 0===i||i.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n,s(o,t))},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}function $_(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ek(e){var t=Object(u.useRef)(null);return null===t.current&&(t.current=e()),t.current}function tk(){var e=Object(u.useContext)(HS);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=ok();Object(u.useEffect)((function(){return r(o)}),[]);return!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var nk=0,rk=function(){return nk++},ok=function(){return ek(rk)};var ik=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:1},y:{min:0,max:1}},t.currentAnimationTarget={x:{min:0,max:1},y:{min:0,max:1}},t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(e,n,r){void 0===r&&(r={});var o=r.originBox,i=r.targetBox,a=r.visibilityAction,s=r.shouldStackAnimate,c=r.onComplete,u=nP(r,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete"]),l=t.props,d=l.visualElement,p=l.layout;if(!1===s)return t.isAnimatingTree=!1,t.safeToRemove();if(!t.isAnimatingTree||!0===s){s&&(t.isAnimatingTree=!0);var f=sk(n=o||n,e=i||e),h=JC((function(r){if("position"===p){var o=e[r].max-e[r].min;n[r].max=n[r].min+o}if(!d.projection.isTargetLocked)return void 0===a?f?t.animateAxis(r,e[r],n[r],u):d.setProjectionTargetAxis(r,e[r].min,e[r].max):void d.setVisibility(a===qS.Show)}));return d.syncRender(),Promise.all(h).then((function(){t.isAnimatingTree=!1,c&&c(),d.notifyLayoutAnimationComplete()}))}},t}return eP(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=S_,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.layoutSafeToRemove=function(){return e.safeToRemove()}},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),JC((function(t){var n,r;return null===(r=(n=e.stopAxisAnimation)[t])||void 0===r?void 0:r.call(n)}))},t.prototype.animateAxis=function(e,t,n,r){var o,i,a=this,s=(void 0===r?{}:r).transition;if(!this.isAnimating[e]||!lk(t,this.currentAnimationTarget[e])){null===(i=(o=this.stopAxisAnimation)[e])||void 0===i||i.call(o),this.isAnimating[e]=!0;var c=this.props.visualElement,u=this.frameTarget[e],l=c.getProjectionAnimationProgress()[e];l.clearListeners(),l.set(0),l.set(0);var d=function(){var r=l.get()/1e3;!function(e,t,n,r){e.min=XC(t.min,n.min,r),e.max=XC(t.max,n.max,r)}(u,n,t,r),c.setProjectionTargetAxis(e,u.min,u.max)};d(),c.updateLayoutProjection();var p=l.onChange(d);return this.stopAxisAnimation[e]=function(){a.isAnimating[e]=!1,l.stop(),p()},this.currentAnimationTarget[e]=t,S_("x"===e?"layoutX":"layoutY",l,1e3,s||this.props.transition||dk).then(this.stopAxisAnimation[e])}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(u.Component);function ak(e){var t=rP(tk(),2)[1];return Object(u.createElement)(ik,tP({},e,{safeToRemove:t}))}function sk(e,t){return!(uk(e)||uk(t)||lk(e.x,t.x)&&lk(e.y,t.y))}var ck={min:0,max:0};function uk(e){return lk(e.x,ck)&&lk(e.y,ck)}function lk(e,t){return e.min===t.min&&e.max===t.max}var dk={duration:.45,ease:[.4,0,.1,1]},pk={key:"animate-layout",shouldRender:function(e){return!!e.layout||void 0!==e.layoutId},getComponent:function(){return ak}};function fk(e){return"string"==typeof e&&e.startsWith("var(--")}var hk=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mk(e,t,n){void 0===n&&(n=1);var r=rP(function(e){var t=hk.exec(e);if(!t)return[,];var n=rP(t,3);return[n[1],n[2]]}(e),2),o=r[0],i=r[1];if(o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():fk(i)?mk(i,t,n+1):i}}function gk(e,t){return e/(t.max-t.min)*100}var vk={process:function(e,t,n){var r=n.target;if("string"==typeof e){if(!IP.test(e))return e;e=parseFloat(e)}return gk(e,r.x)+"% "+gk(e,r.y)+"%"}},yk={borderRadius:tP(tP({},vk),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vk,borderTopRightRadius:vk,borderBottomLeftRadius:vk,borderBottomRightRadius:vk,boxShadow:{process:function(e,t){var n=t.delta,r=t.treeScale,o=e,i=e.includes("var("),a=[];i&&(e=e.replace(hk,(function(e){return a.push(e),"_$css"})));var s=WP.parse(e);if(s.length>5)return o;var c=WP.createTransformer(e),u="number"!=typeof s[0]?1:0,l=n.x.scale*r.x,d=n.y.scale*r.y;s[0+u]/=l,s[1+u]/=d;var p=XC(l,d,.5);"number"==typeof s[2+u]&&(s[2+u]/=p),"number"==typeof s[3+u]&&(s[3+u]/=p);var f=c(s);if(i){var h=0;f=f.replace("_$css",(function(){var e=a[h];return h++,e}))}return f}}},bk=["onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"],wk=new Set(oP(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag"],bk));function Ok(e){return wk.has(e)}var Ek=function(e){return e instanceof I_};function xk(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:ZC(),deltaFinal:ZC(),deltaTransform:""}}var Sk=xk(),Pk=["","X","Y","Z"],Ck=["transformPerspective","x","y","z"];function Tk(e,t){return Ck.indexOf(e)-Ck.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Pk.forEach((function(t){return Ck.push(e+t)}))}));var _k=new Set(Ck);function kk(e){return _k.has(e)}var Ik=new Set(["originX","originY","originZ"]);function Mk(e){return Ik.has(e)}var jk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Ak(e,t,n){var r=e.x,o=e.y,i="translate3d("+r.translate/t.x+"px, "+o.translate/t.y+"px, 0) ";if(n){var a=n.rotate,s=n.rotateX,c=n.rotateY;a&&(i+="rotate("+a+") "),s&&(i+="rotateX("+s+") "),c&&(i+="rotateY("+c+") ")}return i+="scale("+r.scale+", "+o.scale+")",n||i!==Rk?i:""}var Rk=Ak(Sk.delta,Sk.treeScale,{x:1,y:1});function Dk(e,t){e.min=t.min,e.max=t.max}function Lk(e,t,n){return n+t*(e-n)}function Nk(e,t,n,r,o){return void 0!==o&&(e=Lk(e,o,r)),Lk(e,n,r)+t}function Uk(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Nk(e.min,t,n,r,o),e.max=Nk(e.max,t,n,r,o)}function Fk(e,t){var n=t.x,r=t.y;Uk(e.x,n.translate,n.scale,n.originPoint),Uk(e.y,r.translate,r.scale,r.originPoint)}function Bk(e,t,n,r){var o=rP(r,3),i=o[0],a=o[1],s=o[2];e.min=t.min,e.max=t.max;var c=void 0!==n[s]?n[s]:.5,u=XC(t.min,t.max,c);Uk(e,n[i],n[a],u,n.scale)}var zk=["x","scaleX","originX"],Vk=["y","scaleY","originY"];function qk(e,t,n,r,o){return e=Lk(e-=t,1/n,r),void 0!==o&&(e=Lk(e,1/o,r)),e}function Gk(e,t,n){var r=rP(n,3),o=r[0],i=r[1],a=r[2];!function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5);var i=XC(e.min,e.max,r)-t;e.min=qk(e.min,t,n,i,o),e.max=qk(e.max,t,n,i,o)}(e,t[o],t[i],t[a],t.scale)}var Hk=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget"];function Wk(e,t,n,r){var o,i,a=e.delta,s=e.layout,c=e.layoutCorrected,u=e.treeScale,l=t.target;i=s,Dk((o=c).x,i.x),Dk(o.y,i.y),function(e,t,n){var r=n.length;if(r){t.x=t.y=1;for(var o=0;o<r;o++){var i=n[o].getLayoutState().delta;t.x*=i.x.scale,t.y*=i.y.scale,Fk(e,i)}}}(c,u,n),rT(a,c,l,r)}var Kk=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,o=e.getBaseTarget,i=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,c=e.readValueFromInstance,u=e.resetTransform,l=e.restoreTransform,d=e.removeValueFromRenderState,p=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,m=e.props,g=e.presenceId,v=e.blockInitialAnimation,y=e.visualState;void 0===t&&(t={});var b,w,O,E,x,S,P=y.latestValues,C=y.renderState,T=new Set,_=function(){var e=Hk.map((function(){return new k_})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){return Hk.forEach((function(r){var o;null===(o=t[r])||void 0===o||o.call(t);var i="on"+r,a=e[i];a&&(t[r]=n[i](a))}))}};return e.forEach((function(e,t){n["on"+Hk[t]]=function(t){return e.add(t)},n["notify"+Hk[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,oP(t))}})),n}(),k={isEnabled:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},I=k,M=P,j=xk(),A=!1,R=new Map,D=new Map,L={},N=tP({},P);function U(){return k.isEnabled&&j.isHydrated}function F(){var e,t,n;b&&(U()&&(e=I.targetFinal,t=I.target,n=M,Bk(e.x,t.x,n,zk),Bk(e.y,t.y,n,Vk),rT(j.deltaFinal,j.layoutCorrected,I.targetFinal,P)),B(),s(b,C))}function B(){var e=P;if(O&&O.isActive()){var n=O.getCrossfadeState(K);n&&(e=n)}r(K,C,e,I,j,t,m)}function z(){_.notifyUpdate(P)}var V=f(m);for(var q in V){var G=V[q];void 0!==P[q]&&Ek(G)&&G.set(P[q],!1)}var H=L_(m),W=N_(m),K=tP(tP({treeType:n,current:null,depth:h?h.depth+1:0,path:h?oP(h.path,[h]):[],presenceId:g,projection:k,variantChildren:W?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==h?void 0:h.isMounted()),blockInitialAnimation:v,isHoverEventsEnabled:!0,isMounted:function(){return Boolean(b)},mount:function(e){b=K.current=e,K.pointTo(K),x=null==h?void 0:h.addChild(K),W&&h&&!H&&(S=null==h?void 0:h.addVariantChild(K))},unmount:function(){SC.update(z),SC.render(F),SC.preRender(K.updateLayoutProjection),D.forEach((function(e){return e()})),K.stopLayoutAnimation(),null==x||x(),null==S||S(),null==w||w(),_.clearAllListeners()},addChild:function(e){return T.add(e),function(){return T.delete(e)}},addVariantChild:function(e){var t,n=K.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return p&&n===e.treeType?p(K.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return W?K:null==h?void 0:h.getClosestVariantNode()},scheduleUpdateLayoutProjection:h?h.scheduleUpdateLayoutProjection:function(){return xC.preRender(K.updateLayoutProjection,!1,!0)},getLayoutId:function(){return m.layoutId},getInstance:function(){return b},getStaticValue:function(e){return P[e]},setStaticValue:function(e,t){return P[e]=t},getLatestValues:function(){return P},setVisibility:function(e){K.isVisible!==e&&(K.isVisible=e,K.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),i(K,e,m,t)},suspendHoverEvents:function(){K.isHoverEventsEnabled=!1,xC.postRender((function(){return setTimeout((function(){return K.isHoverEventsEnabled=!0}),10)}))},addValue:function(e,t){K.hasValue(e)&&K.removeValue(e),R.set(e,t),P[e]=t.get(),function(e,t){var n=t.onChange((function(t){P[e]=t,m.onUpdate&&xC.update(z,!1,!0)})),r=t.onRenderRequest(K.scheduleRender);D.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;R.delete(e),null===(t=D.get(e))||void 0===t||t(),D.delete(e),delete P[e],d(e,C)},hasValue:function(e){return R.has(e)},getValue:function(e,t){var n=R.get(e);return void 0===n&&void 0!==t&&(n=M_(t),K.addValue(e,n)),n},forEachValue:function(e){return R.forEach(e)},readValue:function(e){var n;return null!==(n=P[e])&&void 0!==n?n:c(b,e,t)},setBaseTarget:function(e,t){N[e]=t},getBaseTarget:function(e){if(o){var t=o(m,e);if(void 0!==t&&!Ek(t))return t}return N[e]}},_),{build:function(){return B(),C},scheduleRender:function(){xC.render(F,!1,!0)},syncRender:F,setProps:function(e){m=e,_.updatePropListeners(e),L=function(e,t,n){var r;for(var o in t){var i=t[o],a=n[o];if(Ek(i))e.addValue(o,i);else if(Ek(a))e.addValue(o,M_(i));else if(a!==i)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(i)}else e.addValue(o,M_(null!==(r=e.getStaticValue(o))&&void 0!==r?r:i))}for(var o in n)void 0===t[o]&&e.removeValue(o);return t}(K,f(m),L)},getProps:function(){return m},getVariant:function(e){var t;return null===(t=m.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return m.transition},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==h?void 0:h.getVariantContext();if(!H){var t=(null==h?void 0:h.getVariantContext())||{};return void 0!==m.initial&&(t.initial=m.initial),t}for(var n={},r=0;r<Zk;r++){var o=Yk[r],i=m[o];(A_(i)||!1===i)&&(n[o]=i)}return n},enableLayoutProjection:function(){k.isEnabled=!0},lockProjectionTarget:function(){k.isTargetLocked=!0},unlockProjectionTarget:function(){K.stopLayoutAnimation(),k.isTargetLocked=!1},snapshotViewportBox:function(){K.prevViewportBox=K.measureViewportBox(!1),K.rebaseProjectionTarget(!1,K.prevViewportBox)},getLayoutState:function(){return j},setCrossfader:function(e){O=e},startLayoutAnimation:function(e,t){var n=K.getProjectionAnimationProgress()[e],r=k.target[e],o=r.min,i=r.max-o;return n.clearListeners(),n.set(o),n.set(o),n.onChange((function(t){return K.setProjectionTargetAxis(e,t,t+i)})),K.animateMotionValue(e,n,0,t)},stopLayoutAnimation:function(){JC((function(e){return K.getProjectionAnimationProgress()[e].stop()}))},measureViewportBox:function(e){void 0===e&&(e=!0);var n,r,o=a(b,t);return e||(r=P,Gk((n=o).x,r,zk),Gk(n.y,r,Vk)),o},updateLayoutMeasurement:function(){var e;K.notifyBeforeLayoutMeasure(j.layout),j.isHydrated=!0,j.layout=K.measureViewportBox(),j.layoutCorrected=(e=j.layout,{x:tP({},e.x),y:tP({},e.y)}),K.notifyLayoutMeasure(j.layout,K.prevViewportBox||j.layout),xC.update((function(){return K.rebaseProjectionTarget()}))},getProjectionAnimationProgress:function(){return E||(E={x:M_(0),y:M_(0)}),E},setProjectionTargetAxis:function(e,t,n){var r=k.target[e];r.min=t,r.max=n,A=!0,_.notifySetAxisTarget()},rebaseProjectionTarget:function(e,t){void 0===t&&(t=j.layout);var n=K.getProjectionAnimationProgress(),r=n.x,o=n.y,i=!k.isTargetLocked&&!r.isAnimating()&&!o.isAnimating();(e||i)&&JC((function(e){var n=t[e],r=n.min,o=n.max;K.setProjectionTargetAxis(e,r,o)}))},notifyLayoutReady:function(e){K.notifyLayoutUpdate(j.layout,K.prevViewportBox||j.layout,e)},resetTransform:function(){return u(K,b,m)},withoutTransform:function(e){var t=k.isEnabled;t&&K.resetTransform(),h?h.withoutTransform(e):e(),t&&l(b,C)},updateLayoutProjection:function(){U()&&function(){var e=j.delta,t=j.treeScale,n=t.x,r=t.x,o=j.deltaTransform;Wk(j,I,K.path,P),A&&K.notifyViewportBoxUpdate(I.target,e),A=!1;var i=Ak(e,t);i===o&&n===t.x&&r===t.y||K.scheduleRender(),j.deltaTransform=i}(),T.forEach(Qk)},pointTo:function(e){I=e.projection,M=e.getLatestValues(),null==w||w(),w=hC(e.onSetAxisTarget(K.scheduleUpdateLayoutProjection),e.onLayoutAnimationComplete((function(){var e;K.isPresent?K.presence=VS.Present:null===(e=K.layoutSafeToRemove)||void 0===e||e.call(K)})))},isPresent:!0,presence:VS.Entering});return K}};function Qk(e){e.updateLayoutProjection()}var Yk=oP(["initial"],Q_),Zk=Yk.length;var Jk=function(e){return function(t){return e(t),null}},Xk=Jk((function(e){var t=e.visualElement;return function(e,t){var n=e.dragControls,r=Object(u.useContext)(GS).transformPagePoint,o=ek((function(){return new T_({visualElement:t})}));o.setProps(tP(tP({},e),{transformPagePoint:r})),Object(u.useEffect)((function(){return n&&n.subscribe(o)}),[o]),Object(u.useEffect)((function(){return o.mount(t)}),[])}(nP(e,["visualElement"]),t)})),$k={key:"drag",shouldRender:function(e){return!!e.drag||!!e.dragControls},getComponent:function(){return Xk}};function eI(e){return Object(u.useEffect)((function(){return function(){return e()}}),[])}function tI(e,t){var n=e.onTap,r=e.onTapStart,o=e.onTapCancel,i=e.whileTap,a=n||r||o||i,s=Object(u.useRef)(!1),c=Object(u.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function d(){var e,n;return l(),s.current=!1,null===(e=t.animationState)||void 0===e||e.setActive(b_.Tap,!1),!(!(n=HC(!0))||(n(),0))}function p(e,r){d()&&(!function e(t,n){return!!n&&(t===n||e(t,n.parentElement))}(t.getInstance(),e.target)?null==o||o(e,r):null==n||n(e,r))}function f(e,t){d()&&(null==o||o(e,t))}pC(t,"pointerdown",a?function(e,n){var o;l(),s.current||(s.current=!0,c.current=hC(dC(window,"pointerup",p),dC(window,"pointercancel",f)),null==r||r(e,n),null===(o=t.animationState)||void 0===o||o.setActive(b_.Tap,!0))}:void 0),eI(l)}function nI(e,t,n){return function(r,o){var i;JP(r)&&e.isHoverEventsEnabled&&(null==n||n(r,o),null===(i=e.animationState)||void 0===i||i.setActive(b_.Hover,t))}}function rI(e,t){var n,r,o,i,a,s,c,l,d,p;r=t,o=(n=e).onPan,i=n.onPanStart,a=n.onPanEnd,s=n.onPanSessionStart,c=o||i||a||s,l=Object(u.useRef)(null),d=Object(u.useContext)(GS).transformPagePoint,p={onSessionStart:s,onStart:i,onMove:o,onEnd:function(e,t){l.current=null,a&&a(e,t)}},Object(u.useEffect)((function(){null!==l.current&&l.current.updateHandlers(p)})),pC(r,"pointerdown",c&&function(e){l.current=new DC(e,p,{transformPagePoint:d})}),eI((function(){return l.current&&l.current.end()})),tI(e,t),function(e,t){var n=e.onHoverStart,r=e.onHoverEnd,o=e.whileHover;pC(t,"pointerenter",n||o?nI(t,!0,n):void 0),pC(t,"pointerleave",r||o?nI(t,!1,r):void 0)}(e,t),function(e,t){var n=e.whileFocus;aC(t,"focus",n?function(){var e;null===(e=t.animationState)||void 0===e||e.setActive(b_.Focus,!0)}:void 0),aC(t,"blur",n?function(){var e;null===(e=t.animationState)||void 0===e||e.setActive(b_.Focus,!1)}:void 0)}(e,t)}var oI=Jk((function(e){var t=e.visualElement;rI(nP(e,["visualElement"]),t)})),iI={key:"gestures",shouldRender:function(e){return bk.some((function(t){return e.hasOwnProperty(t)}))},getComponent:function(){return oI}};var aI=Jk((function(e){var t=e.custom,n=e.visualElement,r=rP(tk(),2),o=r[0],i=r[1],a=Object(u.useContext)(HS);Object(u.useEffect)((function(){var e,r,s=null===(e=n.animationState)||void 0===e?void 0:e.setActive(b_.Exit,!o,{custom:null!==(r=null==a?void 0:a.custom)&&void 0!==r?r:t});!o&&(null==s||s.then(i))}),[o])})),sI={key:"exit",shouldRender:function(e){return!!e.exit&&(n=(t=e).animate,r=t.variants,!(null!=(o=t.inherit)?o:r&&!n));var t,n,r,o},getComponent:function(){return aI}},cI=Jk((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=X_(t)),W_(n)&&Object(u.useEffect)((function(){return n.subscribe(t)}),[n])})),uI={key:"animation",shouldRender:function(){return!0},getComponent:function(e){var t=e.animate,n=e.whileHover,r=e.whileFocus,o=e.whileTap,i=e.whileDrag,a=e.exit,s=e.variants;return t||n||r||o||i||a||s?cI:void 0}},lI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eP(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,n=e.framerSyncLayout,r=e.visualElement;JS(t)&&t.register(r),JS(n)&&n.register(r)},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;return JS(t)?t.syncUpdate():(n.snapshotViewportBox(),t.add(n)),null},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;JS(t)||t.flush(),n.rebaseProjectionTarget()},t.prototype.render=function(){return null},t}(l.a.Component);function dI(e){var t=Object(u.useContext)(YS),n=Object(u.useContext)(ZS);return l.a.createElement(lI,tP({},e,{syncLayout:t,framerSyncLayout:n}))}var pI={key:"measure-layout",shouldRender:function(e){return!!e.drag||!!e.layout||void 0!==e.layoutId},getComponent:function(){return dI}},fI=function(e){return!Ok(e)};try{var hI=n("9uj6").default;fI=function(e){return e.startsWith("on")?!Ok(e):hI(e)}}catch(CK){}function mI(e){return e.startsWith("--")}function gI(e,t,n,r,o,i){var a,s=e.style,c=e.vars,u=e.transform,l=e.transformKeys,d=e.transformOrigin;l.length=0;var p=!1,f=!1,h=!0;for(var m in t){var g=t[m];if(mI(m))c[m]=g;else{var v=g_(m),y=v_(g,v);if(kk(m)){if(p=!0,u[m]=y,l.push(m),!h)continue;g!==(null!==(a=v.default)&&void 0!==a?a:0)&&(h=!1)}else if(Mk(m))d[m]=y,f=!0;else if(r&&n&&r.isHydrated&&yk[m]){var b=yk[m].process(g,r,n),w=yk[m].applyTo;if(w)for(var O=w.length,E=0;E<O;E++)s[w[E]]=b;else s[m]=b}else s[m]=y}}r&&n&&n.isEnabled&&r.isHydrated?(s.transform=Ak(r.deltaFinal,r.treeScale,p?u:void 0),i&&(s.transform=i(u,s.transform)),s.transformOrigin=function(e){var t=e.deltaFinal;return 100*t.x.origin+"% "+100*t.y.origin+"% 0"}(r)):(p&&(s.transform=function(e,t,n,r){var o=e.transform,i=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,c=t.allowTransformNone,u=void 0===c||c,l="";i.sort(Tk);for(var d=!1,p=i.length,f=0;f<p;f++){var h=i[f];l+=(jk[h]||h)+"("+o[h]+") ","z"===h&&(d=!0)}return!d&&s?l+="translateZ(0)":l=l.trim(),r?l=r(o,n?"":l):u&&n&&(l="none"),l}(e,o,h,i)),f&&(s.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,o=void 0===r?"50%":r,i=e.originZ;return n+" "+o+" "+(void 0===i?0:i)}(d)))}function vI(e,t,n){return"string"==typeof e?e:IP.transform(t+n*e)}var yI=function(e,t){return IP.transform(e*t)},bI={offset:"stroke-dashoffset",array:"stroke-dasharray"},wI={offset:"strokeDashoffset",array:"strokeDasharray"};function OI(e,t,n,r,o,i){var a=t.attrX,s=t.attrY,c=t.originX,u=t.originY,l=t.pathLength,d=t.pathSpacing,p=void 0===d?1:d,f=t.pathOffset,h=void 0===f?0:f;gI(e,nP(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r,o,i),e.attrs=e.style,e.style={};var m=e.attrs,g=e.style,v=e.dimensions,y=e.totalPathLength;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(void 0!==c||void 0!==u||g.transform)&&(g.transformOrigin=function(e,t,n){return vI(t,e.x,e.width)+" "+vI(n,e.y,e.height)}(v,void 0!==c?c:.5,void 0!==u?u:.5)),void 0!==a&&(m.x=a),void 0!==s&&(m.y=s),void 0!==y&&void 0!==l&&function(e,t,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=0),void 0===i&&(i=!0);var a=i?bI:wI;e[a.offset]=yI(-o,t);var s=yI(n,t),c=yI(r,t);e[a.array]=s+" "+c}(m,y,l,p,h,!1)}function EI(e,t){var n=t.layout,r=t.layoutId;return kk(e)||Mk(e)||(n||void 0!==r)&&!!yk[e]}function xI(e){var t=e.style,n={};for(var r in t)(Ek(t[r])||EI(r,e))&&(n[r]=t[r]);return n}function SI(e){var t=xI(e);for(var n in e){if(Ek(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}var PI,CI=new Set(["width","height","top","left","right","bottom","x","y"]),TI=function(e){return CI.has(e)},_I=function(e,t){e.set(t,!1),e.set(t)},kI=function(e){return e===SP||e===IP};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(PI||(PI={}));var II=function(e,t){return parseFloat(e.split(", ")[t])},MI=function(e,t){return function(n,r){var o=r.transform;if("none"===o||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return II(i[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?II(a[1],e):0}},jI=new Set(["x","y","z"]),AI=Ck.filter((function(e){return!jI.has(e)}));var RI={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:MI(4,13),y:MI(5,14)},DI=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=tP({},t),r=tP({},r);var o=Object.keys(t).filter(TI),i=[],a=!1,s=[];if(o.forEach((function(o){var c=e.getValue(o);if(e.hasValue(o)){var u,l=n[o],d=t[o],p=f_(l);if(r_(d))for(var f=d.length,h=null===d[0]?1:0;h<f;h++)u?f_(d[h]):(u=f_(d[h]))===p||kI(p)&&kI(u);else u=f_(d);if(p!==u)if(kI(p)&&kI(u)){var m=c.get();"string"==typeof m&&c.set(parseFloat(m)),"string"==typeof d?t[o]=parseFloat(d):Array.isArray(d)&&u===IP&&(t[o]=d.map(parseFloat))}else(null==p?void 0:p.transform)&&(null==u?void 0:u.transform)&&(0===l||0===d)?0===l?c.set(u.transform(l)):t[o]=p.transform(d):(a||(i=function(e){var t=[];return AI.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(o),r[o]=void 0!==r[o]?r[o]:t[o],_I(c,d))}})),s.length){var c=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),i=getComputedStyle(o),a=i.display,s={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===a&&t.setStaticValue("display",e.display||"block"),t.syncRender();var c=t.measureViewportBox();return n.forEach((function(n){var o=t.getValue(n);_I(o,RI[n](r,s)),e[n]=RI[n](c,i)})),e}(t,e,s);return i.length&&i.forEach((function(t){var n=rP(t,2),r=n[0],o=n[1];e.getValue(r).set(o)})),e.syncRender(),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function LI(e,t,n,r){return function(e){return Object.keys(e).some(TI)}(t)?DI(e,t,n,r):{target:t,transitionEnd:r}}var NI=function(e,t,n,r){var o=function(e,t,n){var r,o=nP(t,[]),i=e.getInstance();if(!(i instanceof HTMLElement))return{target:o,transitionEnd:n};for(var a in n&&(n=tP({},n)),e.forEachValue((function(e){var t=e.get();if(fk(t)){var n=mk(t,i);n&&e.set(n)}})),o){var s=o[a];if(fk(s)){var c=mk(s,i);c&&(o[a]=c,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:o,transitionEnd:n}}(e,t,r);return LI(e,t=o.target,n,r=o.transitionEnd)};var UI={treeType:"dom",readValueFromInstance:function(e,t){if(kk(t)){var n=g_(t);return n&&n.default||0}var r,o=(r=e,window.getComputedStyle(r));return(mI(t)?o.getPropertyValue(t):o[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return lT(e,t.transformPagePoint)},resetTransform:function(e,t,n){e.suspendHoverEvents();var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;void 0===r&&(r=!0);var i=t.transition,a=t.transitionEnd,s=nP(t,["transition","transitionEnd"]),c=z_(s,i||{},e);if(o&&(a&&(a=o(a)),s&&(s=o(s)),c&&(c=o(c))),r){F_(e,s,c);var u=NI(e,s,c,a);a=u.transitionEnd,s=u.target}return tP({transition:i,transitionEnd:a},s)},scrapeMotionValuesFromProps:xI,build:function(e,t,n,r,o,i,a){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),gI(t,n,r,o,i,a.transformTemplate)},render:function(e,t){var n=t.style,r=t.vars;for(var o in Object.assign(e.style,n),r)e.style.setProperty(o,r[o])}},FI=Kk(UI),BI=/([a-z])([A-Z])/g,zI=function(e){return e.replace(BI,"$1-$2").toLowerCase()},VI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox"]);function qI(e,t){for(var n in UI.render(e,t),t.attrs)e.setAttribute(VI.has(n)?n:zI(n),t.attrs[n])}var GI=Kk(tP(tP({},UI),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return kk(t)?(null===(n=g_(t))||void 0===n?void 0:n.default)||0:(t=VI.has(t)?t:zI(t),e.getAttribute(t))},scrapeMotionValuesFromProps:SI,build:function(e,t,n,r,o,i,a){OI(t,n,r,o,i,a.transformTemplate)},render:qI}));var HI="undefined"!=typeof window?u.useLayoutEffect:u.useEffect;function WI(e,t,n,r){var o=Object(u.useContext)(GS),i=Object(u.useContext)(XS).visualElement,a=Object(u.useContext)(HS),s=function(e){var t=e.layoutId,n=Object(u.useContext)(WS);return n&&void 0!==t?n+"-"+t:t}(r),c=ek((function(){return n(e,{visualState:t,parent:i,props:tP(tP({},r),{layoutId:s}),presenceId:null==a?void 0:a.id,blockInitialAnimation:!1===(null==a?void 0:a.initial)})}));return HI((function(){var e;c.setProps(tP(tP(tP({},o),r),{layoutId:s})),c.isPresent=null===(e=a)||e.isPresent,c.isPresenceRoot=!i||i.presenceId!==(null==a?void 0:a.id),c.syncRender()})),Object(u.useEffect)((function(){var e;null===(e=c.animationState)||void 0===e||e.animateChanges()})),function(e){var t=Object(u.useContext)(YS),n=Object(u.useContext)(ZS);HI((function(){return function(){JS(t)&&t.remove(e),JS(n)&&n.remove(e)}}),[])}(c),c}function KI(e,t){var n=function(e,t){if(L_(e)){var n=e.initial,r=e.animate;return{initial:!1===n||A_(n)?n:void 0,animate:A_(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,Object(u.useContext)(XS)),r=n.initial,o=n.animate;return Object(u.useMemo)((function(){return{initial:r,animate:o}}),t?[QI(r),QI(o)]:[])}function QI(e){return Array.isArray(e)?e.join(" "):e}function YI(e){var t=e.defaultFeatures,n=e.createVisualElement,r=e.useRender,o=e.useVisualState;return Object(u.forwardRef)((function(e,i){var a=Object(u.useContext)(GS).isStatic,s=null,c=KI(e,a),l=o(e,a);return a||"undefined"==typeof window||(c.visualElement=WI(a,l,n,e),s=function(e,t,n){for(var r=oP(e,Object(u.useContext)(GS).features),o=r.length,i=[],a=0;a<o;a++){var s=r[a],c=s.shouldRender,l=s.key,d=s.getComponent;if(c(n)){var p=d(n);p&&i.push(Object(u.createElement)(p,tP({key:l},n,{visualElement:t})))}}return i}(t,c.visualElement,e)),Object(u.createElement)(u.Fragment,null,Object(u.createElement)(XS.Provider,{value:c},r(e,function(e,t,n){return Object(u.useCallback)((function(r){var o;r&&(null===(o=e.mount)||void 0===o||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):iP(n)&&(n.current=r))}),[])}(l,c.visualElement,i),l,a)),s)}))}var ZI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function JI(e){return"string"==typeof e&&(!e.includes("-")&&(ZI.indexOf(e)>-1||(!!/[A-Z]/.test(e)||void 0)))}var XI=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function $I(e,t,n){for(var r in t)Ek(t[r])||EI(r,n)||(e[r]=t[r])}function eM(e,t,n){var r={};return $I(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return Object(u.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};gI(e,t,void 0,void 0,{enableHardwareAcceleration:!n},r);var o=e.style;return tP(tP({},e.vars),o)}),[t])}(e,t,n)),e.transformValues&&(r=e.transformValues(r)),r}function tM(e,t,n){var r={},o=eM(e,t,n);return Boolean(e.drag)&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=o,r}var nM=function(){return tP(tP({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function rM(e,t){var n=Object(u.useMemo)((function(){var n=nM();return OI(n,t,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),tP(tP({},n.attrs),{style:tP({},n.style)})}),[t]);if(e.style){var r={};$I(r,e.style,e),n.style=tP(tP({},r),n.style)}return n}function oM(e,t){void 0===t&&(t=!1);return function(n,r,o,i){var a=o.latestValues,s=(JI(e)?rM:tM)(n,a,i),c=function(e,t,n){var r={};for(var o in e)(fI(o)||!0===n&&Ok(o)||!t&&!Ok(o))&&(r[o]=e[o]);return r}(n,"string"==typeof e,t),l=tP(tP(tP({},c),s),{ref:r});return Object(u.createElement)(e,l)}}function iM(e){var t,n=e instanceof I_?e.get():e;return t=n,Boolean(t&&"object"==typeof t&&t.mix&&t.toValue)?n.toValue():n}function aM(e,t,n,r){var o=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:cM(t,n,r,o),renderState:i()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var sM=function(e){return function(t,n){var r=Object(u.useContext)(XS),o=Object(u.useContext)(HS);return n?aM(e,t,r,o):ek((function(){return aM(e,t,r,o)}))}};function cM(e,t,n,r){var o={},i=!1===(null==n?void 0:n.initial),a=r(e);for(var s in a)o[s]=iM(a[s]);var c=e.initial,u=e.animate,l=L_(e),d=N_(e);t&&d&&!l&&!1!==e.inherit&&(null!=c||(c=t.initial),null!=u||(u=t.animate));var p=i||!1===c?u:c;p&&"boolean"!=typeof p&&!W_(p)&&(Array.isArray(p)?p:[p]).forEach((function(t){var n=R_(e,t);if(n){var r=n.transitionEnd;n.transition;var i=nP(n,["transitionEnd","transition"]);for(var a in i)o[a]=i[a];for(var a in r)o[a]=r[a]}}));return o}var uM={createVisualElement:function(e,t){return GI(t,{enableHardwareAcceleration:!1})},useVisualState:sM({scrapeMotionValuesFromProps:SI,createRenderState:nM,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(oA){r.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(r.totalPathLength=t.getTotalLength()),OI(r,o,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),qI(t,r)}})};var lM={createVisualElement:function(e,t){return FI(t,{enableHardwareAcceleration:!e})},useVisualState:sM({scrapeMotionValuesFromProps:xI,createRenderState:XI})};function dM(e){function t(t,n){var r=(void 0===n?{}:n).forwardMotionProps;return YI(function(e,t,n){var r=JI(t)?uM:lM;return tP(tP({},r),{defaultFeatures:e,useRender:oM(t,n)})}(e,t,void 0!==r&&r))}function n(e){return t(e,{forwardMotionProps:!0})}var r=new Map;return new Proxy(t,{get:function(e,o){return"custom"===o?n:(r.has(o)||r.set(o,t(o)),r.get(o))}})}var pM=dM([pI,uI,$k,iI,sI,pk]);dM([pI]);var fM=0;function hM(){var e=fM;return fM++,e}var mM=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,i=e.custom,a=e.presenceAffectsLayout,s=ek(gM),c=ek(hM),l=Object(u.useMemo)((function(){return{id:c,initial:n,isPresent:r,custom:i,onExitComplete:function(e){s.set(e,!0);var t=!0;s.forEach((function(e){e||(t=!1)})),t&&(null==o||o())},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),a?void 0:[r]);return Object(u.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[r]),Object(u.useEffect)((function(){!r&&!s.size&&(null==o||o())}),[r]),Object(u.createElement)(HS.Provider,{value:l},t)};function gM(){return new Map}function vM(e){return e.key||""}var yM=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,i=e.onExitComplete,a=e.exitBeforeEnter,s=e.presenceAffectsLayout,c=void 0===s||s,l=function(){var e=Object(u.useRef)(!1),t=rP(Object(u.useState)(0),2),n=t[0],r=t[1];return eI((function(){return e.current=!0})),Object(u.useCallback)((function(){!e.current&&r(n+1)}),[n])}(),d=Object(u.useContext)(YS);JS(d)&&(l=d.forceUpdate);var p=Object(u.useRef)(!0),f=function(e){var t=[];return u.Children.forEach(e,(function(e){Object(u.isValidElement)(e)&&t.push(e)})),t}(t),h=Object(u.useRef)(f),m=Object(u.useRef)(new Map).current,g=Object(u.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=vM(e);t.set(n,e)}))}(f,m),p.current)return p.current=!1,Object(u.createElement)(u.Fragment,null,f.map((function(e){return Object(u.createElement)(mM,{key:vM(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:c},e)})));for(var v=oP(f),y=h.current.map(vM),b=f.map(vM),w=y.length,O=0;O<w;O++){var E=y[O];-1===b.indexOf(E)?g.add(E):g.delete(E)}return a&&g.size&&(v=[]),g.forEach((function(e){if(-1===b.indexOf(e)){var t=m.get(e);if(t){var r=y.indexOf(e);v.splice(r,0,Object(u.createElement)(mM,{key:vM(t),isPresent:!1,onExitComplete:function(){m.delete(e),g.delete(e);var t=h.current.findIndex((function(t){return t.key===e}));h.current.splice(t,1),g.size||(h.current=f,l(),i&&i())},custom:n,presenceAffectsLayout:c},t))}}})),v=v.map((function(e){var t=e.key;return g.has(t)?e:Object(u.createElement)(mM,{key:vM(e),isPresent:!0,presenceAffectsLayout:c},e)})),h.current=v,Object(u.createElement)(u.Fragment,null,g.size?v:v.map((function(e){return Object(u.cloneElement)(e)})))};function bM(){var e=M_(1),t={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},n={},r={},o=!1,i=null,a=0;function s(n,r){var a=t.lead,s=t.follow;return o=!0,i=null,function(e,t,n){void 0===n&&(n={});var r=Ek(e)?e:M_(e);return S_("",r,t,n),{stop:function(){return r.stop()}}}(e,n,tP(tP({},r),{onUpdate:function(){a&&a.scheduleRender(),s&&s.scheduleRender()},onComplete:function(){o=!1,i=_C().timestamp}}))}function c(){var o,i,s=_C().timestamp,c=t.lead,u=t.follow;if(s!==a&&c){a=s;var l=c.getLatestValues();Object.assign(n,l);var d=u?u.getLatestValues():t.prevValues;Object.assign(r,d);var p=e.get(),f=null!==(o=l.opacity)&&void 0!==o?o:1,h=null!==(i=null==d?void 0:d.opacity)&&void 0!==i?i:1;t.crossfadeOpacity&&u?(n.opacity=XC(0,f,wM(p)),r.opacity=t.preserveFollowOpacity?h:XC(h,0,OM(p))):u||(n.opacity=XC(h,f,p)),function(e,t,n,r,o,i){for(var a=0;a<SM;a++){var s="border"+xM[a]+"Radius",c=PM(r,s),u=PM(n,s);if((void 0!==c||void 0!==u)&&(c||(c=0),u||(u=0),"number"==typeof c&&"number"==typeof u)){var l=XC(c,u,i);e[s]=t[s]=l}}if(r.rotate||n.rotate){var d=XC(r.rotate||0,n.rotate||0,i);e.rotate=t.rotate=d}!o&&n.backgroundColor&&r.backgroundColor&&(e.backgroundColor=t.backgroundColor=mT(r.backgroundColor,n.backgroundColor)(i))}(n,r,l,d||{},Boolean(u),p)}}return{isActive:function(){return n&&(o||_C().timestamp===i)},fromLead:function(e){return s(0,e)},toLead:function(n){return e.set(t.follow?1-e.get():0),s(1,n)},reset:function(){return e.set(1)},stop:function(){return e.stop()},getCrossfadeState:function(e){return c(),e===t.lead?n:e===t.follow?r:void 0},setOptions:function(e){t=e,n={},r={}},getLatestValues:function(){return n}}}var wM=EM(0,.5,AT),OM=EM(.5,.95,_T);function EM(e,t,n){return function(r){return r<e?0:r>t?1:n(gP(e,t,r))}}var xM=["TopLeft","TopRight","BottomLeft","BottomRight"],SM=xM.length;function PM(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}function CM(){var e,t,n,r=new Set,o={leadIsExiting:!1},i=tP({},o),a=bM(),s=!1;return{add:function(e){e.setCrossfader(a),r.add(e),n&&(e.prevDragCursor=n),o.lead||(o.lead=e)},remove:function(e){r.delete(e)},getLead:function(){return o.lead},updateSnapshot:function(){if(o.lead){e=a.isActive()?a.getLatestValues():o.lead.getLatestValues(),t=o.lead.prevViewportBox;var r=C_.get(o.lead);r&&r.isDragging&&(n=r.cursorProgress)}},clearSnapshot:function(){n=t=void 0},updateLeadAndFollow:function(){var t,n,c;i=tP({},o);for(var u=Array.from(r),l=u.length;l--;l>=0){var d=u[l];if(n&&(null!=c||(c=d)),null!=n||(n=d),n&&c)break}o.lead=n,o.follow=c,o.leadIsExiting=(null===(t=o.lead)||void 0===t?void 0:t.presence)===VS.Exiting,a.setOptions({lead:n,follow:c,prevValues:e,crossfadeOpacity:(null==c?void 0:c.isPresenceRoot)||(null==n?void 0:n.isPresenceRoot)}),i.lead===o.lead&&i.leadIsExiting===o.leadIsExiting||(s=!0)},animate:function(e,n){if(void 0===n&&(n=!1),e===o.lead){n?e.pointTo(o.lead):e.setVisibility(!0);var r={};if(e.presence===VS.Entering?r.originBox=o.follow?o.follow.prevViewportBox:t:e.presence===VS.Exiting&&(r.targetBox=null===(c=o.follow)||void 0===c?void 0:c.getLayoutState().layout),s){s=!1;var i=e.getDefaultTransition();e.presence===VS.Entering?a.toLead(i):a.fromLead(i)}e.notifyLayoutReady(r)}else n?o.lead&&e.pointTo(o.lead):e.setVisibility(!1);var c}}}!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new Set,t.stacks=new Map,t.hasMounted=!1,t.updateScheduled=!1,t.renderScheduled=!1,t.syncContext=tP(tP({},QS()),{syncUpdate:function(e){return t.scheduleUpdate(e)},forceUpdate:function(){t.syncContext=tP({},t.syncContext),t.scheduleUpdate(!0)},register:function(e){return t.addChild(e)},remove:function(e){return t.removeChild(e)}}),t}eP(t,e),t.prototype.componentDidMount=function(){this.hasMounted=!0},t.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},t.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},t.prototype.startLayoutAnimation=function(){var e=this;this.renderScheduled=this.updateScheduled=!1;var t=this.props.type;this.children.forEach((function(e){e.isPresent?e.presence!==VS.Entering&&(e.presence=e.presence===VS.Exiting?VS.Entering:VS.Present):e.presence=VS.Exiting})),this.updateStacks();var n={measureLayout:function(e){return e.updateLayoutMeasurement()},layoutReady:function(n){void 0!==n.getLayoutId()?e.getStack(n).animate(n,"crossfade"===t):n.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach((function(t){return e.syncContext.add(t)})),this.syncContext.flush(n),this.stacks.forEach((function(e){return e.clearSnapshot()}))},t.prototype.updateStacks=function(){this.stacks.forEach((function(e){return e.updateLeadAndFollow()}))},t.prototype.scheduleUpdate=function(e){void 0===e&&(e=!1),!e&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(e){return function(e){for(var t=!1,n={},r=0;r<Pk.length;r++){var o="rotate"+Pk[r];e.hasValue(o)&&0!==e.getStaticValue(o)&&(t=!0,n[o]=e.getStaticValue(o),e.setStaticValue(o,0))}if(t){for(var o in e.syncRender(),n)e.setStaticValue(o,n[o]);e.scheduleRender()}}(e)})),this.children.forEach((function(e){return e.snapshotViewportBox()})),this.stacks.forEach((function(e){return e.updateSnapshot()})),!e&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},t.prototype.addChild=function(e){this.children.add(e),this.addToStack(e),e.presence=this.hasMounted?VS.Entering:VS.Present},t.prototype.removeChild=function(e){this.scheduleUpdate(),this.children.delete(e),this.removeFromStack(e)},t.prototype.addToStack=function(e){var t=this.getStack(e);null==t||t.add(e)},t.prototype.removeFromStack=function(e){var t=this.getStack(e);null==t||t.remove(e)},t.prototype.getStack=function(e){var t=e.getLayoutId();if(void 0!==t)return!this.stacks.has(t)&&this.stacks.set(t,CM()),this.stacks.get(t)},t.prototype.render=function(){return Object(u.createElement)(YS.Provider,{value:this.syncContext},this.props.children)},t.contextType=XS}(u.Component);var TM,_M;Kk({build:function(){},measureViewportBox:QC,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:function(){return{}},readValueFromInstance:function(e,t,n){return n.initialState[t]||0},makeTargetAnimatable:function(e,t){var n=t.transition,r=t.transitionEnd,o=nP(t,["transition","transitionEnd"]);return F_(e,o,z_(o,n||{},e)),tP({transition:n,transitionEnd:r},o)}});var kM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const IM=la(TM||(TM=Ho(["\n    background-color: var(--visage-color-background);\n    border-radius: 24px 24px 0 0;\n    box-shadow: 0 -2px 8px 1px rgba(0, 17, 26, 0.1);\n    overflow: hidden;\n    padding: 1.3333333333rem 1rem;\n\n    @media (min-width: ","px) {\n        box-shadow: none;\n    }\n"])),zr.screenClassMinWidths.md),MM=la(_M||(_M=Ho(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    z-index: 1;\n"]))),jM=e=>{const{className:t,as:n="div",fixed:r=!1}=e,o=kM(e,["className","as","fixed"]);return l.a.createElement(n,Object.assign({className:ua(IM,{[MM]:r},t)},o))};var AM={},RM=n("g7/d"),DM=n("dmge"),LM=n("w7Oj"),NM=n("ATlU");!function(e){const t=RM.a,n=DM.a,r=LM.a,o=NM.a;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?n(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&s(n,e).includes(e.arrayFormatSeparator);n=i?s(n,e):n;const a=o||i?n.split(e.arrayFormatSeparator).map(t=>s(t,e)):null===n?n:s(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){if(""===i)continue;let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:s(a,t),n(s(e,t),a,o)}for(const r of Object.keys(o)){const e=o[r];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=l(e[n],t);else o[r]=l(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}e.extract=u,e.parse=d,e.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[",o,"]"].join("")]:[...n,[a(t,e),"[",a(o,e),"]=",a(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[a(t,e),"[]"].join("")]:[...n,[a(t,e),"[]=",a(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[a(t,e),"=",a(r,e)].join("")]:[[n,a(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,a(t,e)]:[...n,[a(t,e),"=",a(r,e)].join("")]}}(t),o={};for(const i of Object.keys(e))n(i)||(o[i]=e[i]);const s=Object.keys(o);return!1!==t.sort&&s.sort(t.sort),s.map(n=>{const o=e[n];return void 0===o?"":null===o?a(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):a(n,t)+"="+a(o,t)}).filter(e=>e.length>0).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,o]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(u(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:s(o,t)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query);let u=e.stringify(s,n);u&&(u="?".concat(u));let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(l="#".concat(a(t.fragmentIdentifier,n))),"".concat(r).concat(u).concat(l)},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:i,query:a,fragmentIdentifier:s}=e.parseUrl(t,r);return e.stringifyUrl({url:i,query:o(a,n),fragmentIdentifier:s},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return e.pick(t,o,r)}}(AM);var UM=n("OrJK");const FM=e=>"https://uds.documents.cimpress.io/v3/instructions:preview?"+mO.a.stringify({documentUri:e}),BM=["abortSignal"],zM=async e=>{const{cimDoc:t,locale:n,accessToken:r,productKey:o,options:i,purpose:a,requestor:s,width:c}=e,u=await(async(e,t)=>{try{return rv(e)}catch(o){try{var n,r;const o=await Pf({cimDoc:e,headers:{Authorization:"Bearer "+t}});return null==o||null==(n=o._links)||null==(r=n.self)?void 0:r.href}catch(i){return""}}})(t,r);return"https://purcs.design.vpsvc.com/api/v1/vistaprint-prod/"+n+"/product/"+o+"/allViews"+"?"+mO.a.stringify({culture:n,previewInstructionsUri:FM(u),purpose:a,optionSelections:JSON.stringify(i),width:Math.round(c),requester:s},{sort:(e,t)=>e.localeCompare(t)})},VM=async e=>{const{abortSignal:t}=e,n=Go(e,BM),r=await zM(n);return fetch(r,{signal:t}).then(e=>e.json())},qM=l.a.createContext(void 0),GM=e=>{const{selectedPurcsPreviewPanel:t,setImageDimensions:n,children:r}=e,o=null==t?void 0:t.imageLargeUrl,i=null==t?void 0:t.imageSmallUrl,a=null==t?void 0:t.label,s=Object(u.useMemo)(()=>({onLoad:e=>{n({height:e.currentTarget.naturalHeight,width:e.currentTarget.naturalWidth})},src:o,srcPlaceholder:i,title:a,setImageDimensions:n}),[o,i,a,n]);return l.a.createElement(qM.Provider,{value:s},r)};var HM="easel-preview-react__PreviewImage-module__image__50a5a9c",WM="easel-preview-react__PreviewImage-module__loading__50a5a9c",KM="easel-preview-react__PreviewImage-module__loadingShow__50a5a9c";const QM=["className","loadingLabel"],YM=e=>{const{className:t,loadingLabel:n}=e,r=Go(e,QM),[o,i]=Object(u.useState)(!0),[a,s]=Object(u.useState)(!0),c=Object(u.useRef)(null),{onLoad:d,srcPlaceholder:p,src:f,title:h}=(()=>{const e=Object(u.useContext)(qM);if(void 0===e)throw new Error("Component must be wrapped in a Preview");return e})(),m=Object(u.useCallback)(e=>{d&&d(e),i(!1)},[d]);Object(u.useEffect)(()=>{i(!0),s(!0)},[p]),Object(u.useEffect)(()=>{var e;null!=(e=c.current)&&e.complete&&o&&i(!1)},[o]),Object(u.useEffect)(()=>{let e=!0;return!o&&f&&(async e=>new Promise(t=>{const n=new Image;n.src=e,n.onload=()=>t()}))(f).then(()=>{e&&s(!1)}),()=>{e=!1}},[o,f]);const g=Gf(WM,{[KM]:o});return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",Object.assign({className:Gf(HM,t),onLoad:m,ref:c,src:a?p:f,alt:h},r)),l.a.createElement("div",{className:g},l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:n})))},ZM=["children","minZoom","maxZoom","accessToken","locale","productKey","requestor","purpose","options","selectedLabel","cimDoc","className"],JM=l.a.createContext(void 0),XM=l.a.createContext(void 0),$M=e=>{var t;let{children:n,minZoom:r=1,maxZoom:o=1,accessToken:i,locale:a,productKey:s,requestor:c,purpose:d,options:p,selectedLabel:f,cimDoc:h,className:m}=e,g=Go(e,ZM);const[v,y]=Object(u.useState)(void 0),b=Object(u.useRef)(null),{width:w}=zo(b),[O,E]=Object(u.useState)(f||""),x=(e=>{let{cimDoc:t,locale:n,maxWidth:r,minWidth:o,productKey:i,options:a,purpose:s,requestor:c,accessToken:l}=e;const[d,p]=Object(u.useState)([]);return pO(e=>{let{abortSignal:u,throwErrorToBoundary:d,runIfMounted:f}=e;(async()=>{if(t&&r&&o)try{const[{views:e},{views:d}]=await Promise.all([VM({cimDoc:t,locale:n,productKey:i,options:a,purpose:s,requestor:c,width:o,abortSignal:u,accessToken:l}),VM({cimDoc:t,locale:n,productKey:i,options:a,purpose:s,requestor:c,width:r,abortSignal:u,accessToken:l})]);f(()=>p(e.map((e,t)=>{var n,r;return{id:(null==(n=e.name)?void 0:n.toLowerCase())||"view-"+t,imageSmallUrl:e._links.image.href,imageLargeUrl:(null==(r=d.find(t=>t.name===e.name))?void 0:r._links.image.href)||"",label:e._links.image.title}})))}catch(e){d(new hO({message:"Failed to get PURCS data: "+(e instanceof Error?e.message:e),name:"Easel Stack: PURCS Data Request Failed.",options:{src:fO.PURCS,productKey:i,purpose:s}}))}})()},[t,n,r,o,a,i,s,c,l]),d})({cimDoc:h,locale:a,maxWidth:w?w*o:void 0,minWidth:w||void 0,productKey:s,options:p,purpose:d,requestor:c,accessToken:i});Object(u.useEffect)(()=>{f&&!O&&O!==f&&E(f)},[f,O]);let S=x.find(e=>e.label.toLowerCase()===(null==O?void 0:O.toLowerCase())||e.id.toLowerCase()===(null==O?void 0:O.toLowerCase()));S||(S=x.length?x[0]:void 0);const[P,C]=Object(u.useState)(r);Object(u.useEffect)(()=>{y(void 0),C(r)},[O,r]);const T=Object(u.useMemo)(()=>({imageDimensions:v,handleZoomIn:()=>{C(ls(P+1,r,o))},handleZoomOut:()=>{C(ls(P-1,r,o))},zoom:P,setZoom:C,minZoom:r,maxZoom:o}),[P,r,o,v]),_=(null==(t=S)?void 0:t.label)||"",k=Object(u.useMemo)(()=>({purcsPreviewPanels:x,selectedPreviewLabel:_,setSelectedPreviewLabel:E}),[x,_]);return l.a.createElement(JM.Provider,{value:T},l.a.createElement(GM,{selectedPurcsPreviewPanel:S,setImageDimensions:y},l.a.createElement(XM.Provider,{value:k},l.a.createElement("div",Object.assign({ref:b,className:m},g),n))))},ej=()=>{const e=Object(u.useContext)(JM);if(void 0===e)throw new Error("Component must be wrapped in a Preview");return e};var tj="easel-preview-react__PreviewPanArea-module__panArea__50a5a9c",nj="easel-preview-react__PreviewPanArea-module__panItem__50a5a9c",rj="easel-preview-react__PreviewPanArea-module__gestureContainer__50a5a9c";const oj=["children","className"],ij=(e,t,n,r,o)=>{const i=o/r;let a=n*e,s=a/i;return n/t>i&&(s=t*e,a=s*i),{height:s,width:a}},aj=e=>{const{children:t,className:n}=e,r=Go(e,oj),{zoom:o,setZoom:i,imageDimensions:a,minZoom:s,maxZoom:c}=ej(),d=Object(u.useRef)(null),p=Object(u.useRef)(null),f=Object(u.useRef)(null),h=qO(o),[m,g]=Object(u.useState)({dragDelta:{x:0,y:0},dragOrigin:{x:0,y:0}}),[v,y]=Object(u.useState)(1),{height:b,width:w}=zo(d),{height:O,width:E}=zo(p),x=!!(a&&b&&w);VO(),am({onDrag:e=>{const{cancel:t,last:n,movement:[r,o],pinching:i}=e;i?t&&t():g(n?{dragDelta:{x:0,y:0},dragOrigin:{x:m.dragOrigin.x+r,y:m.dragOrigin.y+o}}:Object(qo.a)({},m,{dragDelta:{x:r,y:o}}))},onPinch:e=>{const{dragging:t,last:n,lastOffset:[r],offset:[a]}=e;if(t)return;const u=ls(Math.abs(1+(a-r)/500*2)*o,s,c);if(n)i(u),y(1);else{y(u/o)}}},{domTarget:f,drag:{threshold:15,bounds:zO({currentPosition:m.dragOrigin,dragDeltaPosition:m.dragDelta,panAreaSize:{height:b,width:w},pannableZoneSize:{height:O,width:E}}),rubberband:!0,filterTaps:!0}});const S=null==a?void 0:a.height,P=null==a?void 0:a.width;Object(u.useEffect)(()=>{if(x&&"number"==typeof S&&"number"==typeof P){const{height:e,width:t}=ij(o||s,b,w,S,P);g(n=>{let r=n.dragOrigin;return o!==s&&o!==h&&(r={x:n.dragOrigin.x+(E-t)/2,y:n.dragOrigin.y+(O-e)/2}),r=(({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,pannableZoneSize:r})=>{const{bottomVisible:o,leftVisible:i,rightVisible:a,topVisible:s}=BO({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,pannableZoneSize:r});let c=e.y,u=e.x;return r.height<n.height?c=(n.height-r.height)/2:!o&&s?c=0:!s&&o&&(c=n.height-r.height),r.width<n.width?u=(n.width-r.width)/2:!a&&i?u=0:!i&&a&&(u=n.width-r.width),{x:u,y:c}})({currentPosition:r,dragDeltaPosition:n.dragDelta,panAreaSize:{height:b,width:w},pannableZoneSize:{height:e,width:t}}),Object(qo.a)({},n,{dragOrigin:r})})}},[x,b,w,E,O,o,s,h,S,P]);const C=x&&"number"==typeof(null==a?void 0:a.height)&&"number"==typeof(null==a?void 0:a.width)?Object(qo.a)({},(({currentPosition:e,dragDeltaPosition:t,panAreaSize:n,zoomDelta:r})=>{const o=e.x+t.x,i=e.y+t.y,a=n.width/2-o,s=n.height/2-i;return{transform:"translate(".concat(o,"px, ").concat(i,"px) scale(").concat(r,")"),transformOrigin:"".concat(a,"px ").concat(s,"px")}})({currentPosition:m.dragOrigin,dragDeltaPosition:m.dragDelta,panAreaSize:{height:b,width:w},zoomDelta:v}),ij(o||s,b,w,null==a?void 0:a.height,null==a?void 0:a.width),{transformOrigin:"center"}):{};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({ref:d,className:Gf(tj,n)},r),l.a.createElement("div",{ref:p,className:nj,style:C},t)),l.a.createElement("div",{ref:f,className:Gf(rj)}))},sj=["onClick","children"];const cj=e=>l.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.a.createElement("path",{d:"M15.3571 14.3581C16.2696 13.2357 16.7706 11.8348 16.7768 10.3883C16.7767 9.12595 16.4027 7.89187 15.7019 6.84188C15.0011 5.79189 14.0049 4.97308 12.8391 4.48879C11.6733 4.00451 10.3902 3.87647 9.15171 4.12084C7.9132 4.36522 6.77487 4.97105 5.8804 5.86185C4.98593 6.75265 4.37543 7.88849 4.12598 9.12598C3.87652 10.3635 3.99928 11.6471 4.47878 12.8149C4.95827 13.9827 5.77299 14.9822 6.82009 15.6873C7.86719 16.3924 9.09972 16.7715 10.3621 16.7767C11.8086 16.7705 13.2094 16.2696 14.3318 15.3571L18.9159 19.7877C19.0519 19.9236 19.2363 20 19.4286 20C19.6209 20 19.8053 19.9236 19.9412 19.7877C20.0772 19.6517 20.1536 19.4673 20.1536 19.275C20.1536 19.0827 20.0772 18.8983 19.9412 18.7624L15.3571 14.3581ZM5.41964 10.3883C5.41966 9.40449 5.71174 8.44279 6.25889 7.62513C6.80603 6.80746 7.5836 6.17064 8.49305 5.79535C9.4025 5.42006 10.4029 5.32321 11.3674 5.51707C12.332 5.71093 13.2173 6.18678 13.9111 6.8843C14.6049 7.58182 15.0761 8.46962 15.2648 9.43519C15.4536 10.4008 15.3514 11.4006 14.9713 12.3081C14.5912 13.2155 13.9503 13.9897 13.1297 14.5325C12.3091 15.0753 11.3459 15.3623 10.3621 15.3571C9.04886 15.3501 7.79178 14.8236 6.86564 13.8925C5.9395 12.9614 5.41962 11.7016 5.41964 10.3883Z",fill:"currentColor"}),l.a.createElement("path",{d:"M12.7019 9.67774H11.0983V8.07408C11.0983 7.98086 11.0799 7.88856 11.0443 7.80244C11.0086 7.71632 10.9563 7.63807 10.8904 7.57216C10.8245 7.50625 10.7462 7.45396 10.6601 7.41829C10.574 7.38262 10.4817 7.36426 10.3885 7.36426C10.2952 7.36426 10.2029 7.38262 10.1168 7.41829C10.0307 7.45396 9.95246 7.50625 9.88654 7.57216C9.82063 7.63807 9.76835 7.71632 9.73267 7.80244C9.697 7.88856 9.67864 7.98086 9.67864 8.07408V9.67774H8.04869C7.86043 9.67774 7.67989 9.75253 7.54677 9.88565C7.41365 10.0188 7.33887 10.1993 7.33887 10.3876C7.33887 10.5758 7.41365 10.7564 7.54677 10.8895C7.67989 11.0226 7.86043 11.0974 8.04869 11.0974H9.65235V12.701C9.65235 12.8893 9.72714 13.0698 9.86025 13.203C9.99337 13.3361 10.1739 13.4109 10.3622 13.4109C10.5504 13.4109 10.731 13.3361 10.8641 13.203C10.9972 13.0698 11.072 12.8893 11.072 12.701V11.0974H12.6757C12.7689 11.0991 12.8615 11.0825 12.9483 11.0484C13.0351 11.0143 13.1143 10.9635 13.1814 10.8988C13.2486 10.8341 13.3023 10.7568 13.3396 10.6713C13.3768 10.5859 13.3969 10.4939 13.3986 10.4007C13.4003 10.3075 13.3837 10.2149 13.3496 10.1281C13.3155 10.0413 13.2647 9.96207 13.2 9.89494C13.1353 9.82781 13.058 9.77407 12.9726 9.73681C12.8871 9.69954 12.7952 9.67947 12.7019 9.67774Z",fill:"currentColor"})),uj=e=>l.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.a.createElement("path",{d:"M15.3571 14.3581C16.2696 13.2357 16.7706 11.8348 16.7768 10.3883C16.7767 9.12595 16.4027 7.89187 15.7019 6.84188C15.0011 5.79189 14.0049 4.97308 12.8391 4.48879C11.6733 4.00451 10.3902 3.87647 9.15171 4.12084C7.9132 4.36522 6.77487 4.97105 5.8804 5.86185C4.98593 6.75265 4.37543 7.88849 4.12598 9.12598C3.87652 10.3635 3.99928 11.6471 4.47878 12.8149C4.95827 13.9827 5.77299 14.9822 6.82009 15.6873C7.86719 16.3924 9.09972 16.7715 10.3621 16.7767C11.8086 16.7705 13.2094 16.2696 14.3318 15.3571L18.9159 19.7877C19.0519 19.9236 19.2363 20 19.4286 20C19.6209 20 19.8053 19.9236 19.9412 19.7877C20.0772 19.6517 20.1536 19.4673 20.1536 19.275C20.1536 19.0827 20.0772 18.8983 19.9412 18.7624L15.3571 14.3581ZM5.41964 10.3883C5.41966 9.40449 5.71174 8.44279 6.25889 7.62513C6.80603 6.80746 7.5836 6.17064 8.49305 5.79535C9.4025 5.42006 10.4029 5.32321 11.3674 5.51707C12.332 5.71093 13.2173 6.18678 13.9111 6.8843C14.6049 7.58182 15.0761 8.46962 15.2648 9.43519C15.4536 10.4008 15.3514 11.4006 14.9713 12.3081C14.5912 13.2155 13.9503 13.9897 13.1297 14.5325C12.3091 15.0753 11.3459 15.3623 10.3621 15.3571C9.04886 15.3501 7.79178 14.8236 6.86564 13.8925C5.9395 12.9614 5.41962 11.7016 5.41964 10.3883Z",fill:"currentColor"}),l.a.createElement("path",{d:"M12.7019 9.67969C11.1509 9.67969 9.59977 9.67969 8.04869 9.67969C7.86043 9.67969 7.67989 9.75447 7.54677 9.88759C7.41365 10.0207 7.33887 10.2013 7.33887 10.3895C7.33887 10.5778 7.41365 10.7583 7.54677 10.8914C7.67989 11.0245 7.86043 11.0993 8.04869 11.0993C9.87683 11.0993 10.9576 11.0993 12.6757 11.0993C12.7689 11.1011 12.8615 11.0844 12.9483 11.0503C13.0351 11.0162 13.1143 10.9654 13.1814 10.9007C13.2486 10.836 13.3023 10.7587 13.3396 10.6733C13.3768 10.5878 13.3969 10.4959 13.3986 10.4027C13.4003 10.3094 13.3837 10.2168 13.3496 10.13C13.3155 10.0432 13.2647 9.96402 13.2 9.89688C13.1353 9.82975 13.058 9.77602 12.9726 9.73875C12.8871 9.70148 12.7952 9.68141 12.7019 9.67969Z",fill:"currentColor"})),lj=e=>t=>{if(e)return e.length&&null!=t&&t.length?e+"-"+t:e};var dj="easel-preview-experience-react__PreviewControls-module__header__50a5a9c",pj="easel-preview-experience-react__PreviewControls-module__button__50a5a9c",fj="easel-preview-experience-react__PreviewControls-module__closeIcon__50a5a9c";const hj=l.a.forwardRef((function(e,t){const{onClosePreview:n,zoomInIconText:r,zoomOutIconText:o,closeIconText:i,closeIconAriaLabelText:a,"data-testid":s,"data-cy":c}=e,d=Object(u.useRef)(null),p="xs"===Object(zr.useScreenClass)(),{handleZoomIn:f,handleZoomOut:h}=ej();Object(u.useEffect)(()=>{d.current&&d.current.focus()},[]);const m=lj(s),g=lj(c);return l.a.createElement(zr.Box,{className:dj,component:"header",padding:p?3:5,ref:t},l.a.createElement("button",{className:pj,onClick:f,"data-testid":m("zoom-in-button"),"data-cy":g("zoom-in-button")},l.a.createElement(cj,null),r),l.a.createElement("button",{className:pj,onClick:h,"data-testid":m("zoom-out-button"),"data-cy":g("zoom-out-button")},l.a.createElement(uj,null),o),l.a.createElement("button",{ref:d,className:pj,onClick:n,"data-testid":m("close-button"),"data-cy":g("close-button"),"aria-label":a||i},l.a.createElement(zr.ControlIcon,{className:fj,iconType:"close-small",skin:"white"}),i))}));var mj="easel-preview-experience-react__SelectorOverflowWrapper-module__wrapper__50a5a9c",gj="easel-preview-experience-react__SelectorOverflowWrapper-module__showOverflow__50a5a9c",vj="easel-preview-experience-react__SelectorOverflowWrapper-module__content__50a5a9c";const yj=["children","className"],bj=e=>{const{children:t,className:n}=e,r=Go(e,yj),o=Object(u.useRef)(null),i=Object(u.useRef)(null),{width:a}=zo(o),{width:s}=zo(i);return l.a.createElement("div",Object.assign({className:Gf(mj,{[gj]:s>a},n),ref:o},r),l.a.createElement("div",{className:vj,ref:i},t))};var wj="easel-preview-experience-react__PreviewSelectors-module__selectorWrapper__50a5a9c";const Oj=l.a.forwardRef((function(e,t){const{"data-testid":n,"data-cy":r}=e,{designViewDisplayNames:o}=SO(),{previewPropGetters:i}=(()=>{const e=Object(u.useContext)(XM);if(void 0===e)throw new Error("Component must be wrapped in a Preview");const{purcsPreviewPanels:t,selectedPreviewLabel:n,setSelectedPreviewLabel:r}=e;return{previewPropGetters:t.map(e=>t=>{const o=t||{},{onClick:i,children:a}=o,s=Go(o,sj),c="function"==typeof a?a(e):a||e.label;return Object(qo.a)({key:e.id,children:c,"aria-pressed":e.label===n,onClick(t){t.persist(),r(e.label),i&&i(t)}},s)}),selectedPreviewLabel:n}})(),a=lj(n),s=lj(r);return l.a.createElement(zr.Box,{className:wj,component:"div",ref:t},l.a.createElement(bj,null,i.map(e=>l.a.createElement(wx,Object.assign({"data-testid":a("preview-selector"),"data-cy":s("preview-selector")},e({children(e){const t=o.find(t=>e.label&&(t.normalizedName===e.label.toLowerCase()||t.displayName===e.label.toLowerCase()));return(null==t?void 0:t.displayName)||e.label}}))))))}));var Ej="easel-preview-experience-react__PreviewExperience-module__wrapper__50a5a9c",xj="easel-preview-experience-react__PreviewExperience-module__previewWrapper__50a5a9c",Sj="easel-preview-experience-react__PreviewExperience-module__previewWrapperNoSelector__50a5a9c";const Pj=e=>{var t,n,r;const{onClosePreview:o,accessToken:i,hiddenTitleText:a,zoomInIconText:s,zoomOutIconText:c,closeIconText:d,closeIconAriaLabelText:p,loadingFallback:f,purpose:h,minZoom:m=1,maxZoom:g=4,"data-testid":v,"data-cy":y}=e,b=Object(u.useRef)(null),w=Object(u.useRef)(null),O=DE(),{designViewDisplayNames:E}=SO(),{locale:x,productKey:S,requestor:P,productAttributes:C}=xO(),{height:T}=zo(b),{height:_}=zo(w),k=(e=>{let{activePanelId:t,panels:n}=e;const[r,o]=Object(u.useState)("");return Object(u.useEffect)(()=>{var e;const r=(null==(e=n.find(e=>e.id===t))?void 0:e.name.toLowerCase())||"";o(r)},[t,n]),r})({activePanelId:null==(t=O.designEngine)?void 0:t.layoutManager.activeDesignPanelId,panels:null!=(n=null==(r=O.designEngine)?void 0:r.panels)?n:[]});if("READY"!==O.state)return f;const I=lj(v),M=lj(y);return l.a.createElement($M,{className:Ej,"data-testid":v,"data-cy":y,minZoom:m,maxZoom:g,accessToken:i,locale:x,productKey:S,requestor:P,options:C,purpose:h,cimDoc:O.designEngine.asJson,selectedLabel:k},l.a.createElement("h2",{className:"visually-hidden"},a),l.a.createElement(hj,{onClosePreview:o,ref:b,zoomInIconText:s,zoomOutIconText:c,closeIconText:d,closeIconAriaLabelText:p,"data-testid":v,"data-cy":y}),l.a.createElement("div",{className:Gf(xj,{[Sj]:E.length<=1}),style:{bottom:_,top:T}},l.a.createElement(aj,{"data-testid":I("preview-pan-area"),"data-cy":M("preview-pan-area")},l.a.createElement(YM,{"data-testid":I("preview-image"),"data-cy":M("preview-image")}))),E.length>1&&l.a.createElement(Oj,{ref:w,"data-testid":v,"data-cy":y}))};n("VVba"),n("ItgQ");var Cj={exports:{}};!function(e,t){le.a,e.exports=(()=>{var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ErrorHandler:()=>c});var n,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const i=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.messages=[],o.originalError=n||o,o.additionalContext=r||{},o}return r(t,e),t.prototype.mergeWithExistingError=function(e,t){e&&this.messages.push(e),t&&Object.assign(this.additionalContext,t)},t.prototype.getContext=function(){return o(o({},this.additionalContext),{intermediateMessages:this.messages.length>0?this.messages:void 0})},t.isRootCause=function(e){return void 0!==e.additionalContext},t.fromError=function(e){return e instanceof t?e:new t(e.message,e,{})},t}(Error);var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},c=function(){function e(e){this.logFn=e}return e.prototype.amendError=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o="string"==typeof n[0]?{message:n[0],additionalContext:n[1]}:{message:t.message,additionalContext:n[0]},a=o.message,s=o.additionalContext;return i.isRootCause(t)?(e.mergeWithExistingError(t,a,s),t):new i(a,t,s)},e.prototype.logError=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o="string"==typeof n[0]?{message:n[0],additionalContext:n[1]}:{message:void 0,additionalContext:n[0]},s=o.message,c=o.additionalContext;if(i.isRootCause(t))e.mergeWithExistingError(t,s,c),this.logFn(t.message,t.originalError,t.additionalContext||{});else if(s){var u=new i(s,t,c);this.logError(u)}else this.logFn("UNANTICIPATED ERROR",t,a(a({},c),{unanticipated:!0}))},e.prototype.rootCause=function(e,t){return new i(e,void 0,t)},e.mergeWithExistingError=function(e,t,n){if(n&&Object.assign(e.additionalContext,n),t&&t!==e.message){var r=e.additionalContext.messages||[];e.additionalContext.messages=s(s([],r),[t])}},e}();return t})()}(Cj);var Tj={exports:{}},_j=(n("z/iP"),n("b5Jz"));!function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=((n=_j.a.exports)&&n.__esModule?n:{default:n}).default;t.default=r,e.exports=t.default}(Tj,Tj.exports);var kj=Object(le.c)(Tj.exports);function Ij(e,t){if(t instanceof Error){var n=t;return Object.getOwnPropertyNames(t).reduce((e,t)=>(e[t]=n[t],e),{})}return t}class Mj{static log(e){Mj.logger||(Mj.logger=new kj(Mj.endpoint,Mj.interval)),"string"!=typeof e&&(e=JSON.stringify(e,Ij)),Mj.logger.log(e)}static error(e,t,n){const r=Object.assign({message:e,error:(o=t,o?Object.getOwnPropertyNames(o).reduce((e,t)=>(e[t]=o[t],e),{}):void 0)},n);var o;Mj.logger||(Mj.logger=new kj(Mj.endpoint,Mj.interval)),"string"!=typeof e&&(e=JSON.stringify(e,Ij)),Mj.logger.error(r)}}Mj.endpoint="https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1RmjCUK2QHXocuq_GSFdw60_eyiR5Z6j2m8nyNKfYIF-BuED9qhBVQlbnSLMKrIybmwg1IoJYf6EJ7_w3VGQu9N4MsaxoR-SOxBnUcVK6guA==",Mj.interval=5e3;new Cj.exports.ErrorHandler((e,t,n)=>Mj.error(e,t,n));l.a.Component;var jj;!function(e){e.flatSheet="flatSheet",e.biFoldSheet="biFoldSheet"}(jj||(jj={}));vx(".product-preview {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  padding: 0 !important;\n  background-size: cover;\n}\n.product-preview.disable-interaction canvas {\n  pointer-events: none;\n}\n\n.product-preview.loaded {\n  opacity: 1;\n  transition: all 0.5s ease-in;\n}\n.product-preview.loading {\n  opacity: 0.15;\n  transition: all 0.5s ease-out;\n}\n.product-preview .preloader-graphic {\n  position: absolute;\n  top: 20%;\n  left: 50%;\n  z-index: 10;\n  transform: translateX(-50%);\n  transition: all 0.2s linear;\n}\n.product-preview.loading .preloader-graphic {\n  opacity: 1;\n}\n.product-preview.loaded .preloader-graphic {\n  visibility: hidden;\n  opacity: 0;\n}\n.product-preview .preview-controls-button-container {\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 20;\n}\n.preview-image {\n  max-height: 75vh;\n  width: auto;\n  margin: 1rem 1rem 1rem 0;\n  transition: all 0.5s ease-in;\n}\n\n\n@media only screen and (max-width: 767px) {\n  .product-preview .preview-controls-button-container {\n    bottom: 5px;\n    margin-right: -50%;\n    transform: translate(-50%, -50%);\n  }\n}\n");n("9cPH"),n("vPPQ"),n("M3CU"),n("WJUW"),n("kc6j");var Aj=n("LBJ9"),Rj=n("fZcC"),Dj=n("xNHL"),Lj=function(e){var t=e.culture,n=e.tenant,r=e.merchandisingExperience,o=e.initialSelections,i=e.initialQuantity,a=e.productKey,s=e.productVersion,c=e.documentUrl,u=e.includeVat,d=e.couponCode,p=e.pricingContextString,f=e.authToken,h=e.uiLabelOverrides,m=e.renderingOverrides,g=e.documentRendering,v=e.onChangeSelections,y=e.onChangeQuantity,b=e.onPriceUpdated,w=e.onVortexUpdated,O=e.onSaveSelections,E=e.onCancel,x=l.a.createElement(Rj.a,{uiLabelOverrides:h,documentRendering:g,authToken:f,onSaveSelections:O,onCancel:E,renderingOverrides:m,onPriceUpdated:b,onVortexUpdated:w});return l.a.useContext(Dj.a.WranglerDataContext)?l.a.createElement(l.a.Fragment,null,x):l.a.createElement(Dj.a.ManagedWranglerSelectionsProvider,{merchant:n,culture:t,productKey:a,productVersion:s,documentUrl:c,includeVat:u,selectedAttributes:o,selectedQuantity:i,initialSelectedAttributes:o,merchandisingExperience:r,couponCode:d,onChangeQuantity:y,onChangeSelections:v,pricingContextString:p},x)},Nj=!1;function Uj(e){return Nj||(Object(Aj.b)(Aj.a.PRODUCT_BUILDER_LOADED),Nj=!0),l.a.createElement(zr.ScreenClassProvider,null,l.a.createElement(Lj,Object.assign({},e,{authToken:""})))}vx(".easel-preview-react__PreviewImage-module__image__50a5a9c{display:block;height:100%;object-fit:contain;width:100%}.easel-preview-react__PreviewImage-module__loading__50a5a9c{background-color:var(--visage-color-black);align-items:center;display:none;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:10}.easel-preview-react__PreviewImage-module__loadingShow__50a5a9c{display:flex}\n.easel-preview-react__PreviewPanArea-module__panArea__50a5a9c{height:100%;position:relative;width:100%}.easel-preview-react__PreviewPanArea-module__panItem__50a5a9c{pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.easel-preview-react__PreviewPanArea-module__gestureContainer__50a5a9c{position:absolute;height:100%;width:100%}");function Fj(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}let Bj;vx(".easel-preview-experience-react__PreviewControls-module__header__50a5a9c{align-items:center;display:flex;justify-content:flex-end}.easel-preview-experience-react__PreviewControls-module__button__50a5a9c{display:inline-flex;flex-direction:column;align-items:center;background-color:transparent;border:none;height:auto;cursor:pointer;color:var(--visage-color-background);text-transform:uppercase;font-size:10px;padding:0 8px;border-radius:0}.easel-preview-experience-react__PreviewControls-module__button__50a5a9c svg{height:24px;margin-bottom:8px}.easel-preview-experience-react__PreviewControls-module__button__50a5a9c:last-child{margin-right:-8px}.easel-preview-experience-react__PreviewControls-module__button__50a5a9c:hover{filter:brightness(.8)}.easel-preview-experience-react__PreviewControls-module__closeIcon__50a5a9c{margin:7px 0 15px!important}\n.easel-preview-experience-react__SelectorOverflowWrapper-module__wrapper__50a5a9c{align-items:center;display:flex;flex-wrap:nowrap;justify-content:center;padding:19px}.easel-preview-experience-react__SelectorOverflowWrapper-module__showOverflow__50a5a9c{justify-content:flex-start;overflow:auto}.easel-preview-experience-react__SelectorOverflowWrapper-module__content__50a5a9c{align-items:center;display:flex;flex-wrap:nowrap;flex-shrink:0}\n.easel-preview-experience-react__PreviewSelectors-module__selectorWrapper__50a5a9c{align-items:center;bottom:0;display:flex;flex-shrink:0;flex-wrap:nowrap;justify-content:center;left:0;position:absolute;right:0}\n.easel-preview-experience-react__PreviewExperience-module__wrapper__50a5a9c{--internal-visage-p-3:12px;--internal-visage-p-5:24px;--internal-preview-wrapper-padding-xs:calc(var(--internal-visage-p-3)*4);--internal-preview-wrapper-padding-sm:calc(var(--internal-visage-p-5)*4);align-items:center;background-color:var(--visage-color-black);display:block;flex-direction:column;height:100%;justify-content:flex-end;position:absolute;top:0;width:100%;z-index:2}.easel-preview-experience-react__PreviewExperience-module__previewWrapper__50a5a9c{align-items:center;display:flex;flex-direction:column;justify-content:center;left:0;overflow:hidden;padding:var(--internal-preview-wrapper-padding-xs);position:absolute;right:0;width:100%}.easel-preview-experience-react__PreviewExperience-module__previewWrapperNoSelector__50a5a9c{padding-bottom:calc(var(--internal-preview-wrapper-padding-xs) + var(--internal-visage-p-3))}@media (min-width:1024px){.easel-preview-experience-react__PreviewExperience-module__previewWrapper__50a5a9c{padding:var(--internal-preview-wrapper-padding-sm)}.easel-preview-experience-react__PreviewExperience-module__previewWrapperNoSelector__50a5a9c{padding-bottom:calc(var(--internal-preview-wrapper-padding-sm) + var(--internal-visage-p-5))}}"),"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));const zj=()=>Bj,Vj=new Ln.a("https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV3aaHh2tWhqZqioiAbHy_cdajvLsVSLiN0U7HPfOPRYW1OKySMoqiI9QS-wsE30wNfXHpC2KUdj8Kp12bKxD84hqA3tN9tvlzC-bf8UQ1aO1g==",3e3);var qj={AddToCart:"Zum Warenkorb hinzufügen",AddedToCart:"Zum Warenkorb hinzufügen",AddingToCart:"Wird dem Warenkorb hinzugefügt",group1:{Back:"Zurück",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Schließen",DetailsCta:"Details",DiscardChanges:"Verwerfen",DoneTextEditing:"Fertig",EditProduct:"Produkt bearbeiten",ErrorDialogBody:"Ein Fehler ist aufgetreten, doch wir kümmern uns bereits darum.",ErrorDialogTitle:"Es tut uns leid – etwas ist schiefgelaufen",GoBack:"Zurück",Loading:"Ladevorgang ...",LoadingStudio:"Studio wird geladen …",MakeEdits:"Änderungen vornehmen",MakeMoreEdits:"Weitere Änderungsoptionen",ModalLabel:"Cross-Selling von Studio",MoreDesignOptions:"Möchten Sie mehr Designoptionen erhalten?",CrossSellStudioCta:"Aktualisieren und zum Warenkorb hinzufügen",PreviewButton:"Vorschau",ProductDetails:"Produktdetails",ProductOptions:"Produktoptionen",Quantity:"Menge",QuantityLabel:"Menge",SelectChanges:"Auswählen",UneditableInCrossSellStudioCheck:"Möchten Sie das Design ändern?",ZoomIn:"Heranzoomen",ZoomOut:"Herauszoomen"},Gj={AddToCart:"Add to cart",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Close",DetailsCta:"Details",DiscardChanges:"Discard",DoneTextEditing:"Done",EditProduct:"Edit Product",ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",GoBack:"Go Back",Loading:"Loading...",LoadingStudio:"Loading studio...",MakeEdits:"Make edits",MakeMoreEdits:"Make more edits",ModalLabel:"Cross-sell studio",MoreDesignOptions:"Want more design options?",CrossSellStudioCta:"Update & add to cart",PreviewButton:"Preview",ProductDetails:"Product Details",ProductOptions:"Product Options",Quantity:"Quantity",QuantityLabel:"Quantity",SelectChanges:"Select",UneditableInCrossSellStudioCheck:"Want to change the design?",ZoomIn:"Zoom In",ZoomOut:"Zoom Out"},Hj={AddToCart:"Add to cart",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Close",DetailsCta:"Details",DiscardChanges:"Discard",DoneTextEditing:"Done",EditProduct:"Edit Product",ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",GoBack:"Go Back",Loading:"Loading...",LoadingStudio:"Loading studio...",MakeEdits:"Make edits",MakeMoreEdits:"Make more edits",ModalLabel:"Cross-sell studio",MoreDesignOptions:"Want more design options?",CrossSellStudioCta:"Update & add to cart",PreviewButton:"Preview",ProductDetails:"Product Details",ProductOptions:"Product Options",Quantity:"Quantity",QuantityLabel:"Quantity",SelectChanges:"Select",UneditableInCrossSellStudioCheck:"Want to change the design?",ZoomIn:"Zoom In",ZoomOut:"Zoom Out"},Wj={AddToCart:"Add to basket",AddedToCart:"Added to basket",AddingToCart:"Is being added to basket",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Close",DetailsCta:"Details",DiscardChanges:"Discard",DoneTextEditing:"Done",EditProduct:"Edit Product",ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",GoBack:"Go Back",Loading:"Loading...",LoadingStudio:"Loading studio...",MakeEdits:"Make edits",MakeMoreEdits:"Make more edits",ModalLabel:"Cross-sell studio",MoreDesignOptions:"Want more design options?",CrossSellStudioCta:"Update & add to basket",PreviewButton:"Preview",ProductDetails:"Product Details",ProductOptions:"Product Options",Quantity:"Quantity",QuantityLabel:"Quantity",SelectChanges:"Select",UneditableInCrossSellStudioCheck:"Want to change the design?",ZoomIn:"Zoom In",ZoomOut:"Zoom Out"},Kj={AddToCart:"Ajouter au panier",AddedToCart:"Ajouté au panier",AddingToCart:"En cours d’ajout au panier",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Fermer",DetailsCta:"Détails",DiscardChanges:"Supprimer",DoneTextEditing:"Terminé",EditProduct:"Modifier le produit",ErrorDialogBody:"Une erreur est survenue, mais nous nous efforçons de résoudre le problème !",ErrorDialogTitle:"Une erreur est survenue de notre côté",GoBack:"Retour",Loading:"En cours de chargement",LoadingStudio:"Chargement du studio...",MakeEdits:"Modifier",MakeMoreEdits:"Apporter d’autres modifications",ModalLabel:"Studio ventes croisées",MoreDesignOptions:"Vous souhaitez voir plus d’options de graphisme ?",CrossSellStudioCta:"Mettre à jour et ajouter au panier",PreviewButton:"Aperçu",ProductDetails:"Informations sur le produit",ProductOptions:"Options du produit",Quantity:"Quantité",QuantityLabel:"Quantité",SelectChanges:"Sélectionnez",UneditableInCrossSellStudioCheck:"Voulez-vous modifier le graphisme ?",ZoomIn:"Agrandir",ZoomOut:"Réduire"},Qj={AddToCart:"Aggiungi al carrello",AddedToCart:"Articolo aggiunto al carrello",AddingToCart:"L’articolo è stato aggiunto al carrello",group1:{Back:"Lato posteriore",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Chiudi",DetailsCta:"Dettagli",DiscardChanges:"Annulla",DoneTextEditing:"Fine",EditProduct:"Modifica prodotto",ErrorDialogBody:"Si è verificato un errore, ma stiamo lavorando per risolverlo.",ErrorDialogTitle:"Siamo spiacenti, si è verificato un errore da parte nostra",GoBack:"Torna indietro",Loading:"Caricamento in corso...",LoadingStudio:"Caricamento studio...",MakeEdits:"Apportare modifiche",MakeMoreEdits:"Effettua ulteriori modifiche",ModalLabel:"Vendita addizionale studio",MoreDesignOptions:"Vuoi più opzioni di design?",CrossSellStudioCta:"Aggiorna e aggiungi al carrello",PreviewButton:"Anteprima",ProductDetails:"Dettagli prodotto",ProductOptions:"Opzioni prodotto",Quantity:"Quantità",QuantityLabel:"Quantità",SelectChanges:"Seleziona",UneditableInCrossSellStudioCheck:"Vuoi modificare il design?",ZoomIn:"Aumenta",ZoomOut:"Riduci"},Yj={AddToCart:"Toevoegen aan winkelwagentje",AddedToCart:"Toegevoegd aan winkelwagentje",AddingToCart:"Wordt toegevoegd aan winkelwagentje",group1:{Back:"Achterkant",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Sluiten",DetailsCta:"Info",DiscardChanges:"Ongedaan maken",DoneTextEditing:"Klaar",EditProduct:"Product bewerken",ErrorDialogBody:"Er is een fout opgetreden maar we werken aan een oplossing.",ErrorDialogTitle:"Sorry, er is aan onze kant iets fout gegaan",GoBack:"Ga terug",Loading:"Bezig met laden...",LoadingStudio:"Studio laden...",MakeEdits:"Breng veranderingen aan",MakeMoreEdits:"Meer wijzigen",ModalLabel:"Cross-sell studio",MoreDesignOptions:"Wil je meer ontwerpopties?",CrossSellStudioCta:"Updaten en toevoegen aan winkelwagentje",PreviewButton:"Voorbeeld",ProductDetails:"Productdetails",ProductOptions:"Productopties",Quantity:"Aantal",QuantityLabel:"Aantal",SelectChanges:"Selecteren",UneditableInCrossSellStudioCheck:"Wil je het ontwerp veranderen?",ZoomIn:"Inzoomen",ZoomOut:"Uitzoomen"},Zj={"da-dk":{AddToCart:"Læg i indkøbsvogn",AddedToCart:"Lagt i indkøbsvogn",AddingToCart:"Lægges i indkøbsvogn",group1:{Back:"Tilbage",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Luk",DetailsCta:"Detaljer",DiscardChanges:"Kassér",DoneTextEditing:"Færdig",EditProduct:"Rediger produkt",ErrorDialogBody:"Der opstod en fejl, men vi arbejder på det.",ErrorDialogTitle:"Beklager, der opstod en fejl i vores system",GoBack:"Tilbage",Loading:"Indlæser ...",LoadingStudio:"Indlæser Studie ...",MakeEdits:"Lav ændringer",MakeMoreEdits:"Lav flere ændringer",ModalLabel:"Cross sell-studie",MoreDesignOptions:"Vil du have flere design at vælge imellem?",CrossSellStudioCta:"Opdater og læg i indkøbsvogn",PreviewButton:"Forhåndsvisning",ProductDetails:"Produktoplysninger",ProductOptions:"Produktmuligheder",Quantity:"Antal",QuantityLabel:"Antal",SelectChanges:"Vælg",UneditableInCrossSellStudioCheck:"Ønsker du at ændre designet?",ZoomIn:"Zoom ind",ZoomOut:"Zoom ud"},"de-at":qj,"de-de":qj,"de-ch":qj,"en-au":Gj,"en-ca":Hj,"en-gb":Wj,"en-ie":Wj,"en-in":{AddToCart:"Add to cart",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Close",DetailsCta:"Details",DiscardChanges:"Discard",DoneTextEditing:"Done",EditProduct:"Edit Product",ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",GoBack:"Go Back",Loading:"Loading...",LoadingStudio:"Loading studio...",MakeEdits:"Make edits",MakeMoreEdits:"Make more edits",ModalLabel:"Cross-sell studio",MoreDesignOptions:"Want more design options?",CrossSellStudioCta:"Update & add to basket",PreviewButton:"Preview",ProductDetails:"Product Details",ProductOptions:"Product Options",Quantity:"Quantity",QuantityLabel:"Quantity",SelectChanges:"Select",UneditableInCrossSellStudioCheck:"Want to change the design?",ZoomIn:"Zoom In",ZoomOut:"Zoom Out"},"en-nz":Gj,"en-sg":Gj,"en-us":Hj,"es-es":{AddToCart:"Añadir a la cesta",AddedToCart:"Añadido a la cesta",AddingToCart:"Se está añadiendo a la cesta",group1:{Back:"Reverso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Cerrar",DetailsCta:"Detalles",DiscardChanges:"Descartar",DoneTextEditing:"Hecho",EditProduct:"Editar producto",ErrorDialogBody:"¡Se ha producido un error, pero estamos trabajando para subsanarlo!",ErrorDialogTitle:"Lo sentimos, se ha producido un error por nuestra parte",GoBack:"Atrás",Loading:"Cargando...",LoadingStudio:"Cargando estudio...",MakeEdits:"Hacer modificaciones",MakeMoreEdits:"Hacer más modificaciones",ModalLabel:"Editor audible",MoreDesignOptions:"¿Quieres más opciones de diseño?",CrossSellStudioCta:"Actualizar y añadir a la cesta",PreviewButton:"Vista previa",ProductDetails:"Detalles del producto",ProductOptions:"Opciones del producto",Quantity:"Cantidad",QuantityLabel:"Cantidad",SelectChanges:"Seleccionar",UneditableInCrossSellStudioCheck:"¿Quieres cambiar el diseño?",ZoomIn:"Acercar",ZoomOut:"Alejar"},"es-us":{AddToCart:"Agregar al carrito de compras",AddedToCart:"Se agregó al carrito de compras",AddingToCart:"Se agregará al carrito de compras",group1:{Back:"Atrás",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Cerrar",DetailsCta:"Detalles",DiscardChanges:"Desechar",DoneTextEditing:"Listo",EditProduct:"Editar el producto",ErrorDialogBody:"¡Se produjo un error y estamos trabajando para solucionarlo!",ErrorDialogTitle:"Lo sentimos, se produjo un error.",GoBack:"Atrás",Loading:"Cargando...",LoadingStudio:"Cargando el estudio...",MakeEdits:"Hacer modificaciones",MakeMoreEdits:"Hacer más modificaciones",ModalLabel:"Estudio de venta cruzada",MoreDesignOptions:"¿Quiere más opciones de diseño?",CrossSellStudioCta:"Actualizar y agregar al carrito de compras",PreviewButton:"Vista previa",ProductDetails:"Información detallada del producto",ProductOptions:"Opciones de productos",Quantity:"Cantidad",QuantityLabel:"Cantidad",SelectChanges:"Seleccionar",UneditableInCrossSellStudioCheck:"¿Desea cambiar el diseño?",ZoomIn:"Acercar",ZoomOut:"Alejar"},"fi-fi":{AddToCart:"Lisää ostoskoriin",AddedToCart:"Lisätty ostoskoriin",AddingToCart:"Lisätään ostoskoriin",group1:{Back:"Kääntöpuoli",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Sulje",DetailsCta:"TIEDOT",DiscardChanges:"Hylkää",DoneTextEditing:"Valmis",EditProduct:"Muokkaa tuotetta",ErrorDialogBody:"On tapahtunut virhe, mutta työskentelemme parhaillaan sen korjaamiseksi!",ErrorDialogTitle:"Pahoittelumme – jokin meni vikaan meidän puolellamme",GoBack:"Takaisin",Loading:"Ladataan...",LoadingStudio:"Ladataan studiota...",MakeEdits:"Tee muokkauksia",MakeMoreEdits:"Tee lisää muokkauksia",ModalLabel:"Ristiinmyyntistudio",MoreDesignOptions:"Haluatko enemmän suunnittelutoimintoja?",CrossSellStudioCta:"Päivitä ja lisää ostoskoriin",PreviewButton:"Esikatselu",ProductDetails:"Tuotteen tiedot",ProductOptions:"Tuotteen valinnat",Quantity:"Määrä",QuantityLabel:"Määrä",SelectChanges:"Valitse",UneditableInCrossSellStudioCheck:"Haluatko muuttaa mallia?",ZoomIn:"Lähennä",ZoomOut:"Loitonna"},"fr-be":Kj,"fr-ca":{AddToCart:"Ajouter au panier",AddedToCart:"Ajouté au panier",AddingToCart:"Est en cours d’ajout au panier",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Fermer",DetailsCta:"Détails",DiscardChanges:"Annuler",DoneTextEditing:"Terminé",EditProduct:"Modifier le produit",ErrorDialogBody:"Une erreur s’est produite, mais nous mettons tout en œuvre pour la corriger.",ErrorDialogTitle:"Malheureusement, une erreur s’est produite de notre côté.",GoBack:"Retour",Loading:"Chargement en cours...",LoadingStudio:"Studio en cours de chargement...",MakeEdits:"Apporter des modifications",MakeMoreEdits:"Apporter d’autres modifications",ModalLabel:"Studio de vente croisée",MoreDesignOptions:"Vous voulez plus d’options de graphismes?",CrossSellStudioCta:"Mettre à jour et ajouter au panier",PreviewButton:"Aperçu",ProductDetails:"Détails du produit",ProductOptions:"Options de produit",Quantity:"Quantité",QuantityLabel:"Quantité",SelectChanges:"Sélectionner",UneditableInCrossSellStudioCheck:"Vous souhaitez changer le graphisme?",ZoomIn:"Zoom avant",ZoomOut:"Zoom arrière"},"fr-ch":Kj,"fr-fr":Kj,"it-ch":Qj,"it-it":Qj,"nb-no":{AddToCart:"Legg i handlevogn",AddedToCart:"Legg i handlevogn",AddingToCart:"Legges i handlevogn",group1:{Back:"Tilbake",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Lukk",DetailsCta:"Opplysninger",DiscardChanges:"Forkast",DoneTextEditing:"Ferdig",EditProduct:"Rediger produkt",ErrorDialogBody:"Det har oppstått en feil, men vi jobber med det!",ErrorDialogTitle:"Beklager, men noe gikk galt hos oss",GoBack:"Gå tilbake",Loading:"Laster ...",LoadingStudio:"Laster studio …",MakeEdits:"Gjøre endringer",MakeMoreEdits:"Gjøre flere redigeringer",ModalLabel:"Kryssalg-studio",MoreDesignOptions:"Ønsker du flere designvalg?",CrossSellStudioCta:"Oppdatér og legg i handlevognen",PreviewButton:"Forhåndsvisning",ProductDetails:"Produktdetaljer",ProductOptions:"Produktalternativer",Quantity:"Antall",QuantityLabel:"Antall",SelectChanges:"Velg",UneditableInCrossSellStudioCheck:"Vil du endre designet?",ZoomIn:"Zoom inn",ZoomOut:"Zoom ut"},"nl-be":Yj,"nl-nl":Yj,"pt-pt":{AddToCart:"Adicionar ao cesto",AddedToCart:"Adicionado ao cesto",AddingToCart:"Está a ser adicionado ao cesto",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Fechar",DetailsCta:"Detalhes",DiscardChanges:"Rejeitar",DoneTextEditing:"Concluído",EditProduct:"Editar produto",ErrorDialogBody:"Ocorreu um erro, mas já estamos a trabalhar para o corrigir!",ErrorDialogTitle:"Lamentamos, mas ocorreu um erro no nosso sistema",GoBack:"Voltar atrás",Loading:"A carregar...",LoadingStudio:"A carregar o estúdio...",MakeEdits:"Efetuar edições",MakeMoreEdits:"Fazer mais edições",ModalLabel:"Estúdio de cross-sell",MoreDesignOptions:"Quer mais opções de design?",CrossSellStudioCta:"Carregar e adicionar ao cesto",PreviewButton:"Pré-visualizar",ProductDetails:"Detalhes do produto",ProductOptions:"Opções de produto",Quantity:"Quantidade",QuantityLabel:"Quantidade",SelectChanges:"Selecionar",UneditableInCrossSellStudioCheck:"Pretende alterar o design?",ZoomIn:"Ampliar imagem",ZoomOut:"Reduzir imagem"},"sv-se":{AddToCart:"Lägg till i kundvagn",AddedToCart:"Lades till i kundvagn",AddingToCart:"Läggs till i kundvagn",group1:{Back:"Baksida",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},CloseModalButton:"Stäng",DetailsCta:"Information",DiscardChanges:"Släng",DoneTextEditing:"Klar",EditProduct:"Redigera produkt",ErrorDialogBody:"Ett fel har uppstått men vi jobbar på att lösa det.",ErrorDialogTitle:"Något gick snett hos oss",GoBack:"Gå tillbaka",Loading:"Läser in ...",LoadingStudio:"Studio läses in ...",MakeEdits:"Gör ändringar",MakeMoreEdits:"Gör fler redigeringar",ModalLabel:"Snabbredigeringsverktyg",MoreDesignOptions:"Vill du ha fler designalternativ?",CrossSellStudioCta:"Uppdatera och lägg till i kundvagn",PreviewButton:"Förhandsvisning",ProductDetails:"Produktinformation",ProductOptions:"Produktalternativ",Quantity:"Antal",QuantityLabel:"Antal",SelectChanges:"Välj",UneditableInCrossSellStudioCheck:"Vill du ändra designen?",ZoomIn:"Zooma in",ZoomOut:"Zooma ut"}};class Jj{static get(e,t){return this.getByKey(e,t)}static getByKey(e,t){try{const n=(t||zj().locale).toLowerCase();return this.purifyContent(e in Zj[n]?Zj[n][e]:this.deepSearch(e,Zj[n]))}catch(e){return Vj.error("Error getting localized content",{contextData:{error:e}}),""}}static deepSearch(e,t){for(const n of Object.keys(t))if("object"==typeof t[n]){const r=Object.keys(t[n]).find(t=>t===e);if(r)return t[n][r]}return""}static purifyContent(e){return qr.sanitize(e)}}const Xj=l.a.createContext(void 0),$j=e=>l.a.createElement(Xj.Provider,{value:e.locale},e.children),eA=e=>{const t=Object(u.useContext)(Xj);return Array.isArray(e)?e.map(e=>Jj.get(e,t)):Jj.get(e,t)},tA=e=>{var t,n;return e&&e.isAxiosError?{name:e.name,message:e.message,request:{method:e.config.method,url:e.config.url,data:e.config.data},response:{status:null===(t=e.response)||void 0===t?void 0:t.status,data:null===(n=e.response)||void 0===n?void 0:n.data}}:e};class nA extends Error{constructor(e,t){super(e),this.name="Runtime error",this.cause=tA(t)}}var rA,oA,iA=(oA=rA={exports:{}},function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&n.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var s in o)e.call(o,s)&&o[s]&&n.push(s);else n.push(o.toString())}}return n.join(" ")}oA.exports?(t.default=t,oA.exports=t):window.classNames=t}(),rA.exports);const aA=Object(zr.responsive)(zr.FlexBox),sA=Object(zr.responsive)(zr.Typography),cA=e=>{var t;const{mpvId:n,productKey:r,productVersion:o,options:i,hasQuantitySelectionPage:a,selectedQuantity:s,shopperId:c}=e,u=null===(t=DE().designEngine)||void 0===t?void 0:t.asJson,d=P(),p=UE(),[f,h,m,g]=eA(["MakeMoreEdits","MakeEdits","MoreDesignOptions","UneditableInCrossSellStudioCheck"]),v=Vo();if(null===p)throw new Error("Cannot validate document");const{valid:y}=p;return l.a.createElement(aA,{className:iA(["_2tO06",{_1FSiK:!y}]),padding:3,justifyContent:"space-between",sm:{justifyContent:"center",padding:4}},l.a.createElement(sA,{textColor:"white",marginX:0,sm:{marginX:2,textSize:6},textSize:7},y?m:g),l.a.createElement(sA,{marginX:0,sm:{marginX:2,textSize:6},textColor:"white",textSize:7,weight:"bold"},l.a.createElement(zr.Link,{skin:"cta",component:"button",onClick:function(){try{return Promise.resolve(Fj((function(){if(!u)return;const{tenant:t,locale:l,requestor:p}=zj();return Promise.resolve(function(e,t,n,r,o,i,a,s,c,u,l,d){try{return Promise.resolve(Kr(a,u)).then((function(a){return Promise.resolve(Zr(e,t,n,r,o,i,a._links,c,d,u,l,s?i.Size?{qty:'{"'+i.Size+'": '+c+"}"}:{qty:c.toString()}:void 0)).then((function(e){return{work:e,createdDocumentUrl:a._links.self.href}}))}))}catch(e){return Promise.reject(e)}}(t,l,n,r,o,i,u,a,s,d.accessToken,p,c)).then((function(t){return e.onEditInStudioClicked&&e.onEditInStudioClicked(t.work.workId,t.createdDocumentUrl,s),Promise.resolve(function(e,t){try{return Promise.resolve(Nn.a.get("https://url.prod.merch.vpsvc.com/v3/url/vistaprint/"+e+"/other:studio?requestor="+t)).then((function(e){return e.data.url}))}catch(e){return Promise.reject(e)}}(l,p)).then((function(e){setTimeout(()=>{window.location.href=e+"?workId="+t.work.workId},350)}))}))}),(function(e){v(new nA("Error redirecting to studio",{error:e,isErrorNull:null==e,errorType:typeof e,mpvId:n,productKey:r,productVersion:o,options:i}))})))}catch(e){return Promise.reject(e)}},className:"_10KVE",disabled:!u},y?f:h)))},uA=["customEnvelopes","returnAddressWhiteEnvelopes","whiteEnvelopeWithRa"],lA=["en-au","en-nz","en-sg"],dA=e=>{const t=(n=e.locale,!uA.includes(e.mpvId)||lA.includes(n.toLowerCase()));var n;const[r,o]=eA(["Loading","DoneTextEditing"]);return l.a.createElement(zr.Box,{className:"_SezM7"},t&&l.a.createElement(cA,{mpvId:e.mpvId,productKey:e.productKey,productVersion:e.productVersion,hasQuantitySelectionPage:e.hasQuantitySelectionPage,options:e.selectedAttributes,selectedQuantity:e.quantity,onEditInStudioClicked:e.onEditInStudioClicked,shopperId:e.shopperId}),l.a.createElement("div",{className:"_364Fa"},l.a.createElement(CS,{textEditorMode:Bf()?oS.DOCK:oS.CONTEXTUAL_POPOVER,doneButtonText:o||"",dockPortal:e.dockPortal,loadingFallback:l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:r}),modalHeader:e.modalHeader})))};function pA(){return(pA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fA(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}const hA=["className"],mA=["className","component"],gA=["className","component"],vA=["className","component"],yA=["className"],bA=e=>{const{className:t}=e,n=fA(e,hA);return l.a.createElement(zr.ModalDialog,Object.assign({className:iA("_1HyQ7",t)},n,{allowPinchZoom:!1}))},wA=l.a.forwardRef((e,t)=>{const{className:n,component:r="header"}=e,o=fA(e,mA);return l.a.createElement(r,Object.assign({ref:t,className:iA("_27beB",n)},o))}),OA=e=>{const{className:t,component:n="div"}=e,r=fA(e,gA);return l.a.createElement(n,Object.assign({className:iA("_P0RIZ",t)},r))},EA=e=>{const{className:t,component:n="div"}=e,r=fA(e,vA);return l.a.createElement(n,Object.assign({className:iA("_2YKdo",t)},r))},xA=l.a.forwardRef((e,t)=>{const{className:n}=e,r=fA(e,yA);return l.a.createElement(zr.ModalDialogCloseButton,Object.assign({visuallyHiddenLabel:"",ref:t,className:iA("_2eiTG","_2f4BZ",n)},r))}),SA=e=>new Promise(t=>{setTimeout(()=>{t(void 0)},e)});var PA,CA,TA;!function(e){e.LOADING="LOADING",e.READY="READY",e.ERROR="ERROR"}(PA||(PA={})),function(e){e.PAUSED="PAUSED",e.LOADING="LOADING",e.READY="READY",e.ERROR="ERROR"}(CA||(CA={})),function(e){e[e.DATA_CHANGED=0]="DATA_CHANGED",e[e.PAUSE_COMPLETE=1]="PAUSE_COMPLETE",e[e.LOADING_DELAY_COMPLETE=2]="LOADING_DELAY_COMPLETE"}(TA||(TA={}));const _A=(e,t)=>{if(e.uiState===CA.READY||e.uiState===CA.ERROR)return e;switch(t.type){case TA.DATA_CHANGED:return e.uiState===CA.PAUSED||e.delayComplete?t.nextDataState===PA.READY?pA({},e,{dataState:t.nextDataState,uiState:CA.READY}):t.nextDataState===PA.ERROR?pA({},e,{dataState:t.nextDataState,uiState:CA.ERROR}):e:pA({},e,{dataState:t.nextDataState});case TA.PAUSE_COMPLETE:return pA({},e,{pauseComplete:!0,uiState:CA.LOADING});case TA.LOADING_DELAY_COMPLETE:const n=pA({},e,{pauseComplete:!0,delayComplete:!0});return e.dataState===PA.READY?pA({},n,{uiState:CA.READY}):e.dataState===PA.ERROR?pA({},n,{uiState:CA.ERROR}):n;default:return e}},kA=(e,t,n,r,o,i,a,s)=>"https://purcs.design.vpsvc.com/api/v1/vistaprint-prod/"+e+"/product/"+t+"/defaultViewImage"+Zt.stringify({productVersion:n,previewInstructionsUri:IA(o),purpose:a,optionSelections:JSON.stringify(r),width:i,requester:s},{addQueryPrefix:!0,sort:(e,t)=>e.localeCompare(t)}),IA=e=>"https://uds.documents.cimpress.io/v3/instructions:preview"+Zt.stringify({documentUri:e},{addQueryPrefix:!0}),MA="https://patch.personalization.vpsvc.com/api/v1",jA=vc(e=>{var t;const n=null===(t=DE().designEngine)||void 0===t?void 0:t.asJson;if(!n)return null;const[r,o]=Object(u.useState)(!1),[i,a]=Object(u.useState)(!1),s=P(),c=Vo(),{tenant:d,locale:p,requestor:f}=zj(),h=()=>l.a.createElement(UM.RawPrice,{placeHolderText:"...",tenant:d.toLowerCase(),pricingInfo:{discountPrice:e.price.discountedPrice,listPrice:e.price.listPrice,vatInc:e.price.vatInclusive,minimumFractionDigits:e.price.fractionDigits,culture:p,currency:e.price.currency},"data-cy":"price"});return i?l.a.createElement(zr.AlertBox,{skin:"positive",marginTop:2},Jj.get("AddedToCart")):l.a.createElement(zr.Box,null,"de-de"===p&&h(),l.a.createElement(zr.TextButton,{className:e.className,"data-testid":"add-to-cart-button",skin:"primary",disabled:r,onClick:function(){try{return o(!0),Promise.resolve(function(){try{const t=function(t,r){try{var o=Fj((function(){return Promise.resolve(function(e,t,n,r,o,i,a,s,c,u,l,d,p,f,h,m){try{return Promise.resolve(Pf({cimDoc:u,headers:{Authorization:"Bearer "+p}})).then((function(u){const g={productKey:o,productVersion:i,mpvId:n,productOptions:a,productDisplayName:d,quantity:l,documentUrl:u._links.documentRevision.href,imageUrl:kA(t,o,i,a,u._links.documentRevision.href,2500,"orders.cart",h),availableQuantities:r,localizedOptions:s,parentWorkEntityId:f,origin:"cross-sell-studio",hasQuantitySelectionPage:c},{url:v,config:y}=((e,t,n,r,o)=>{const i=AM.stringify({requestor:n});return{url:o?MA+"/addToCart/"+e+"/"+t+"/"+o+"?"+i:MA+"/addToCart/"+e+"/"+t+"?"+i,config:{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}}})(e,t,h,p,m);return Promise.resolve(Nn.a.post(v,g,y)).then((function(e){return{workId:e.data.workId,createdDocumentUrl:u._links.documentRevision.href}}))}))}catch(e){return Promise.reject(e)}}(d.toLowerCase(),p,e.mpvId,e.availableQuantities,e.productKey,e.productVersion,e.options,e.localizedOptions,e.hasQuantitySelectionPage,n,e.price.quantity,e.productDisplayName,s.accessToken,e.parentWorkId,f,e.shopperId)).then((function(t){a(!0),e.onProductAddedToCart&&e.onProductAddedToCart(t.workId,t.createdDocumentUrl,e.price.quantity,e.options)}))}),(function(e){c(new nA("Error adding product to cart",e))}))}catch(e){return r(!0,e)}return o&&o.then?o.then(r.bind(null,!1),r.bind(null,!0)):r(!1,o)}(0,(function(e,t){if(o(!1),e)throw t;return t}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()).then((function(){}))}catch(e){return Promise.reject(e)}},widthVariant:"full-width",sizeVariant:"super",marginTop:2},r&&l.a.createElement(zr.BasicPreloader,{inline:!0,visuallyHiddenLabel:Jj.get("AddingToCart")}),l.a.createElement(AA,{locale:p,rawPrice:h})))}),AA=e=>l.a.createElement(l.a.Fragment,null,Jj.get("AddToCart"),"de-de"!==e.locale&&l.a.createElement("span",null," · ",e.rawPrice())),RA=(e,t)=>t?e.totalDiscountedPrice.taxed:e.totalDiscountedPrice.untaxed,DA=(e,t,n)=>{const r=((e,t)=>e.estimatedPrices[t])(e,t);return{quantity:t,listPrice:(o=r,i=n,i?o.totalListPrice.taxed:o.totalListPrice.untaxed),discountedPrice:RA(r,n),fractionDigits:e.fractionDigits,currency:e.currency,vatInclusive:n};var o,i},LA=e=>{return l.a.createElement(zr.Listbox,{fullWidth:!0,onChange:t=>{e.onChangeQuantity(parseInt(t))},value:e.quantity.toString()},l.a.createElement(zr.ListboxButton,{"data-cy":"quantity-dropdown"}),l.a.createElement(zr.ListboxPopover,{inModal:!0},l.a.createElement(zr.ListboxList,null,(t=e.prices,Object.keys(t.estimatedPrices).map(e=>parseInt(e))).map(e=>l.a.createElement(zr.ListboxOption,{key:e,value:e.toString()},Jj.get("Quantity"),": ",e)))));var t},NA={xs:{pt:5,px:4,pb:4},sm:{pt:5,px:4,pb:4},md:{pt:5,px:4,pb:7},lg:{pt:5,px:4,pb:7}},UA={xs:{mt:5},sm:{mt:5},md:{mt:4},lg:{mt:4}},FA=e=>{let{mpvId:t,productKey:n,productVersion:r,productDisplayName:o,options:i,localizedOptions:a,hasQuantitySelectionPage:s,prices:c,initialQuantity:d,merchandisableQuantities:p,parentWorkId:f,shopperId:h,onDetailsClicked:m,onProductAddedToCart:g,onQuantityUpdated:v}=e;const y=zj().vatInclusive,b=Object(zr.useScreenClass)(),{setTargetFocusElement:w}=NO(),[O,E]=Object(u.useState)(d),[x,S]=Object(u.useState)(DA(c,d,y)),[P,C]=eA(["DetailsCta","QuantityLabel"]);return l.a.createElement(zr.Box,Object.assign({component:"div",className:iA("_11oPf")},NA[b]),l.a.createElement(pM.div,{key:"productInfo",initial:"visible",animate:"visible",exit:"hidden",variants:{visible:{opacity:1,height:"auto"},hidden:{opacity:0,height:0}},transition:{opacity:{duration:0},height:{duration:.1}},className:"_2F_zZ"},l.a.createElement("h2",{className:"_13L4M"},o),l.a.createElement("div",{className:"_BeSfo"},l.a.createElement(zr.Link,{component:"button",className:"_34kP4",onClick:m,ref:w},P)),l.a.createElement(zr.VisuallyHidden,{component:"label",htmlFor:"cross-sell-studio-quantity"},C),c&&l.a.createElement("div",{className:"_x5J98"},l.a.createElement(LA,{prices:c,quantity:O,onChangeQuantity:e=>{E(e),S(DA(c,e,y)),v(e)}}))),l.a.createElement(pM.div,{key:"addButton",initial:{display:"block"},animate:{display:"block"},exit:{display:"none"},transition:{duration:0}},c&&x&&l.a.createElement(zr.Box,Object.assign({component:"div"},UA[b]),l.a.createElement(jA,{className:"_2egCB",productKey:n,productVersion:r,options:i,localizedOptions:a,hasQuantitySelectionPage:s,mpvId:t,price:x,onProductAddedToCart:g,availableQuantities:p,productDisplayName:o,parentWorkId:f,shopperId:h}))))},BA=["className"],zA=e=>{const{className:t}=e,n=fA(e,BA);return l.a.createElement("svg",Object.assign({width:"22",height:"14",viewBox:"0 0 22 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:iA("_3piNp",t)},n),l.a.createElement("path",{d:"M11 13C7.787 13 4.13028 9.88382 2.25511 8.04836C1.51867 7.32752 1.54404 6.17359 2.31283 5.48735C4.20456 3.79873 7.81965 1 11 1C14.1804 1 17.7954 3.79873 19.6872 5.48735C20.456 6.17359 20.4813 7.32752 19.7449 8.04836C17.8697 9.88382 14.213 13 11 13Z",stroke:"black",strokeWidth:"1.5",strokeLinejoin:"round"}),l.a.createElement("circle",{cx:"11",cy:"7",r:"3.25",stroke:"#00111A",strokeWidth:"1.5"}))},VA=["className","component"],qA=l.a.forwardRef((e,t)=>{const{className:n,component:r="button"}=e,o=fA(e,VA);return l.a.createElement(r,Object.assign({className:iA("_2f4BZ",n),ref:t},o))}),GA=()=>{var e;const t=null!=(e=eA("VistaprintLogo"))?e:"";return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{viewBox:"0 0 442.9 87.1",className:"_1YjTw"},l.a.createElement("title",null,t),l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("polygon",{fill:"#38454F",points:"136.7,27.6 125.3,51.3 113.9,27.6 106.9,27.6 125.3,66 143.7,27.6 \t\t\t"}),l.a.createElement("path",{fill:"#38454F",d:"M168.5,55.2c2.5,3,5.2,5,9.6,5c3.9,0,8.2-1.7,8.2-5.8c0-4-4-5-8-5.9c-7.1-1.6-13.2-3.1-13.2-10.9\n\t\t\t\tc0-7.3,7-11,14-11c5.3,0,10.1,2,12.7,6.8l-5.2,3.4c-1.6-2.6-4.2-4.5-7.9-4.5c-3.4,0-7.3,1.7-7.3,5.2c0,3.1,4.5,4.5,9.4,5.4\n\t\t\t\tc6.6,1.3,12.2,3.7,12.2,11.2c0,8.5-7.5,11.7-14.9,11.7c-6.3,0-10.9-1.7-14.5-6.9L168.5,55.2z"}),l.a.createElement("path",{fill:"#38454F",d:"M221.7,32.9h-11v18.7c0,4.8,0.1,8.6,5.6,8.6c1.8,0,3.8-0.4,5.5-1.3l0.2,5.7c-2.2,1-5,1.4-7.3,1.4\n\t\t\t\tc-8.9,0-10.3-4.8-10.3-12.5V32.9h-8.1v-5.3h8.1V17h6.2v10.6h11V32.9z"}),l.a.createElement("path",{fill:"#38454F",d:"M427.5,32.9h-11v18.7c0,4.8,0.1,8.6,5.6,8.6c1.8,0,3.8-0.4,5.5-1.3l0.2,5.7c-2.2,1-5,1.4-7.3,1.4\n\t\t\t\tc-8.9,0-10.3-4.8-10.3-12.5V32.9h-8.1v-5.3h8.1V17h6.2v10.6h11V32.9z"}),l.a.createElement("path",{fill:"#38454F",d:"M274.5,27.6h6.2v5.4h0.2c3.4-4,8-6.4,13.4-6.4c11.7,0,19.6,8.3,19.6,19.6c0,11.2-8.2,19.6-18.7,19.6\n\t\t\t\tc-6.7,0-12.1-3.4-14.4-7.6h-0.2v20.9h-6.2V27.6z M294,60.2c8.1,0,13.3-6.1,13.3-13.9c0-7.8-5.2-13.9-13.3-13.9\n\t\t\t\tc-8.1,0-13.3,6.1-13.3,13.9C280.7,54.2,285.9,60.2,294,60.2"}),l.a.createElement("path",{fill:"#38454F",d:"M265.4,27.6h-6.2v5.4H259c-3.4-4-8-6.4-13.4-6.4c-11.7,0-19.6,8.3-19.6,19.6c0,11.2,8.2,19.6,18.7,19.6\n\t\t\t\tc6.7,0,12.1-3.4,14.4-7.6h0.2V65h6.2V27.6z M245.9,60.2c-8.1,0-13.3-6.1-13.3-13.9c0-7.8,5.2-13.9,13.3-13.9\n\t\t\t\tc8.1,0,13.3,6.1,13.3,13.9C259.2,54.2,254,60.2,245.9,60.2"}),l.a.createElement("path",{fill:"#38454F",d:"M320.3,36.5c0-3.4-0.3-6.4-0.3-8.9h5.9c0,2,0.2,4.1,0.2,6.2h0.2c1.7-3.7,6.3-7.1,12.5-7.1\n\t\t\t\tc0.8,0,1.7,0.1,2.6,0.4l-0.4,6.3c-1-0.3-2.2-0.5-3.4-0.5c-7.6,0-10.9,5.3-10.9,13.9V65h-6.2V36.5z"}),l.a.createElement("path",{fill:"#38454F",d:"M365,36.5c0-3.4-0.3-6.4-0.3-8.9h5.9c0,2,0.2,4.1,0.2,6.2h0.2c1.7-3.7,6.3-7.1,12.5-7.1\n\t\t\t\tc9.8,0,14.2,6.2,14.2,15.3V65h-6.2V42.6c0-6.2-2.7-10.1-8.5-10.1c-8.1,0-11.6,5.8-11.6,14.4V65H365V36.5z"}),l.a.createElement("rect",{x:"150.8",y:"27.6",fill:"#38454F",width:"6.2",height:"37.4"}),l.a.createElement("path",{fill:"#38454F",d:"M157.6,20.3c0,2-1.6,3.7-3.7,3.7c-2,0-3.7-1.6-3.7-3.7c0-2,1.6-3.7,3.7-3.7\n\t\t\t\tC155.9,16.6,157.6,18.3,157.6,20.3z"}),l.a.createElement("rect",{x:"348.5",y:"27.6",fill:"#38454F",width:"6.2",height:"37.4"}),l.a.createElement("path",{fill:"#38454F",d:"M355.3,20.3c0,2-1.6,3.7-3.7,3.7c-2,0-3.7-1.6-3.7-3.7c0-2,1.6-3.7,3.7-3.7\n\t\t\t\tC353.6,16.6,355.3,18.3,355.3,20.3z"})),l.a.createElement("polygon",{fill:"#006196",points:"50.4,86.5 72.3,48.6 28.6,48.6 \t\t"}),l.a.createElement("polygon",{fill:"#2BA8E0",points:"28.6,48.6 72.3,48.6 50.4,10.8 \t\t"}),l.a.createElement("polygon",{fill:"#6ECFF5",points:"44.5,0.5 0.8,0.5 28.6,48.6 50.4,10.8 \t\t"}),l.a.createElement("polygon",{fill:"#006196",points:"56.4,0.5 50.4,10.8 72.3,48.6 100.1,0.5 \t\t"})),l.a.createElement("g",null,l.a.createElement("path",{fill:"#38454F",d:"M442.1,21.5c0,3-2.5,5.5-5.6,5.5c-3.1,0-5.6-2.5-5.6-5.5c0-3,2.5-5.5,5.6-5.5\n\t\t\tC439.6,16,442.1,18.5,442.1,21.5z M441,21.5c0-2.5-2-4.5-4.5-4.5c-2.5,0-4.5,2-4.5,4.5c0,2.5,2,4.5,4.5,4.5\n\t\t\tC439,26,441,24,441,21.5z M436.8,18.8c1.3,0,2,0.6,2,1.6c0,0.9-0.6,1.5-1.7,1.6l1.8,2.1h-1.1l-1.7-2.1h-0.7v2.1h-0.9v-5.3H436.8z\n\t\t\t M435.4,19.6v1.7h1.4c0.7,0,1.1-0.3,1.1-0.8c0-0.5-0.4-0.8-1.1-0.8H435.4z"})))),l.a.createElement("svg",{width:"47",height:"41",viewBox:"0 0 47 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"_u1jat"},l.a.createElement("title",null,t),l.a.createElement("path",{d:"M22.9106 25.6211L29.3535 14.3489H16.4658L22.9106 25.6211Z",fill:"#295E9D"}),l.a.createElement("path",{d:"M16.4658 14.3486H29.3535L22.9106 3.07507L16.4658 14.3486Z",fill:"#44A2DD"}),l.a.createElement("path",{d:"M21.1533 -8.96454e-05H8.26562L16.4667 14.3486L22.9102 3.07507L21.1533 -8.96454e-05Z",fill:"#73D2F2"}),l.a.createElement("path",{d:"M24.6681 -8.96454e-05L22.9111 3.07507L29.354 14.3486L37.5557 -8.96454e-05H24.6681Z",fill:"#295E9D"}),l.a.createElement("path",{d:"M44.5704 30.7814C44.9075 30.6158 45.3511 30.7578 45.5285 31.0831C45.7237 31.3965 45.6113 31.8401 45.3097 32.0412C44.9785 32.2837 44.4521 32.1773 44.2511 31.8224C44.0204 31.4734 44.186 30.947 44.5704 30.7814ZM44.6828 30.8879C44.2747 31.018 44.1564 31.6095 44.4876 31.8815C44.807 32.2187 45.4398 31.9821 45.4694 31.5208C45.5463 31.1008 45.079 30.7164 44.6828 30.8879Z",fill:"#38454E"}),l.a.createElement("path",{d:"M7.60161 30.8167C7.83226 30.7457 8.10431 30.8818 8.1871 31.1124C8.29356 31.3608 8.13979 31.6802 7.87957 31.7512C7.60753 31.8577 7.27634 31.6388 7.24677 31.349C7.20537 31.1184 7.36505 30.8699 7.60161 30.8167Z",fill:"#38454E"}),l.a.createElement("path",{d:"M33.6934 30.841C34.0423 30.6636 34.4741 31.0303 34.3617 31.4029C34.2966 31.74 33.8413 31.8997 33.581 31.669C33.2913 31.462 33.3563 30.9593 33.6934 30.841Z",fill:"#38454E"}),l.a.createElement("path",{d:"M14.4202 30.8525C14.6923 30.8525 14.9643 30.8525 15.2423 30.8525C15.2482 31.3257 15.2423 31.7929 15.2482 32.2661C15.7331 32.2602 16.224 32.2661 16.7089 32.2661C16.7089 32.4968 16.7089 32.7334 16.7089 32.964C16.224 32.964 15.7331 32.964 15.2423 32.964C15.2482 33.9044 15.2363 34.8389 15.2482 35.7793C15.26 36.0455 15.3132 36.3649 15.5794 36.495C15.9401 36.6606 16.3541 36.5423 16.7148 36.4299C16.7148 36.6783 16.7562 36.9267 16.7326 37.1692C16.2003 37.3762 15.5734 37.4177 15.0353 37.2106C14.574 37.0214 14.4439 36.4713 14.4261 36.0218C14.4143 35.0045 14.4202 33.9872 14.4202 32.9758C14.0595 32.9699 13.6928 32.9759 13.332 32.9699C13.3379 32.7393 13.3379 32.5027 13.332 32.272C13.6928 32.2661 14.0595 32.272 14.4202 32.2661C14.4202 31.7929 14.4202 31.3198 14.4202 30.8525Z",fill:"#38454E"}),l.a.createElement("path",{d:"M41.6359 30.8526C41.908 30.8467 42.1859 30.8526 42.458 30.8467C42.4698 31.3139 42.458 31.7871 42.4639 32.2543C42.9548 32.2662 43.4456 32.2543 43.9365 32.2603C43.9365 32.4968 43.9365 32.7275 43.9365 32.9641C43.4456 32.9641 42.9548 32.9582 42.4639 32.97C42.4698 33.8453 42.458 34.7266 42.4698 35.6079C42.4816 35.9154 42.4757 36.3176 42.7892 36.4891C43.1499 36.6607 43.5876 36.566 43.9365 36.4063C43.9306 36.6607 43.9601 36.9091 43.9779 37.1634C43.5343 37.3467 43.0376 37.3881 42.5644 37.3113C42.2628 37.258 41.9612 37.0924 41.8252 36.8085C41.6596 36.495 41.6655 36.1343 41.63 35.7912C41.63 34.8508 41.63 33.9163 41.63 32.9759C41.2752 32.97 40.9144 32.9759 40.5596 32.9759C40.5596 32.7393 40.5596 32.5087 40.5596 32.2721C40.9144 32.2721 41.2752 32.2721 41.63 32.2721C41.6418 31.793 41.6359 31.3258 41.6359 30.8526Z",fill:"#38454E"}),l.a.createElement("path",{d:"M44.629 31.0894C44.8005 31.1013 45.0016 31.048 45.1494 31.1604C45.2618 31.3142 45.1553 31.5094 44.9779 31.533C45.0607 31.6158 45.1376 31.6986 45.2026 31.7933C44.9661 31.8524 44.9483 31.5271 44.7472 31.4976C44.7413 31.5981 44.7413 31.6927 44.7413 31.7933C44.7118 31.7933 44.6526 31.7933 44.623 31.7933C44.629 31.5626 44.629 31.326 44.629 31.0894ZM44.7532 31.4266C44.8892 31.4325 45.1494 31.4266 45.0548 31.2196C44.9542 31.2077 44.8537 31.2018 44.7472 31.1959C44.7532 31.2669 44.7532 31.3497 44.7532 31.4266Z",fill:"#38454E"}),l.a.createElement("path",{d:"M10.5878 32.177C11.1792 32.0765 11.8356 32.1474 12.3265 32.526C12.4921 32.6738 12.6695 32.8335 12.7346 33.0524C12.4921 33.1766 12.291 33.3717 12.0367 33.4782C11.7055 32.8631 10.8066 32.7211 10.2684 33.1352C10.0496 33.2949 9.94315 33.6556 10.1561 33.8686C10.4104 34.117 10.777 34.1879 11.1141 34.2708C11.6227 34.3713 12.1668 34.4778 12.5572 34.8445C12.912 35.1934 12.9652 35.7494 12.8529 36.2107C12.7523 36.6188 12.433 36.9441 12.0545 37.1097C11.5163 37.3581 10.8953 37.3818 10.3157 37.2872C9.78939 37.1925 9.26304 36.885 9.01465 36.4C9.23347 36.2403 9.44637 36.0688 9.65928 35.9032C9.90175 36.2107 10.2329 36.4769 10.6351 36.5478C11.0254 36.607 11.4631 36.5597 11.7883 36.3113C12.0781 36.0865 12.1018 35.5838 11.8061 35.359C11.534 35.1461 11.1733 35.0929 10.848 35.016C10.3926 34.9095 9.91358 34.8031 9.55283 34.4837C9.18024 34.1288 9.13884 33.5314 9.32218 33.076C9.53508 32.5615 10.0673 32.2776 10.5878 32.177Z",fill:"#38454E"}),l.a.createElement("path",{d:"M17.7431 33.1534C18.3463 32.2899 19.5409 31.9469 20.5345 32.2367C20.9721 32.3668 21.3506 32.6448 21.6463 32.9878C21.6523 32.7512 21.6463 32.5087 21.6463 32.2662C21.9243 32.2603 22.2082 32.2603 22.4861 32.2662C22.4743 33.9164 22.4861 35.5606 22.4861 37.2108C22.2082 37.2108 21.9302 37.2108 21.6523 37.2108C21.6523 36.9151 21.6582 36.6193 21.6463 36.3236C21.1496 37.2167 19.9727 37.5183 19.0382 37.2404C18.3226 37.0334 17.7253 36.4715 17.4592 35.7736C17.128 34.9219 17.2108 33.9046 17.7431 33.1534ZM19.5232 32.9287C19.1092 33.0174 18.7307 33.2481 18.4882 33.597C17.9737 34.3363 18.0388 35.4423 18.6775 36.0929C19.3694 36.7731 20.641 36.7199 21.2501 35.951C21.8356 35.1998 21.7824 33.9992 21.0845 33.3309C20.6764 32.9464 20.0732 32.834 19.5232 32.9287Z",fill:"#38454E"}),l.a.createElement("path",{d:"M30.5007 33.0877C30.8615 32.3662 31.7367 32.0231 32.5056 32.1591C32.5174 32.449 32.4464 32.7329 32.4582 33.0227C31.9556 32.8689 31.3287 32.9576 30.9738 33.3775C30.6722 33.7265 30.5835 34.2056 30.5658 34.6551C30.5598 35.5068 30.5717 36.3585 30.5598 37.2101C30.2878 37.2042 30.0098 37.2101 29.7378 37.2101C29.7378 36.4176 29.7378 35.6251 29.7378 34.8384C29.7319 33.9808 29.7615 33.1232 29.6846 32.2656C29.9507 32.2597 30.2168 32.2597 30.4889 32.2656C30.4889 32.5377 30.4948 32.8157 30.5007 33.0877Z",fill:"#38454E"}),l.a.createElement("path",{d:"M25.8639 32.1712C26.6859 32.0351 27.5908 32.2599 28.1822 32.8632C29.1698 33.8568 29.1461 35.6548 28.1408 36.6366C27.437 37.3582 26.2601 37.5416 25.3612 37.092C25.0122 36.9264 24.7106 36.6603 24.5214 36.3232C24.5095 37.2517 24.5214 38.1803 24.5155 39.103C24.2434 39.1089 23.9714 39.0971 23.6993 39.1089C23.6757 36.8259 23.7052 34.5429 23.6875 32.2599C23.9655 32.2481 24.2434 32.254 24.5214 32.254C24.5214 32.4965 24.5155 32.733 24.5214 32.9755C24.8703 32.5852 25.3316 32.2717 25.8639 32.1712ZM25.6569 32.9874C25.1423 33.1589 24.7343 33.6084 24.5923 34.1289C24.3913 34.8327 24.5391 35.6785 25.1246 36.1694C25.8402 36.7904 27.0881 36.6839 27.6499 35.9091C28.2058 35.1403 28.1289 33.9396 27.4015 33.3008C26.9284 32.8927 26.2424 32.804 25.6569 32.9874Z",fill:"#38454E"}),l.a.createElement("path",{d:"M36.4315 33.0707C36.739 32.4852 37.4014 32.1362 38.0519 32.1421C38.5605 32.1244 39.1165 32.2604 39.4713 32.6449C39.8439 33.0352 39.9681 33.603 39.9681 34.1294C39.9681 35.1585 39.974 36.1877 39.9681 37.2168C39.6901 37.2109 39.4181 37.2168 39.1401 37.2168C39.1401 36.2291 39.1401 35.2414 39.1401 34.2536C39.1519 33.8574 39.0573 33.4138 38.7439 33.1417C38.4482 32.8874 38.0283 32.8815 37.6616 32.9347C37.3304 32.9938 37.0288 33.1772 36.8395 33.4493C36.5734 33.816 36.4965 34.2773 36.4847 34.7209C36.4788 35.5548 36.4906 36.3829 36.4788 37.2168C36.2067 37.2109 35.9288 37.2109 35.6567 37.2168C35.6508 36.2232 35.6567 35.2354 35.6567 34.2477C35.6508 33.5912 35.6745 32.9288 35.6035 32.2723C35.8696 32.2663 36.1417 32.2723 36.4078 32.2663C36.4137 32.5325 36.396 32.8046 36.4315 33.0707Z",fill:"#38454E"}),l.a.createElement("path",{d:"M1.49805 32.2657C1.80558 32.2657 2.11902 32.2539 2.42655 32.2657C2.51526 32.3781 2.55666 32.52 2.62763 32.6442C3.05344 33.5432 3.49699 34.4363 3.9228 35.3412C3.93463 35.3353 3.9642 35.3176 3.98194 35.3117C4.47872 34.2944 4.96958 33.2771 5.46045 32.2598C5.77389 32.2657 6.08734 32.2539 6.40078 32.2657C5.60238 33.8922 4.82765 35.5305 4.03517 37.1629C3.99968 37.2043 3.99968 37.3048 3.92871 37.293C3.11849 35.6192 2.31418 33.9395 1.49805 32.2657Z",fill:"#38454E"}),l.a.createElement("path",{d:"M7.30566 32.2604C7.58362 32.2604 7.86749 32.2545 8.14545 32.2604C8.13954 33.9106 8.14545 35.5548 8.14545 37.205C7.86749 37.205 7.58954 37.205 7.31158 37.205C7.31158 35.5607 7.31158 33.9106 7.30566 32.2604Z",fill:"#38454E"}),l.a.createElement("path",{d:"M33.4639 32.2663C33.7418 32.2604 34.0198 32.2663 34.2977 32.2663C34.2859 33.9165 34.3037 35.5666 34.2918 37.2168C34.0139 37.2108 33.7418 37.2168 33.4698 37.2108C33.4639 35.5607 33.4698 33.9105 33.4639 32.2663Z",fill:"#38454E"})))},HA=["className"],WA=e=>{const{className:t}=e,n=fA(e,HA);return l.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:iA("_1HrPh",t)},n),l.a.createElement("path",{d:"M15.3571 14.3581C16.2696 13.2357 16.7706 11.8348 16.7768 10.3883C16.7767 9.12595 16.4027 7.89187 15.7019 6.84188C15.0011 5.79189 14.0049 4.97308 12.8391 4.48879C11.6733 4.00451 10.3902 3.87647 9.15171 4.12084C7.9132 4.36522 6.77487 4.97105 5.8804 5.86185C4.98593 6.75265 4.37543 7.88849 4.12598 9.12598C3.87652 10.3635 3.99928 11.6471 4.47878 12.8149C4.95827 13.9827 5.77299 14.9822 6.82009 15.6873C7.86719 16.3924 9.09972 16.7715 10.3621 16.7767C11.8086 16.7705 13.2094 16.2696 14.3318 15.3571L18.9159 19.7877C19.0519 19.9236 19.2363 20 19.4286 20C19.6209 20 19.8053 19.9236 19.9412 19.7877C20.0772 19.6517 20.1536 19.4673 20.1536 19.275C20.1536 19.0827 20.0772 18.8983 19.9412 18.7624L15.3571 14.3581ZM5.41964 10.3883C5.41966 9.40449 5.71174 8.44279 6.25889 7.62513C6.80603 6.80746 7.5836 6.17064 8.49305 5.79535C9.4025 5.42006 10.4029 5.32321 11.3674 5.51707C12.332 5.71093 13.2173 6.18678 13.9111 6.8843C14.6049 7.58182 15.0761 8.46962 15.2648 9.43519C15.4536 10.4008 15.3514 11.4006 14.9713 12.3081C14.5912 13.2155 13.9503 13.9897 13.1297 14.5325C12.3091 15.0753 11.3459 15.3623 10.3621 15.3571C9.04886 15.3501 7.79178 14.8236 6.86564 13.8925C5.9395 12.9614 5.41962 11.7016 5.41964 10.3883Z",fill:"currentColor"}),l.a.createElement("path",{d:"M12.7019 9.67774H11.0983V8.07408C11.0983 7.98086 11.0799 7.88856 11.0443 7.80244C11.0086 7.71632 10.9563 7.63807 10.8904 7.57216C10.8245 7.50625 10.7462 7.45396 10.6601 7.41829C10.574 7.38262 10.4817 7.36426 10.3885 7.36426C10.2952 7.36426 10.2029 7.38262 10.1168 7.41829C10.0307 7.45396 9.95246 7.50625 9.88654 7.57216C9.82063 7.63807 9.76835 7.71632 9.73267 7.80244C9.697 7.88856 9.67864 7.98086 9.67864 8.07408V9.67774H8.04869C7.86043 9.67774 7.67989 9.75253 7.54677 9.88565C7.41365 10.0188 7.33887 10.1993 7.33887 10.3876C7.33887 10.5758 7.41365 10.7564 7.54677 10.8895C7.67989 11.0226 7.86043 11.0974 8.04869 11.0974H9.65235V12.701C9.65235 12.8893 9.72714 13.0698 9.86025 13.203C9.99337 13.3361 10.1739 13.4109 10.3622 13.4109C10.5504 13.4109 10.731 13.3361 10.8641 13.203C10.9972 13.0698 11.072 12.8893 11.072 12.701V11.0974H12.6757C12.7689 11.0991 12.8615 11.0825 12.9483 11.0484C13.0351 11.0143 13.1143 10.9635 13.1814 10.8988C13.2486 10.8341 13.3023 10.7568 13.3396 10.6713C13.3768 10.5859 13.3969 10.4939 13.3986 10.4007C13.4003 10.3075 13.3837 10.2149 13.3496 10.1281C13.3155 10.0413 13.2647 9.96207 13.2 9.89494C13.1353 9.82781 13.058 9.77407 12.9726 9.73681C12.8871 9.69954 12.7952 9.67947 12.7019 9.67774Z",fill:"currentColor"}))},KA=["className"],QA=e=>{const{className:t}=e,n=fA(e,KA);return l.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:iA("_2hDsi",t)},n),l.a.createElement("path",{d:"M15.3571 14.3581C16.2696 13.2357 16.7706 11.8348 16.7768 10.3883C16.7767 9.12595 16.4027 7.89187 15.7019 6.84188C15.0011 5.79189 14.0049 4.97308 12.8391 4.48879C11.6733 4.00451 10.3902 3.87647 9.15171 4.12084C7.9132 4.36522 6.77487 4.97105 5.8804 5.86185C4.98593 6.75265 4.37543 7.88849 4.12598 9.12598C3.87652 10.3635 3.99928 11.6471 4.47878 12.8149C4.95827 13.9827 5.77299 14.9822 6.82009 15.6873C7.86719 16.3924 9.09972 16.7715 10.3621 16.7767C11.8086 16.7705 13.2094 16.2696 14.3318 15.3571L18.9159 19.7877C19.0519 19.9236 19.2363 20 19.4286 20C19.6209 20 19.8053 19.9236 19.9412 19.7877C20.0772 19.6517 20.1536 19.4673 20.1536 19.275C20.1536 19.0827 20.0772 18.8983 19.9412 18.7624L15.3571 14.3581ZM5.41964 10.3883C5.41966 9.40449 5.71174 8.44279 6.25889 7.62513C6.80603 6.80746 7.5836 6.17064 8.49305 5.79535C9.4025 5.42006 10.4029 5.32321 11.3674 5.51707C12.332 5.71093 13.2173 6.18678 13.9111 6.8843C14.6049 7.58182 15.0761 8.46962 15.2648 9.43519C15.4536 10.4008 15.3514 11.4006 14.9713 12.3081C14.5912 13.2155 13.9503 13.9897 13.1297 14.5325C12.3091 15.0753 11.3459 15.3623 10.3621 15.3571C9.04886 15.3501 7.79178 14.8236 6.86564 13.8925C5.9395 12.9614 5.41962 11.7016 5.41964 10.3883Z",fill:"currentColor"}),l.a.createElement("path",{d:"M12.7019 9.67969C11.1509 9.67969 9.59977 9.67969 8.04869 9.67969C7.86043 9.67969 7.67989 9.75447 7.54677 9.88759C7.41365 10.0207 7.33887 10.2013 7.33887 10.3895C7.33887 10.5778 7.41365 10.7583 7.54677 10.8914C7.67989 11.0245 7.86043 11.0993 8.04869 11.0993C9.87683 11.0993 10.9576 11.0993 12.6757 11.0993C12.7689 11.1011 12.8615 11.0844 12.9483 11.0503C13.0351 11.0162 13.1143 10.9654 13.1814 10.9007C13.2486 10.836 13.3023 10.7587 13.3396 10.6733C13.3768 10.5878 13.3969 10.4959 13.3986 10.4027C13.4003 10.3094 13.3837 10.2168 13.3496 10.13C13.3155 10.0432 13.2647 9.96402 13.2 9.89688C13.1353 9.82975 13.058 9.77602 12.9726 9.73875C12.8871 9.70148 12.7952 9.68141 12.7019 9.67969Z",fill:"currentColor"}))},YA=vc(()=>{const e=DE().designEngine,{zoom:t}=(null==e?void 0:e.layoutManager)||{zoom:1},[n,r]=eA(["ZoomIn","ZoomOut"]),{minZoom:o,maxZoom:i}=KE();return l.a.createElement(l.a.Fragment,null,l.a.createElement(qA,{onClick:()=>{const n=ls(1.5*t,o,i);null==e||e.layoutManager.zoomTo(n)},className:"_3UYIa"},l.a.createElement(WA,null)," ",n),l.a.createElement(qA,{onClick:()=>{const n=ls(.66*t,o,i);null==e||e.layoutManager.zoomTo(n)},className:"_3UYIa"},l.a.createElement(QA,null)," ",r))});function ZA(){return"xs"===Object(zr.useScreenClass)()}YA.displayName="ZoomButtons";const JA=e=>Object.fromEntries(Object.entries(e).map(e=>[parseInt(e[0]),e[1]]));class XA{constructor(e){this.localizedOptions=e}localizeKey(e){return this.localizedOptions&&this.localizedOptions[e]?this.localizedOptions[e].name:e}localizeValue(e,t){return this.localizedOptions&&this.localizedOptions[e]&&this.localizedOptions[e].values[t]?this.localizedOptions[e].values[t]:t}}const $A=e=>{const t=new XA(e.localizedOptions);return l.a.createElement(zr.Row,{marginTop:2},l.a.createElement(zr.Column,{span:12,"data-testid":"pov-optionsList"},Object.entries(e.options).map(e=>{let[n,r]=e;return l.a.createElement(zr.Row,{key:n},l.a.createElement(zr.Column,{spanXs:6,span:6,align:"left"},l.a.createElement(zr.Typography,{weight:"bold"},t.localizeKey(n),":")),l.a.createElement(zr.Column,{spanXs:6,span:6,align:"right"},l.a.createElement(zr.Typography,null,t.localizeValue(n,r))))})))},eR=vc(e=>{let{merchant:t,locale:n,productKey:r,productVersion:o,options:i,hasQuantitySelectionPage:a,initialQuantity:s,pricingContext:c,localizedOptions:d,onOptionsChange:p,onQuantityUpdated:f,onCloseButtonClicked:h}=e;const m=DE().designEngine,[g,v,y,b,w]=eA(["CloseModalButton","GoBack","ProductDetails","SelectChanges","DiscardChanges"]),[O,E]=Object(u.useState)(void 0),x=Object(u.useRef)(null),{applyFocus:S,setTargetFocusElement:C}=NO(),{updateCimDoc:T}=MO(),_=P();Object(u.useEffect)(()=>{x.current&&(C(x.current),S())},[]),zS((function(){try{return m?Promise.resolve(function(e,t){try{const n=pA({},e,{deleteAfterDays:1});return Promise.resolve(Kr(n,t)).then((function(e){return e._links.self.href}))}catch(e){return Promise.reject(e)}}(m.asJson,_.accessToken)).then((function(e){E(e)})):Promise.resolve()}catch(e){return Promise.reject(e)}}),[m]);const k=()=>a&&i.Size;return l.a.createElement(zr.BoundedContent,null,l.a.createElement(zr.GridContainer,{marginTop:4},l.a.createElement(zr.Hidden,{xs:!0},!k()&&l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.TextButton,{"aria-label":v,buttonShape:"round",onClick:h},l.a.createElement(zr.ControlIcon,{iconType:"arrow-l"}))))),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.Typography,{align:"center",weight:"bold",tabIndex:0,textSize:3,ref:x},y))),k()&&O?l.a.createElement(Uj,{culture:n,productKey:r,productVersion:o,initialSelections:i,onCancel:h,onSaveSelections:function(e,t,n){try{function r(){h()}f(parseInt(t.toString())),p(e);const o=function(){if(n.changesPending)return E(n.url),Promise.resolve(Hr(n.url)).then((function(e){T(e,n.url)}))}();return Promise.resolve(o&&o.then?o.then(r):r())}catch(e){return Promise.reject(e)}},initialQuantity:s,pricingContextString:c,includeVat:zj().vatInclusive,documentUrl:O,merchandisingExperience:"Recommendations",tenant:t,uiLabelOverrides:{saveChanges:b,revertChanges:w}}):l.a.createElement($A,{options:i,localizedOptions:d}),!k()&&l.a.createElement(zr.Visible,{xs:!0},l.a.createElement(zr.Row,{marginTop:2,marginBottom:2},l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.TextButton,{skin:"primary",widthVariant:"full-width",onClick:h},g))))))}),tR=["selected","className","aria-pressed"],nR=e=>{const{className:t,"aria-pressed":n}=e,r=fA(e,tR),o=iA("_376Ut",{_SH8he:n},t);return l.a.createElement("button",Object.assign({"data-testid":"canvas-selector",className:o},r))},rR=["children","className"],oR=e=>{const{children:t,className:n}=e,r=fA(e,rR),o=Object(u.useRef)(null),i=Object(u.useRef)(null),{width:a}=zo(o),{width:s}=zo(i);return l.a.createElement("div",Object.assign({className:iA("_1Ig8Z",{_38nJU:s>a},n),ref:o},r),l.a.createElement("div",{className:"_38d7X",ref:i},t))},iR=vc(()=>{const e=DE().designEngine,{designViewDisplayNames:t}=SO(),n=(null==e?void 0:e.panels.map((e,n)=>{var r;let o;return e.hasComponent(bE)&&(o=e.getComponent(bE)),null!==(r=o)&&void 0!==r&&r.hasEditableContent?t[n]:null}).filter(e=>e))||[];return n.length<2?null:l.a.createElement(oR,{className:"_2qyVq","data-testid":"canvas-switcher"},n.map(t=>l.a.createElement(nR,{onClick:()=>{null==e||e.layoutManager.setActiveDesignPanelId(t.id),null==e||e.idaManager.setVisibleDesignPanelIds([t.id])},key:t.id,"aria-pressed":t.id===(null==e?void 0:e.layoutManager.activeDesignPanelId)},t.displayName)))}),{LOADING:aR,READY:sR,UNINITIALIZED:cR}=_E;var uR;!function(e){e.DETAILS="DETAILS",e.PREVIEW="PREVIEW"}(uR||(uR={}));const lR=Kx({id:"CrossSellStudioModalWorkflow",initial:cR,states:{[cR]:{on:{[aR]:aR,[sR]:sR}},[aR]:{on:{[sR]:sR}},[sR]:{on:{[uR.DETAILS]:uR.DETAILS}},[uR.DETAILS]:{on:{[sR]:{target:sR,actions:"refocus"}}}}}),dR=Object(zr.responsive)(zr.ModalDialogContent),pR=vc(e=>{const{locale:t,tenant:n,mpvId:r,selectedAttributes:o,setSelectedAttributes:i,setInitialDocument:a,initialQuantity:s,pricingContext:c,parentWorkId:d,requestor:p,onProductAddedToCart:f,onEditInStudioClicked:h,onOptionsChanged:m,productKey:g,productVersion:v,productDisplayName:y,localizedOptions:b,quantities:w,hasQuantitySelectionPage:O,vatInclusive:E,shopperId:x}=e,{applyFocus:S}=NO(),C=P(),[T,_]=rS(lR,{actions:{refocus:S}}),[k,I,M,j]=eA(["CloseModalButton","ZoomIn","ZoomOut","PreviewButton"]),A=T.matches(uR.DETAILS),R=()=>{_(_E.READY)},[D,L]=eA(["LoadingStudio","ModalLabel"]),{state:N,designEngine:U}=DE();Object(u.useEffect)(()=>{_(N)},[N]);const[F,B]=Object(u.useState)(!1),z=Vo(),[V,q]=Object(u.useState)(null),[G,H]=Object(u.useState)(s),W=e=>{null==U||U.idaManager.setSelectedIds(e,!0)},K=Object(u.useRef)(null);var Q;Q={tenant:n,locale:t.toLowerCase(),requestor:p,vatInclusive:E},Bj=Q,zS((function(){try{const e=Fj((function(){return Promise.resolve(function(e,t,n,r,o,i,a,s){try{const c="https://product-catalog-pricing.cdn.vpsvc.com/v4/prices/estimated"+Zt.stringify({requestor:s,productKey:n,productVersion:r,selections:o,quantities:i,merchantId:e,pricingContext:a,market:t.split("-")[1]},{addQueryPrefix:!0,arrayFormat:"repeat",sort:(e,t)=>e.localeCompare(t)});return Promise.resolve(Nn.a.get(c)).then((function(e){const t=e.data;return{currency:t.currency,fractionDigits:t.fractionDigits,estimatedPrices:JA(t.estimatedPrices)}}))}catch(e){return Promise.reject(e)}}(n,t,g,v,o,w,c,p)).then((function(e){q(e)}))}),(function(e){z(new nA("Error getting price for product",e))}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[c,o]);const Y=ex().length>0,Z=e=>{H(e)},J=e=>{var t;i(e),m(e),a(null!=(t=null==U?void 0:U.asJson)?t:void 0)},X=!ZA();let $=PA.LOADING;V&&N===_E.READY&&($=PA.READY);const ee=function(e,t){if(void 0===t&&(t={loadingDelay:2500,pauseDelay:75}),t.loadingDelay<0)throw new Error("loadingDelay must be greater than or equal to 0.");if(t.pauseDelay<0)throw new Error("pauseDelay must be greater than or equal to 0.");const[n,r]=Object(u.useReducer)(_A,{uiState:e===PA.READY?CA.READY:e===PA.ERROR?CA.ERROR:t.pauseDelay>0?CA.PAUSED:CA.LOADING,dataState:e,pauseComplete:0===t.pauseDelay,delayComplete:0===t.pauseDelay});return Object(u.useEffect)(()=>{r({type:TA.DATA_CHANGED,nextDataState:e})},[e]),Object(u.useEffect)(()=>{!function(){try{const e=function(){if(n.uiState===CA.PAUSED)return Promise.resolve(SA(t.pauseDelay)).then((function(){r({type:TA.PAUSE_COMPLETE})}))}();Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()},[n.uiState]),Object(u.useEffect)(()=>{!function(){try{const e=function(){if(n.uiState===CA.LOADING)return Promise.resolve(SA(t.loadingDelay)).then((function(){r({type:TA.LOADING_DELAY_COMPLETE})}))}();Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()},[n.uiState]),n.uiState}($),te=!Bf(),ne=Object(u.useRef)(null),re=Object(u.useCallback)(e=>{K.current=e},[]),oe=e=>{let t=e.currentTarget;if(!(t&&t instanceof HTMLOptionElement))if(te)W([]);else if(X){var n;null!==(n=K.current)&&void 0!==n&&n.contains(t)||W([])}};Object(u.useEffect)(()=>{var e;ne.current&&(null===(e=ne.current)||void 0===e||e.focus())},[ne,ee]);const ie={padding:0,sm:{style:{minWidth:"70%"}},lg:{style:{minWidth:"40%",maxWidth:"1000px"}},style:{background:"var(--x-sell-studio-canvas-background)"},"aria-label":L},ae=Object(u.useRef)(null),se=Object(u.useRef)(null);return"READY"===ee&&U?l.a.createElement(WE,{minZoomMultiplier:.75,maxZoomMultiplier:4},l.a.createElement(dR,Object.assign({onMouseDown:te&&!A?oe:void 0,onTouchEnd:te||A?void 0:oe},ie,{"data-testid":"app-ready"}),!F&&l.a.createElement(l.a.Fragment,null,l.a.createElement(hR,{modalHeaderRef:ae,modalControls:A?fR.None:fR.CloseButton|fR.PreviewButton|fR.ZoomButtons,closeButtonRef:ne,onCloseButtonClicked:()=>null==U?void 0:U.dispose(),onPreviewButtonClicked:()=>B(!0)}),l.a.createElement("div",{ref:se,className:"mobile-dock-result"}),l.a.createElement(EA,{margin:0,padding:0,component:zr.ModalDialogBody,style:A&&X?{backgroundColor:"#ffffff"}:void 0},A&&X?l.a.createElement(zr.Hidden,{xs:!0},l.a.createElement(eR,{merchant:n,locale:t,productKey:g,productVersion:v,initialQuantity:G,hasQuantitySelectionPage:O,options:o,pricingContext:c,localizedOptions:b,onOptionsChange:J,onQuantityUpdated:Z,onCloseButtonClicked:R})):l.a.createElement("div",{className:"_nc6WW",ref:re},l.a.createElement(dA,{locale:t,mpvId:r,productKey:g,productVersion:v,hasQuantitySelectionPage:O,selectedAttributes:o,quantity:G,onEditInStudioClicked:h,shopperId:x,dockPortal:se.current,modalHeader:ae.current}))),(!Y&&!X||X)&&l.a.createElement(l.a.Fragment,null,!A&&l.a.createElement(iR,null),!A&&X||!X?l.a.createElement(jM,{as:"aside",className:"_1SaPc",style:{overflowY:"scroll"}},l.a.createElement(yM,{initial:!1},V&&!A&&l.a.createElement(FA,{mpvId:r,productKey:g,productVersion:v,productDisplayName:y,options:o,localizedOptions:b,hasQuantitySelectionPage:O,prices:V,initialQuantity:G,merchandisableQuantities:w,parentWorkId:d,shopperId:x,onDetailsClicked:()=>{e.onDetailsClicked&&e.onDetailsClicked(),_(uR.DETAILS)},onProductAddedToCart:f,onQuantityUpdated:Z}),A&&l.a.createElement(zr.Visible,{xs:!0},l.a.createElement(eR,{merchant:n,locale:t,productKey:g,productVersion:v,initialQuantity:G,options:o,hasQuantitySelectionPage:O,pricingContext:c,localizedOptions:b,onOptionsChange:J,onQuantityUpdated:Z,onCloseButtonClicked:R})))):null)),F&&l.a.createElement(Pj,{purpose:"design.studio.review",zoomInIconText:I||"",zoomOutIconText:M||"",closeIconText:k||"",onClosePreview:()=>B(!1),accessToken:C.accessToken,hiddenTitleText:j||"",loadingFallback:l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:D})}))):l.a.createElement(dR,Object.assign({},ie,{"data-testid":"app-shell"}),l.a.createElement(hR,{modalHeaderRef:ae,modalControls:fR.CloseButton,closeButtonRef:ne,onCloseButtonClicked:()=>null==U?void 0:U.dispose(),onPreviewButtonClicked:()=>B(!0)}),l.a.createElement(EA,{margin:0,padding:0,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},component:zr.ModalDialogBody},"LOADING"===ee&&l.a.createElement(zr.BasicPreloader,{id:"ida-loader",visuallyHiddenLabel:D})))});var fR;!function(e){e[e.None=0]="None",e[e.ZoomButtons=1]="ZoomButtons",e[e.PreviewButton=2]="PreviewButton",e[e.CloseButton=4]="CloseButton"}(fR||(fR={}));const hR=e=>{const t=!ZA(),n={component:zr.ModalDialogHeader,margin:0,padding:t?5:3},r=eA("CloseModalButton");return l.a.createElement(wA,Object.assign({ref:e.modalHeaderRef},n),l.a.createElement(GA,null),e.modalControls!==fR.None&&l.a.createElement(OA,null,l.a.createElement(e.modalControls&fR.ZoomButtons?YA:l.a.Fragment,null),e.modalControls&fR.PreviewButton?l.a.createElement(mR,{onClick:e.onPreviewButtonClicked}):l.a.createElement(l.a.Fragment,null),e.modalControls&fR.CloseButton?l.a.createElement(xA,{ref:e.closeButtonRef,"data-testid":"modal-dialog-close-button",onClick:e.onCloseButtonClicked},r):l.a.createElement(l.a.Fragment,null)))},mR=e=>{const t=eA("PreviewButton");return l.a.createElement(qA,{onClick:()=>{e.onClick()}},l.a.createElement(zA,null)," ",t)};class gR extends l.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){Vj.error(null==e?void 0:e.message,{contextData:{error:tA(e),errorInfo:t}})}render(){return this.state.hasError?l.a.createElement(vR,{locale:this.props.locale,onGoBackClick:this.props.onGoBackClick}):this.props.children}}const vR=e=>l.a.createElement(u.Fragment,null,l.a.createElement(zr.ModalDialogContent,{"aria-labelledby":"modal_dialog_title"},l.a.createElement(zr.ModalDialogCloseButton,{visuallyHiddenLabel:Jj.get("CloseModalButton",e.locale)}),l.a.createElement(zr.ModalDialogHeader,null,l.a.createElement(zr.ModalDialogTitle,{id:"modal_dialog_title"},Jj.get("ErrorDialogTitle",e.locale))),l.a.createElement(zr.ModalDialogBody,null,l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement("p",null,Jj.get("ErrorDialogBody",e.locale)))),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.TextButton,{skin:"primary",onClick:e.onGoBackClick},Jj.get("GoBack",e.locale)))))))),yR=(e,t)=>{var n;return new Set(null===(n=e.content)||void 0===n?void 0:n.map(e=>e[t])).size>1},bR=e=>{let t;if(!e)return{valid:!1,reason:"no document"};const n=e.document.panels.map(e=>e.textAreas).filter(Boolean),r=e.document.panels.map(e=>{var t;return null===(t=e.itemReferences)||void 0===t?void 0:t.filter(e=>"Word Art"===e.type)}).filter(Boolean),o=wR(n),i=wR(r);for(const s of o){if(yR(s,"color")||yR(s,"fontFamily")||yR(s,"fontSize")||yR(s,"fontStyle")||yR(s,"inlineBaseDirection")){t={valid:!1,reason:"mixed styles",item:s};break}if(s.content.find(e=>"inline"!==e.type&&void 0!==e.type)){t={valid:!1,reason:"non-inline type content",item:s};break}}if(t&&!t.valid)return t;const a=function(e){for(let n of e){var t;const e=null===(t=n.itemReferences)||void 0===t?void 0:t.find(e=>"Table"===e.type);if(e)return e}}(e.document.panels);return a?{valid:!1,reason:"Tables are not supported",item:a}:0===o.length&&0===i.length?{valid:!1,reason:"no editable items"}:{valid:!0}};function wR(e){const t=[];for(const n of e)for(const e of n)t.push(e);return t}const OR=e=>l.a.createElement(zr.ScreenClassProvider,null,l.a.createElement($j,{locale:e.locale},l.a.createElement(ER,Object.assign({},e)))),ER=e=>{const t=!ZA(),{initialDocumentUri:n,locale:r,onRequestDismiss:o,isOpen:i,initialOptions:a,productKey:s,productVersion:c,productDisplayName:d,localizedOptions:p,quantities:f,selectableOptions:h,requestor:m}=e,[g,v]=Object(u.useState)(a),[y,b]=Object(u.useState)(),w=P();return l.a.createElement(bA,{variant:t?"panel-right":void 0,takeOver:!t,isOpen:i,onRequestDismiss:o},i&&l.a.createElement(gR,{locale:r,onGoBackClick:o},l.a.createElement(RE,{locale:r,productAttributes:g,productKey:s,productVersion:c,requestor:m,docUri:y?void 0:n,cimDoc:y,accessToken:w.accessToken},l.a.createElement(UO,null,l.a.createElement(NE,{validator:bR},l.a.createElement(pR,Object.assign({},e,{setSelectedAttributes:v,setInitialDocument:b,selectedAttributes:g,productKey:s,productVersion:c,productDisplayName:d,localizedOptions:p,quantities:f,selectableOptions:h})))))))},xR=e=>{const[t,n]=Object(u.useState)(!1),r=(e,r)=>{if(e)try{e()}catch(e){throw new nA("Failed to call "+r,e)}n(!t)};return l.a.createElement("span",{style:{cursor:"pointer"},onClick:()=>r(e.onCrossSellStudioOpened,"onCrossSellStudioOpened"),"data-testid":"modal-open"},e.children,l.a.createElement(OR,{title:e.title,tenant:e.tenant,locale:e.locale,mpvId:e.mpvId,productKey:e.productKey,productVersion:e.productVersion,productDisplayName:e.productDisplayName,localizedOptions:e.localizedOptions,quantities:e.quantities,selectableOptions:e.selectableOptions,initialOptions:e.initialOptions,initialQuantity:e.initialQuantity,initialDocumentUri:e.initialDocumentUri,hasQuantitySelectionPage:e.hasQuantitySelectionPage,pricingContext:e.pricingContext,parentWorkId:e.parentWorkId,vatInclusive:e.vatInclusive,shopperId:e.shopperId,requestor:e.requestor,views:e.views,isOpen:t,onProductAddedToCart:e.onProductAddedToCart,onEditInStudioClicked:e.onEditInStudioClicked,onOptionsChanged:e.onOptionsChanged,onDetailsClicked:e.onDetailsClicked,onRequestDismiss:()=>r(e.onCrossSellStudioClosed,"onCrossSellStudioClosed")}))},SR=function(e){try{return Promise.resolve(Hr(e)).then((function(e){if(null==e||!e.document)return!1;try{const t=(e=>{let t;if(!e)return{valid:!1,reason:"no document"};if(void 0===e.document)return{valid:!1,reason:"not a properly formatted CimDoc"};const n=e.document.panels.map(e=>e.textAreas).filter(Boolean),r=e.document.panels.map(e=>{var t;return null==(t=e.itemReferences)?void 0:t.filter(e=>"Word Art"===e.type)}).filter(Boolean),o=TS(n),i=TS(r);if(0===o.length&&0===i.length)return{valid:!1,reason:"no editable items"};for(const a of o){const e=_S(a,"color")||_S(a,"fontFamily")||_S(a,"fontSize")||_S(a,"fontStyle")||_S(a,"inlineBaseDirection");if(!a.content.find(e=>"inline"!==e.type&&void 0!==e.type)&&!e){t={valid:!0};break}t={valid:!1,reason:"has no editable content",item:a}}return i.length>0&&(t={valid:!0}),t})(PO(e)),n=PR(t);return n||Vj.warn("Design experience edit support: Unsupported document",{contextData:{document:e,editSupportedResponse:t}}),n}catch(e){const t="Error calling design experience edit support "+e;throw Vj.error(t),new Error(t)}}))}catch(e){return Promise.reject(e)}},PR=e=>!e.valid&&"no editable items"===e.reason||e.valid,CR=function(e,t,n,r,o,i){try{return Promise.resolve(Fj((function(){return Promise.resolve((async e=>{let{requestor:t,productKey:n,locale:r,selectedOptions:o,productVersion:i,placement:a,designOptionType:s="",designOptionValue:c=""}=e;if(!n)return{productValid:!1,invalidReasons:["no product key passed"]};if(!r)return{productValid:!1,invalidReasons:["no locale passed"]};if(!Object.keys(o).length)return{productValid:!1,invalidReasons:["no selected options passed"]};if(!i)return{productValid:!1,invalidReasons:["no product version passed"]};try{const e=await Lx({placement:a,requestor:t,productKey:n,productVersion:Number(i),locale:r,designOptionType:s,designOptionValue:c,selectedOptions:JSON.stringify(o)});if(!function(e){var t,n;return!!(null!=(t=e.url)&&t.href||null!=(n=e.embedded)&&n.package)}(e))return{productValid:!1,invalidReasons:["No studio is available for this product configuration"]}}catch(u){return{productValid:!1,invalidReasons:["STARS routing call failed"]}}try{const{url:e}=await Ax({productKey:n,requestor:t,locale:r,selectedOptions:o,flowAction:"uploadandgo"});if(e)return{productValid:!1,invalidReasons:["Upload and Go products are not supported"]}}catch(l){return{productValid:!1,invalidReasons:["Siteflow call failed"]}}try{const e=r.split("-")[1],a=await vO({productVersion:Number(i),productKey:n,locale:r,market:e,requestor:t,disablePricing:!0,selectedOptions:JSON.stringify(o)}),{designViews:s}=a,c=[];let u={exists:!1,name:""},l={exists:!1,name:""};return s.designViews.forEach(e=>{kS.includes(e.processType)&&(l={exists:!0,name:e.processType}),e.spotColorSet&&e.spotColorSet.spotColorGroups.forEach(e=>{e.availableSpotColors.forEach(e=>{IS.includes(e.name)&&(u={exists:!0,name:e.name})})})}),l.exists&&c.push("Product has an unsupported decoration technology: "+l.name),u.exists&&c.push("Product has an unsupported premium finish: "+u.name),{productValid:0===c.length,invalidReasons:c}}catch(d){return{productValid:!1,invalidReasons:["Calcifer call failed"]}}})({requestor:"cross-sell-studio",productKey:e,locale:t,selectedOptions:r,productVersion:n,placement:"x-sell",designOptionType:o,designOptionValue:i})).then((function(a){return a.productValid||Vj.warn("Design experience render support: Unsupported product",{contextData:{productKey:e,locale:t,selectedOptions:r,productVersion:n,placement:"x-sell",renderSupportedResponse:a,designOptionType:o,designOptionValue:i}}),a.productValid}))}),(function(e){const t="Error calling design experience render support "+e;throw Vj.error(t),new Error(t)})))}catch(e){return Promise.reject(e)}};zr.STYLE_KEYS.textButton,zr.STYLE_KEYS.alertBox,zr.STYLE_KEYS.modalDialog,zr.STYLE_KEYS.grid,zr.STYLE_KEYS.selectionSet,zr.STYLE_KEYS.controlIcon;const TR=e=>m(void 0,void 0,void 0,(function*(){const t=DR(),n=LR(t),r=NR(t),o=Intl.DateTimeFormat().resolvedOptions().timeZone,i=yield((e,t,n,r,o,i,a,s,c,u,l,d,p,f,h,g,v)=>m(void 0,void 0,void 0,(function*(){const m=xn(e,t,n,d),y=En(m,r,a,s,g,c,l,d,p,f,h,o,v);return yield Sn(y,m,u,i)})))(e.tenant,e.locale,e.page,e.customerId,e.documentUrl,e.authToken,n,r,o,t,"recommendations",e.mpvId,e.albelliDocId,e.uploadId,e.brandId,e.pricingContext,e.imageWidth),a=_R(i);return yield RR(a,e.locale),{recommendations:a,poeResponse:i}})),_R=e=>{const t={offersGroups:[],disabled:e.disabled||!1};return e.offersGroups&&e.offersGroups.forEach(e=>{try{kR(e),t.offersGroups.push({trackingId:e.trackingId,displayConfiguration:e.displayConfiguration,actions:MR(e),offers:jR(e.offers,e.offerTypes,e.trackingId)})}catch(n){Gn("Error processing offer group",{contextData:{offerGroup:e},error:n})}}),t},kR=e=>{if(e.offerTypes.some(e=>e.actions.includes(kn.GoToProductPage))&&e.offerTypes.some(e=>e.actions.includes(kn.GoToGallery)))throw new Error("invalid actions: GoToProductPage and GoToGallery are mutually exclusive")},IR=(e,t)=>t.some(e=>e.actions.includes(kn.GoToProductPage))?e.productUrl:t.some(e=>e.actions.includes(kn.GoToGallery))?e.galleryUrl||e.productUrl:void 0,MR=e=>{const t={DocumentMatching:void 0,Image:void 0,NonDesignable:void 0};return e.offerTypes.some(e=>e.actions.includes(kn.AddToCart))?t[An.DocumentMatching]=jn.AddToCart:e.offerTypes.some(e=>e.actions.includes(kn.EditInMiniStudio))&&(t[An.DocumentMatching]=jn.EditInStudio),e.offerTypes.some(e=>e.actions.includes(kn.GoToGallery))?t[An.Image]=jn.GoToGallery:e.offerTypes.some(e=>e.actions.includes(kn.GoToProductPage))&&(t[An.Image]=jn.GoToProductPage),e.offerTypes.some(e=>e.actions.includes(kn.AddToCart))?t[An.NonDesignable]=jn.AddToCart:t[An.NonDesignable]=jn.GoToProductPage,t},jR=(e,t,n)=>e.filter(e=>{try{return AR(e),!0}catch(t){return Gn("Error validating offer",{contextData:{offer:e},error:t}),!1}}).map(e=>{var r;var o;return{title:e.title,description:e.description,offerType:e.offerType,imageUrl:e.imageUrl,mpvId:e.productId,productKey:e.coreProductId,productVersion:e.coreProductVersion,productOptions:e.selectedAttributes,selectableOptions:e.selectableOptions,localizedOptions:e.localizedOptions,quantity:e.merchandisingQuantity.default.quantity,prices:(o=e.merchandisingQuantity,{currency:o.currency,fractionDigits:o.fractionDigits,availablePrices:o.availableQuantities.some(e=>e.quantity===o.default.quantity)?o.availableQuantities:[o.default]}),categories:null===(r=e.categories)||void 0===r?void 0:r.map(e=>new Kn(e.key)),hasQuantitySelectionPage:e.hasQuantitySelectionPage,configureUrl:IR(e,t),documentRealizationUrl:e.documentRealizationUrl,sourceDocumentUrl:e.sourceDocumentUrl,trackingId:e.trackingId,offerGroupTrackingId:n}}),AR=e=>{if(!e.merchandisingQuantity.default.quantity||e.merchandisingQuantity.default.quantity<=0)throw new Error("Invalid quantity");if(e.offerType===An.DocumentMatching&&!e.documentRealizationUrl)throw new Error("Document matching offer missing document realization url")},RR=(e,t)=>m(void 0,void 0,void 0,(function*(){return yield Promise.all(e.offersGroups.map(e=>m(void 0,void 0,void 0,(function*(){return yield Promise.all(e.offers.map(e=>m(void 0,void 0,void 0,(function*(){e.offerType===An.DocumentMatching&&e.documentRealizationUrl&&(e.isEditableInCrossSellStudio=yield function(e,t,n,r,o,i,a){return Promise.resolve(Fj((function(){return Promise.resolve(SR(n)).then((function(n){return n?Promise.resolve(CR(e,t,r,o,i,a)):n}))}),(function(){return!1})))}(e.productKey,t,e.documentRealizationUrl,e.productVersion,e.productOptions))}))))}))))})),DR=()=>{try{return gn()}catch(oA){return Math.random().toString(36)}},LR=e=>{try{return _r.ensureUserTestId()}catch(t){return Gn("There was an error getting user test id",{contextData:{correlationId:e},error:t}),""}},NR=e=>{try{return Br().categories.functional}catch(t){return Gn("There was an error getting user consent preferences",{contextData:{correlationId:e},error:t}),!1}},UR=l.a.createContext(void 0),FR=e=>l.a.createElement(UR.Provider,{value:{parentWorkId:e.parentWorkId}},e.children),BR=()=>{const e=Object(u.useContext)(UR);if(void 0===e)throw new Error("useParentWorkIdContext must be used with ParentWorkIdContextProvider");return e},zR=l.a.createContext(void 0),VR=e=>l.a.createElement(zR.Provider,{value:{tenant:e.tenant.toLocaleLowerCase(),locale:e.locale.toLocaleLowerCase()}},e.children),qR=()=>{const e=Object(u.useContext)(zR);if(void 0===e)throw new Error("useSiteContext must be used with SiteContextProvider");return e};n("y/8W");const GR=l.a.createContext(void 0),HR=e=>{const[t,n]=Object(u.useState)(e.offer.quantity),[r,o]=Object(u.useState)(e.offer.productOptions),[i,a]=Object(u.useState)(e.offer.imageUrl),[s,c]=Object(u.useState)(e.offer.documentRealizationUrl);return l.a.createElement(GR.Provider,{value:{offer:e.offer,editableOffer:{quantity:t,setQuantity:n,productOptions:r,setProductOptions:o,imageUrl:i,setImageUrl:a,documentRealizationUrl:s,setDocumentRealizationUrl:c}}},e.children)},WR=()=>{const e=Object(u.useContext)(GR);if(void 0===e)throw new Error("useOfferTileContext must be used with OfferTileContextProvider");return e};var KR=n("TP9b"),QR=()=>{var e,t,n=(e={userId:gn()},t=JSON.stringify(e),window.btoa(t));return document.cookie="ftContext="+n+"; Path=/"+("localhost"===location.hostname?"":"; domain="+Or()),n},YR=n("D9ef"),ZR=(n("CWyA"),n("tyoH"));function JR(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function XR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){JR(i,r,o,a,s,"next",e)}function s(e){JR(i,r,o,a,s,"throw",e)}a(void 0)}))}}var $R=e=>{var t=e.getOptimizelyConfig();t&&t.sdkKey&&localStorage.setItem("optimizelyDataFile-"+t.sdkKey,JSON.stringify({timeStamp:(new Date).getTime(),dataFile:t.getDatafile()}))};class eD{constructor(e,t){if(this.isFeatureEnabled=e=>{var t=this.getDecodedFeatureContext();return this.coreFeaturesClient.isFeatureEnabled(e,t)},this.getEnabledFeatures=()=>{var e=this.getDecodedFeatureContext();return this.coreFeaturesClient.getEnabledFeatures(e)},!e||!e.optimizelyClient)throw new Error("Invalid optimizely client given");this.coreFeaturesClient=e,this.logger=t}getDecodedFeatureContext(){try{return t=document.cookie.split(";").find(e=>e.trim().startsWith("ftContext")),e=t?t.split("=")[1].trim():QR(),JSON.parse(window.atob(e))}catch(oA){return void this.logger.error("Could not get context from cookie. Generating a new one",oA)}var e,t}}eD.getFeaturesClient=function(){var e=XR((function*(e,t){var n=YR.b.getLogger("0.9.18","ft-reader-browser",e),r=((e,t)=>{try{var n=JSON.parse(localStorage.getItem("optimizelyDataFile-"+t)||"{}");if(n&&n.timeStamp&&(new Date).getTime()-n.timeStamp<3e5&&n.dataFile)return n.dataFile}catch(r){e.error("Error getting datafile from localStorage",r)}})(n,t),o=yield YR.a.getFeaturesClient(n,t,r);return o.optimizelyClient.notificationCenter.addNotificationListener(ZR.a.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,()=>{$R(o.optimizelyClient)}),r||$R(o.optimizelyClient),new eD(o,n)}));return function(t,n){return e.apply(this,arguments)}}();var tD={};tD.resolveDatafile=async function(e){const t=await fetch("https://exp-config.personalization.vpsvc.com/datafiles/".concat(e,".json"));if(t.ok)return await t.json();throw new Error("Experiment impression not sent because datafile fetch failed: ".concat(t.status))};const{resolveDatafile:nD}=tD;function rD(e){return void 0!==e&&""!==e&&null!==e}var oD=async function(e,t,n){if(!rD(e)||!rD(t)||!rD(n))return console.error("ab-impression not well defined input parameter for the fireImpression method"),!1;try{return await async function(e,t,n){let r=void 0,o=void 0,i=void 0;try{i=await nD(n)}catch(oA){console.error("Error getting datafile: ".concat(oA))}if(i){const a=i.experiments.find(t=>t.key===e);if(!a)throw new Error("Experiment ".concat(e," not active in ").concat(n,"."));r=a.id?a.id.toString():void 0;const s=a.variations.find(e=>e.key===t);if(!s)throw new Error("Experiment ".concat(e," does not have variation ").concat(t));o=s.id?s.id.toString():void 0}const a={experimentName:e,variationName:t,experimentId:r,variationId:o,nonInteraction:1,experimentIdSession:r,variationIdSession:o,experimentIdUser:r,variationIdUser:o,optimizelySdkKey:n,impressionEventVersion:2};window&&window.tracking&&window.tracking.track?s(a):window.addEventListener("trackingReady",(function(){s(a)}));function s(e){window.tracking.track("Experiment Viewed",e)}}(e,t,n),!0}catch(r){return console.error("Error sending impression: ".concat(r)),!1}};const iD=(e,t)=>aD(e,t,"TL6bJ6aeorhsvy5X8LGMVX"),aD=(e,t,n)=>{try{oD(e,t,n)}catch(r){qn("could not track experiment",{contextData:{experimentKey:e,experimentVariation:t},error:r})}},sD="accessories",cD="envelopes",uD="brand-manager",lD="cart",dD="cross-sell",pD="logged-in-homepage",fD="logo-maker-cross-sell",hD="product-page-v2",mD="product-page-lat";eD.getFeaturesClient("cross-sell studio");const gD=l.a.createContext(void 0),vD=e=>{const[t,n]=Object(u.useState)(!1),{locale:r}=qR();return Object(u.useEffect)(()=>{m(void 0,void 0,void 0,(function*(){n(yield bD(r,e.page))}))},[]),l.a.createElement(gD.Provider,{value:{xssEditIconEnabled:t}},e.children)},yD=()=>{const e=Object(u.useContext)(gD);if(void 0===e)throw new Error("useFeatureToggleContext must be used with FeatureToggleProvider");return e},bD=(e,t)=>m(void 0,void 0,void 0,(function*(){if("en-gb"===e&&t===dD){const e="recommendations_ui_updates_-_edit_button",t=Object(KR.a)(e);if("variation_1"===t)return iD(e,t),!1;if("variation_2"===t)return iD(e,t),!0}return(yield eD.getFeaturesClient("cross-sell studio")).isFeatureEnabled("recommendations-edit-icon")})),wD=(e,t,n,r,o,i,a,s)=>{const c=()=>{const[e,c]=Object(u.useState)(!1),d=WR(),p=yD();return l.a.createElement(zr.StandardTile,null,l.a.createElement(zr.StandardTileOverlay,null,p.xssEditIconEnabled&&!e&&n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null," "),l.a.createElement(n,{onSuccess:()=>{c(!0)}}))),l.a.createElement(r,{ctaSuccessfullyClicked:e,onSuccess:()=>{c(!0)}},l.a.createElement(zr.StandardTileImage,null,l.a.createElement(zr.BasicResponsiveImage,{aspectRatio:1,src:d.editableOffer.imageUrl,alt:d.offer.title}),!e||l.a.createElement(o,null))),l.a.createElement(zr.StandardTileContents,null,l.a.createElement(zr.StandardTileName,null,d.offer.title,!p.xssEditIconEnabled&&!e&&n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{key:1},". "),l.a.createElement(n,{onSuccess:()=>{c(!0)}}))),l.a.createElement(zr.StandardTileDescription,null,d.offer.description),l.a.createElement(zr.StandardTilePrice,null,l.a.createElement(a,null)),l.a.createElement(i,null)),!e&&l.a.createElement(zr.StandardTileFooter,null,l.a.createElement(s,{disabled:e}),l.a.createElement(t,{onSuccess:()=>{c(!0)}})))};return c.displayName=e,c},OD=l.a.createContext(void 0),ED=()=>{const e=Object(u.useContext)(OD);if(!e)throw new Error("usePricingContext must be used with PricingContextProvider");return e.context},xD=()=>{const e=qR(),t=WR(),n=ED();if(void 0===n)return l.a.createElement(u.Fragment,null);const r=t.offer.prices.availablePrices.find(e=>e.quantity===t.editableOffer.quantity);if(!r)throw new Error("unable to find price for ".concat(t.offer.mpvId," for selected quantity ").concat(t.editableOffer.quantity,": ").concat(JSON.stringify(t.offer.prices.availablePrices)));return l.a.createElement(UM.QtyStartingAtPrice,{placeHolderText:"...",pricingInfo:{quantity:t.editableOffer.quantity,listPrice:Dn(r.listPrice,n.vatInclusive),discountPrice:Dn(r.discountedPrice,n.vatInclusive),vatInc:n.vatInclusive,currency:t.offer.prices.currency,minimumFractionDigits:t.offer.prices.fractionDigits,culture:e.locale}})},SD=e=>{window.location.href=e};var PD={AddedToCart:"Lagt i indkøbsvogn",AddingToCart:"Lægges i indkøbsvogn",AddToCart:"Læg i indkøbsvogn",AddToCartError:"Der opstod en fejl, da varen blev lagt i indkøbsvognen. Prøv igen senere.",CrossSellStudioCta:"Opdater og læg i indkøbsvogn",Edit:"Rediger",EditAndAdd:"Rediger og tilføj",EditError:"Der opstod en uventet fejl. Prøv igen senere.",Loading:"Indlæser",Quantity:"Antal",RelatedAccessories:"Relateret tilbehør",StartDesigning:"Begynd at designe",WhiteEnvelopesTooltip:"Vi tilbyder hvide konvolutter i det antal, der passer til antallet af kort i indkøbsvognen."},CD={AddedToCart:"Zum Warenkorb hinzugefügt",AddingToCart:"Wird dem Warenkorb hinzugefügt",AddToCart:"Zum Warenkorb hinzufügen",AddToCartError:"Beim Hinzufügen des Artikels zum Warenkorb ist ein Fehler aufgetreten. Bitte versuchen Sie es später noch einmal.",CrossSellStudioCta:"Aktualisieren und zum Warenkorb hinzufügen",Edit:"Bearbeiten",EditAndAdd:"Bearbeiten und hinzufügen",EditError:"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es später noch einmal.",Loading:"Ladevorgang",Quantity:"Menge",RelatedAccessories:"Ähnliches Zubehör",StartDesigning:"Jetzt gestalten",WhiteEnvelopesTooltip:"Für die Karten im Warenkorb bieten wir die entsprechende Menge an weißen Umschlägen."},TD={AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",AddToCart:"Add to cart",AddToCartError:"There was an error while adding product to cart. Please try again later.",CrossSellStudioCta:"Update & add to cart",Edit:"Edit",EditError:"There was an unexpected error. Please try again later.",Loading:"Loading",Quantity:"Quantity",RelatedAccessories:"Related Accessories",StartDesigning:"Start designing",WhiteEnvelopesTooltip:"We offer white envelopes in quantities that match the number of cards in your cart."},_D={AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",AddToCart:"Add to cart",AddToCartError:"There was an error while adding product to cart. Please try again later.",CrossSellStudioCta:"Update & add to cart",Edit:"Edit",EditError:"There was an unexpected error. Please try again later.",Loading:"Loading",Quantity:"Quantity",RelatedAccessories:"Related Accessories",StartDesigning:"Start designing",WhiteEnvelopesTooltip:"We offer white envelopes in quantities that match the number of cards in your cart."},kD={AddedToCart:"Added to basket",AddingToCart:"Is being added to basket",AddToCart:"Add to basket",AddToCartError:"There was an error while adding product to basket. Please try again later.",CrossSellStudioCta:"Update & add to basket",Edit:"Edit",EditAndAdd:"Edit & add",EditError:"There was an unexpected error. Please try again later.",Loading:"Loading",Quantity:"Quantity",RelatedAccessories:"Related Accessories",StartDesigning:"Start designing",WhiteEnvelopesTooltip:"We offer white envelopes in quantities that match the number of cards in your basket."},ID={AddedToCart:"Ajouté au panier",AddingToCart:"En cours d’ajout au panier",AddToCart:"Ajouter au panier",AddToCartError:"Une erreur s’est produite lors de l’ajout du produit au panier. Veuillez réessayer plus tard.",CrossSellStudioCta:"Mettre à jour et ajouter au panier",Edit:"Modifier",EditAndAdd:"Modifier et ajouter",EditError:"Une erreur inattendue s’est produite. Veuillez réessayer plus tard.",Loading:"Chargement",Quantity:"Quantité",RelatedAccessories:"Accessoires associés",StartDesigning:"Je crée les miennes",WhiteEnvelopesTooltip:"Le nombre d’enveloppes blanches ajouté à votre panier correspond au nombre de cartes sélectionné par vos soins."},MD={AddedToCart:"Articolo aggiunto al carrello",AddingToCart:"L’articolo è stato aggiunto al carrello",AddToCart:"Aggiungi al carrello",AddToCartError:"Si è verificato un errore durante l’aggiunta del prodotto al carrello. Riprova più tardi.",CrossSellStudioCta:"Aggiorna e aggiungi al carrello",Edit:"Modifica",EditAndAdd:"Modifica e aggiungi",EditError:"Si è verificato un errore inaspettato. Riprova più tardi.",Loading:"Caricamento in corso",Quantity:"Quantità",RelatedAccessories:"Accessori correlati",StartDesigning:"Inizia a creare",WhiteEnvelopesTooltip:"Offriamo una quantità di buste da lettera bianche corrispondente al numero di biglietti presenti nel carrello."},jD={AddedToCart:"Toegevoegd aan winkelwagentje",AddingToCart:"Wordt toegevoegd aan winkelwagentje",AddToCart:"Voeg toe aan winkelwagentje",AddToCartError:"Er is een fout opgetreden tijdens het toevoegen aan het winkelwagentje. Probeer het later opnieuw.",CrossSellStudioCta:"Updaten en toevoegen aan winkelwagentje",Edit:"Bewerken",EditAndAdd:"Bewerken en toevoegen",EditError:"Er is een onverwachte fout opgetreden. Probeer het later opnieuw.",Loading:"Bezig met laden",Quantity:"Aantal",RelatedAccessories:"Gerelateerde accessoires",StartDesigning:"Ontwerpen",WhiteEnvelopesTooltip:"We bieden witte enveloppen in dezelfde hoeveelheid als het aantal kaarten in je winkelwagentje."},AD={"da-dk":PD,"de-at":CD,"de-de":CD,"de-ch":CD,"en-au":TD,"en-ca":_D,"en-gb":kD,"en-ie":kD,"en-in":{AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",AddToCart:"Add to cart",AddToCartError:"There was an error while adding product to cart. Please try again later.",CrossSellStudioCta:"Update & add to basket",Edit:"Edit",EditError:"There was an unexpected error. Please try again later.",Loading:"Loading",Quantity:"Quantity",RelatedAccessories:"Related Accessories",StartDesigning:"Start designing",WhiteEnvelopesTooltip:"We offer white envelopes in quantities that match the number of cards in your cart."},"en-nz":TD,"en-sg":TD,"en-us":_D,"es-es":{AddedToCart:"Añadido a la cesta",AddingToCart:"Se está añadiendo a la cesta",AddToCart:"Añadir a la cesta",AddToCartError:"Se ha producido un error al añadir el producto a la cesta. Vuelve a intentarlo más tarde.",CrossSellStudioCta:"Actualizar y añadir a la cesta",Edit:"Editar",EditAndAdd:"Editar y añadir",EditError:"Se produjo un error inesperado. Vuelve a intentarlo más tarde.",Loading:"Cargando",Quantity:"Cantidad",RelatedAccessories:"Accesorios relacionados",StartDesigning:"Empezar a diseñar",WhiteEnvelopesTooltip:"Ofrecemos sobres blancos en cantidades que coinciden con el número de tarjetas de tu cesta."},"es-us":{AddedToCart:"Se agregó al carrito de compras",AddingToCart:"Se agregará al carrito de compras",AddToCart:"Agregar al carrito de compras",AddToCartError:"Se produjo un error al agregar el producto al carrito de compras. Por favor, vuelva a intentarlo más tarde.",CrossSellStudioCta:"Actualizar y agregar al carrito de compras",Edit:"Editar",EditAndAdd:"Editar y agregar",EditError:"Ha ocurrido un error inesperado. Por favor, vuelva a intentarlo más tarde.",Loading:"Cargando",Quantity:"Cantidad",RelatedAccessories:"Accesorios relacionados",StartDesigning:"Empezar a diseñar",WhiteEnvelopesTooltip:"Ofrecemos sobres blancos en cantidades que coinciden con la cantidad de tarjetas en su carrito de compras."},"fi-fi":{AddedToCart:"Lisätty ostoskoriin",AddingToCart:"Lisätään ostoskoriin",AddToCart:"Lisää ostoskoriin",AddToCartError:"Tuotteen lisäämisessä ostoskoriin tapahtui virhe. Yritä myöhemmin uudelleen.",CrossSellStudioCta:"Päivitä ja lisää ostoskoriin",Edit:"Muokkaa",EditAndAdd:"Muokkaa ja lisää",EditError:"Tapahtui odottamaton virhe. Yritä myöhemmin uudelleen.",Loading:"Ladataan",Quantity:"Määrä",RelatedAccessories:"Tähän liittyviä lisätuotteita",StartDesigning:"Aloita suunnittelu",WhiteEnvelopesTooltip:"Tarjoamme mukaan valkoisia kirjekuoria, joiden lukumäärä vastaa ostoskorisi sisältämien korttien määrää."},"fr-be":ID,"fr-ca":{AddedToCart:"Ajouté au panier",AddingToCart:"Est en cours d’ajout au panier",AddToCart:"Ajouter au panier",AddToCartError:"Une erreur est survenue lors de l’ajout du produit au panier. Veuillez réessayer plus tard.",CrossSellStudioCta:"Mettre à jour et ajouter au panier",Edit:"Modifier",EditAndAdd:"Modifier et ajouter",EditError:"Une erreur inattendue s’est produite. Veuillez réessayer plus tard.",Loading:"Chargement en cours",Quantity:"Quantité",RelatedAccessories:"Accessoires associés",StartDesigning:"Je crée le mien",WhiteEnvelopesTooltip:"Nous proposons des enveloppes blanches dans les mêmes quantités que les cartes de votre panier."},"fr-ch":ID,"fr-fr":ID,"it-ch":MD,"it-it":MD,"ja-jp":{AddedToCart:"買い物かごに追加されました",AddingToCart:"が買い物かごに追加されました",AddToCart:"買い物かごに追加",AddToCartError:"買い物かごに追加中にエラーが発生しました。しばらくしてから、もう一度お試しください。",CrossSellStudioCta:"更新して買い物かごに入れる",Edit:"編集",EditAndAdd:"編集・追加",EditError:"エラーが発生しました。しばらくしてから、もう一度お試しください。",Loading:"読み込み中",Quantity:"数量",RelatedAccessories:"関連する付属アイテム",StartDesigning:"デザインを開始",WhiteEnvelopesTooltip:"買い物かごにあるカードの数に合わせて封筒をご用意します。"},"nb-no":{AddedToCart:"Legg i handlevogn",AddingToCart:"Legges i handlevogn",AddToCart:"Legg i handlevogn",AddToCartError:"Det oppsto en feil da produktet skulle legges i handlevognen. Prøv igjen senere.",CrossSellStudioCta:"Oppdatér og legg i handlevognen",Edit:"Rediger",EditAndAdd:"Redigere og legge til",EditError:"Det oppsto en uventet feil. Prøv igjen senere.",Loading:"Laster inn",Quantity:"Antall",RelatedAccessories:"Relatert tilbehør",StartDesigning:"Begynn utformingen",WhiteEnvelopesTooltip:"Vi tilbyr hvite konvolutter i samme antall som kortene du har i handlevognen."},"nl-be":jD,"nl-nl":jD,"pt-pt":{AddedToCart:"Adicionado ao cesto",AddingToCart:"Está a ser adicionado ao cesto",AddToCart:"Adicionar ao cesto",AddToCartError:"Ocorreu um erro ao adicionar o produto ao cesto. Tente novamente mais tarde.",CrossSellStudioCta:"Carregar e adicionar ao cesto",Edit:"Editar",EditAndAdd:"Editar e adicionar",EditError:"Ocorreu um erro inesperado. Tente novamente mais tarde.",Loading:"A carregar",Quantity:"Quantidade",RelatedAccessories:"Acessórios relacionados",StartDesigning:"Começar a criar",WhiteEnvelopesTooltip:"Oferecemos envelopes brancos em quantidades iguais ao número de cartões no seu cesto."},"sv-se":{AddedToCart:"Lades till i kundvagn",AddingToCart:"Läggs till i kundvagn",AddToCart:"Lägg till i kundvagn",AddToCartError:"Ett fel uppstod när produkten lades till i kundvagnen. Försök igen senare.",CrossSellStudioCta:"Uppdatera och lägg till i kundvagn",Edit:"Redigera",EditAndAdd:"Redigera och lägg till",EditError:"Ett oväntat fel har uppstått. Försök igen senare.",Loading:"Laddar",Quantity:"Antal",RelatedAccessories:"Närbesläktade tillbehör",StartDesigning:"Börja designa",WhiteEnvelopesTooltip:"Vi erbjuder vita kuvert i samma antal som antalet kort i din kundvagn."}};const RD=(e,t)=>{try{const n=t.toLowerCase(),r=e in AD[n]?DD(e,AD[n]):LD(e,AD[n]);return qr.sanitize(r)}catch(n){return Gn("Error getting localized content",{contextData:{key:e,locale:t},error:n}),""}},DD=(e,t)=>{const n=t[e];return"string"==typeof n?n:""},LD=(e,t)=>{const n=Object.values(t).filter(e=>"object"==typeof e).find(t=>Object.keys(t).includes(e));return n?n[e]:""},ND=e=>{const t=qR();return l.a.createElement(l.a.Fragment,null,RD(e.text,t.locale))},UD="AddToCart",FD="AddToCartError",BD="AddedToCart",zD="AddingToCart",VD="Edit",qD="EditAndAdd",GD="Loading",HD="Quantity",WD="StartDesigning",KD="WhiteEnvelopesTooltip",QD="CrossSellStudioCta",YD=l.a.createContext(void 0),ZD=e=>l.a.createElement(YD.Provider,{value:Object.assign({},e)},e.children),JD=()=>{const e=Object(u.useContext)(YD);if(void 0===e)throw new Error("usePageContext must be used with PageContextProvider");return e},XD=l.a.createContext(void 0),$D=e=>l.a.createElement(XD.Provider,{value:Object.assign({},e)},e.children),eL=()=>{const e=Object(u.useContext)(XD);if(void 0===e)throw new Error("useTrackingContext must be used with TrackingContextProvider");return e},tL=l.a.createContext(void 0),nL=e=>{const t=JD(),n=qR(),r=WR(),o=eL().trackingService,i=()=>Object.assign(Object.assign({},r.offer),{productOptions:r.editableOffer.productOptions,quantity:r.editableOffer.quantity,imageUrl:r.editableOffer.imageUrl,documentRealizationUrl:r.editableOffer.documentRealizationUrl});return l.a.createElement(tL.Provider,{value:{trackAddToCart:(e,i,a,s,c)=>{const u=Object.assign(Object.assign({},r.offer),{productOptions:e,quantity:i,imageUrl:r.editableOffer.imageUrl,documentRealizationUrl:a});o.trackAddToCart(t.page,t.sourceMpvId,n.tenant,n.locale,u,s,c)},trackProductClicked:e=>{o.trackProductClicked(t.page,t.sourceMpvId,n.tenant,n.locale,i(),e)},trackEditInStudio:(e,i,a,s,c)=>{const u=Object.assign(Object.assign({},r.offer),{productOptions:e,quantity:i,imageUrl:r.editableOffer.imageUrl,documentRealizationUrl:a});o.trackEditInStudio(t.page,t.sourceMpvId,n.tenant,n.locale,u,s,c)},trackStartDesigning:e=>{o.trackStartDesigning(t.page,t.sourceMpvId,n.tenant,n.locale,i(),e)},trackDetailsClicked:e=>{o.trackDetailsClicked(t.page,t.sourceMpvId,n.tenant,n.locale,i(),e)},trackEditAndAddClicked:e=>{o.trackEditAndAddClicked(t.page,t.sourceMpvId,n.tenant,n.locale,i(),e)},trackCloseNanoStudioClicked:e=>{o.trackCloseNanoStudioClicked(t.page,t.sourceMpvId,n.tenant,n.locale,i(),e)},trackAddToBasketInteractionTimed:e=>{o.trackAddToCartInteractionTimed(t.page,t.sourceMpvId,e)}}},e.children)},rL=()=>{const e=Object(u.useContext)(tL);if(void 0===e)throw new Error("useTrackingOfferContext must be used with TrackingOfferContextProvider");return e},oL=l.a.createContext(void 0),iL=e=>{const t=Object(zr.useScreenClass)(),n={showTitle:e.page!==cD,showCtas:e.page!==hD&&e.page!==mD,isLargeOrMediumScreen:"lg"===t||"md"===t,noPreloader:e.page===pD||e.page===lD||e.page===uD,imageWidth:e.imageWidth};return l.a.createElement(oL.Provider,{value:n},e.children)},aL=()=>{const e=Object(u.useContext)(oL);if(void 0===e)throw new Error("useLookAndFeelContext must be used with LookAndFeelContextProvider");return e},sL=wD("StartDesigningOfferTile",()=>{const e=WR(),t=aL();if(!e.offer.configureUrl)throw new Error("Cannot build a StartDesigningOfferTile without a URL to configure the product");return t.showCtas?l.a.createElement(cL,{url:e.offer.configureUrl}):l.a.createElement(l.a.Fragment,null)},null,e=>{const t=WR();if(!t.offer.configureUrl)throw new Error("Cannot build a StartDesigningOfferTile without a URL to configure the product");return l.a.createElement(cL,{url:t.offer.configureUrl},e.children)},()=>null,()=>null,()=>l.a.createElement(xD,null),()=>null),cL=e=>{const{trackStartDesigning:t,trackProductClicked:n}=rL(),{page:r}=JD(),o=(o,i)=>l.a.createElement(zr.Link,{skin:i,component:"button",onClick:()=>{r===hD||r===mD?n():t(),SD(e.url)}},o);return e.children?o(e.children):o(l.a.createElement(ND,{text:WD}),"cta")},uL=l.a.createContext(void 0),lL=e=>{const t=P();return l.a.createElement(uL.Provider,{value:{shopperId:e.shopperId||t&&t.profile["https://claims.cimpress.io/canonical_id"],accessToken:t&&t.accessToken}},e.children)},dL=()=>{const e=Object(u.useContext)(uL);if(void 0===e)throw new Error("useAuthContext must be used with AuthContextProvider");return e},pL=e=>{const t=dL(),n=qR(),r=WR(),o=BR(),{addToCartCallback:i}=JD(),[a,s]=Object(u.useState)(!1),[c,d]=Object(u.useState)(!1),[p,f]=Object(u.useState)(!0),[h,g]=Object(u.useState)(!0),{trackAddToCart:v,trackAddToBasketInteractionTimed:y}=rL();return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(ND,{text:FD}),c?l.a.createElement(zr.BasicPreloader,{inline:!0,visuallyHiddenLabel:RD(zD,n.locale)}):h?l.a.createElement(zr.TextButton,{skin:"primary",component:"button",widthVariant:"full-width",sizeVariant:"super",onClick:()=>m(void 0,void 0,void 0,(function*(){const a=Date.now();try{d(!0);const s=yield(c=n.tenant,u=n.locale,l=t.shopperId,h=r.offer.productKey,b=r.offer.productVersion,w=r.editableOffer.productOptions,O=r.offer.mpvId,E=r.offer.title,x=r.editableOffer.quantity,S=r.offer.prices.availablePrices.map(e=>e.quantity),P=r.offer.localizedOptions,C=r.offer.hasQuantitySelectionPage,T=t.accessToken,_=r.editableOffer.imageUrl,k=r.editableOffer.documentRealizationUrl,I=o.parentWorkId,m(void 0,void 0,void 0,(function*(){const e="https://patch.personalization.vpsvc.com/api/v1/addToCart/".concat(c,"/").concat(u,"/").concat(l)+Zt.stringify({requestor:"recommendations"},{addQueryPrefix:!0});return(yield Nn.a.post(e,Object.assign(Object.assign(Object.assign(Object.assign({productKey:h,productVersion:b,productOptions:w,mpvId:O,productDisplayName:E,quantity:x,availableQuantities:S,localizedOptions:P},_&&{imageUrl:_}),k&&{documentUrl:k}),I&&{parentWorkEntityId:I}),{hasQuantitySelectionPage:C}),{headers:{Authorization:"Bearer ".concat(T)}})).data})));v(r.editableOffer.productOptions,r.editableOffer.quantity,s.documentUrl,s.workId),d(!1),i&&i(),e.onProductAddedToCart(s.workId)}catch(M){Gn("Error adding to cart",{contextData:{offer:r.offer,updatedOfferDetails:r.editableOffer},error:M}),d(!1),s(!0)}finally{y(Date.now()-a),!p&&g(!1),f(!1)}var c,u,l,h,b,w,O,E,x,S,P,C,T,_,k,I}))},l.a.createElement(ND,{text:UD})):l.a.createElement(l.a.Fragment,null))},fL=e=>{const t=qR(),{isLargeOrMediumScreen:n}=aL();return l.a.createElement(zr.StandardForm,null,l.a.createElement(zr.Box,{mt:n?3:2,mb:3},l.a.createElement(zr.FormField,null,l.a.createElement(zr.Box,{mb:3},l.a.createElement(zr.FormLabel,null,RD(HD,t.locale))),void 0!==e.tooltip?l.a.createElement(zr.Popover,{style:{width:"100%"}},l.a.createElement(zr.PopoverLauncher,null,l.a.createElement(hL,{disabled:e.disabled})),l.a.createElement(zr.PopoverContent,{style:{maxWidth:"100%"}},e.tooltip)):l.a.createElement(hL,{disabled:e.disabled}))))},hL=e=>{const t=WR(),n=t.offer.prices.availablePrices.map(e=>e.quantity);return l.a.createElement(zr.Listbox,{disabled:e.disabled||1===n.length,fullWidth:!0,onChange:e=>{const n=parseInt(e);t.editableOffer.setQuantity(n)},value:t.editableOffer.quantity.toString()},l.a.createElement(zr.ListboxButton,null),l.a.createElement(zr.ListboxPopover,null,l.a.createElement(zr.ListboxList,null,n.map((e,t)=>l.a.createElement(zr.ListboxOption,{key:t,value:e.toString()},e)))))},mL=(e,t,n)=>n&&n[e]&&n[e].values[t]||t,gL="https://accessories.personalization.vpsvc.com/api/v1",vL=e=>{const t=Object(u.useMemo)(()=>e.selectableOptions.find(e=>"Color"===e.name&&e.values.length>1),[JSON.stringify(e.selectableOptions)]),n=qR(),r=t=>m(void 0,void 0,void 0,(function*(){try{const c=yield(r=n.tenant,o=n.locale,i=e.mpvId,a=Object.assign(Object.assign({},e.productOptions),{Color:t}),s=e.imageWidth,m(void 0,void 0,void 0,(function*(){const e={tenant:r,locale:o,mpvId:i,productOptions:a,imageWidth:s,requestor:"recommendations"},t="".concat(gL,"/assets")+Zt.stringify(e,{addQueryPrefix:!0,sort:(e,t)=>e.localeCompare(t)});return(yield Nn.a.get(t)).data})));c&&e.setImageUrl(c.imageUrl)}catch(c){Gn("could not get asset for color ".concat(t),{error:c})}var r,o,i,a,s;e.setProductOptions(Object.assign(Object.assign({},e.productOptions),{Color:t}),e.productOptions.Color,t)}));return t?l.a.createElement(zr.SelectionSet,{defaultSelectedValue:e.productOptions.Color,onSelectedValueChange:e=>m(void 0,void 0,void 0,(function*(){return yield r(e)}))},l.a.createElement(zr.ColorSwatches,{marginTop:3,marginBottom:3},null==t?void 0:t.values.map(t=>l.a.createElement(zr.SelectionSetInput,{name:t,value:t,key:t},l.a.createElement(zr.SelectionSetLabel,null,l.a.createElement(zr.ColorSwatch,{primaryColor:t,title:mL("Color",t,e.localizationOptions)})))))):l.a.createElement(l.a.Fragment,null)},yL=e=>l.a.createElement("div",{style:{opacity:1,position:"absolute",bottom:0,background:"rgba(0, 0, 0, 0.7)",width:"100%",height:"100%",textAlign:"center"}},l.a.createElement("style",null,"\n      .control-icon::before {\n        height: 40px;\n        width: 40px;\n        background-size: contain;\n      }\n      "),l.a.createElement(zr.ControlIcon,{iconType:"check",skin:"white",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),l.a.createElement("span",{style:{position:"relative",top:"58%",color:"white",fontWeight:"bold",lineHeight:"initial"}},e.text)),bL=()=>{const e=qR();return l.a.createElement(yL,{text:RD(BD,e.locale)})},wL=()=>{const e=qR(),t=ED(),n=WR();if(!t)return null;const{listPrice:r,discountedPrice:o}=OL(n.offer.prices.availablePrices,n.editableOffer.quantity,t.vatInclusive);return l.a.createElement(UM.RawPrice,{placeHolderText:"...",pricingInfo:{discountPrice:o,listPrice:r,vatInc:t.vatInclusive,minimumFractionDigits:n.offer.prices.fractionDigits,culture:e.locale,currency:n.offer.prices.currency}})},OL=(e,t,n)=>{const r=EL(e,t);return{listPrice:n?r.listPrice.taxed:r.listPrice.untaxed,discountedPrice:n?r.discountedPrice.taxed:r.discountedPrice.untaxed}},EL=(e,t)=>{const n=e.find(e=>e.quantity===t);if(!n)throw new Error("price not found for quantity: ".concat(t," in quantities ").concat(JSON.stringify(e)));return n},xL=wD("NonDesignableOfferTile",e=>l.a.createElement(pL,{onProductAddedToCart:e.onSuccess}),null,e=>l.a.createElement(zr.Box,null,e.children),bL,()=>{const e=WR(),t=aL();return l.a.createElement(vL,{mpvId:e.offer.mpvId,selectableOptions:e.offer.selectableOptions,localizationOptions:e.offer.localizedOptions,productOptions:e.editableOffer.productOptions,imageWidth:t.imageWidth,setProductOptions:e.editableOffer.setProductOptions,setImageUrl:e.editableOffer.setImageUrl})},()=>l.a.createElement(wL,null),e=>{const t=WR(),n=qR(),r="whiteEnvelopes"===t.offer.mpvId?RD(KD,n.locale):void 0;return l.a.createElement(fL,{disabled:e.disabled,tooltip:r})});var SL=n("b7j7");const PL=e=>{const t=qR(),n=dL(),r=SL.a.exports.useErrorHandler(),{trackEditInStudio:o}=rL(),i=()=>m(void 0,void 0,void 0,(function*(){try{const r=yield(a=e.documentRealizationUrl,s=n.accessToken,m(void 0,void 0,void 0,(function*(){const e=yield Hr(a);return yield Kr(e,s)}))),c=yield Zr(t.tenant,t.locale,e.mpvId,e.productKey,e.productVersion,e.productOptions,r._links,e.quantity,n.shopperId,n.accessToken,"recommendations",((e,t,n)=>{if(e)return t.Size?{qty:'{"'.concat(t.Size,'": ').concat(n,"}")}:{qty:n.toString()}})(e.hasQuantitySelectionPage,e.productOptions,e.quantity));o(e.productOptions,e.quantity,r._links.self.href,c.workId);const u=yield(i=t.locale,m(void 0,void 0,void 0,(function*(){return(yield Nn.a.get("".concat("https://url.prod.merch.vpsvc.com","/v3/url/vistaprint/").concat(i,"/other:studio?requestor=recommendations"))).data.url})));SD("".concat(u,"?workId=").concat(c.workId))}catch(c){r(c)}var i,a,s})),a=(e,t)=>l.a.createElement(zr.Link,{skin:t,component:"button",onClick:i},e);return e.children?a(e.children):"primary"===e.skin?(s=l.a.createElement(ND,{text:VD}),c=e.skin,l.a.createElement(zr.TextButton,{skin:c,component:"button",widthVariant:"full-width",sizeVariant:"super",onClick:i},s)):a(l.a.createElement(ND,{text:VD}),e.skin);var s,c},CL=()=>{const{isLargeOrMediumScreen:e}=aL(),t=qR();return l.a.createElement(zr.Link,{component:"button",skin:"standard"},l.a.createElement("img",{width:e?50:36,alt:RD(QD,t.locale),src:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzYgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE3IiBmaWxsPSIjRjhGOEY4IiBmaWxsLW9wYWNpdHk9IjAuOCIgc3Ryb2tlPSIjREZERkRGIiBzdHJva2Utd2lkdGg9IjEiLz4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzJfNTgpIj4KPHBhdGggZD0iTTE0LjA2NzIgMjEuNjc3N0wxMy45MDM1IDE5LjA5MTZMMjIuNDEzOSAxMC41ODEyTDI1IDEzLjE2NzNMMTYuNDg5NiAyMS42Nzc3TDE0LjA2NzIgMjEuNjc3N1oiIHN0cm9rZT0iYmxhY2siLz4KPGxpbmUgeDE9IjE5Ljc1MzYiIHkxPSIxMy4wMjY1IiB4Mj0iMjIuNDgxIiB5Mj0iMTUuNzUzOSIgc3Ryb2tlPSJibGFjayIvPgo8bGluZSB4MT0iMTEuNSIgeTE9IjI1LjUiIHgyPSIyNC41IiB5Mj0iMjUuNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMl81OCI+CjxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPg=="}))},TL=e=>{const t=WR();if(!t.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return l.a.createElement(PL,{mpvId:t.offer.mpvId,productKey:t.offer.productKey,productVersion:t.offer.productVersion,productOptions:t.editableOffer.productOptions,quantity:t.editableOffer.quantity,documentRealizationUrl:t.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:t.offer.hasQuantitySelectionPage},e.children)},_L=wD("MustEditInStudioOfferTile",()=>{const e=WR(),t=aL();if(!e.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return t.showCtas?l.a.createElement(PL,{mpvId:e.offer.mpvId,productKey:e.offer.productKey,productVersion:e.offer.productVersion,productOptions:e.editableOffer.productOptions,quantity:e.editableOffer.quantity,documentRealizationUrl:e.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:e.offer.hasQuantitySelectionPage,skin:"cta"}):l.a.createElement(l.a.Fragment,null)},null,TL,()=>null,()=>null,()=>l.a.createElement(xD,null),()=>null),kL=wD("MustEditInStudioOfferTile",()=>{const e=WR();if(!e.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return l.a.createElement(PL,{mpvId:e.offer.mpvId,productKey:e.offer.productKey,productVersion:e.offer.productVersion,productOptions:e.editableOffer.productOptions,quantity:e.editableOffer.quantity,documentRealizationUrl:e.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:e.offer.hasQuantitySelectionPage,skin:"primary"})},()=>{const e=WR(),t=yD();if(!e.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return t.xssEditIconEnabled?l.a.createElement(PL,{mpvId:e.offer.mpvId,productKey:e.offer.productKey,productVersion:e.offer.productVersion,productOptions:e.editableOffer.productOptions,quantity:e.editableOffer.quantity,documentRealizationUrl:e.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:e.offer.hasQuantitySelectionPage},l.a.createElement(CL,null)):l.a.createElement(l.a.Fragment,null)},TL,()=>null,()=>null,()=>l.a.createElement(xD,null),()=>null);vx('._2tO06{background-color:#666;width:100%}._2tO06._1FSiK{background-color:var(--visage-button-background-primary)}._10KVE:hover{color:var(--visage-color-white)!important;opacity:.6}._10KVE:hover:after{filter:var(--visage-link-icon-filter-cta-hover,var(--visage-icon-filter-white))!important}\n._SezM7{display:flex;justify-content:center;flex-direction:column;overflow:hidden}._364Fa,._SezM7{flex-grow:1;position:relative}._364Fa{background:var(--x-sell-studio-canvas-background)}\n._2f4BZ,.stylized-dialog-close-button._2f4BZ{display:inline-flex;flex-direction:column;align-items:center;background-color:transparent;border:none;height:auto;cursor:pointer;color:var(--visage-color-black);text-transform:uppercase;font-size:10px;padding:0 8px;border-radius:0}._2f4BZ:focus{outline:1px solid var(--visage-text-input-border-color-focus)}._2f4BZ svg{height:24px;margin-bottom:8px}\n._1HyQ7 .stylized-dialog{padding:0;display:flex;flex-direction:column}._1HyQ7 .stylized-dialog.stylized-dialog-panel{padding-left:24px;padding-right:24px;padding-top:24px}._27beB{display:flex;align-items:center;position:relative;position:-webkit-sticky;position:sticky;left:0;top:0;background-color:var(--visage-color-background);z-index:1}.stylized-dialog ._27beB._27beB{max-width:none;padding:var(--visage-modal-dialog-padding);margin-bottom:0}.stylized-dialog.stylized-dialog-panel .stylized-dialog-header._27beB{padding-bottom:16px}._P0RIZ{margin-left:auto;display:flex;align-items:center;margin-right:-8px}._2YKdo{padding:var(--visage-modal-dialog-padding);background-color:var(--x-sell-studio-canvas-background);display:flex;flex-direction:column;flex-grow:1;overflow-y:auto;-webkit-overflow-scrolling:touch}._2eiTG._2eiTG{position:static;height:auto;width:auto}._2eiTG._2eiTG:before{height:12px;width:12px;margin:6px 0 14px}\n._11oPf{max-width:450px;margin:auto}._2F_zZ{display:grid;grid-template-columns:1fr minmax(-webkit-min-content,160px);grid-template-columns:1fr minmax(min-content,160px);grid-template-rows:auto auto;grid-template-areas:"product    quantity" "details    quantity"}._13L4M{margin-bottom:0;grid-area:product;align-self:end;font-size:var(--visage-text-size-7);padding-top:4px}@media (min-width:1024px){._13L4M{font-size:var(--visage-text-size-6)}}._BeSfo{grid-area:details;align-self:start}._34kP4{font-size:var(--visage-text-size-7)!important;padding:4px 0!important}@media (min-width:1024px){._34kP4{font-size:var(--visage-text-size-6)!important}}._x5J98{grid-area:quantity}._2egCB{grid-area:cta}\n\n._1YjTw{display:none;width:auto;height:30px}@media (min-width:1024px){._1YjTw{display:inline}._u1jat{display:none}}\n\n\n._3UYIa{touch-action:manipulation}\n._376Ut{width:84px;outline:none;background:var(--x-sell-studio-mobile-keyboard-background-gray);color:#000;cursor:pointer;margin-right:10px;margin-left:10px;pointer-events:auto;box-sizing:content-box;padding:8px;border:4px solid transparent;border-top:none;border-bottom:none;touch-action:manipulation}._376Ut:focus{outline:1px solid var(--visage-dropdown-border-color-focus,var(--visage-color-brand-blue))}._SH8he{border:4px solid #6b7276}\n._2qyVq{background-color:var(--x-sell-studio-canvas-background);width:100%}\n._1Ig8Z{align-items:center;display:flex;flex-wrap:nowrap;justify-content:center;padding:19px}._38nJU{justify-content:flex-start;overflow:auto}._38d7X{align-items:center;display:flex;flex-wrap:nowrap;flex-shrink:0}\n._1SaPc{border-radius:0;overflow-x:hidden;padding:0}._nc6WW{display:flex;flex-grow:1;height:100%;width:100%}\n:root{--x-sell-studio-canvas-background:#dfdfdf;--x-sell-studio-mobile-keyboard-background-gray:#efefef}');const IL=()=>l.a.createElement(zr.Link,{component:"button",skin:"standard"},l.a.createElement(ND,{text:VD})),ML=()=>{const e=qR();return l.a.createElement(zr.TextButton,{skin:"primary",widthVariant:"full-width",sizeVariant:"super"},RD(QD,e.locale))},jL=e=>l.a.createElement(AL,{ctaSuccessfullyClicked:!1,onSuccess:e.onSuccess},l.a.createElement(CL,null)),AL=e=>{const t=ED(),n=qR(),r=WR(),o=BR(),{addToCartCallback:i}=JD(),a=dL(),{trackAddToCart:s,trackProductClicked:c,trackEditInStudio:d,trackDetailsClicked:p}=rL();return t?e.ctaSuccessfullyClicked?l.a.createElement(u.Fragment,null,e.children):l.a.createElement(xR,{title:"title",tenant:n.tenant,locale:n.locale,mpvId:r.offer.mpvId,productKey:r.offer.productKey,productVersion:r.offer.productVersion,productDisplayName:r.offer.title,localizedOptions:r.offer.localizedOptions,selectableOptions:r.offer.selectableOptions,initialOptions:r.editableOffer.productOptions,quantities:r.offer.prices.availablePrices.map(e=>e.quantity),initialQuantity:r.editableOffer.quantity,initialDocumentUri:r.editableOffer.documentRealizationUrl||"",hasQuantitySelectionPage:r.offer.hasQuantitySelectionPage,pricingContext:t.getEncodedContextString(),vatInclusive:t.vatInclusive,parentWorkId:o.parentWorkId,requestor:"recommendations",shopperId:a.shopperId,onProductAddedToCart:(t,n,r,o)=>{s(o,r,n,t,"cross-sell-studio"),i&&i(),e.onSuccess()},onEditInStudioClicked:(e,t,n)=>{d(r.editableOffer.productOptions,n,t,e,"cross-sell-studio")},onOptionsChanged:()=>{},onCrossSellStudioOpened:()=>{c("cross-sell-studio")},onCrossSellStudioClosed:()=>{},onDetailsClicked:()=>{p("cross-sell-studio")},views:null,isOpen:!1,onRequestDismiss:()=>null},e.children):l.a.createElement(u.Fragment,null)},RL=e=>e.ctaSuccessfullyClicked?l.a.createElement(u.Fragment,null,e.children):l.a.createElement(AL,{ctaSuccessfullyClicked:!1,onSuccess:e.onSuccess},e.children),DL=wD("CrossSellStudioOfferTile",e=>l.a.createElement(pL,{onProductAddedToCart:e.onSuccess}),e=>yD().xssEditIconEnabled?l.a.createElement(jL,Object.assign({},e)):l.a.createElement(AL,{ctaSuccessfullyClicked:!1,onSuccess:e.onSuccess},l.a.createElement(IL,null)),RL,bL,()=>null,()=>l.a.createElement(wL,null),e=>l.a.createElement(fL,{disabled:e.disabled})),LL=wD("CrossSellStudioOfferTileForPPAG",e=>l.a.createElement(AL,{ctaSuccessfullyClicked:!1,onSuccess:e.onSuccess},l.a.createElement(ML,null)),e=>yD().xssEditIconEnabled?l.a.createElement(jL,Object.assign({},e)):null,RL,bL,()=>null,()=>l.a.createElement(wL,null),e=>l.a.createElement(fL,{disabled:e.disabled})),NL=wD("EditInStudioAddToCartOfferTile",e=>l.a.createElement(pL,{onProductAddedToCart:e.onSuccess}),()=>{const e=WR(),t=yD();if(!e.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return l.a.createElement(PL,{mpvId:e.offer.mpvId,productKey:e.offer.productKey,productVersion:e.offer.productVersion,productOptions:e.editableOffer.productOptions,quantity:e.editableOffer.quantity,documentRealizationUrl:e.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:e.offer.hasQuantitySelectionPage},t.xssEditIconEnabled?l.a.createElement(CL,null):l.a.createElement(ND,{text:VD}))},e=>{const t=WR();if(!t.editableOffer.documentRealizationUrl)throw new Error("cannot edit in studio if offer does not contain a document url");return l.a.createElement(PL,{mpvId:t.offer.mpvId,productKey:t.offer.productKey,productVersion:t.offer.productVersion,productOptions:t.editableOffer.productOptions,quantity:t.editableOffer.quantity,documentRealizationUrl:t.editableOffer.documentRealizationUrl,hasQuantitySelectionPage:t.offer.hasQuantitySelectionPage},e.children)},bL,()=>null,()=>l.a.createElement(wL,null),e=>l.a.createElement(fL,{disabled:e.disabled}));n("BIHw");var UL={exports:{}},FL=(n("fBnT"),n("3uHJ"));!function(e){e.exports=FL.a.default,e.exports.default=e.exports}(UL);var BL=UL.exports,zL={};!function(e){const t=RM.a,n=DM.a,r=LM.a,o=NM.a,i=Symbol("encodeFragmentIdentifier");function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function c(e,t){return t.decode?n(e):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&c(n,e).includes(e.arrayFormatSeparator);n=i?c(n,e):n;const a=o||i?n.split(e.arrayFormatSeparator).map(t=>c(t,e)):null===n?n:c(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?c(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>c(t,e));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){if(""===i)continue;let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:c(a,t),n(c(e,t),a,o)}for(const r of Object.keys(o)){const e=o[r];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=d(e[n],t);else o[r]=d(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}e.extract=l,e.parse=p,e.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",o,"]"].join("")]:[...n,[s(t,e),"[",s(o,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),":list="].join("")]:[...n,[s(t,e),":list=",s(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[s(n,e),t,s(o,e)].join("")]:[[r,s(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),o={};for(const a of Object.keys(e))n(a)||(o[a]=e[a]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(n=>{const o=e[n];return void 0===o?"":null===o?s(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?s(n,t)+"[]":o.reduce(r(n),[]).join("&"):s(n,t)+"="+s(o,t)}).filter(e=>e.length>0).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,o]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(l(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:c(o,t)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0,[i]:!0},n);const r=u(t.url).split("?")[0]||"",o=e.extract(t.url),a=e.parse(o,{sort:!1}),c=Object.assign(a,t.query);let l=e.stringify(c,n);l&&(l="?".concat(l));let d=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(d="#".concat(n[i]?s(t.fragmentIdentifier,n):t.fragmentIdentifier)),"".concat(r).concat(l).concat(d)},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[i]:!1},r);const{url:a,query:s,fragmentIdentifier:c}=e.parseUrl(t,r);return e.stringifyUrl({url:a,query:o(s,n),fragmentIdentifier:c},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return e.pick(t,o,r)}}(zL);var VL={},qL={};Object.defineProperty(qL,"__esModule",{value:!0});var GL={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(GL.hover=window.matchMedia("(hover: hover)").matches,GL.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,GL.anyHover=window.matchMedia("(any-hover: hover)").matches,GL.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};GL.update(),qL.default=GL;var HL={};Object.defineProperty(HL,"__esModule",{value:!0});var WL={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(WL.fine=window.matchMedia("(pointer: fine)").matches,WL.coarse=window.matchMedia("(pointer: coarse)").matches,WL.none=window.matchMedia("(pointer: none)").matches,WL.anyFine=window.matchMedia("(any-pointer: fine)").matches,WL.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,WL.anyNone=window.matchMedia("(any-pointer: none)").matches)}};WL.update(),HL.default=WL;var KL={};Object.defineProperty(KL,"__esModule",{value:!0});var QL={update:function(){"undefined"!=typeof window&&(QL.hasSupport="ontouchstart"in window,QL.browserSupportsApi=Boolean(window.TouchEvent))}};QL.update(),KL.default=QL;var YL={};Object.defineProperty(YL,"__esModule",{value:!0});var ZL={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),ZL.hasSupport=e}}};ZL.update(),YL.default=ZL,Object.defineProperty(VL,"__esModule",{value:!0});var JL=tN(qL),XL=tN(HL),$L=tN(KL),eN=tN(YL);function tN(e){return e&&e.__esModule?e:{default:e}}var nN={state:{detectHover:JL.default,detectPointer:XL.default,detectTouchEvents:$L.default,detectPassiveEvents:eN.default},update:function(){nN.state.detectHover.update(),nN.state.detectPointer.update(),nN.state.detectTouchEvents.update(),nN.state.detectPassiveEvents.update(),nN.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){var e,t,n,r;"undefined"!=typeof window&&(nN.passiveEvents=nN.state.detectPassiveEvents.hasSupport||!1,nN.hasTouch=nN.state.detectTouchEvents.hasSupport||!1,nN.deviceType=(e=nN.hasTouch,t=nN.state.detectHover.anyHover,n=nN.state.detectPointer.anyFine,r=nN.state,e&&(t||n)?"hybrid":e&&Object.keys(r.detectHover).filter((function(e){return"update"!==e})).every((function(e){return!1===r.detectHover[e]}))&&Object.keys(r.detectPointer).filter((function(e){return"update"!==e})).every((function(e){return!1===r.detectPointer[e]}))?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":e?"touchOnly":"mouseOnly"),nN.hasMouse="touchOnly"!==nN.deviceType,nN.primaryInput=("mouseOnly"===nN.deviceType?"mouse":"touchOnly"===nN.deviceType&&"touch")||nN.state.detectHover.hover&&"mouse"||nN.state.detectHover.none&&"touch"||"mouse",/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10)>=59&&nN.hasTouch&&(nN.deviceType="hybrid",nN.hasMouse=!0,nN.primaryInput="mouse"))}};nN.updateOnlyOwnProperties();var rN,oN,iN,aN,sN,cN,uN,lN,dN=VL.default=nN,pN=n("Yb5V"),fN=Object(pN.a)(),hN={exports:{}};function mN(){if(oN)return rN;function e(e){return function(){return e}}oN=1;var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},rN=t}function gN(){if(aN)return iN;aN=1;return iN=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}function vN(){if(cN)return sN;cN=1;return sN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}hN.exports=function(){if(lN)return uN;lN=1;var e=mN(),t=gN(),n=vN();return uN=function(){function r(e,r,o,i,a,s){s!==n&&t(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function o(){return r}r.isRequired=r;var i={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o};return i.checkPropTypes=e,i.PropTypes=i,i}}()();hN.exports;var yN={exports:{}};var bN,wN,ON=n("3A28");n("7w1n"),n("Iwrm");yN.exports=function(){if(wN)return bN;wN=1;var e=Object(ON.a)();function t(){}function n(){}return n.resetWarningCache=t,bN=function(){function r(t,n,r,o,i,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}()();yN.exports;var EN=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)};function xN(e){return!0===EN(e)&&"[object Object]"===Object.prototype.toString.call(e)}var SN=function(e){var t,n;return!1!==xN(e)&&("function"==typeof(t=e.constructor)&&(!1!==xN(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},PN=function(e){return SN(e)||"function"==typeof e||Array.isArray(e)},CN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var TN=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}return CN(e,[{key:"getDocumentRelativeElementOffset",value:function(e){var t=this.getRootOfEl(e).getBoundingClientRect(),n=t.left,r=t.top,o=e.getBoundingClientRect(),i=o.left,a=o.top;return{x:Math.abs(n)+i,y:Math.abs(r)+a}}},{key:"getRootOfEl",value:function(e){return e.parentElement?this.getRootOfEl(e.parentElement):e}},{key:"getComputedElementRelativeCursorPosition",value:function(e,t){this.lastEvent=e;var n=this.getDocumentRelativeCursorPosition(e),r=n.x,o=n.y,i=t.x,a=t.y;return{x:Math.round(r-i),y:Math.round(o-a)}}},{key:"getDocumentRelativeCursorPosition",value:function(e){return{x:e.pageX,y:e.pageY}}},{key:"getCursorPosition",value:function(e){return this.getComputedElementRelativeCursorPosition(e,this.documentRelativeElementOffset)}},{key:"documentRelativeElementOffset",get:function(){return this.elementOffset||(this.elementOffset=this.getDocumentRelativeElementOffset(this.el)),this.elementOffset}}]),e}();function _N(e,t,n,r){return e.addEventListener(t,n,r),{removeEventListener:function(){e.removeEventListener(t,n,r)}}}var kN="touch",IN="tap",MN="press",jN="click",AN="hover",RN=function(){},DN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function LN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var NN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onIsActiveChanged;if(LN(this,e),"function"!=typeof n)throw new Error("onIsActiveChanged should be a function");this.onIsActiveChanged=n,this.isActive=!1,this.timers=[]}return DN(e,[{key:"activate",value:function(){this.isActive=!0,this.onIsActiveChanged({isActive:!0})}},{key:"deactivate",value:function(){this.isActive=!1,this.onIsActiveChanged({isActive:!1}),this.clearTimers()}},{key:"toggleActivation",value:function(){this.isActive?this.deactivate():this.activate()}},{key:"clearTimers",value:function(){for(var e=this.timers;e.length;){var t=e.pop();clearTimeout(t.id)}}},{key:"clearTimer",value:function(e){this.timers.forEach((function(t){t.name===e&&clearTimeout(t.id)}))}}]),e}(),UN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var FN=function(e){function t(e){var n=e.onIsActiveChanged;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}));return r.initialElTop=0,r.currentElTop=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),UN(t,[{key:"touchStarted",value:function(){}},{key:"touchMoved",value:function(){}},{key:"touchEnded",value:function(){this.deactivate()}},{key:"touchCanceled",value:function(){this.deactivate()}}]),t}(NN),BN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zN=function(e){function t(e){var n=e.onIsActiveChanged,r=e.pressDurationInMs,o=e.pressMoveThreshold;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}));return i.pressDurationInMs=r,i.pressMoveThreshold=o,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),BN(t,[{key:"touchStarted",value:function(e){var t=e.position;this.initPressEventCriteria(t),this.setPressEventTimer()}},{key:"touchMoved",value:function(e){var t=e.position;this.isActive||this.setPressEventCriteria(t)}},{key:"setPressEventTimer",value:function(){var e=this;this.timers.push({name:"pressEvent",id:setTimeout((function(){Math.abs(e.currentElTop-e.initialElTop)<e.pressMoveThreshold&&e.activate()}),this.pressDurationInMs)})}},{key:"setPressEventCriteria",value:function(e){this.currentElTop=e.y}},{key:"initPressEventCriteria",value:function(e){var t=e.y;this.initialElTop=t,this.currentElTop=t}}]),t}(FN),VN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qN=function(e){function t(e){var n=e.onIsActiveChanged;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),VN(t,[{key:"touchStarted",value:function(e){e.e.preventDefault(),this.activate()}}]),t}(FN),GN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var HN=function(e){function t(e){var n=e.onIsActiveChanged,r=e.tapDurationInMs,o=e.tapMoveThreshold;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}));return i.hasTapGestureEnded=!1,i.tapDurationInMs=r,i.tapMoveThreshold=o,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),GN(t,[{key:"touchStarted",value:function(e){var t=e.position;this.hasTapGestureEnded=!1,this.initMoveThreshold(t),this.setTapEventTimer()}},{key:"touchMoved",value:function(e){var t=e.position;this.isActive||this.setMoveThresholdCriteria(t)}},{key:"touchEnded",value:function(){this.hasTapGestureEnded=!0}},{key:"setTapEventTimer",value:function(){var e=this;this.timers.push({name:"tap",id:setTimeout((function(){e.isTapGestureActive&&e.toggleActivation()}),this.tapDurationInMs)})}},{key:"setMoveThresholdCriteria",value:function(e){this.currentElTop=e.y}},{key:"initMoveThreshold",value:function(e){var t=e.y;this.initialElTop=t,this.currentElTop=t}},{key:"hasPassedMoveThreshold",get:function(){return Math.abs(this.currentElTop-this.initialElTop)>this.tapMoveThreshold}},{key:"isTapGestureActive",get:function(){return!this.hasPassedMoveThreshold&&this.hasTapGestureEnded}}]),t}(FN),WN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var KN=function(e){function t(e){var n=e.onIsActiveChanged;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),WN(t,[{key:"mouseEntered",value:function(){}},{key:"mouseMoved",value:function(){}},{key:"mouseLeft",value:function(){}},{key:"mouseClicked",value:function(){}}]),t}(NN),QN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var YN=function(e){function t(e){var n=e.onIsActiveChanged,r=e.hoverDelayInMs,o=e.hoverOffDelayInMs;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}));return i.hoverDelayInMs=r,i.hoverOffDelayInMs=o,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),QN(t,[{key:"mouseEntered",value:function(){this.clearTimers(),this.schedulActivation(this.hoverDelayInMs)}},{key:"mouseLeft",value:function(){this.clearTimers(),this.scheduleDeactivation(this.hoverOffDelayInMs)}},{key:"schedulActivation",value:function(e){var t=this,n=setTimeout((function(){t.activate()}),e);this.timers.push({id:n,name:"setHovering"})}},{key:"scheduleDeactivation",value:function(e){var t=this,n=setTimeout((function(){t.deactivate()}),e);this.timers.push({id:n,name:"unsetHovering"})}}]),t}(KN),ZN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var JN=function(e){function t(e){var n=e.onIsActiveChanged;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{onIsActiveChanged:n}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ZN(t,[{key:"mouseClicked",value:function(){this.toggleActivation()}}]),t}(KN),XN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return eU.call(n),n.state={detectedEnvironment:{isMouseDetected:!1,isTouchDetected:!1},elementDimensions:{width:0,height:0},isActive:!1,isPositionOutside:!0,position:{x:0,y:0}},n.shouldGuardAgainstMouseEmulationByDevices=!1,n.eventListeners=[],n.timers=[],n.elementOffset={x:0,y:0},n.onTouchStart=n.onTouchStart.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.onTouchCancel=n.onTouchCancel.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.onClick=n.onClick.bind(n),n.onIsActiveChanged=n.onIsActiveChanged.bind(n),n.setTouchActivationStrategy(e.activationInteractionTouch),n.setMouseActivationStrategy(e.activationInteractionMouse),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),XN(t,[{key:"onIsActiveChanged",value:function(e){e.isActive?this.activate():this.deactivate()}},{key:"onTouchStart",value:function(e){this.init(),this.onTouchDetected(),this.setShouldGuardAgainstMouseEmulationByDevices();var t=this.core.getCursorPosition(this.getTouchEvent(e));this.setPositionState(t),this.touchActivation.touchStarted({e:e,position:t})}},{key:"onTouchMove",value:function(e){if(this.isCoreReady){var t=this.core.getCursorPosition(this.getTouchEvent(e));this.touchActivation.touchMoved({e:e,position:t}),this.state.isActive&&(this.setPositionState(t),e.preventDefault(),this.props.shouldStopTouchMovePropagation&&e.stopPropagation())}}},{key:"onTouchEnd",value:function(){this.touchActivation.touchEnded(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}},{key:"onTouchCancel",value:function(){this.touchActivation.touchCanceled(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}},{key:"onMouseEnter",value:function(e){this.shouldGuardAgainstMouseEmulationByDevices||(this.init(),this.onMouseDetected(),this.setPositionState(this.core.getCursorPosition(e)),this.mouseActivation.mouseEntered())}},{key:"onMouseMove",value:function(e){if(this.isCoreReady){var t=this.core.getCursorPosition(e);this.setPositionState(t),this.mouseActivation.mouseMoved(t)}}},{key:"onMouseLeave",value:function(){this.mouseActivation.mouseLeft(),this.setState({isPositionOutside:!0})}},{key:"onClick",value:function(e){this.setPositionState(this.core.getCursorPosition(e)),this.mouseActivation.mouseClicked(),this.onMouseDetected()}},{key:"onTouchDetected",value:function(){var e={isTouchDetected:!0,isMouseDetected:!1};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}},{key:"onMouseDetected",value:function(){var e={isTouchDetected:!1,isMouseDetected:!0};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}},{key:"componentDidMount",value:function(){this.props.isEnabled&&this.enable()}},{key:"componentWillReceiveProps",value:function(e){var t=e.isEnabled;this.props.isEnabled!==t&&(t?this.enable():this.disable())}},{key:"componentWillUnmount",value:function(){this.disable()}},{key:"enable",value:function(){this.addEventListeners()}},{key:"disable",value:function(){this.removeEventListeners()}},{key:"init",value:function(){this.core=new TN(this.el),this.setElementDimensionsState(this.getElementDimensions(this.el))}},{key:"setTouchActivationStrategy",value:function(e){var t=this.props,n=t.pressDurationInMs,r=t.pressMoveThreshold,o=t.tapDurationInMs,i=t.tapMoveThreshold;switch(e){case MN:this.touchActivation=new zN({onIsActiveChanged:this.onIsActiveChanged,pressDurationInMs:n,pressMoveThreshold:r});break;case IN:this.touchActivation=new HN({onIsActiveChanged:this.onIsActiveChanged,tapDurationInMs:o,tapMoveThreshold:i});break;case kN:this.touchActivation=new qN({onIsActiveChanged:this.onIsActiveChanged});break;default:throw new Error("Must implement a touch activation strategy")}}},{key:"setMouseActivationStrategy",value:function(e){var t=this.props,n=t.hoverDelayInMs,r=t.hoverOffDelayInMs;switch(e){case AN:this.mouseActivation=new YN({onIsActiveChanged:this.onIsActiveChanged,hoverDelayInMs:n,hoverOffDelayInMs:r});break;case jN:this.mouseActivation=new JN({onIsActiveChanged:this.onIsActiveChanged});break;default:throw new Error("Must implement a mouse activation strategy")}}},{key:"reset",value:function(){var e=this.core,t=(e=void 0===e?{}:e).lastEvent;this.init(),t&&this.setPositionState(this.core.getCursorPosition(t))}},{key:"activate",value:function(){this.setState({isActive:!0}),this.props.onActivationChanged({isActive:!0})}},{key:"deactivate",value:function(){var e=this;this.setState({isActive:!1},(function(){var t=e.state,n=t.isPositionOutside,r=t.position;e.props.onPositionChanged({isPositionOutside:n,position:r}),e.props.onActivationChanged({isActive:!1})}))}},{key:"setPositionState",value:function(e){var t=this.getIsPositionOutside(e);this.setState({isPositionOutside:t,position:e},this.onPositionChanged)}},{key:"setElementDimensionsState",value:function(e){this.setState({elementDimensions:e})}},{key:"setShouldGuardAgainstMouseEmulationByDevices",value:function(){this.shouldGuardAgainstMouseEmulationByDevices=!0}},{key:"unsetShouldGuardAgainstMouseEmulationByDevices",value:function(){var e=this;this.timers.push({name:"mouseEmulation",id:setTimeout((function(){e.shouldGuardAgainstMouseEmulationByDevices=!1}),0)})}},{key:"getElementDimensions",value:function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}},{key:"getIsPositionOutside",value:function(e){var t=e.x,n=e.y,r=this.state.elementDimensions,o=r.width,i=r.height;return t<0||n<0||t>o||n>i}},{key:"getTouchEvent",value:function(e){return e.touches[0]}},{key:"getIsReactComponent",value:function(e){return"function"==typeof e.type}},{key:"shouldDecorateChild",value:function(e){return!!e&&this.getIsReactComponent(e)&&this.props.shouldDecorateChildren}},{key:"decorateChild",value:function(e,t){return Object(u.cloneElement)(e,t)}},{key:"decorateChildren",value:function(e,t){var n=this;return u.Children.map(e,(function(e){return n.shouldDecorateChild(e)?n.decorateChild(e,t):e}))}},{key:"addEventListeners",value:function(){this.eventListeners.push(_N(this.el,"touchstart",this.onTouchStart,{passive:!1}),_N(this.el,"touchmove",this.onTouchMove,{passive:!1}),_N(this.el,"touchend",this.onTouchEnd),_N(this.el,"touchcancel",this.onTouchCancel),_N(this.el,"mouseenter",this.onMouseEnter),_N(this.el,"mousemove",this.onMouseMove),_N(this.el,"mouseleave",this.onMouseLeave),_N(this.el,"click",this.onClick))}},{key:"removeEventListeners",value:function(){for(;this.eventListeners.length;)this.eventListeners.pop().removeEventListener()}},{key:"getPassThroughProps",value:function(){var e=Object.keys(this.constructor.propTypes||{});if(e.length)return function(e,t,n){if(!PN(e))return{};"function"==typeof t&&(n=t,t=[]),"string"==typeof t&&(t=[t]);for(var r="function"==typeof n,o=Object.keys(e),i={},a=0;a<o.length;a++){var s=o[a],c=e[s];t&&(-1!==t.indexOf(s)||r&&!n(c,s,e))||(i[s]=c)}return i}(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,o=t.mapChildProps,i=t.style,a=fN({},o(this.state),this.getPassThroughProps());return l.a.createElement("div",{className:r,ref:function(t){return e.el=t},style:fN({},i,{WebkitUserSelect:"none"})},this.decorateChildren(n,a))}},{key:"isCoreReady",get:function(){return!!this.core}}]),t}(l.a.Component);$N.displayName="ReactCursorPosition",$N.defaultProps={activationInteractionMouse:AN,activationInteractionTouch:MN,hoverDelayInMs:0,hoverOffDelayInMs:0,isEnabled:!0,mapChildProps:function(e){return e},onActivationChanged:RN,onDetectedEnvironmentChanged:RN,onPositionChanged:RN,pressDurationInMs:500,pressMoveThreshold:5,shouldDecorateChildren:!0,shouldStopTouchMovePropagation:!1,tapDurationInMs:180,tapMoveThreshold:5};var eU=function(){var e=this;this.onPositionChanged=function(){(0,e.props.onPositionChanged)(e.state)}},tU=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e};function nU(e,t){return{x:t.width/e.width,y:t.height/e.height}}function rU(e,t){return{x:-1*(t.width-e.width),y:-1*(t.height-e.height)}}function oU(e){var t=e.containerDimensions,n=e.cursorOffset,r=e.largeImage,o=e.position,i=e.smallImage,a=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}(o,n),s=function(e,t){return nU(e,t)}(i,r);return aU({x:-1*Math.round(a.x*s.x),y:-1*Math.round(a.y*s.y)},rU(t,r),{x:0,y:0})}function iU(e){var t,n,r=e.containerDimensions,o=e.largeImage,i=e.position,a=rU(r,o),s={x:0,y:0},c=nU(t=r,{width:(n=o).width-t.width,height:n.height-t.height});return aU({x:-1*Math.round(i.x*c.x),y:-1*Math.round(i.y*c.y)},a,s)}function aU(e,t,n){return{x:tU(e.x,t.x,n.x),y:tU(e.y,t.y,n.y)}}var sU=function(e,t){return function(n){var r=t(n)?e.isRequired:e;return r.apply(this,arguments)}},cU={alt:hN.exports.string,src:hN.exports.string.isRequired,srcSet:hN.exports.string,sizes:hN.exports.string,onLoad:hN.exports.func,onError:hN.exports.func},uU=hN.exports.shape(fN({},cU,{width:hN.exports.number.isRequired,height:hN.exports.number.isRequired})),lU=hN.exports.shape(fN({},cU,{isFluidWidth:hN.exports.bool,width:sU(hN.exports.number,(function(e){return!e.isFluidWidth})),height:sU(hN.exports.number,(function(e){return!e.isFluidWidth}))})),dU="mouse",pU="touch",fU="over",hU="beside",mU=hN.exports.oneOf([hU,fU]),gU=hN.exports.shape({width:hN.exports.oneOfType([hN.exports.number,hN.exports.string]),height:hN.exports.oneOfType([hN.exports.number,hN.exports.string])}),vU=hN.exports.shape({width:hN.exports.number,height:hN.exports.number});function yU(){}var bU=hN.exports.shape({x:hN.exports.number.isRequired,y:hN.exports.number.isRequired});function wU(e,t){var n=e.isFluidWidth,r=e.width,o=e.height;return fN({cursor:"crosshair"},t,n?{width:"auto",height:"auto",fontSize:"0px",position:"relative"}:{width:r+"px",height:o+"px",position:"relative"})}function OU(e,t){var n=e.isFluidWidth,r=e.width,o=e.height;return fN({},t,n?{width:"100%",height:"auto",display:"block",pointerEvents:"none"}:{width:r+"px",height:o+"px",pointerEvents:"none"})}var EU={};function xU(e){var t=EU,n=t.params,r=void 0===n?{}:n,o=t.compositStyle;if(function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),i=Array.isArray(n);if(o&&i){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=i)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var s=t instanceof Date,c=n instanceof Date;if(s&&c)return t.getTime()==n.getTime();if(s!=c)return!1;var u=t instanceof RegExp,l=n instanceof RegExp;if(u&&l)return t.toString()==n.toString();if(u!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}(r,e))return o;var i=e.containerDimensions,a=e.containerStyle,s=e.fadeDurationInMs,c=e.isTransitionActive,u=function(e,t){var n={overflow:"hidden"};if(t)return n;var r={position:"absolute",top:"0px"};return fN(n,r,e?{left:"0px"}:{left:"100%",marginLeft:"10px",border:"1px solid #d6d6d6"})}(e.isInPlaceMode,e.isPortalRendered),l=function(e){var t=e.containerDimensions,n=e.fadeDurationInMs,r=e.isTransitionActive;return{width:t.width,height:t.height,opacity:r?1:0,transition:"opacity "+n+"ms ease-in",pointerEvents:"none"}}({containerDimensions:i,fadeDurationInMs:s,isTransitionActive:c});return t.compositStyle=fN({},u,a,l),t.params=e,t.compositStyle}var SU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var PU=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isTransitionEntering:!1,isTransitionActive:!1,isTransitionLeaving:!1,isTransitionDone:!1},n.timers=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),SU(t,[{key:"componentWillReceiveProps",value:function(e){this.scheduleCssTransition(e)}},{key:"componentWillUnmount",value:function(){this.timers.forEach((function(e){clearTimeout(e)}))}},{key:"scheduleCssTransition",value:function(e){var t=this,n=this.props,r=n.fadeDurationInMs,o=n.isActive,i=n.isPositionOutside,a=o!==e.isActive,s=i!==e.isPositionOutside;(a||s)&&(e.isActive&&!e.isPositionOutside?(this.setState({isTrainsitionDone:!1,isTransitionEntering:!0}),this.timers.push(setTimeout((function(){t.setState({isTransitionEntering:!1,isTransitionActive:!0})}),0))):(this.setState({isTransitionLeaving:!0,isTransitionActive:!1}),this.timers.push(setTimeout((function(){t.setState({isTransitionDone:!0,isTransitionLeaving:!1})}),r))))}},{key:"getImageCoordinates",value:function(){var e=this.props,t=e.cursorOffset,n=e.largeImage,r=e.containerDimensions,o=e.position,i=e.smallImage;return e.isInPlaceMode?iU({containerDimensions:r,largeImage:n,position:o}):oU({containerDimensions:r,cursorOffset:t,largeImage:n,position:o,smallImage:i})}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.imageClassName,r=e.isLazyLoaded,o=e.largeImage,i=e.largeImage,a=i.alt,s=void 0===a?"":a,c=i.onLoad,u=void 0===c?yU:c,d=i.onError,p=void 0===d?yU:d,f=l.a.createElement("div",{className:t,style:this.containerStyle},l.a.createElement("img",{alt:s,className:n,src:o.src,srcSet:o.srcSet,sizes:o.sizes,style:this.imageStyle,onLoad:u,onError:p}));return r?this.isVisible?f:null:f}},{key:"isVisible",get:function(){var e=this.state,t=e.isTransitionEntering,n=e.isTransitionActive,r=e.isTransitionLeaving;return t||n||r}},{key:"containerStyle",get:function(){var e=this.props,t=e.containerStyle,n=e.containerDimensions,r=e.fadeDurationInMs,o=e.isPortalRendered,i=e.isInPlaceMode;return xU({containerDimensions:n,containerStyle:t,fadeDurationInMs:r,isTransitionActive:this.state.isTransitionActive,isInPlaceMode:i,isPortalRendered:o})}},{key:"imageStyle",get:function(){var e=this.props,t=e.imageStyle,n=e.largeImage;return function(e){var t=e.imageCoordinates,n=e.imageStyle,r=e.largeImage,o="translate("+t.x+"px, "+t.y+"px)",i={width:r.width,height:r.height,transform:o,WebkitTransform:o,msTransform:o,pointerEvents:"none"};return fN({},n,i)}({imageCoordinates:this.getImageCoordinates(),imageStyle:t,largeImage:n})}}]),t}(l.a.Component);PU.displayName="EnlargedImage",PU.defaultProps={fadeDurationInMs:0,isLazyLoaded:!0},PU.propTypes={containerClassName:hN.exports.string,containerStyle:hN.exports.object,cursorOffset:bU,position:bU,fadeDurationInMs:hN.exports.number,imageClassName:hN.exports.string,imageStyle:hN.exports.object,isActive:hN.exports.bool,isLazyLoaded:hN.exports.bool,largeImage:uU,containerDimensions:vU,isPortalRendered:hN.exports.bool,isInPlaceMode:hN.exports.bool};var CU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function TU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var kU=function(e){function t(){var e,n,r;TU(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=_U(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isMounted:!1},_U(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),CU(t,[{key:"componentDidMount",value:function(){if(this.setState({isMounted:!0}),this.isPortalRendered){var e=this.props.portalId;this.portalElement=document.getElementById(e)}}},{key:"render",value:function(){if(!this.isMounted)return null;var e=this.compositProps;return this.isPortalRendered?ec.a.createPortal(l.a.createElement(PU,e),this.portalElement):l.a.createElement(PU,e)}},{key:"isPortalIdImplemented",get:function(){return!!this.props.portalId}},{key:"isPortalRendered",get:function(){var e=this.props,t=e.isPortalEnabledForTouch,n=e.isTouchDetected;return!!this.isPortalIdImplemented&&(!n||!!t)}},{key:"isMounted",get:function(){return this.state.isMounted}},{key:"compositProps",get:function(){return fN({},this.props,{isPortalRendered:this.isPortalRendered})}}]),t}(u.Component);kU.propTypes={isPortalEnabledForTouch:hN.exports.bool.isRequired,isTouchDetected:hN.exports.bool.isRequired,portalId:hN.exports.string};var IU=function(e){var t=e.fadeDurationInMs,n=e.isActive,r=e.isPositionOutside,o=e.style,i=fN({},{width:"auto",height:"auto",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"block"},o,{position:"absolute",opacity:n&&!r?1:0,transition:"opacity "+t+"ms ease-in"});return l.a.createElement("div",{style:i})};IU.propTypes={style:hN.exports.object,fadeDurationInMs:hN.exports.number,isActive:hN.exports.bool,translateX:hN.exports.number,translateY:hN.exports.number,userStyle:hN.exports.object},IU.defaultProps={isActive:!1,fadeDurationInMs:0,translateX:0,translateY:0};var MU={cursorOffset:bU,fadeDurationInMs:hN.exports.number,isActive:hN.exports.bool,isPositionOutside:hN.exports.bool,position:bU,smallImage:lU,style:hN.exports.object},jU=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,o=e.isActive,i=e.isPositionOutside,a=e.smallImage,s=e.style,c=2*t.y,u=a.height-c,d={height:tU(n.y-t.y,0,u)+"px",width:"100%",top:"0px"};return l.a.createElement(IU,{fadeDurationInMs:r,isActive:o,isPositionOutside:i,style:fN({},s,d)})};jU.propTypes=MU;var AU=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,o=e.isActive,i=e.isPositionOutside,a=e.smallImage,s=e.style,c=2*t.y,u=2*t.x,d=a.height-c,p=a.width-u,f={height:c+"px",width:tU(n.x-t.x,0,p)+"px",top:tU(n.y-t.y,0,d)+"px",left:"0px"};return l.a.createElement(IU,{fadeDurationInMs:r,isActive:o,isPositionOutside:i,style:fN({},s,f)})};AU.propTypes=MU;var RU=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,o=e.isActive,i=e.isPositionOutside,a=e.smallImage,s=e.style,c=2*t.y,u=2*t.x,d=a.height-c,p=a.width-u,f={height:c+"px",width:tU(a.width-n.x-t.x,0,p)+"px",top:tU(n.y-t.y,0,d)+"px",right:"0px"};return l.a.createElement(IU,{fadeDurationInMs:r,isActive:o,isPositionOutside:i,style:fN({},s,f)})};RU.propTypes=MU;var DU=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,o=e.isActive,i=e.isPositionOutside,a=e.smallImage,s=e.style,c=2*t.y,u=a.height-n.y-t.y,d=a.height-c,p=tU(u,0,d),f=n.y+t.y,h={height:p+"px",width:"100%",top:Math.max(f,c)+"px"};return l.a.createElement(IU,{fadeDurationInMs:r,isActive:o,isPositionOutside:i,style:fN({},s,h)})};function LU(e){var t=e.style,n=fN({backgroundColor:"rgba(0,0,0,.4)"},t),r=fN({},e,{style:n});return l.a.createElement("div",null,l.a.createElement(jU,r),l.a.createElement(AU,r),l.a.createElement(RU,r),l.a.createElement(DU,r))}DU.propTypes=MU,LU.propTypes=MU;var NU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function UU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FU(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var BU=function(e){function t(){return UU(this,t),FU(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),NU(t,[{key:"render",value:function(){return l.a.createElement("div",{style:this.compositStyle})}},{key:"dimensions",get:function(){var e=this.props.cursorOffset;return{width:2*e.x,height:2*e.y}}},{key:"positionOffset",get:function(){var e=this.props,t=e.cursorOffset,n=t.x,r=t.y,o=e.position,i=o.x,a=o.y,s=e.smallImage,c=s.height,u=s.width,l=this.dimensions,d=l.width,p=l.height,f=i-n,h=u-d;return{top:tU(a-r,0,c-p),left:tU(f,0,h)}}},{key:"defaultStyle",get:function(){return{transition:"opacity "+this.props.fadeDurationInMs+"ms ease-in",backgroundImage:"url(data:image/gif;base64,R0lGODlhZABkAPABAHOf4fj48yH5BAEAAAEALAAAAABkAGQAAAL+jI+py+0PowOB2oqvznz7Dn5iSI7SiabqWrbj68bwTLL2jUv0Lvf8X8sJhzmg0Yc8mojM5kmZjEKPzqp1MZVqs7Cr98rdisOXr7lJHquz57YwDV8j3XRb/C7v1vcovD8PwicY8VcISDGY2GDIKKf4mNAoKQZZeXg5aQk5yRml+dgZ2vOpKGraQpp4uhqYKsgKi+H6iln7N8sXG4u7p2s7ykvnyxos/DuMWtyGfKq8fAwd5nzGHN067VUtiv2lbV3GDfY9DhQu7p1pXoU+rr5ODk/j7sSePk9Ub33PlN+4jx8v4JJ/RQQa3EDwzcGFiBLi6AfN4UOGCyXegGjIoh0fisQ0rsD4y+NHjgZFqgB5y2Qfks1UPmEZ0OVLlIcKAAA7)"}}},{key:"userSpecifiedStyle",get:function(){return this.props.style}},{key:"isVisible",get:function(){var e=this.props,t=e.isActive,n=e.isPositionOutside;return t&&!n}},{key:"priorityStyle",get:function(){var e=this.dimensions,t=e.width,n=e.height,r=this.positionOffset;return{position:"absolute",top:r.top+"px",left:r.left+"px",width:t+"px",height:n+"px",opacity:this.isVisible?1:0}}},{key:"compositStyle",get:function(){return fN(this.defaultStyle,this.userSpecifiedStyle,this.priorityStyle)}}]),t}(u.Component);BU.propTypes=MU,BU.defaultProps={style:{}};var zU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var VU=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hasShown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zU(t,[{key:"setHasShown",value:function(){this.hasShown=!0}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.shouldHideAfterFirstActivation,o=this.hasShown,i=!(n||o&&r);return n&&!o&&this.setHasShown(),i?t:null}}]),t}(l.a.Component);function qU(e){var t=e.isTouchDetected,n=e.hintTextMouse,r=e.hintTextTouch;return l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",position:"absolute",bottom:"25px"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:"5px 10px",backgroundColor:"#333",borderRadius:"10px",opacity:"0.90"}},l.a.createElement("img",{style:{width:"25px",height:"25px"},src:"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ5MC4yIDQ5MC4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OTAuMiA0OTAuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTQxOC41LDQxOC41Yzk1LjYtOTUuNiw5NS42LTI1MS4yLDAtMzQ2LjhzLTI1MS4yLTk1LjYtMzQ2LjgsMHMtOTUuNiwyNTEuMiwwLDM0Ni44UzMyMi45LDUxNC4xLDQxOC41LDQxOC41eiBNODksODkgICAgYzg2LjEtODYuMSwyMjYuMS04Ni4xLDMxMi4yLDBzODYuMSwyMjYuMSwwLDMxMi4ycy0yMjYuMSw4Ni4xLTMxMi4yLDBTMywxNzUuMSw4OSw4OXoiIGZpbGw9IiNGRkZGRkYiLz4KCQk8cGF0aCBkPSJNMjQ1LjEsMzM2LjljMy40LDAsNi40LTEuNCw4LjctMy42YzIuMi0yLjIsMy42LTUuMywzLjYtOC43di02Ny4zaDY3LjNjMy40LDAsNi40LTEuNCw4LjctMy42YzIuMi0yLjIsMy42LTUuMywzLjYtOC43ICAgIGMwLTYuOC01LjUtMTIuMy0xMi4yLTEyLjJoLTY3LjN2LTY3LjNjMC02LjgtNS41LTEyLjMtMTIuMi0xMi4yYy02LjgsMC0xMi4zLDUuNS0xMi4yLDEyLjJ2NjcuM2gtNjcuM2MtNi44LDAtMTIuMyw1LjUtMTIuMiwxMi4yICAgIGMwLDYuOCw1LjUsMTIuMywxMi4yLDEyLjJoNjcuM3Y2Ny4zQzIzMi44LDMzMS40LDIzOC4zLDMzNi45LDI0NS4xLDMzNi45eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=",alt:""}),l.a.createElement("span",{style:{padding:"2px 0 0 5px",fontFamily:"Arial, sans-serif",fontSize:"14px",color:"white"}},t?r:n)))}function GU(e,t){return Math.round(e*t/2)}function HU(e){var t,n=e.containerDimension,r=e.smallImageDimension;return e.isInPlaceMode?r:"string"==typeof(t=n)&&/^\d+%$/.test(t)?r*(parseInt(n)/100):n}VU.propTypes={children:hN.exports.element,isActive:hN.exports.bool,shouldHideAfterFirstActivation:hN.exports.bool},VU.defaultProps={shouldHideAfterFirstActivation:!0},qU.displayName="DefaultHint",qU.propTypes={isTouchDetected:hN.exports.bool,hintTextMouse:hN.exports.string,hintTextTouch:hN.exports.string};var WU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var KU=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=dN.primaryInput,o=dU,i=pU;return n.state={smallImageWidth:0,smallImageHeight:0,detectedInputType:{isMouseDeteced:r===o,isTouchDetected:r===i}},n.onSmallImageLoad=n.onSmallImageLoad.bind(n),n.setSmallImageDimensionState=n.setSmallImageDimensionState.bind(n),n.onDetectedInputTypeChanged=n.onDetectedInputTypeChanged.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),WU(t,[{key:"componentDidMount",value:function(){this.props.smallImage.isFluidWidth&&(this.setSmallImageDimensionState(),window.addEventListener("resize",this.setSmallImageDimensionState))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSmallImageDimensionState)}},{key:"onSmallImageLoad",value:function(e){var t=this.props.smallImage,n=t.onLoad,r=void 0===n?yU:n,o=t.isFluidWidth;r(e),o&&this.setSmallImageDimensionState()}},{key:"onDetectedInputTypeChanged",value:function(e){this.setState({detectedInputType:e})}},{key:"setSmallImageDimensionState",value:function(){var e=this.smallImageEl,t=e.offsetWidth,n=e.offsetHeight;this.setState({smallImageWidth:t,smallImageHeight:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.hoverDelayInMs,i=t.hoverOffDelayInMs,a=t.isActivatedOnTouch,s=t.pressDuration,c=t.pressMoveThreshold,u=t.smallImage.onError,d=void 0===u?yU:u,p=t.imageClassName,f=t.imageStyle,h=t.lensStyle,m=t.largeImage,g=t.enlargedImageContainerClassName,v=t.enlargedImageContainerStyle,y=t.enlargedImageClassName,b=t.enlargedImageStyle,w=t.enlargedImagePortalId,O=t.isEnlargedImagePortalEnabledForTouch,E=t.fadeDurationInMs,x=t.hintComponent,S=t.isHintEnabled,P=t.hintTextMouse,C=t.hintTextTouch,T=t.shouldHideHintAfterFirstActivation,_=this.smallImage,k=this.state.detectedInputType.isTouchDetected,I=function(e,t,n){var r=function(e,t){return{x:e.width/t.width,y:e.height/t.height}}(e,t);return{x:GU(n.width,r.x),y:GU(n.height,r.y)}}(_,m,this.enlargedImageContainerDimensions),M=this.lensComponent;return l.a.createElement($N,{className:n,hoverDelayInMs:o,hoverOffDelayInMs:i,isActivatedOnTouch:a,onDetectedInputTypeChanged:this.onDetectedInputTypeChanged,pressDuration:s,pressMoveThreshold:c,shouldStopTouchMovePropagation:!0,style:wU(_,r)},l.a.createElement("img",{src:_.src,srcSet:_.srcSet,sizes:_.sizes,alt:_.alt,className:p,style:OU(_,f),ref:function(t){return e.smallImageEl=t},onLoad:this.onSmallImageLoad,onError:d}),S&&l.a.createElement(VU,{shouldHideAfterFirstActivation:T},l.a.createElement(x,{isTouchDetected:k,hintTextMouse:P,hintTextTouch:C})),this.shouldShowLens&&l.a.createElement(M,{cursorOffset:I,fadeDurationInMs:E,smallImage:_,style:h}),l.a.createElement(kU,{containerClassName:g,containerDimensions:this.enlargedImageContainerDimensions,containerStyle:v,cursorOffset:I,fadeDurationInMs:E,imageClassName:y,imageStyle:b,largeImage:m,smallImage:_,portalId:w,isPortalEnabledForTouch:O,isTouchDetected:this.isTouchDetected,isInPlaceMode:this.isInPlaceMode}))}},{key:"smallImage",get:function(){var e=this.props,t=e.smallImage;if(!e.smallImage.isFluidWidth)return t;var n=this.state,r=n.smallImageWidth,o=n.smallImageHeight;return fN({},t,{width:r,height:o})}},{key:"enlargedImagePlacement",get:function(){var e=this.props.enlargedImagePosition,t=this.state.detectedInputType.isTouchDetected;return e||(t?fU:hU)}},{key:"isInPlaceMode",get:function(){var e=fU;return this.enlargedImagePlacement===e}},{key:"enlargedImageContainerDimensions",get:function(){var e=this.props.enlargedImageContainerDimensions,t=e.width,n=e.height,r=this.smallImage,o=r.width,i=r.height,a=this.isInPlaceMode;return{width:HU({containerDimension:t,smallImageDimension:o,isInPlaceMode:a}),height:HU({containerDimension:n,smallImageDimension:i,isInPlaceMode:a})}}},{key:"isTouchDetected",get:function(){return this.state.detectedInputType.isTouchDetected}},{key:"shouldShowLens",get:function(){return!this.isInPlaceMode&&!this.isTouchDetected}},{key:"lensComponent",get:function(){var e=this.props,t=e.shouldUsePositiveSpaceLens,n=e.lensComponent;return n||(t?BU:LU)}}]),t}(l.a.Component);function QU(){return(QU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function YU(e,t){return(YU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JU(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ZU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZU(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function XU(e,t){try{var n=e()}catch(oA){return t(oA)}return n&&n.then?n.then(void 0,t):n}function $U(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}KU.propTypes={className:hN.exports.string,style:hN.exports.object,hoverDelayInMs:hN.exports.number,hoverOffDelayInMs:hN.exports.number,fadeDurationInMs:hN.exports.number,pressDuration:hN.exports.number,pressMoveThreshold:hN.exports.number,isActivatedOnTouch:hN.exports.bool,imageClassName:hN.exports.string,imageStyle:hN.exports.object,lensStyle:hN.exports.object,lensComponent:hN.exports.func,shouldUsePositiveSpaceLens:hN.exports.bool,smallImage:lU,largeImage:uU,enlargedImageContainerClassName:hN.exports.string,enlargedImageContainerStyle:hN.exports.object,enlargedImageClassName:hN.exports.string,enlargedImageStyle:hN.exports.object,enlargedImageContainerDimensions:gU,enlargedImagePosition:mU,enlargedImagePortalId:hN.exports.string,isEnlargedImagePortalEnabledForTouch:hN.exports.bool,hintComponent:hN.exports.func,hintTextMouse:hN.exports.string,hintTextTouch:hN.exports.string,isHintEnabled:hN.exports.bool,shouldHideHintAfterFirstActivation:hN.exports.bool},KU.defaultProps={enlargedImageContainerDimensions:{width:"100%",height:"100%"},isEnlargedImagePortalEnabledForTouch:!1,fadeDurationInMs:300,hintComponent:qU,shouldHideHintAfterFirstActivation:!0,isHintEnabled:!1,hintTextMouse:"Hover to Zoom",hintTextTouch:"Long-Touch to Zoom",hoverDelayInMs:250,hoverOffDelayInMs:150,shouldUsePositiveSpaceLens:!1},"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));class eF extends Error{constructor(e){super(),Error.captureStackTrace&&Error.captureStackTrace(this,eF),this.name="UdsError",this.isUdsError=!0,this.message=e}}const tF=e=>$U(void 0,void 0,void 0,(function*(){return yield Nn.a.get(e,{headers:{"Content-Type":"application/json"}})}));var nF,rF={front:"front",back:"back","surface 1":"surface 1","side 1":"side 1","decoration location 1":"front","decoration location 2":"back","default front":"front","default backside":"back"},oF=function(){return Object.keys(rF)},iF=function(e){return rF[e]},aF=function(e){try{var t,n=function(e){if(r)return e;var n=uF(t);return{panels:sF(t).map((function(e){return{name:hF(e),textFields:lF(t,e)}})),defaultPanel:n}},r=!1,o=XU((function(){return Promise.resolve((n=e,$U(void 0,void 0,void 0,(function*(){try{return(yield tF(n)).data}catch(e){throw new eF("Error fetching document from UDS: ".concat(e.message))}})))).then((function(e){if(sF(t=e).some((function(e){return!oF().includes(hF(e))})))throw new Error("document contains unsupported panels")}));var n}),(function(t){throw new Error("error fetching document details: URL="+e+" error="+t)}));return Promise.resolve(o&&o.then?o.then(n):n(o))}catch(oA){return Promise.reject(oA)}},sF=function(e){return e.document.panels},cF=function(e,t){return sF(e).map((function(e){return hF(e)})).includes(t)},uF=function(e){for(var t,n=JU(oF());!(t=n()).done;){var r=t.value;if(cF(e,r))return r}},lF=function(e,t){return pF(e,t).concat(dF(e,t)).sort((function(e,t){return e.position.y===t.position.y?e.position.x-t.position.x:e.position.y-t.position.y})).map((function(e){return{id:e.id,label:e.label,content:e.content}}))},dF=function(e,t){return(t.itemReferences||[]).filter((function(e){return"Word Art"===e.type})).map((function(t){return{id:t.id,label:fF(e,t.id),content:t.data.content,position:{x:parseInt(t.position.x),y:parseInt(t.position.y)}}})).filter((function(e){return e.id&&e.label}))},pF=function(e,t){return(t.textAreas||[]).map((function(t){return{id:t.id,label:fF(e,t.id),content:t.textFields?t.textFields[0].content:t.content[0].content,position:{x:parseInt(t.position.x),y:parseInt(t.position.y)}}}))},fF=function(e,t){var n;return null===(n=e.metadata.template.find((function(e){return e.id===t})))||void 0===n?void 0:n.label},hF=function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase()},mF=function(e,t,n,r){try{var o;return Promise.resolve(XU((function(){return o="https://targetspecifications.artworkgeneration.cimpress.io/api/v4/productSpecifications/"+t+Zt.stringify(QU({culture:e},Object.fromEntries(Object.entries(n).map((function(e){return["optionSelections["+e[0]+"]",e[1]]})))),{addQueryPrefix:!0,sort:function(e,t){return e.localeCompare(t)}}),Promise.resolve(Nn.a.get(o,{headers:{"X-Correlation-ID":r.correlationId,"X-Request-ID":gn(),"X-Caller-ID":r.requestor}})).then((function(e){return e.data}))}),(function(e){throw new Error("error calling TSS: URL="+o+" error="+e)})))}catch(oA){return Promise.reject(oA)}},gF=function(e,t,n){try{var r="https://catalog.artworkgeneration.cimpress.io/api/v5/catalogEntries:search",o={_links:{document:{href:e}},targetSpecifications:[t.data.targetSpecifications]};return Promise.resolve(XU((function(){return Promise.resolve(Nn.a.post(r,o,{headers:{"X-Correlation-ID":n.correlationId,"X-Request-ID":gn(),"X-Caller-ID":n.requestor}})).then((function(e){return e.data}))}),(function(){throw new Error("error calling DTC: URL="+r+" body="+JSON.stringify(o))})))}catch(oA){return Promise.reject(oA)}},vF=function(e,t){var n=OF(e),r=n.dti,o=n.contentType;return r.source.assets={texts:t.panels.map((function(e){return e.textFields.map((function(t){return{content:t.content,referenceId:bF(t.id),panelName:e.name,hasPriority:!0}}))})).flat()},EF(r,o)},yF=/^[^_]+_(.+)$/,bF=function(e){var t=e.match(yF);return t?t[1]:e},wF=function(e,t){return"https://prod.realization.artworkgeneration.cimpress.io/api/v3/realizeToken"+Zt.stringify({token:e,correlationId:t.correlationId,requester:t.requestor},{addQueryPrefix:!0})},OF=function(e){var t=e.split("."),n=JSON.parse(BL.decode(t[0])),r=BL.toBuffer(t[1]);if("Gzip"!==n.Compression)throw new Error("wrong content type found when decoding a DTI token: "+JSON.stringify(n));return{dti:JSON.parse(Oc.a.inflate(r,{to:"string"})),contentType:n}},EF=function(e,t){var n=Oc.a.gzip(JSON.stringify(e));return BL.encode(JSON.stringify(t))+"."+BL.encode(n)},xF=function(e,t){return t&&(e.data.targetSpecifications.ducIds=[t]),e},SF=function(){return nF},PF=new Ln.a("https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV0oVCU7mInBQLSUIiq9OWrunv1YnQwymaR3wOR8H1wtmvdSfO1cfJwNoilGfswuBSNF5mDKmtPF9s1pn8qy9-iShy1Vi36GDB3A2ZPuJbRAPQ==",3e3),CF={AddToCart:"Læg i indkøbsvogn",AddToCartError:"Der opstod en fejl, da varen blev lagt i indkøbsvognen. Prøv igen senere.",AddedToCart:"Lagt i indkøbsvogn",AddingToCart:"Lægges i indkøbsvogn",group1:{Back:"Tilbage",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Der opstod en fejl, men vi arbejder på det.",ErrorDialogTitle:"Beklager, der opstod en fejl i vores system",Front:"Forside",GoBack:"Gå tilbage",HoverToZoom:"Før musen over for at zoome",LongTouchToZoom:"Hold nede for at zoome",NanoStudioCta:"Opdater og læg i indkøbsvogn",NanoStudioModalTitle:"Tilpas konvolutten",NoEditableFields:"Ingen redigerbare felter",Quantity:"Antal"},TF={AddToCart:"Zum Warenkorb hinzufügen",AddToCartError:"Beim Hinzufügen des Artikels zum Warenkorb ist ein Fehler aufgetreten. Bitte versuchen Sie es später noch einmal.",AddedToCart:"Zum Warenkorb hinzugefügt",AddingToCart:"Wird dem Warenkorb hinzugefügt",group1:{Back:"Rückseite",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Ein Fehler ist aufgetreten, doch wir kümmern uns bereits darum.",ErrorDialogTitle:"Es tut uns leid – etwas ist schiefgelaufen",Front:"Vorderseite",GoBack:"Zurück",HoverToZoom:"Zum Zoomen hovern",LongTouchToZoom:"Zum Zoomen gedrückt halten",NanoStudioCta:"Aktualisieren und zum Warenkorb hinzufügen",NanoStudioModalTitle:"Umschlag personalisieren",NoEditableFields:"Keine bearbeitbaren Felder",Quantity:"Menge"},_F={AddToCart:"Add to cart",AddToCartError:"There was an error while adding the product to cart. Please try again later.",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",Front:"Front",GoBack:"Go Back",HoverToZoom:"Hover To Zoom",LongTouchToZoom:"Long-Touch to Zoom",NanoStudioCta:"Update & add to cart",NanoStudioModalTitle:"Customize your envelope",NoEditableFields:"No editable fields",Quantity:"Quantity"},kF={AddToCart:"Add to cart",AddToCartError:"There was an error while adding product to cart. Please try again later.",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",Front:"Front",GoBack:"Go Back",HoverToZoom:"Hover To Zoom",LongTouchToZoom:"Long-Touch to Zoom",NanoStudioCta:"Update & add to cart",NanoStudioModalTitle:"Customize your envelope",NoEditableFields:"No editable fields",Quantity:"Quantity"},IF={AddToCart:"Add to basket",AddToCartError:"There was an error while adding product to basket. Please try again later.",AddedToCart:"Added to basket",AddingToCart:"Is being added to basket",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",Front:"Front",GoBack:"Go Back",HoverToZoom:"Hover To Zoom",LongTouchToZoom:"Long-Touch to Zoom",NanoStudioCta:"Update & add to basket",NanoStudioModalTitle:"Customise your envelope",NoEditableFields:"No editable fields",Quantity:"Quantity"},MF={AddToCart:"Add to cart",AddToCartError:"There was an error while adding product to cart. Please try again later.",AddedToCart:"Added to cart",AddingToCart:"Is being added to cart",group1:{Back:"Back",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"An error has occurred but we're working on it!",ErrorDialogTitle:"We're sorry – something went wrong on our end",Front:"Front",GoBack:"Go Back",HoverToZoom:"Hover To Zoom",LongTouchToZoom:"Long-Touch to Zoom",NanoStudioCta:"Update & add to cart",NanoStudioModalTitle:"Customize your envelope",NoEditableFields:"No editable fields",Quantity:"Quantity"},jF={AddToCart:"Ajouter au panier",AddToCartError:"Une erreur s’est produite lors de l’ajout du produit au panier. Veuillez réessayer plus tard.",AddedToCart:"Ajouté au panier",AddingToCart:"En cours d’ajout au panier",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Une erreur est survenue, mais nous nous efforçons de résoudre le problème !",ErrorDialogTitle:"Une erreur est survenue de notre côté",Front:"Recto",GoBack:"Retour",HoverToZoom:"Survolez pour agrandir",LongTouchToZoom:"Maintenez appuyé pour agrandir",NanoStudioCta:"Mettre à jour et ajouter au panier",NanoStudioModalTitle:"Personnalisez votre enveloppe",NoEditableFields:"Aucun champ modifiable",Quantity:"Quantité"},AF={AddToCart:"Aggiungi al carrello",AddToCartError:"Si è verificato un errore durante l’aggiunta del prodotto al carrello. Riprova più tardi.",AddedToCart:"Articolo aggiunto al carrello",AddingToCart:"L’articolo è stato aggiunto al carrello",group1:{Back:"Lato posteriore",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Si è verificato un errore, ma stiamo lavorando per risolverlo.",ErrorDialogTitle:"Siamo spiacenti, si è verificato un errore da parte nostra",Front:"Fronte",GoBack:"Torna indietro",HoverToZoom:"Muovi il mouse sull’immagine per ingrandirla",LongTouchToZoom:"Tienti premuto per ingrandire",NanoStudioCta:"Aggiorna e aggiungi al carrello",NanoStudioModalTitle:"Personalizza le tue buste da lettera",NoEditableFields:"Nessun campo modificabile",Quantity:"Quantità"},RF={AddToCart:"Toevoegen aan winkelwagentje",AddToCartError:"Er is een fout opgetreden tijdens het toevoegen aan het winkelwagentje. Probeer het later opnieuw.",AddedToCart:"Toegevoegd aan winkelwagentje",AddingToCart:"Wordt toegevoegd aan winkelwagentje",group1:{Back:"Achterkant",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Er is een fout opgetreden maar we werken aan een oplossing.",ErrorDialogTitle:"Sorry, er is aan onze kant iets fout gegaan",Front:"Voorkant",GoBack:"Terug",HoverToZoom:"Erover zweven om te zoomen",LongTouchToZoom:"Lang ingedrukt houden om te zoomen",NanoStudioCta:"Updaten en toevoegen aan winkelwagentje",NanoStudioModalTitle:"Personaliseer je envelop",NoEditableFields:"Geen velden die bewerkt kunnen worden",Quantity:"Aantal"},DF={"da-dk":CF,"de-at":TF,"de-de":TF,"de-ch":TF,"en-au":_F,"en-ca":kF,"en-gb":IF,"en-ie":IF,"en-in":MF,"en-nz":_F,"en-sg":_F,"en-us":kF,"es-es":{AddToCart:"Añadir a la cesta",AddToCartError:"Se ha producido un error al añadir el producto a la cesta. Vuelve a intentarlo más tarde.",AddedToCart:"Añadido a la cesta",AddingToCart:"Se está añadiendo a la cesta",group1:{Back:"Reverso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"¡Se ha producido un error, pero estamos trabajando para subsanarlo!",ErrorDialogTitle:"Lo sentimos, se ha producido un error por nuestra parte",Front:"Anverso",GoBack:"Atrás",HoverToZoom:"Pasa el ratón por encima para ampliar",LongTouchToZoom:"Mantén pulsado para ampliar",NanoStudioCta:"Actualizar y añadir a la cesta",NanoStudioModalTitle:"Personaliza tu sobre",NoEditableFields:"No hay campos editables",Quantity:"Cantidad"},"es-us":{AddToCart:"Agregar al carrito de compras",AddToCartError:"Se produjo un error al agregar el producto al carrito de compras. Por favor, vuelva a intentarlo más tarde.",AddedToCart:"Se agregó al carrito de compras",AddingToCart:"Se agregará al carrito de compras",group1:{Back:"Atrás",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"¡Se produjo un error y estamos trabajando para solucionarlo!",ErrorDialogTitle:"Lo sentimos, se produjo un error.",Front:"Adelante",GoBack:"Atrás",HoverToZoom:"Deslizar para usar zoom",LongTouchToZoom:"Toque prolongado para usar zoom",NanoStudioCta:"Actualizar y agregar al carrito de compras",NanoStudioModalTitle:"Personalice su sobre",NoEditableFields:"No hay campos editables",Quantity:"Cantidad"},"fi-fi":{AddToCart:"Lisää ostoskoriin",AddToCartError:"Tuotteen lisäämisessä ostoskoriin tapahtui virhe. Yritä myöhemmin uudelleen.",AddedToCart:"Lisätty ostoskoriin",AddingToCart:"Lisätään ostoskoriin",group1:{Back:"Kääntöpuoli",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"On tapahtunut virhe, mutta työskentelemme parhaillaan sen korjaamiseksi!",ErrorDialogTitle:"Pahoittelumme – jokin meni vikaan meidän puolellamme",Front:"Etupuoli",GoBack:"Takaisin",HoverToZoom:"Zoomaa pitämällä kohdistinta päällä",LongTouchToZoom:"Zoomaa pitkällä kosketuksella",NanoStudioCta:"Päivitä ja lisää ostoskoriin",NanoStudioModalTitle:"Mukauta kirjekuoresi",NoEditableFields:"Ei muokattavia kenttiä",Quantity:"Määrä"},"fr-be":jF,"fr-ca":{AddToCart:"Ajouter au panier",AddToCartError:"Une erreur est survenue lors de l’ajout du produit au panier. Veuillez réessayer plus tard.",AddedToCart:"Ajouté au panier",AddingToCart:"Est en cours d’ajout au panier",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Une erreur s’est produite, mais nous mettons tout en œuvre pour la corriger.",ErrorDialogTitle:"Malheureusement, une erreur s’est produite de notre côté.",Front:"Recto",GoBack:"Retour",HoverToZoom:"Survolez pour zoomer",LongTouchToZoom:"Appuyez longuement pour zoomer",NanoStudioCta:"Mettre à jour et ajouter au panier",NanoStudioModalTitle:"Personnaliser votre enveloppe",NoEditableFields:"Aucun champ modifiable",Quantity:"Quantité"},"fr-ch":jF,"fr-fr":jF,"it-ch":AF,"it-it":AF,"nb-no":{AddToCart:"Legg i handlevogn",AddToCartError:"Det oppsto en feil da produktet skulle legges i handlevognen. Prøv igjen senere.",AddedToCart:"Legg i handlevogn",AddingToCart:"Legges i handlevogn",group1:{Back:"Tilbake",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Det har oppstått en feil, men vi jobber med det!",ErrorDialogTitle:"Beklager, men noe gikk galt hos oss",Front:"Fremside",GoBack:"Gå tilbake",HoverToZoom:"Sveip for å zoome",LongTouchToZoom:"Lang berøring for å zoome",NanoStudioCta:"Oppdatér og legg i handlevognen",NanoStudioModalTitle:"Tilpass konvolutten din",NoEditableFields:"Ingen redigerbare felt",Quantity:"Antall"},"nl-be":RF,"nl-nl":RF,"pt-pt":{AddToCart:"Adicionar ao cesto",AddToCartError:"Ocorreu um erro ao adicionar o produto ao cesto. Tente novamente mais tarde.",AddedToCart:"Adicionado ao cesto",AddingToCart:"Está a ser adicionado ao cesto",group1:{Back:"Verso",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Ocorreu um erro, mas já estamos a trabalhar para o corrigir!",ErrorDialogTitle:"Lamentamos, mas ocorreu um erro no nosso sistema",Front:"Frente",GoBack:"Voltar atrás",HoverToZoom:"Aproximar para ampliar",LongTouchToZoom:"Premir longamente para ampliar",NanoStudioCta:"Carregar e adicionar ao cesto",NanoStudioModalTitle:"Personalize o seu envelope",NoEditableFields:"Sem campos editáveis",Quantity:"Quantidade"},"sv-se":{AddToCart:"Lägg till i kundvagn",AddToCartError:"Ett fel uppstod när produkten lades till i kundvagnen. Försök igen senare.",AddedToCart:"Lades till i kundvagn",AddingToCart:"Läggs till i kundvagn",group1:{Back:"Baksida",_context:"Here 'Back' refers to the backside of product (e.g., a business card)."},ErrorDialogBody:"Ett fel har uppstått men vi jobbar på att lösa det.",ErrorDialogTitle:"Något gick snett hos oss",Front:"Framsida",GoBack:"Gå tillbaka",HoverToZoom:"Hovra för att zooma in",LongTouchToZoom:"Tryck länge för att zooma in",NanoStudioCta:"Uppdatera och lägg till i kundvagn",NanoStudioModalTitle:"Specialdesigna ditt kuvert",NoEditableFields:"Inga redigerbara fält",Quantity:"Antal"}},LF="AddToCart",NF="AddToCartError",UF="AddedToCart",FF="AddingToCart",BF="Back",zF="ErrorDialogBody",VF="ErrorDialogTitle",qF="Front",GF="GoBack",HF="HoverToZoom",WF="LongTouchToZoom",KF="NanoStudioCta",QF="NanoStudioModalTitle",YF="NoEditableFields",ZF=function(){function e(){}return e.get=function(e,t){return this.getByKey(e,t)},e.getByKey=function(e,t){try{var n=(t||SF().locale).toLowerCase();return e in DF[n]?this.purifyContent(DF[n][e]):this.purifyContent(this.deepSearch(e,DF[n]))}catch(oA){return PF.error("Error calling LocalizationService",{contextData:{error:oA}}),""}},e.deepSearch=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];if("object"==typeof t[o]){var i=Object.keys(t[o]).find((function(t){return t===e}));if(i)return t[o][i]}}return""},e.purifyContent=function(e){return qr.sanitize(e)},e}(),JF=function(e,t,n,r,o,i,a,s,c,u){try{var l;return Promise.resolve(XU((function(){return l="https://purcs.design.vpsvc.com/api/v1/vistaprint-prod/"+e+"/product/"+t+"/allViews"+Zt.stringify({productVersion:n,previewInstructionsUri:$F(o),purpose:s,optionSelections:JSON.stringify(r),width:a,requester:c},{addQueryPrefix:!0,sort:function(e,t){return e.localeCompare(t)}}),Promise.resolve(Nn.a.get(l,{cancelToken:u})).then((function(e){return e.data.views.find((function(e){return e.name.toLowerCase()===i}))._links.image.href}))}),(function(e){throw new Error("error fetching image: URL="+l+" error="+e)})))}catch(oA){return Promise.reject(oA)}},XF=function(e,t,n,r,o,i,a,s){return"https://purcs.design.vpsvc.com/api/v1/vistaprint-prod/"+e+"/product/"+t+"/defaultViewImage"+Zt.stringify({productVersion:n,previewInstructionsUri:$F(o),purpose:a,optionSelections:JSON.stringify(r),width:i,requester:s},{addQueryPrefix:!0,sort:function(e,t){return e.localeCompare(t)}})},$F=function(e){return"https://uds.documents.cimpress.io/v3/instructions:preview"+Zt.stringify({documentUri:e},{addQueryPrefix:!0})},eB="https://patch.personalization.vpsvc.com/api/v1",tB=function(e,t,n,r,o){var i={requestor:n},a=zL.stringify(i);return{url:o?eB+"/addToCart/"+e+"/"+t+"/"+o+"?"+a:eB+"/addToCart/"+e+"/"+t+"?"+a,config:{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}}},nB=function(e){var t=e.productKey,n=e.productVersion,r=e.options,o=e.localizedOptions,i=e.mpvId,a=e.documentUrl,s=e.selectedQuantity,c=e.onProductAddedToCart,d=e.availableQuantities,p=e.productDisplayName,f=e.parentWorkId,h=e.shopperId,m=Object(u.useState)(!1),g=m[0],v=m[1],y=Object(u.useState)(!1),b=y[0],w=y[1],O=Object(u.useState)(!1),E=O[0],x=O[1],S=P(),C=SF(),T=C.tenant,_=C.locale,k=C.requestor,I=function(){try{var e=function(e,t){try{var n=e()}catch(oA){return t(!0,oA)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return XU((function(){return Promise.resolve(function(e,t,n,r,o,i,a,s,c,u,l,d,p,f,h){try{var m,g={productKey:o,productVersion:i,mpvId:n,productOptions:a,productDisplayName:l,quantity:u,documentUrl:c,imageUrl:XF(t,o,i,a,c,2500,"orders.cart",f),availableQuantities:r,localizedOptions:s,parentWorkEntityId:p,origin:"nano-studio"};if(a.Size)g.multipleQuantities=((m={})[a.Size]=u,m);var v=tB(e,t,f,d,h),y=v.url,b=v.config;return Promise.resolve(Nn.a.post(y,g,b)).then((function(e){var t;return{workId:e?null===(t=e.data)||void 0===t?void 0:t.workId:null,createdDocumentUrl:e?e.documentUrl:null}}))}catch(oA){return Promise.reject(oA)}}(T,_,i,d,t,n,r,o,a,s,p,S.accessToken,f,k,h)).then((function(e){w(!0),c&&c(e.workId,e.createdDocumentUrl,s)}))}),(function(e){x(!0),PF.error(e)}))}),(function(e,t){if(v(!1),e)throw t;return t}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}};return b?l.a.createElement(zr.AlertBox,{skin:"positive"},ZF.get(UF)):E?l.a.createElement(zr.AlertBox,{skin:"error"},ZF.get(NF)):l.a.createElement(zr.TextButton,{"data-testid":"add-to-cart-button",skin:"primary",disabled:g,onClick:function(){try{return v(!0),Promise.resolve(I()).then((function(){}))}catch(oA){return Promise.reject(oA)}},widthVariant:"full-width",sizeVariant:"super"},g&&l.a.createElement(zr.BasicPreloader,{inline:!0,visuallyHiddenLabel:ZF.get(FF)}),ZF.get(LF))},rB=function(){function e(e){this.localizedOptions=e}var t=e.prototype;return t.localizeKey=function(e){return this.localize(e,null)[0]},t.localizeValue=function(e,t){return this.localize(e,t)[1]},t.localize=function(e,t){return[this.localizedOptions&&this.localizedOptions[e]?this.localizedOptions[e].name:e,this.localizedOptions&&this.localizedOptions[e]&&this.localizedOptions[e].values[t]?this.localizedOptions[e].values[t]:t]},e}(),oB=function(e){var t=e.documentDetails,n=e.panelName,r=e.onChangeTextField,o=t.panels.find((function(e){return e.name===n})).textFields;return l.a.createElement(zr.Box,{component:"div",marginTop:5,marginBottom:5},l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.StandardForm,null,o.length>0?o.map((function(e){return l.a.createElement(zr.TextInputWithFloatingLabel,{key:e.id,marginBottom:4},l.a.createElement(zr.TextInput,{value:e.content,onChange:function(t){return r(n,e.id,t.target.value)}}),l.a.createElement(zr.TextInputFloatingLabel,null,e.label))})):l.a.createElement(zr.Box,null,ZF.get(YF)))))))},iB=function(e){var t=e.smallImageUrl,n=e.largeImageUrl,r=e.altText,o=Object(u.useState)(0),i=o[0],a=o[1],s=Object(u.useState)(0),c=s[0],d=s[1];Object(u.useEffect)((function(){var e,t;e=n,(t=new Image).onload=function(){a(t.naturalWidth),d(t.naturalHeight)},t.src=e}),[n]);var p=function(e){c<100&&i<100&&PF.warn("Image failed to render",{contextData:{imageSource:e}})},f=function(e){PF.warn("Image failed to load",{contextData:{imageSource:e}})};return l.a.createElement(KU,{isHintEnabled:!0,hintTextMouse:ZF.get(HF),hintTextTouch:ZF.get(WF),enlargedImagePosition:"over",smallImage:{isFluidWidth:!0,src:t,alt:r,onload:function(){return p(t)},onerror:function(){return f(t)}},largeImage:{src:n,width:i,height:c,alt:r,onload:function(){return p(n)},onerror:function(){return f(n)}}})},aB=function(){var e=Object(u.useState)()[1];return Object(u.useCallback)((function(t){e((function(){throw t}))}),[e])},sB=["productKey","productVersion","options","documentUri","panelName","width"],cB=function(e){var t=e.productKey,n=e.productVersion,r=e.options,o=e.documentUri,i=e.panelName,a=e.width,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,sB),c=Object(u.useState)(),d=c[0],p=c[1],f=Object(u.useState)(),h=f[0],m=f[1],g=Object(u.useState)(),v=g[0],y=g[1],b=Object(u.useState)(),w=b[0],O=b[1],E=aB();return Object(u.useEffect)((function(){!function(){try{var e=XU((function(){return Promise.resolve(JF(SF().locale,t,n,r,o,iF(i),a,"design.studio.review",SF().requestor)).then((function(e){p(e);var s=function(){if("surface 1"===i)return Promise.resolve(JF(SF().locale,t,n,r,o,iF(i),a,"design.studio.underlay",SF().requestor)).then((function(e){y(e)}))}();if(s&&s.then)return s.then((function(){}))}))}),(function(e){E(e)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}}()}),[t,n,r,o,i,a]),Object(u.useEffect)((function(){!function(){try{var e=XU((function(){return Promise.resolve(JF(SF().locale,t,n,r,o,iF(i),4*a,"design.studio.review",SF().requestor)).then((function(e){m(e);var s=function(){if("surface 1"===i)return Promise.resolve(JF(SF().locale,t,n,r,o,iF(i),4*a,"design.studio.underlay",SF().requestor)).then((function(e){O(e)}))}();if(s&&s.then)return s.then((function(){}))}))}),(function(e){E(e)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}}()}),[t,n,r,o,i,a]),l.a.createElement(zr.Box,QU({component:"div","data-cy":"preview-image"},s),d&&h?l.a.createElement(iB,{smallImageUrl:d,largeImageUrl:h,altText:"Image displaying the product"}):l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:"Loading"}),"surface 1"===i?v&&w?l.a.createElement(iB,{smallImageUrl:v,largeImageUrl:w,altText:"Image displaying design"}):l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:"Loading"}):null)},uB=function(e){var t=e.productKey,n=e.productVersion,r=e.options,o=e.documentDetails,i=e.documentUri,a=e.view,s=e.onChangeView,c=e.previewWidth;return l.a.createElement(zr.Box,{marginTop:5},l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(cB,{productKey:t,productVersion:n,width:c,options:r,documentUri:i,panelName:a}))),o.panels.length>1?l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.FlexBox,{justifyContent:"center",flexWrap:"wrap"},l.a.createElement(zr.Buttonbar,{variant:"single-select",selectedValue:a,onSelectedValueChange:function(e){return s(e)},marginTop:5},o.panels.map((function(e){return l.a.createElement(zr.ButtonbarButton,{key:e.name,value:e.name,"data-cy":"option-editor-view-button-"+e.name},l.a.createElement(zr.ButtonbarButtonLabel,null,"front"===e.name.toLowerCase()?ZF.get(qF):ZF.get(BF)))})))))):null))},lB=function(e,t){return t?e.totalListPrice.taxed:e.totalListPrice.untaxed},dB=function(e){var t,n,r=e.prices,o=e.quantity,i=e.onChangeQuantity,a=SF(),s=a.tenant,c=a.locale,u=a.vatInclusive,d=function(e,t){return e.estimatedPrices[""+t]}(r,o);return l.a.createElement(zr.StandardForm,{marginBottom:4},l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(UM.RawPrice,{placeHolderText:"...",tenant:s,pricingInfo:{discountPrice:(t=d,n=u,n?t.totalDiscountedPrice.taxed:t.totalDiscountedPrice.untaxed),listPrice:lB(d,u),vatInc:u,minimumFractionDigits:r.fractionDigits,culture:c,currency:r.currency,hideVatMessage:!1,hideShippingMessageInVatMessage:!1},"data-cy":"price"}))),l.a.createElement(zr.Row,{marginTop:4,component:zr.FormField},l.a.createElement(zr.Column,{span:12},l.a.createElement(zr.Listbox,{fullWidth:!0,onChange:i,value:o.toString()},l.a.createElement(zr.ListboxButton,{"data-cy":"quantity-dropdown"}),l.a.createElement(zr.ListboxPopover,{inModal:!0},l.a.createElement(zr.ListboxList,null,function(e){return Object.keys(e.estimatedPrices).map((function(e){return parseInt(e)}))}(r).map((function(e){return l.a.createElement(zr.ListboxOption,{key:e,value:e.toString()},e)})))))))))},pB=["customEnvelopes","whiteEnvelopeWithRa","returnAddressEnvelopes","returnAddressWhiteEnvelopes"],fB=function(e){var t,n=e.tenant,r=e.locale,o=e.mpvId,i=e.productKey,a=e.productVersion,s=e.productDisplayName,c=e.localizedOptions,d=e.quantities,p=e.initialOptions,f=e.initialQuantity,h=e.initialDocumentUri,m=e.previewWidth,g=e.pricingContext,v=e.parentWorkId,y=e.designUseCaseId,b=e.requestor,w=e.onProductAddedToCart,O=e.vatInclusive,E=e.shopperId;t={tenant:n,locale:r.toLowerCase(),requestor:b,vatInclusive:O},nF=t;var x=Object(u.useState)(!0),S=x[0],P=x[1],C=Object(u.useState)(h),T=C[0],_=C[1],k=Object(u.useState)(f),I=k[0],M=k[1],j=Object(u.useState)(),A=j[0],R=j[1],D=Object(u.useState)(),L=D[0],N=D[1],U=Object(u.useState)(),F=U[0],B=U[1],z=Object(u.useState)(),V=z[0],q=z[1],G=Object(u.useState)(),H=G[0],W=G[1],K=aB(),Q=p;Object(u.useEffect)((function(){!function(){try{var e=XU((function(){return Promise.resolve(aF(h)).then((function(e){q(function(e,t){return pB.includes(e)?"back":t}(o,e.defaultPanel)),R(e)}))}),(function(e){K(e)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}}()}),[h]),Object(u.useEffect)((function(){!function(){try{var e=XU((function(){return Promise.resolve(function(e,t,n,r,o,i,a,s){try{var c;return Promise.resolve(XU((function(){return c="https://vistaprint-org-product-catalog-product-pricing-service.products.vpsvc.com/v4/prices/estimated"+Zt.stringify({requestor:s,productKey:n,productVersion:r,selections:o,quantities:i,merchantId:e,pricingContext:a,market:t.split("-")[1]},{addQueryPrefix:!0,arrayFormat:"repeat",sort:function(e,t){return e.localeCompare(t)}}),Promise.resolve(Nn.a.get(c)).then((function(e){return e.data}))}),(function(e){throw new Error("error requesting prices: URL="+c+" error="+e)})))}catch(oA){return Promise.reject(oA)}}(n,r,i,a,Q,d,g,b)).then((function(e){B(e)}))}),(function(e){K(e)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}}()}),[n,r,Q]);var Y=Object(u.useMemo)((function(){return!!A}),[A]),Z=Object(u.useMemo)((function(){return c?new rB(c):null}),[c]);Object(u.useEffect)((function(){!function(){try{if(!Y||S)return Promise.resolve();var e=XU((function(){return Promise.resolve(function(e,t,n,r,o,i,a){try{return Promise.resolve(XU((function(){var s={correlationId:gn(),requestor:a};return Promise.resolve(mF(e,t,n,s)).then((function(e){var t=xF(e,i);return Promise.resolve(gF(r,t,s)).then((function(e){e.sort((function(e,t){return t.quality-e.quality}));var t=vF(e[0].designTransformationTokenBase64,o);return[wF(t,s),t]}))}))}),(function(e){throw new Error("error transforming design: error="+e)})))}catch(oA){return Promise.reject(oA)}}(r,i,Q,h,A,y,b)).then((function(e){var t=e[0],n=e[1];_(t),N(n)}))}),(function(e){K(e)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(oA){return Promise.reject(oA)}}()}),[Q,Y,S]),Object(u.useEffect)((function(){if(A&&L&&!S){H&&(clearTimeout(H),W(null));var e=setTimeout((function(){var e=function(e,t,n){try{var r={correlationId:gn(),requestor:n},o=vF(e,t);return[wF(o,r),o]}catch(i){throw new Error("error transforming design with token: token="+e+" document-details="+JSON.stringify(t)+" error="+i)}}(L,A,b),t=e[0],n=e[1];_(t),N(n)}),500);return W(e),function(){return clearTimeout(W)}}}),[A]);return l.a.createElement(zr.Box,null,A&&Z&&F?l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:6},l.a.createElement(uB,{productKey:i,productVersion:a,options:Q,documentDetails:A,documentUri:T,view:V,onChangeView:function(e){q(e)},previewWidth:m})),l.a.createElement(zr.Column,{span:6},l.a.createElement(oB,{documentDetails:A,panelName:V,onChangeTextField:function(e,t,n){S&&P(!1),function(e,t,n,r){e.panels.find((function(e){return e.name===t})).textFields.find((function(e){return e.id===n})).content=r}(A,e,t,n),R(QU({},A))}}),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(dB,{prices:F,quantity:I,onChangeQuantity:function(e){M(parseInt(e))}}))),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(nB,{productKey:i,productVersion:a,options:Q,localizedOptions:c,mpvId:o,documentUrl:T,selectedQuantity:I,onProductAddedToCart:w,availableQuantities:d,productDisplayName:s,parentWorkId:v,shopperId:E})))))):l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:"Loading"}))},hB=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,YU(t,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var o=r.prototype;return o.componentDidCatch=function(e,t){PF.error(e),PF.error(t)},o.render=function(){return this.state.hasError?l.a.createElement(mB,{locale:this.props.locale,onGoBackClick:this.props.onGoBackClick}):this.props.children},r}(l.a.Component),mB=function(e){var t=e.locale,n=e.onGoBackClick;return l.a.createElement(u.Fragment,null,l.a.createElement(zr.ModalDialogContent,null,l.a.createElement(zr.ModalDialogCloseButton,null),l.a.createElement(zr.ModalDialogHeader,null,l.a.createElement(zr.ModalDialogTitle,{id:"modal_dialog_title"},ZF.get(VF,t))),l.a.createElement(zr.ModalDialogBody,null,l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,null,l.a.createElement("p",null,ZF.get(zF,t)))),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,null,l.a.createElement(zr.TextButton,{skin:"primary",onClick:n},ZF.get(GF,t))))))))},gB=Object(zr.responsive)(zr.ModalDialogContent),vB=function(e){var t=e.title,n=e.isOpen,r=e.onRequestDismiss,o=e.tenant,i=e.locale,a=e.mpvId,s=e.productKey,c=e.productVersion,u=e.productDisplayName,d=e.localizedOptions,p=e.quantities,f=e.initialOptions,h=e.initialQuantity,m=e.initialDocumentUri,g=e.pricingContext,v=e.parentWorkId,y=e.designUseCaseId,b=e.onProductAddedToCart,w=e.requestor,O=e.vatInclusive,E=e.shopperId;return l.a.createElement(zr.ScreenClassProvider,null,l.a.createElement(zr.ModalDialog,{isOpen:n,onRequestDismiss:r},l.a.createElement(hB,{locale:i,onGoBackClick:r},l.a.createElement(gB,{md:{style:{minWidth:"70%"}},lg:{style:{minWidth:"40%",maxWidth:"1000px"}},"aria-labelledby":"modal_dialog_title"},l.a.createElement(zr.ModalDialogCloseButton,{"data-testid":"modal-dialog-close-button"}),l.a.createElement(zr.ModalDialogHeader,null,l.a.createElement(zr.ModalDialogTitle,{id:"modal_dialog_title"},t||ZF.get(QF,i))),l.a.createElement(zr.ModalDialogBody,null,l.a.createElement(fB,{tenant:o,locale:i,mpvId:a,initialOptions:f,initialQuantity:h,initialDocumentUri:m,previewWidth:600,pricingContext:g,parentWorkId:v,designUseCaseId:y,requestor:w,onProductAddedToCart:b,productKey:s,productVersion:c,productDisplayName:u,localizedOptions:d,quantities:p,vatInclusive:O,shopperId:E}))))))},yB=function(e){var t=e.modalTitle,n=e.tenant,r=e.locale,o=e.mpvId,i=e.productKey,a=e.productVersion,s=e.productDisplayName,c=e.localizedOptions,d=e.quantities,p=e.initialOptions,f=e.initialQuantity,h=e.initialDocumentUri,m=e.pricingContext,g=e.parentWorkId,v=e.designUseCaseId,y=e.onProductAddedToCart,b=e.onNanoStudioOpened,w=e.onNanoStudioClosed,O=e.requestor,E=e.children,x=e.vatInclusive,S=e.shopperId,P=Object(u.useState)(!1),C=P[0],T=P[1],_=function(e,t){if(e)try{e()}catch(n){PF.error("Failed to call "+t,{contextData:n})}T(!C)};return l.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return _(b,"onNanoStudioOpened")}},E,l.a.createElement(vB,{title:t,isOpen:C,onRequestDismiss:function(){return _(w,"onNanoStudioClosed")},tenant:n,locale:r,mpvId:o,initialOptions:p,initialQuantity:f,initialDocumentUri:h,pricingContext:m,parentWorkId:g,designUseCaseId:v,onProductAddedToCart:y,requestor:O,productKey:i,productVersion:a,productDisplayName:s,localizedOptions:c,quantities:d,vatInclusive:x,shopperId:S}))},bB=function(e){var t=e.modalTitle,n=e.tenant,r=e.locale,o=e.mpvId,i=e.productKey,a=e.productVersion,s=e.productDisplayName,c=e.localizedOptions,u=e.quantities,d=e.initialOptions,p=e.initialQuantity,f=e.initialDocumentUri,h=e.pricingContext,m=e.parentWorkId,g=e.cta,v=e.skin,y=e.designUseCaseId,b=e.onProductAddedToCart,w=e.onNanoStudioOpened,O=e.onNanoStudioClosed,E=e.requestor,x=e.vatInclusive,S=e.shopperId;return l.a.createElement(yB,{title:t,onNanoStudioClosed:O,onNanoStudioOpened:w,tenant:n,locale:r,mpvId:o,initialOptions:d,initialQuantity:p,initialDocumentUri:f,pricingContext:h,parentWorkId:m,onProductAddedToCart:b,requestor:E,designUseCaseId:y,productKey:i,productVersion:a,productDisplayName:s,localizedOptions:c,quantities:u,vatInclusive:x,shopperId:S},l.a.createElement(zr.TextButton,{skin:v||"primary",widthVariant:"full-width","data-testid":"modal-open-button",sizeVariant:"super"},g||ZF.get(KF,r)))};const wB=wD("NanoStudioOfferTile",e=>{const t=ED(),n=qR(),r=WR(),o=BR(),{addToCartCallback:i}=JD(),a=dL(),{trackAddToCart:s,trackProductClicked:c,trackEditInStudio:d,trackEditAndAddClicked:p,trackCloseNanoStudioClicked:f}=rL();return t?l.a.createElement(bB,{key:"nano-studio-add-to-cart-button",modalTitle:"title",tenant:n.tenant,locale:n.locale,mpvId:r.offer.mpvId,productKey:r.offer.productKey,productVersion:r.offer.productVersion,productDisplayName:r.offer.title,localizedOptions:r.offer.localizedOptions,selectableOptions:r.offer.selectableOptions,initialOptions:r.editableOffer.productOptions,quantities:r.offer.prices.availablePrices.map(e=>e.quantity),initialQuantity:r.editableOffer.quantity,initialDocumentUri:r.editableOffer.documentRealizationUrl,categories:r.offer.categories,pricingContext:t.getEncodedContextString(),vatInclusive:t.vatInclusive,parentWorkId:o.parentWorkId,cta:RD(qD,n.locale),skin:"primary",requestor:"recommendations",shopperId:a.shopperId,onProductAddedToCart:(t,n,o)=>{s(r.editableOffer.productOptions,o,n,t,"nano-studio"),i&&i(),e.onSuccess()},onEditInStudioClicked:(e,t,n)=>{d(r.editableOffer.productOptions,n,t,e,"nano-studio")},onNanoStudioOpened:()=>{c("nano-studio"),p("nano-studio")},onNanoStudioClosed:()=>f("nano-studio")}):l.a.createElement(u.Fragment,null)},null,e=>{const t=ED(),n=qR(),r=WR(),o=BR(),{addToCartCallback:i}=JD(),a=dL(),{trackAddToCart:s,trackProductClicked:c,trackEditInStudio:d,trackEditAndAddClicked:p,trackCloseNanoStudioClicked:f}=rL();return t?e.ctaSuccessfullyClicked?l.a.createElement(u.Fragment,null,e.children):l.a.createElement(yB,{title:"title",tenant:n.tenant,locale:n.locale,mpvId:r.offer.mpvId,productKey:r.offer.productKey,productVersion:r.offer.productVersion,productDisplayName:r.offer.title,localizedOptions:r.offer.localizedOptions,selectableOptions:r.offer.selectableOptions,initialOptions:r.editableOffer.productOptions,quantities:r.offer.prices.availablePrices.map(e=>e.quantity),initialQuantity:r.editableOffer.quantity,initialDocumentUri:r.editableOffer.documentRealizationUrl,categories:r.offer.categories,pricingContext:t.getEncodedContextString(),vatInclusive:t.vatInclusive,parentWorkId:o.parentWorkId,requestor:"recommendations",shopperId:a.shopperId,onProductAddedToCart:(t,n,o)=>{s(r.editableOffer.productOptions,o,n,t,"nano-studio"),i&&i(),e.onSuccess()},onEditInStudioClicked:(e,t,n)=>{d(r.editableOffer.productOptions,n,t,e,"nano-studio")},onNanoStudioOpened:()=>{c("nano-studio"),p("nano-studio")},onNanoStudioClosed:()=>f("nano-studio"),views:null},e.children):l.a.createElement(u.Fragment,null)},bL,()=>null,()=>l.a.createElement(wL,null),e=>l.a.createElement(fL,{disabled:e.disabled})),OB=()=>{const e=WR();return e.offer.hasQuantitySelectionPage?e.offer.isEditableInCrossSellStudio?l.a.createElement(LL,null):l.a.createElement(kL,null):e.offer.isEditableInCrossSellStudio?l.a.createElement(DL,null):e.offer.isEditableInNanoStudio?l.a.createElement(wB,null):l.a.createElement(NL,null)},EB=e=>{const t=WR();if(t.offer.offerType===An.Image)return l.a.createElement(sL,null);if(t.offer.offerType===An.DocumentMatching&&(e.offerGroup.actions[t.offer.offerType]===jn.AddToCart||e.offerGroup.actions[t.offer.offerType]===jn.EditInPage))return l.a.createElement(OB,null);if(t.offer.offerType===An.DocumentMatching&&e.offerGroup.actions[t.offer.offerType]===jn.EditInStudio)return l.a.createElement(_L,null);if(t.offer.offerType===An.NonDesignable)return l.a.createElement(xL,null);throw new Error("cannot determine offer tile for offer: ".concat(JSON.stringify(t.offer)))},xB=l.a.createContext(void 0),SB=e=>{const t=Object(zr.useScreenClass)();return l.a.createElement(xB.Provider,{value:"xs"===t?e.displayConfiguration.extraSmallColumnCount:"sm"===t?e.displayConfiguration.smallColumnCount:e.displayConfiguration.columnCount},e.children)},PB=e=>l.a.createElement(SL.a.exports.ErrorBoundary,{fallback:l.a.createElement(l.a.Fragment,null),onError:(t,n)=>{Gn("Error rendering tile for offer=".concat(JSON.stringify(e.offer)),{contextData:{info:n},error:t})}},e.children),CB=(e,t)=>"".concat(e,"-").concat(t.mpvId,"-").concat(t.trackingId),TB=e=>l.a.createElement("div",{className:"recommendations-group-grid"},l.a.createElement(zr.GridContainer,null,l.a.createElement(zr.Row,null,e.offerGroup.offers.map((t,n)=>l.a.createElement(PB,{key:CB(n,t),offer:t},l.a.createElement(zr.Column,{span:IB(e.offerGroup.displayConfiguration.columnCount),spanSm:IB(e.offerGroup.displayConfiguration.smallColumnCount),spanXs:IB(e.offerGroup.displayConfiguration.extraSmallColumnCount)},l.a.createElement(HR,{offer:t},l.a.createElement(nL,null,l.a.createElement(EB,{offerGroup:e.offerGroup}))))))))),_B=e=>{const t=(()=>{const e=Object(u.useContext)(xB);if(void 0===e)throw new Error("ColumnCountContext must be used with ColumnCountContextProvider");return e})();return l.a.createElement("div",{className:"recommendations-group-carousel"},l.a.createElement(zr.Carousel,{progressIndicator:"none",arrows:!0,skin:"standard",infinite:!1,pauseOnHover:!0,pauseOnFocus:!0,slidesToShow:t},e.offerGroup.offers.map((t,n)=>l.a.createElement(PB,{key:n,offer:t},l.a.createElement(zr.CarouselSlide,{paddingX:3,style:{width:"100%"},key:CB(n,t)},l.a.createElement(HR,{offer:t},l.a.createElement(nL,null,l.a.createElement(EB,{offerGroup:e.offerGroup}))))))))},kB=e=>{const t=JD(),n=qR(),r=eL().trackingService,o=aL(),i=Object(zr.useScreenClass)(),a=Object(zr.useIsScreenClassInitialized)(),[s,c]=Object(u.useState)(void 0);Object(C.default)(()=>{if(a){const t=Object.assign(Object.assign({},e.offerGroup),{offers:jB(i,e.offerGroup)});c(t)}},[{state:[e.offerGroup,a]}]),Object(C.default)(()=>{s&&r.trackProductListViewed(t.page,t.sourceMpvId,n.tenant,s,i,0===s.offers.length)},[{state:[t.page,t.sourceMpvId,n.tenant,n.locale,s]}]);return s&&0!==s.offers.length?l.a.createElement("div",{className:"recommendations-group"},l.a.createElement(MB,{title:s.displayConfiguration.title}),(t.page===cD?o.isLargeOrMediumScreen&&e.offerGroup.displayConfiguration.layout===Mn.Carousel:e.offerGroup.displayConfiguration.layout===Mn.Carousel)?l.a.createElement(_B,{offerGroup:s}):l.a.createElement(TB,{offerGroup:s})):l.a.createElement(l.a.Fragment,null)},IB=e=>12/e,MB=e=>{const t=aL();return t.showTitle?l.a.createElement("div",{className:"recommendations-group-title"},l.a.createElement(zr.Typography,{component:"h2",textSize:3,weight:"standard",marginY:2,marginBottom:t.isLargeOrMediumScreen?7:4},e.title)):l.a.createElement(l.a.Fragment,null)},jB=(e,t)=>{if(t.displayConfiguration.minOffersToDisplay){if(("lg"===e||"md"===e)&&t.offers.length<t.displayConfiguration.minOffersToDisplay.default)return[];if("sm"===e&&t.offers.length<t.displayConfiguration.minOffersToDisplay.small)return[];if("xs"===e&&t.offers.length<t.displayConfiguration.minOffersToDisplay.extraSmall)return[]}return t.offers};vx("@keyframes slideAndFadeIn {\n  50% {\n    opacity: 0;\n    max-height: max-content;\n  }\n  100% {\n    opacity: 1;\n    max-height: max-content;\n  }\n}\n\n@keyframes fadeIn {\n  100% {\n    opacity: 1;\n  }\n}\n\n.fadeIn {\n  opacity: 0;\n  animation: fadeIn 1s forwards;\n}\n\n.slideAndFadeIn {\n  opacity: 0;\n  max-height: 0px;\n  animation: slideAndFadeIn 1.5s forwards;\n}\n");const AB=e=>{const t=aL();return e.title&&t.showTitle?l.a.createElement("div",{className:"recommendations-title",key:"title"},l.a.createElement(zr.Typography,{component:"h1",textSize:t.isLargeOrMediumScreen?2:4},e.title)):l.a.createElement(l.a.Fragment,null)},RB=e=>{if(!e.tenant||!e.locale||!e.page)throw new Error("Recommendations require a tenant, locale and page.")},DB=e=>{const t=aL(),n=qR();return e.recommendations&&e.trackingService?l.a.createElement(LB,{recommendations:e.recommendations,trackingService:e.trackingService,title:e.title}):t.noPreloader?l.a.createElement(l.a.Fragment,null):l.a.createElement(zr.BasicPreloader,{visuallyHiddenLabel:RD(GD,n.locale),centered:!0})},LB=e=>{const t=aL();return l.a.createElement($D,{trackingService:e.trackingService},l.a.createElement(zr.BoundedContent,null,l.a.createElement(zr.GridContainer,{className:t.noPreloader?"slideAndFadeIn":"fadeIn"},l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},l.a.createElement(AB,{title:e.title}))),l.a.createElement(zr.Row,null,l.a.createElement(zr.Column,{span:12},e.recommendations.offersGroups.map((e,t)=>l.a.createElement(SB,{key:t,displayConfiguration:e.displayConfiguration},l.a.createElement(kB,{key:t,offerGroup:e}))))))))},NB=e=>l.a.createElement(VR,{tenant:e.tenant,locale:e.locale},l.a.createElement(vD,null,l.a.createElement(iL,{page:e.page,imageWidth:e.imageWidth},l.a.createElement(lL,{shopperId:e.shopperId},l.a.createElement(ZD,{page:e.page,sourceMpvId:e.mpvId,addToCartCallback:e.addToCartCallback},e.children))))),UB=e=>{switch(e){case dD:case fD:case sD:case cD:return"Configure";case lD:return"Checkout";case hD:case pD:return"Discover";case uD:return"BrandPreferences";default:return}},FB=e=>{switch(e){case dD:case fD:case sD:case cD:return"Configure - Recommendation";case lD:return"Cart";case hD:return"Product Page";case pD:return"Home Page";case uD:return"Brand Preferences";default:return}},BB=(e,t)=>{switch(e){case dD:case fD:return VB(e,"Configure - Recommendation",t);case sD:case cD:return VB(e,"Configure - Recommendation:Accessories",t);case lD:return"Checkout:Cart";case hD:return VB(e,"Product Page",t);case pD:return"Home Page";case uD:return"Brand Preferences";default:return}},zB=e=>e?"Recommendation Component:".concat(e):"Recommendation Component",VB=(e,t,n)=>{if(!n)throw new Error("Source MPV id is required for page ".concat(e));return"".concat(n,":").concat(t)},qB=e=>({origin:e||"recommendations-component",version:"12.3.0",component:"recommendations-component"}),GB=(e,t,n)=>({doc_id:e.sourceDocumentUrl,scene_id:n,documentUrl:e.documentRealizationUrl,workId:t}),HB=e=>{const t=e.prices.availablePrices.find(t=>t.quantity===e.quantity);if(!t)throw new Error("Cannot determine price for quantity ".concat(e.quantity));const n=Dn(t.listPrice,!1),r=Dn(t.discountedPrice,!1);return{currency:e.prices.currency,quantity:1,sales_quantity:e.quantity,price:r,list_price:n,discount:n-r}},WB=(e,t,n)=>"https://merchandising-product-service.cdn.vpsvc.com/api/v3/mpv/".concat(e,"/").concat(t,"/").concat(n,"?requestor=recommendations-component"),KB=e=>Object.entries(e).map(e=>"".concat(e[0],":").concat(e[1])).join("_");class QB{constructor(e,t,n){this.computeOfferTypes=e=>e.map(e=>e.id).join("-"),this.poeResponse=e,this.fetchError=n,this.defaultRecommendations=t}buildProductListViewedTrackingEvent(e,t,n,r,o,i,a){var s;const c=this.findOfferGroup(r.trackingId).displayConfiguration;return Object.assign(Object.assign(Object.assign(Object.assign({pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendation Component",list_id:zB(this.poeResponse.trackingKey),route:"recommendations",is_default:this.defaultRecommendations,error:null===(s=this.fetchError)||void 0===s?void 0:s.message,tenant:n,products:this.getProductList(r),display_configuration:Object.assign(Object.assign({},c),{minOffersToDisplay:c.minOffersToDisplay||void 0})},this.buildOfferGroupDetails(r.trackingId)),this.buildPlacementDetails()),this.buildExperimentDetails()),{screenClass:o,discardReason:i?"MinOffersToDisplay":void 0,recommendationsMetadata:qB(a)})}buildProductAddedTrackingEvent(e,t,n,r,o,i,a){const s=this.findOffer(o.trackingId,o.offerGroupTrackingId);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendations Product Added",list_id:zB(this.poeResponse.trackingKey),route:"recommendations",tenant:n,product_id:o.mpvId,product_id_url:WB(n,r,o.mpvId),name:o.title,core_product_id:o.productKey,core_product_version:o.productVersion,variant:KB(o.productOptions),offersGroups:this.offerGroupImpressions(),offers_group_tracking_id:o.offerGroupTrackingId,eventDetail:"".concat(s.rank,"_").concat(o.mpvId)},this.buildPlacementDetails()),this.buildExperimentDetails()),this.adaptOfferDetails(o)),GB(o,i,s.sceneId)),HB(o)),{recommendationsMetadata:qB(a)})}buildProductEditedInStudioTrackingEvent(e,t,n,r,o,i,a){const s=this.findOffer(o.trackingId,o.offerGroupTrackingId);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendations Product Edited",list_id:zB(this.poeResponse.trackingKey),category:FB(e),route:"recommendations",tenant:n,product_id:o.mpvId,product_id_url:WB(n,r,o.mpvId),name:o.title,core_product_id:o.productKey,core_product_version:o.productVersion,variant:KB(o.productOptions),offersGroups:this.offerGroupImpressions(),offers_group_tracking_id:o.offerGroupTrackingId,eventDetail:"".concat(s.rank,"_").concat(o.mpvId)},this.buildPlacementDetails()),this.buildExperimentDetails()),this.adaptOfferDetails(o)),GB(o,i,s.sceneId)),HB(o)),{recommendationsMetadata:qB(a)})}buildProductClickedTrackingEvent(e,t,n,r,o,i){const a=this.findOfferGroup(o.offerGroupTrackingId),s=this.findOffer(o.trackingId,o.offerGroupTrackingId);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendations Product Clicked",route:"recommendations",list_id:zB(this.poeResponse.trackingKey),list_section_id:this.computeListSectionId(a.offerTypes,a.rank),tenant:n,product_id:o.mpvId,product_id_url:WB(n,r,o.mpvId),name:o.title,core_product_id:o.productKey,core_product_version:o.productVersion,variant:KB(o.productOptions),offersGroups:this.offerGroupImpressions(),offers_group_tracking_id:o.offerGroupTrackingId,eventDetail:"".concat(s.rank,"_").concat(o.mpvId)},this.buildPlacementDetails()),this.buildExperimentDetails()),this.adaptOfferDetails(o)),GB(o,void 0,s.sceneId)),HB(o)),{recommendationsMetadata:qB(i)})}buildProductStartDesigningTrackingEvent(e,t,n,r,o,i){const a=this.findOffer(o.trackingId,o.offerGroupTrackingId);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendations Product Started Designed",list_id:zB(this.poeResponse.trackingKey),category:FB(e),route:"recommendations",tenant:n,product_id:o.mpvId,product_id_url:WB(n,r,o.mpvId),name:o.title,core_product_id:o.productKey,core_product_version:o.productVersion,variant:KB(o.productOptions),offersGroups:this.offerGroupImpressions(),offers_group_tracking_id:o.offerGroupTrackingId,eventDetail:"".concat(a.rank,"_").concat(o.mpvId)},this.buildPlacementDetails()),this.buildExperimentDetails()),this.adaptOfferDetails(o)),GB(o,void 0,a.sceneId)),{recommendationsMetadata:qB(i)})}buildProductDetailsClickedTrackingEvent(e,t,n,r,o,i){return{pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Details clicked Fly-Out",list_id:zB(this.poeResponse.trackingKey),category:"Fly-Out",tenant:n,product_id:o.mpvId,product_id_url:WB(n,r,o.mpvId),name:o.title,core_product_id:o.productKey,core_product_version:o.productVersion,variant:KB(o.productOptions),eventDetail:"Details",recommendationsMetadata:qB(i)}}buildAddToCartInteractionTimeTrackingEvent(e,t,n){return{pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),eventName:"tile add to basket",timing:n}}getProductList(e){const t=this.findOfferGroup(e.trackingId);return e.offers.map((n,r)=>{const o=this.findOffer(n.trackingId,e.trackingId);return{product_id:n.mpvId,name:n.title,core_product_id:n.productKey,core_product_version:n.productVersion,variant:KB(n.productOptions),position:r+1,offer_type:n.offerType,offer_tracking_id:o.trackingId,model_rank:o.modelRank,model_score:o.modelScore,matching_score:o.matchingScore,doc_id:n.sourceDocumentUrl,scene_id:o.sceneId,list_section_id:this.computeListSectionId(t.offerTypes,t.rank)}})}offerGroupImpressions(){return this.poeResponse.offersGroups.map(e=>{const t=this.findOfferGroup(e.trackingId);return{tracking_id:t.trackingId,rank:t.rank,impressions:e.offers.map(e=>e.productId)}})}buildPlacementDetails(){var e,t,n;return{placement_id:this.poeResponse.id,placement_version:this.poeResponse.version,placement_tracking_id:this.poeResponse.trackingId,selector:this.poeResponse.selector,model_id:null===(e=this.poeResponse.model)||void 0===e?void 0:e.id,model_version:null===(t=this.poeResponse.model)||void 0===t?void 0:t.version,tracking_variant_id:null===(n=this.poeResponse.experimentInfo)||void 0===n?void 0:n.variation.key,correlationId:this.poeResponse.correlationId}}buildOfferGroupDetails(e){const t=this.findOfferGroup(e);return{offers_group_tracking_id:t.trackingId,rank:t.rank,offer_type:this.computeOfferTypes(t.offerTypes),product_type:t.itemType}}computeListSectionId(e,t){return"".concat(this.computeOfferTypes(e),"-").concat(t)}findOfferGroup(e){const t=this.poeResponse.offersGroups.find(t=>t.trackingId===e);if(!t)throw new Error("cannot find offer group with tracking ID ".concat(e," in POE's response (").concat(JSON.stringify(this.poeResponse),")"));return t}findOffer(e,t){const n=this.findOfferGroup(t).offers.find(t=>t.trackingId===e);if(!n)throw new Error("cannot find offer with tracking ID ".concat(e," in POE's response (").concat(JSON.stringify(this.poeResponse),")"));return n}buildExperimentDetails(){var e,t;return{experiment_key:null===(e=this.poeResponse.experimentInfo)||void 0===e?void 0:e.experiment.key,experiment_variation_key:null===(t=this.poeResponse.experimentInfo)||void 0===t?void 0:t.variation.key}}adaptOfferDetails(e){const t=this.findOffer(e.trackingId,e.offerGroupTrackingId);return{offer_tracking_id:t.trackingId,model_rank:t.modelRank,model_score:t.modelScore,matching_score:t.matchingScore,offer_type:e.offerType}}}var YB=le.a.CustomEvent;const ZB=function(){try{var e=new YB("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(oA){}return!1}()?YB:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};function JB(e,t){const n=new ZB(e,t);window.dispatchEvent(n)}var XB={publishAfterPageLoad:function(e,t){performance.timing.loadEventEnd?JB(e,t):window.addEventListener("load",(function(){JB(e,t)}))},onBodyReady:function(e){document.body?e():window.addEventListener("DOMContentLoaded",(function(){e()}))}};n("ncSX");let $B=ez();function ez(){let e={};return"undefined"!=typeof window&&(e=window),e.trackingInitialized=e.trackingInitialized||!1,e}var tz={isTrackingInitialized:function(){return!0===$B.trackingInitialized},setTrackingInitialized:function(){$B.trackingInitialized=!0},setTracking:function(e){e&&($B.tracking=e)},getTracking:function(){return $B.tracking},reset:function(){$B=ez()}};const nz=n("hJrl").a,rz=tz;function oz(e){const t=e.detail;t&&t.profile&&(iz(t),window.removeEventListener("userIdentity",oz))}function iz(e){const t=rz.getTracking();e.isSignedIn?t.identify(az(e.profile)):t.setAnonymousId(az(e.profile))}function az(e){return e["https://claims.cimpress.io/canonical_id"]}var sz,cz={init:function(){const e=(new nz.WebAuth).getIdentity();e&&e.profile?iz(e):window.addEventListener("userIdentity",oz)}},uz="undefined"!=typeof window?window:void 0!==le.a?le.a:"undefined"!=typeof self?self:{},lz=void 0!==le.a?le.a:"undefined"!=typeof window?window:{},dz=de;"undefined"!=typeof document?sz=document:(sz=lz["__GLOBAL_DOCUMENT_CACHE@4"])||(sz=lz["__GLOBAL_DOCUMENT_CACHE@4"]=dz);var pz=sz,fz=n("q3UN"),hz=uz,mz=pz,gz=fz.a;function vz(e,t){const n={All:e};for(let r=0;r<t.length;r++)n[t[r]]=!e;return n}function yz(e){const t=!1===e.All;return{isWhitelist:t,items:bz(e,t)}}function bz(e,t){return Object.keys(e).filter(n=>e[n]==t&&"All"!=n)}function wz(e,t){return e.filter(e=>!t.includes(e))}var Oz={mergeIntegrations:function(e,t){const n=yz(e),r=yz(t);return n.isWhitelist&&r.isWhitelist?vz(!1,(o=n.items,i=r.items,o.filter(e=>i.includes(e)))):n.isWhitelist||r.isWhitelist?n.isWhitelist?vz(!1,wz(n.items,r.items)):vz(!1,wz(r.items,n.items)):vz(!0,n.items.concat(r.items));var o,i},someEnabled:function(e){const t=yz(e);return!t.isWhitelist||t.items.length>0},addIntegration:function(e,t){e&&t&&(e[t]=!0)},addApiHost:function(e,t,n){e&&t&&(e[t]={apiHost:n})},isNonEmptyWhitelist:function(e){return e&&!1===e.All&&Object.keys(e).length>1}};const Ez=hz.addEventListener?function(e){if("complete"===mz.readyState)return gz(e);hz.addEventListener("load",(function(){e()}))}:function(){},xz=Oz;function Sz(e){return t=>{try{e(t)}catch(oA){console.error("Failed on executing a middleware",oA),t.next(t.payload)}}}var Pz={init:function(e,t,n){const r=window.analytics=window.analytics||[];if(!r.initialize){if(!r.invoked){r.invoked=!0,r.methods=["setAnonymousId","trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","addDestinationMiddleware"],r.factory=function(e){return function(){const t=Array.prototype.slice.call(arguments);return t.unshift(e),r.push(t),r}};for(let e=0;e<r.methods.length;e++){const t=r.methods[e];r[t]=r.factory(t)}return r.load=(o,i)=>{Ez(()=>{(i=i||{}).integrations=function(e,t,n){e=e||{All:!0},e=xz.mergeIntegrations(e,t);const r=xz.isNonEmptyWhitelist(e);n?xz.addApiHost(e,"Segment.io",n):r&&xz.addIntegration(e,"Segment.io");r&&xz.addIntegration(e,"Repeater");return e}(i.integrations,e.integrations,e.apiHost),xz.someEnabled(i.integrations)?(r._writeKey=o,e.domain&&(r._cdn="https://".concat(e.domain)),t(i.integrations),r._loadOptions=i,function(e,t,n){Array.isArray(t)&&t.length>0&&t.forEach(t=>{const n=Sz(t);e.addSourceMiddleware(n)});Array.isArray(n)&&n.length>0&&n.forEach(t=>{const n=t.middlewares.map(e=>Sz(e));e.addDestinationMiddleware(t.targetIntegration,n)})}(r,e.sourceMiddlewares,e.destinationMiddlewares),function(e,t,n){const r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=function(e,t,n,r){return r?"https://".concat(t,"/").concat(n,"/").concat(e,".min.js"):"https://".concat(t,"/analytics.js/v1/").concat(e,"/analytics.min.js")}(e,t,"9BNvi137tW",n);const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}(o,e.domain,e.useAnalyticsAlias)):n()})},r.SNIPPET_VERSION="4.13.2",r}window.console&&console.error&&console.error("Segment snippet included twice.")}}};const Cz=Er;var Tz={getRootCookieDomain:()=>Cz.getRootCookieDomain()};function _z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_z(Object(n),!0).forEach((function(t){Iz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mz=Zn,{getRootCookieDomain:jz}=Tz;var Az={getCookie:function(e){return Mz.get(e)},setCookie:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=kz({domain:jz()},n),Mz.set(e,t,n)},removeCookie:function(e){Mz.remove(e)}};const Rz=Az,{v4:Dz}=cr;function Lz(){return Rz.getCookie("visit")||null}var Nz={getVisit:Lz,ensureVisit:function(){let e=Lz();return e||(e=Dz()),Rz.setCookie("visit",e,{expires:new Date(Date.now()+18e5)}),e}};var Uz={getMetaTagValues:function(e){const t=[],n=document.querySelectorAll("meta");for(let r=0;r<n.length;r++){const o=n[r],i=o.getAttribute("name");e.indexOf(i)>=0&&t.push({key:o.getAttribute("name"),value:o.getAttribute("content")})}return t},getMetaTagValue:function(e){if(!e)return null;const t=document.getElementsByTagName("meta")[e];return t?t.getAttribute("content"):null}};var Fz={parseCulture:function(e){if(!e)return{};const t=e.split("-");return{language:t[0],locale:t.length>1?t[t.length-1]:void 0}}},Bz=(n("7ueG"),{}),zz=Object.prototype.hasOwnProperty;function Vz(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(oA){return null}}function qz(e){try{return encodeURIComponent(e)}catch(oA){return null}}Bz.stringify=function(e,t){t=t||"";var n,r,o=[];for(r in"string"!=typeof t&&(t="?"),e)if(zz.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=qz(r),n=qz(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""},Bz.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=Vz(t[1]),i=Vz(t[2]);null===o||null===i||o in r||(r[o]=i)}return r};var Gz=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},Hz=Bz,Wz=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Kz=/[\n\r\t]/g,Qz=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Yz=/:\d+$/,Zz=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Jz=/^[a-zA-Z]:/;function Xz(e){return(e||"").toString().replace(Wz,"")}var $z=[["#","hash"],["?","query"],function(e,t){return nV(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],eV={hash:1,query:1};function tV(e){var t,n=("undefined"!=typeof window?window:void 0!==le.a?le.a:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(e=e||n);if("blob:"===e.protocol)r=new oV(unescape(e.pathname),{});else if("string"===o)for(t in r=new oV(e,{}),eV)delete r[t];else if("object"===o){for(t in e)t in eV||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=Qz.test(e.href))}return r}function nV(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function rV(e,t){e=(e=Xz(e)).replace(Kz,""),t=t||{};var n,r=Zz.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],s=0;return i?a?(n=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(n=r[2]+r[4],s=r[2].length):a?(n=r[3]+r[4],s=r[3].length):n=r[4],"file:"===o?s>=2&&(n=n.slice(2)):nV(o)?n=r[4]:o?i&&(n=n.slice(2)):s>=2&&nV(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||nV(o),slashesCount:s,rest:n}}function oV(e,t,n){if(e=(e=Xz(e)).replace(Kz,""),!(this instanceof oV))return new oV(e,t,n);var r,o,i,a,s,c,u=$z.slice(),l=typeof t,d=this,p=0;for("object"!==l&&"string"!==l&&(n=t,t=null),n&&"function"!=typeof n&&(n=Hz.parse),r=!(o=rV(e||"",t=tV(t))).protocol&&!o.slashes,d.slashes=o.slashes||r&&t.slashes,d.protocol=o.protocol||t.protocol||"",e=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||Jz.test(e))||!o.slashes&&(o.protocol||o.slashesCount<2||!nV(d.protocol)))&&(u[3]=[/(.*)/,"pathname"]);p<u.length;p++)"function"!=typeof(a=u[p])?(i=a[0],c=a[1],i!=i?d[c]=e:"string"==typeof i?~(s="@"===i?e.lastIndexOf(i):e.indexOf(i))&&("number"==typeof a[2]?(d[c]=e.slice(0,s),e=e.slice(s+a[2])):(d[c]=e.slice(s),e=e.slice(0,s))):(s=i.exec(e))&&(d[c]=s[1],e=e.slice(0,s.index)),d[c]=d[c]||r&&a[3]&&t[c]||"",a[4]&&(d[c]=d[c].toLowerCase())):e=a(e,d);n&&(d.query=n(d.query)),r&&t.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==t.pathname)&&(d.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(d.pathname,t.pathname)),"/"!==d.pathname.charAt(0)&&nV(d.protocol)&&(d.pathname="/"+d.pathname),Gz(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(~(s=d.auth.indexOf(":"))?(d.username=d.auth.slice(0,s),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(s+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin="file:"!==d.protocol&&nV(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}oV.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||Hz.parse)(t)),r[e]=t;break;case"port":r[e]=t,Gz(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,Yz.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(r.username=t.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<$z.length;a++){var s=$z[a];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&nV(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=Hz.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var i=o+(n.protocol&&n.slashes||nV(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):"file:"!==n.protocol&&nV(n.protocol)&&!r&&"/"!==n.pathname&&(i+="@"),(":"===r[r.length-1]||Yz.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},oV.extractProtocol=rV,oV.location=tV,oV.trimLeft=Xz,oV.qs=Hz;const iV=oV;var aV={getParameters:function(e,t){const n={},r=iV(e,!0).query;for(let o=0;o<t.length;o++){const e=t[o];n[e]=r[e]||""}return n},getHashParameter:function(e,t){const n=iV(e,!0).hash;if(!n)return null;const r=n.slice(1).split("&");for(let o=0;o<r.length;o++){const e=r[o].split("=");if(2==e.length&&decodeURIComponent(e[0])==t)return decodeURIComponent(e[1])}return null}},sV={version:"7.0.1050"};const{v4:cV}=cr;let uV=null;var lV={refresh:function(){return uV=cV(),uV},getPageViewId:function(){return uV||(uV=cV()),uV}};const dV=Uz,{parseCulture:pV}=Fz,fV=Nz,hV=aV,mV=_r,gV=sV,vV=lV,{v4:yV}=cr;class bV{constructor(e,t,n){this.properties=e||{},this.culture=t,this.tenant=n}static create(e,t,n){return new bV(e,t,n)}getProperties(){return this.properties}addVisit(){return this.properties.visit=fV.ensureVisit(),this}addPtid(){return this.properties.ptid=yV(),this}addPageViewId(){return this.properties.pageViewId=vV.getPageViewId(),this}addChannel(){if(window.location){const e=window.location.toString(),t=hV.getParameters(e,["tid","partner","utm_id"]);t.tid&&(this.properties.tid=t.tid),t.partner&&(this.properties.partner=t.partner),t.utm_id&&(this.properties.utm_id=t.utm_id)}return this}addMetatagValues(e){const t=dV.getMetaTagValues(e);return t&&t.forEach(e=>{this.properties[e.key]||(this.properties[e.key]=e.value)}),this}addLanguageLocale(){const e=pV(this.culture);return e.language&&!this.properties.language&&(this.properties.language=e.language),e.locale&&!this.properties.locale&&(this.properties.locale=e.locale),this}addTrackingInfo(){return this.properties.trackingVersion=gV.version,this.tenant&&(this.properties.trackingTenant=this.tenant),this}addFiscalYear(e){const t=e.getUTCMonth(),n=e.getUTCFullYear();return this.properties.fiscalYear="FY"+(t>5?n+1:n)%100,this}addTestUserId(){return this.properties.testUserId=mV.ensureUserTestId(),this}}var wV=bV;var OV={getTimezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){console.log("Tracking: Retrieve of timezone failed")}}};const EV=Nz,{mergeIntegrations:xV}=Oz,SV=wV,{version:PV}=sV,CV=tz,TV=lV,_V=OV;let kV=!0,IV=!0,MV=null;const jV={shouldTrack:!0,culture:"en-IE",tenant:"vistaprint"};function AV(e){UV()&&function e(t,n){IV&&NV()&&(IV=!1);kV||IV?setTimeout(()=>e(t,n),n):t()}(e,200)}function RV(e,t){NV()?(IV=!1,e()):setTimeout(()=>RV(e,t),t)}function DV(){kV&&console.warn("It looks like auth library (@vp/auth) has not been initialized after 9000ms since tracking.js was loaded. Events fired in this period have been published without any ID."),kV=!1}function LV(){IV&&!NV()&&console.warn("Analytics library has not been fully initialized after 10000ms since tracking.js was loaded."),IV=!1}function NV(){return BV().user&&"function"==typeof BV().user}function UV(){return FV()&&jV.shouldTrack}function FV(){return!(!BV()||"object"!=typeof BV())}function BV(){return window.analytics}function zV(e){const t={};return e&&e.integrations&&(t.integrations=MV?xV(e.integrations,MV):e.integrations),VV(t),t}function VV(e){return(e=e||{}).context=e.context||{},e.context.timezone=_V.getTimezone(),e}var qV={init:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vistaprint";jV.shouldTrack=e,jV.culture=t,jV.tenant=n,UV()&&(setTimeout(()=>{LV()},1e4),setTimeout(()=>{DV()},9e3));const r={version:()=>PV,visit:()=>EV.getVisit(),page:(e,t,n)=>{TV.refresh(),AV(()=>{"object"==typeof e&&(t=e,e=""),t=SV.create(t,jV.culture,jV.tenant).addVisit().addPtid().addPageViewId().addChannel().addMetatagValues(["pageName","pageSection","pageStage","pageDept"]).addLanguageLocale().addTrackingInfo().addFiscalYear(new Date).addTestUserId().getProperties(),BV().page(e,t,zV(n))})},track:(e,t,n)=>{AV(()=>{t=SV.create(t,jV.culture,jV.tenant).addVisit().addPtid().addPageViewId().addMetatagValues(["pageName","pageSection","pageStage","pageDept"]).addLanguageLocale().addTrackingInfo().addTestUserId().getProperties(),BV().track(e,t,zV(n))})},trackLink:(e,t,n)=>{AV(()=>{n=SV.create(n,jV.culture,jV.tenant).addVisit().addPtid().addPageViewId().addMetatagValues(["pageName","pageSection","pageStage","pageDept"]).addLanguageLocale().addTrackingInfo().getProperties(),BV().trackLink(e,t,n)})},trackNavigation:(e,t,n)=>{AV(()=>{n=SV.create(n,jV.culture,jV.tenant).addVisit().addPtid().addPageViewId().addMetatagValues(["pageName","pageSection","pageStage","pageDept"]).addLanguageLocale().addTrackingInfo().getProperties(),BV().trackLink(e,t,n)})},identify:(e,t,n)=>{UV()&&(BV().identify(e,t,VV(n)),kV=!1)},reset:()=>{FV()&&BV().reset()},setAnonymousId:e=>{FV()&&RV(()=>{const t=BV().user();t.logout(),t.anonymousId(e),kV=!1},200)}};return CV.setTracking(r),r},setIntegrations:function(e){MV=e},cancelLoading:function(){IV=!1,kV=!1}};const GV="vp-tracking-hashed-ids";let HV,WV,KV=!1;const QV=()=>{if(!KV){try{const e="test";window.localStorage.setItem(e,e),window.localStorage.removeItem(e),HV=window.localStorage}catch(oA){const t={};HV={getItem:e=>t[e],setItem:(e,n)=>t[e]=n,removeItem:e=>delete t[e]}}KV=!0}};var YV={get:e=>{QV();const t=HV.getItem(GV);if(t){return JSON.parse(t)[e]}},set:(e,t,n)=>{QV();const r=HV.getItem(GV),o=r?JSON.parse(r):{};o[e]=t,HV.setItem(GV,JSON.stringify(o)),!WV||n&&n.suppressCallback||WV(e,t,n)},onSet:e=>WV=e,reset:()=>{QV(),HV.removeItem(GV),WV=null}},ZV={},JV=function(e,t){return(JV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function XV(e,t){function n(){this.constructor=e}JV(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $V=function(){return($V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function eq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function tq(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function nq(e,t){return function(n,r){t(n,r,e)}}function rq(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function oq(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(oA){i(oA)}}function s(e){try{c(r.throw(e))}catch(oA){i(oA)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function iq(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(oA){i=[6,oA],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function aq(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function sq(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function cq(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function uq(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function lq(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(uq(arguments[t]));return e}function dq(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function pq(e){return this instanceof pq?(this.v=e,this):new pq(e)}function fq(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof pq?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(oA){l(i[0][3],oA)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function hq(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:pq(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function mq(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=cq(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function gq(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function vq(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function yq(e){return e&&e.__esModule?e:{default:e}}function bq(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function wq(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var Oq=Object(le.b)(s),Eq={},xq={};Object.defineProperty(xq,"__esModule",{value:!0}),xq.MAX_HASHABLE_LENGTH=xq.INIT=xq.KEY=xq.DIGEST_LENGTH=xq.BLOCK_SIZE=void 0,xq.BLOCK_SIZE=64,xq.DIGEST_LENGTH=32,xq.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xq.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],xq.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Sq={};Object.defineProperty(Sq,"__esModule",{value:!0}),Sq.RawSha256=void 0;var Pq=xq,Cq=function(){function e(){this.state=Int32Array.from(Pq.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>Pq.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===Pq.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%Pq.BLOCK_SIZE>=Pq.BLOCK_SIZE-8){for(var r=this.bufferLength;r<Pq.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<Pq.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(Pq.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(Pq.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(Pq.DIGEST_LENGTH);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],c=t[6],u=t[7],l=0;l<Pq.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,f=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(p+this.temp[l-7]|0)+(f+this.temp[l-16]|0)}var h=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&s^~a&c)|0)+(u+(Pq.KEY[l]+this.temp[l]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;u=c,c=s,s=a,a=i+h|0,i=o,o=r,r=n,n=h+m|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=i,t[4]+=a,t[5]+=s,t[6]+=c,t[7]+=u},e}();Sq.RawSha256=Cq;var Tq={},_q=(n("FUyf"),{});Object.defineProperty(_q,"__esModule",{value:!0}),_q.isEmptyData=void 0,_q.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var kq={};Object.defineProperty(kq,"__esModule",{value:!0}),kq.numToUint8=void 0,kq.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])};var Iq={};Object.defineProperty(Iq,"__esModule",{value:!0}),Iq.uint32ArrayFrom=void 0,Iq.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)};var Mq=n("/9Dy");!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Mq.a;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var n=_q;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var r=kq;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var o=Iq;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})}(Tq),Object.defineProperty(Eq,"__esModule",{value:!0}),Eq.Sha256=void 0;var jq=Oq,Aq=xq,Rq=Sq,Dq=Tq,Lq=function(){function e(e){if(this.hash=new Rq.RawSha256,e){this.outer=new Rq.RawSha256;var t=function(e){var t=(0,Dq.convertToBuffer)(e);if(t.byteLength>Aq.BLOCK_SIZE){var n=new Rq.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(Aq.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(Aq.BLOCK_SIZE);n.set(t);for(var r=0;r<Aq.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,Dq.isEmptyData)(e)&&!this.error)try{this.hash.update((0,Dq.convertToBuffer)(e))}catch(oA){this.error=oA}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,jq.__awaiter)(this,void 0,void 0,(function(){return(0,jq.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();Eq.Sha256=Lq,function(e){Object.defineProperty(e,"__esModule",{value:!0}),(0,Oq.__exportStar)(Eq,e)}(ZV);const{Sha256:Nq}=ZV;var Uq={hashSHA256:function(e){if(!e)return;const t=new Nq;t.update(e);const n=t.digestSync();return btoa(String.fromCharCode.apply(null,n))}};function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zq=YV,Vq=tz,{hashSHA256:qq}=Uq,Gq=(e,t,n)=>{const r=Hq(e);if(r){const o=zq.get(r),i=o||qq(r);if(t.obj.properties[e+"Hashed"]=i,!o){const o={idType:e,suppressCallback:n,integrations:t.integrations()};return zq.set(r,i,o),!0}}return!1},Hq=e=>{const t="userId"===e?"id":e;if((window.analytics&&"function"==typeof window.analytics.user?window.analytics.user():void 0)&&"function"==typeof window.analytics.user()[t])return window.analytics.user()[t]()},Wq=e=>{let{payload:t,next:n}=e;if(t&&t.obj){t.obj.properties=t.obj.properties||{};try{const e=Gq("userId",t);Gq("anonymousId",t,e)}catch(oA){console.log(oA)}finally{n(t)}}else n(t)},Kq=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fq(Object(n),!0).forEach((function(t){Bq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);for(const n in t)t[n]=!1;return t["Segment.io"]=!0,t.Repeater=!0,t},Qq=(e,t,n)=>{const r={integrations:Kq(n.integrations),externalIds:[{id:t,type:n.idType+"Hashed",collection:"users"}]};"anonymousId"===n.idType&&(r.anonymousId=e);Vq.getTracking().identify("userId"===n.idType?e:void 0,{},r)};const Yq=Az,Zq=["Product Viewed","Product List Viewed","Product Added","Checkout Step Viewed","Checkout Step Completed","Checkout Started","Gallery Design Engagement","Order Completed"],Jq=["Gallery","Studio","Configure - Recommendation","Configure - Option","Cart","Shipping","Payment Methods","Confirmation"];function Xq(e,t){const n=[];return e.forEach((function(e){var r;const o=null==t||null===(r=t.reverse())||void 0===r?void 0:r.find(t=>!n.includes(t)&&t.toLowerCase().indexOf(e.toLowerCase())>-1);o?n.push(o):n.push(e)})),n}function $q(e,t,n){return e?Xq(e,n):t}const eG=e=>{let{payload:t,next:n}=e;if(!t||!t.obj||!t.obj.event)return void n(t);t.obj.properties=t.obj.properties||{};const r=t.obj,o=r.properties||{};try{let e=void 0;o.products&&Array.isArray(o.products)&&(e=o.products.map(e=>e.product_id));const i=Yq.getCookie("gallery_design_id");let a=function(e,t,n,r,o,i){let a=void 0,s=void 0;return o&&(s=o.split(",")),a=Zq.includes(e)?Jq.includes(t)?r?s?$q(r,i,s):r:s|("Gallery page view"===n&&"Product Viewed"===e)?$q(r,i,s):Xq([i],s):r?r.slice(0,3):i:"Gallery Impression"===e?i:void 0,a}(r.event,o.pageSection,o.label,e,i,o.product_id)||[];a=Array.isArray(a)?a:[a],function(e,t){"masks"===e.trackingTenant&&e.name&&(e.name=e.name.replace(/[\u2122]/g,""));e.product_id&&t.length>0&&(e.product_id=t[0]);e.products&&t.length>0&&(e.products=t.map(e=>({product_id:e,quantity:1})));e.content_ids=t,e.contents=t.map(e=>({id:e,quantity:1}))}(o,a)}catch(oA){console.log(oA)}finally{n(t)}};const tG=e=>{let{payload:t,next:n}=e;if(!t||!t.obj||!t.obj.event)return void n(t);t.obj.properties=t.obj.properties||{};const r=t.obj;if("Order Completed"==r.event)try{const e=r.properties.checkout_id;e&&(r.messageId=e),delete r.properties.order_id}catch(oA){console.log(oA)}finally{n(t)}else n(t)};const nG=e=>{let{payload:t,next:n}=e;if(!t||!t.obj||!t.obj.event)return void n(t);t.obj.properties=t.obj.properties||{};const r=t.obj;if("Order Completed"==r.event)try{const e=r.properties.revenue,o=r.properties.shipping;e&&o&&(r.properties.revenue=e+o),delete r.properties.order_id}catch(oA){console.log(oA)}finally{n(t)}else n(t)};const rG=[],oG=[{getDestinationMiddlewares:()=>(zq.onSet(Qq),[{targetIntegration:"Google Tag Manager",middlewares:[Wq]},{targetIntegration:"Google Analytics",middlewares:[Wq]}])},{getDestinationMiddlewares:()=>[{targetIntegration:"Facebook Pixel",middlewares:[eG]}]},{getDestinationMiddlewares:()=>[{targetIntegration:"Facebook Pixel",middlewares:[tG]}]},{getDestinationMiddlewares:()=>[{targetIntegration:"Facebook Pixel",middlewares:[nG]}]}];var iG={mergeSourceMiddlewares:e=>{let t=e||[];return rG&&rG.length>0&&rG.forEach(e=>{t=t.concat(e.getSourceMiddlewares())}),t},mergeDestinationMiddlewares:e=>{let t=e||[];return oG&&oG.length>0&&oG.forEach(e=>{t=t.concat(e.getDestinationMiddlewares())}),t}};const aG=XB,sG=cz,cG=Pz,uG=qV,{version:lG}=sV,dG=tz,pG=iG;var fG={init:function(e,t){if(console.log("@vp/tracking:".concat(lG)),!e||!e.writeKey)return void console.error("Write key is not provided for tracking purpose.");if(dG.isTrackingInitialized())return void console.warn("Tracking is already initialized on the page, skipping initialization");dG.setTrackingInitialized(),function(e){e.sourceMiddlewares=pG.mergeSourceMiddlewares(e.sourceMiddlewares),e.destinationMiddlewares=pG.mergeDestinationMiddlewares(e.destinationMiddlewares)}(e),cG.init(e,uG.setIntegrations,uG.cancelLoading),t&&t();const n=uG.init(e.shouldTrack,e.culture,e.tenant);return sG.init(),aG.publishAfterPageLoad("trackingReady"),n}},hG=Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)wG(Object(arguments[o]),(function(t,n){e[n]=t}));return e},mG=function(){if(Object.create)return function(e,t,n,r){var o=bG(arguments,1);return hG.apply(this,[Object.create(e)].concat(o))};{function e(){}return function(t,n,r,o){var i=bG(arguments,1);return e.prototype=t,hG.apply(this,[new e].concat(i))}}}(),gG=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},vG="undefined"!=typeof window?window:le.a,yG={assign:hG,create:mG,trim:gG,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:bG,each:wG,map:function(e,t){var n=EG(e)?[]:{};return OG(e,(function(e,r){return n[r]=t(e,r),!1})),n},pluck:OG,isList:EG,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:vG};function bG(e,t){return Array.prototype.slice.call(e,t||0)}function wG(e,t){OG(e,(function(e,n){return t(e,n),!1}))}function OG(e,t){if(EG(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function EG(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}var xG=yG.slice,SG=yG.pluck,PG=yG.each,CG=yG.bind,TG=yG.create,_G=yG.isList,kG=yG.isFunction,IG=yG.isObject,MG={createStore:AG},jG={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return AG.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return AG(this.storage,this.plugins,e)}};function AG(e,t,n){n||(n=""),e&&!_G(e)&&(e=[e]),t&&!_G(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var i=TG({_namespacePrefix:r,_namespaceRegexp:o,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(oA){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=xG(arguments,0),r=this;function o(){if(n)return PG(arguments,(function(e,n){t[n]=e})),n.apply(r,t)}var i=[o].concat(t);return e.apply(r,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(oA){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(_G(e))PG(e,(function(e){t._addPlugin(e)}));else if(!SG(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!kG(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!IG(n))throw new Error("Plugins must return an object of function properties");PG(n,(function(n,r){if(!kG(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},jG,{plugins:[]});return i.raw={},PG(i,(function(e,t){kG(e)&&(i.raw[t]=CG(i,e))})),PG(e,(function(e){i._addStorage(e)})),PG(t,(function(e){i._addPlugin(e)})),i}var RG=yG.Global,DG={name:"localStorage",read:NG,write:function(e,t){return LG().setItem(e,t)},each:function(e){for(var t=LG().length-1;t>=0;t--){var n=LG().key(t);e(NG(n),n)}},remove:function(e){return LG().removeItem(e)},clearAll:function(){return LG().clear()}};function LG(){return RG.localStorage}function NG(e){return LG().getItem(e)}var UG={name:"oldFF-globalStorage",read:function(e){return FG[e]},write:function(e,t){FG[e]=t},each:BG,remove:function(e){return FG.removeItem(e)},clearAll:function(){BG((function(e,t){delete FG[e]}))}},FG=yG.Global.globalStorage;function BG(e){for(var t=FG.length-1;t>=0;t--){var n=FG.key(t);e(FG[n],n)}}var zG=yG.Global,VG={name:"oldIE-userDataStorage",write:function(e,t){if(HG)return;var n=KG(e);GG((function(e){e.setAttribute(n,t),e.save("storejs")}))},read:function(e){if(HG)return;var t=KG(e),n=null;return GG((function(e){n=e.getAttribute(t)})),n},each:function(e){GG((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))},remove:function(e){var t=KG(e);GG((function(e){e.removeAttribute(t),e.save("storejs")}))},clearAll:function(){GG((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}},qG=zG.document,GG=function(){if(!qG||!qG.documentElement||!qG.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(oA){n=qG.createElement("div"),e=qG.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load("storejs"),t.apply(this,r),e.removeChild(n)}}(),HG=(zG.navigator?zG.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var WG=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function KG(e){return e.replace(/^\d/,"___$&").replace(WG,"___")}var QG=yG.trim,YG={name:"cookieStorage",read:function(e){if(!e||!$G(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(ZG.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;ZG.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:JG,remove:XG,clearAll:function(){JG((function(e,t){XG(t)}))}},ZG=yG.Global.document;function JG(e){for(var t=ZG.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(QG(t[n])){var r=t[n].split("="),o=unescape(r[0]);e(unescape(r[1]),o)}}function XG(e){e&&$G(e)&&(ZG.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function $G(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(ZG.cookie)}var eH=yG.Global;function tH(){return eH.sessionStorage}function nH(e){return tH().getItem(e)}var rH={name:"memoryStorage",read:function(e){return oH[e]},write:function(e,t){oH[e]=t},each:function(e){for(var t in oH)oH.hasOwnProperty(t)&&e(oH[t],t)},remove:function(e){delete oH[e]},clearAll:function(e){oH={}}},oH={};var iH=[DG,UG,VG,YG,{name:"sessionStorage",read:nH,write:function(e,t){return tH().setItem(e,t)},each:function(e){for(var t=tH().length-1;t>=0;t--){var n=tH().key(t);e(nH(n),n)}},remove:function(e){return tH().removeItem(e)},clearAll:function(){return tH().clear()}},rH],aH=n("mCE7");var sH=MG.createStore(iH,[function(){return Object(aH.a)(),{}}]);var cH=function(){var e=Rr(),t=function(){var e=("undefined"!=typeof window?window.location:void 0)&&window.location.pathname;return e||"/"}();switch(e.toUpperCase()){case"PT":return"pt-PT";case"IE":return"en-IE";case"ES":return"es-ES";case"IN":return"en-IN";case"US":return function(e){return e.toLowerCase().startsWith("/es")?"es-US":"en-US"}(t);case"GB":return"en-GB";case"FR":return"fr-FR";case"IT":return"it-IT";case"DE":return"de-DE";case"NL":return"nl-NL";case"DK":return"da-DK";case"SE":return"sv-SE";case"AT":return"de-AT";case"NO":return"nb-NO";case"FI":return"fi-FI";case"BE":return function(e){var t=e.toLowerCase();return t.startsWith("/fr")||t.startsWith("/fr-be")?"fr-BE":"nl-BE"}(t);case"SG":return"en-SG";case"JP":return"ja-JP";case"NZ":return"en-NZ";case"AU":return"en-AU";case"CA":return function(e){return e.toLowerCase().startsWith("/fr")?"fr-CA":"en-CA"}(t);case"CH":return function(e){var t=e.toLowerCase();return t.startsWith("/fr")?"fr-CH":t.startsWith("/it")?"it-CH":"de-CH"}(t);default:return"en-IE"}},uH=Object(le.b)(c);var lH={hasNoTrack:function(){return!(!navigator||!navigator.userAgent)&&navigator.userAgent.indexOf("(+NoTrack)")>-1},hasSiteTest:function(){return!(!navigator||!navigator.userAgent)&&navigator.userAgent.indexOf("(+SiteTest)")>-1},noTrack:"(+NoTrack)",siteTest:"(+SiteTest)"};const dH=new Map([["default",{domain:"cdn.segment.com",apiHost:void 0,useAlias:!1}],["usbx43luh92dwclbx69wkgacfo3cwskt",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["nfnobbx9uv4bkzrlkdjopujkov4aohan",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["nff8ycs0umjbfe6izdnsksagczz0u6dh",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["4tpvtma75hfvbre6g2fixmlqj6yuo21v",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["xxmofw4zj9ef461ngr6byycg0wku2u42",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["tbdfr8mfn4zyawz8jieav7mn8wyxwbbb",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["qvax8zsa4zuqeyz79wjqymgnfirrrkc8",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["xofi3xmqtxu14pvwkao4ofgzggr95ift",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["fkz7vdd127fgt9l8dbd4kz2stuspe458",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}],["kxa1hj1qc6ass5ip322iro9gcxtgai4v",{domain:"evs.dcp.vpdcp.com",apiHost:"api.dcp.vpdcp.com/v1",useAlias:!0}]]);var pH={getConfig:function(e){const t=function(e){return e.toLowerCase()}(e);return dH.has(t)?dH.get(t):dH.get("default")}};const fH=sH,{getCurrentTenant:hH}=Er,{getCurrentCulture:mH}=uH,gH=Az,vH=lH,yH=pH;function bH(e,t,n,r,o,i,a){const s=function(){if(vH.hasSiteTest())return console.log("Tracking to testing source based on user agent"),"oOgyr9bTme0dtCxg9IxbESBjTNQQjxca";const e=fH.get("data-write-key");if(e)return console.log("Override write key has been detected in local storage"),e;const t=gH.getCookie("data-write-key");if(t)return console.log("Override write key has been detected in cookie"),t;return}();s&&(e=s,t={All:!0}),n=n||hH(),r=r||mH();const c=yH.getConfig(e);return{writeKey:e,integrations:t,tenant:n,culture:r,shouldTrack:!vH.hasNoTrack(),domain:c.domain,useAnalyticsAlias:c.useAlias,apiHost:c.apiHost,sourceMiddlewares:o,destinationMiddlewares:i,suppressReloadOnConsentSubmit:!0===a}}function wH(e){return!e||0===Object.keys(e).length&&e.constructor===Object?{All:!0}:e}function OH(e){let t;return e&&(t=JSON.parse(e.replace(/'/g,'"'))),wH(t)}function EH(e,t){return e.getAttribute("data-".concat(t))}var xH={load:function(){const e=function(e){return{writeKey:EH(e,"write-key"),integrations:OH(EH(e,"integrations")),tenant:EH(e,"tenant"),culture:EH(e,"culture"),suppressReloadOnConsentSubmit:"true"===EH(e,"suppressReloadOnConsentSubmit")}}(document.getElementById("tracking-vp-dcp")||document.getElementById("tracking"));return bH(e.writeKey,e.integrations,e.tenant,e.culture,void 0,void 0,e.suppressReloadOnConsentSubmit)},applyOverride:bH,ensureIntegrations:wH,noTrackingWriteKey:"oOgyr9bTme0dtCxg9IxbESBjTNQQjxca"},SH=n("pZrW");function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(n),!0).forEach((function(t){TH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{onBodyReady:_H}=XB,kH=aV,IH="undefined"!=typeof window?Object(SH.a)():null;var MH={init:function(e,t,n,r,o){if("undefined"==typeof window)return;const i=CH(CH({},o),{},{container:"consent-manager-container",writeKey:e,shouldRequireConsent:()=>function(){const e=window.location.toString();return"true"===kH.getParameters(e,["displayConsentManager"]).displayConsentManager}()||IH.isConsentRequired(n),tenant:t,locale:n,suppressReload:r});_H(()=>{const e=document.createElement("div");e.id="consent-manager-container",document.body.appendChild(e),IH.initConsentManager(i)})}};const{init:jH}=fG,AH=xH,RH=tz,DH=MH;function LH(e,t,n,r,o,i,a,s){t=AH.ensureIntegrations(t);const c=AH.applyOverride(e,t,n,r,o,i,a),u=jH(c,()=>{DH.init(c.writeKey,c.tenant,c.culture,c.suppressReloadOnConsentSubmit,s)});RH.setTracking(u)}var NH,UH={init:function(e,t,n,r,o,i,a){LH(e,t,n,r,o,i,a)},initWithData:function(e,t){if(!e)throw new Error("Missing prefetchedData for tracking");t=t||{},LH(e.writeKey,t.integrations,e.tenant,e.culture,t.sourceMiddlewares,t.destinationMiddlewares,t.suppressReloadOnConsentSubmit,e.consentData)},getTracking:function(){return RH.getTracking()}};!function(e){e.ProductListViewed="Product List Viewed",e.ProductAdded="Product Added",e.ProductEdited="Product Edited",e.ProductClicked="Product Clicked",e.ProductStartedDesigned="Product Started Designed",e.FlyOutClicked="Fly-Out Clicked",e.PopUpViewed="Pop-Up Viewed",e.PopUpClosed="Pop-Up Closed",e.InteractionTimed="Interaction Timed"}(NH||(NH={}));class FH{emitEvent(e,t){var n;try{null===(n=UH.getTracking())||void 0===n||n.track(e,t,{})}catch(r){qn("Error sending tracking event ".concat(e),{contextData:{eventName:e,eventProperties:t},error:r})}}}const BH=e=>((e,t,n)=>{try{n()}catch(r){Wn(e,t,{error:r})}})(Hn.LevelWarn,"Error tracking event",e);class zH{constructor(e,t,n,r){this.trackingEmitter=e,this.eventBuilder=new QB(t,n,r)}trackProductListViewed(e,t,n,r,o,i,a){BH(()=>{const s=this.eventBuilder.buildProductListViewedTrackingEvent(e,t,n,r,o,i,a);this.trackingEmitter.emitEvent(NH.ProductListViewed,s)})}trackAddToCart(e,t,n,r,o,i,a){BH(()=>{const s=this.eventBuilder.buildProductAddedTrackingEvent(e,t,n,r,o,i,a);this.trackingEmitter.emitEvent(NH.ProductAdded,s)})}trackEditInStudio(e,t,n,r,o,i,a){BH(()=>{const s=this.eventBuilder.buildProductEditedInStudioTrackingEvent(e,t,n,r,o,i,a);this.trackingEmitter.emitEvent(NH.ProductEdited,s)})}trackProductClicked(e,t,n,r,o,i){BH(()=>{const a=this.eventBuilder.buildProductClickedTrackingEvent(e,t,n,r,o,i);this.trackingEmitter.emitEvent(NH.ProductClicked,a)})}trackStartDesigning(e,t,n,r,o,i){BH(()=>{const a=this.eventBuilder.buildProductStartDesigningTrackingEvent(e,t,n,r,o,i);this.trackingEmitter.emitEvent(NH.ProductStartedDesigned,a)})}trackDetailsClicked(e,t,n,r,o,i){BH(()=>{const a=this.eventBuilder.buildProductDetailsClickedTrackingEvent(e,t,n,r,o,i);this.trackingEmitter.emitEvent(NH.FlyOutClicked,a)})}trackEditAndAddClicked(e,t,n,r,o,i){qn("trackEditAndAddClicked is not implemented for product recommendations",{contextData:{page:e,sourceMpvId:t,tenant:n,locale:r,offer:o,origin:i}})}trackCloseNanoStudioClicked(e,t,n,r,o,i){qn("trackCloseNanoStudioClicked is not implemented for product recommendations",{contextData:{page:e,sourceMpvId:t,tenant:n,locale:r,offer:o,origin:i}})}trackAddToCartInteractionTimed(e,t,n){BH(()=>{const r=this.eventBuilder.buildAddToCartInteractionTimeTrackingEvent(e,t,n);this.trackingEmitter.emitEvent(NH.InteractionTimed,r)})}}class VH{constructor(e){this.trackingEmitter=e}trackProductListViewedWithError(e,t,n,r,o){BH(()=>{const i=qH(e,t,n,r,o);this.trackingEmitter.emitEvent(NH.ProductListViewed,i)})}}const qH=(e,t,n,r,o)=>{var i,a;return{pageStage:UB(e),pageSection:FB(e),pageName:BB(e,t),label:"Recommendation Component",list_id:"Recommendation Component",route:"recommendations",is_default:!1,tenant:n,correlationId:null===(i=On(r))||void 0===i?void 0:i.correlationId,selector:null===(a=On(r))||void 0===a?void 0:a.selector,error:r.message,rank:1,screenClass:o,recommendationsMetadata:qB(void 0)}},GH=e=>(RB(e),l.a.createElement(zr.ScreenClassProvider,null,l.a.createElement(HH,Object.assign({},e)))),HH=e=>{var t;const[n,r]=Object(u.useState)(void 0),[o,i]=Object(u.useState)(void 0),[a,s]=Object(u.useState)(void 0),c=P(),d=null===(t=ED())||void 0===t?void 0:t.getEncodedContextString(),p=Object(zr.useScreenClass)(),f=Object(zr.useIsScreenClassInitialized)();return Object(u.useEffect)(()=>{void 0!==d&&f&&(()=>{m(void 0,void 0,void 0,(function*(){try{s(void 0);const{recommendations:n,poeResponse:o}=yield TR({tenant:e.tenant,locale:e.locale,page:e.page,customerId:e.shopperId||c.profile["https://claims.cimpress.io/canonical_id"],authToken:c.accessToken,mpvId:e.mpvId,documentUrl:e.documentUrl,pricingContext:d,imageWidth:e.imageWidth,albelliDocId:e.albelliDocId,uploadId:e.uploadId,brandId:e.brandId});if(o.experimentInfo&&(t=o.experimentInfo,aD(t.experiment.key,t.variation.key,"TL6bJ6aeorhsvy5X8LGMVX")),n.disabled)return void(e.errorCallback&&e.errorCallback("Recommendations are disabled"));const a=new zH(new FH,o,!1);Rn(n)>0?(r(n),i(a),e.successCallback&&e.successCallback()):(n.offersGroups.forEach(t=>{a.trackProductListViewed(e.page,e.mpvId,e.tenant,t,p)}),e.errorCallback&&e.errorCallback("No offers could be retrieved"))}catch(n){s(n)}var t}))})()},[e.tenant,e.locale,e.page,e.shopperId,e.mpvId,e.documentUrl,e.imageWidth,e.albelliDocId,e.uploadId,e.brandId,d,f]),Object(C.default)(()=>{var t;if(a)if(404===(null===(t=KH(a))||void 0===t?void 0:t.status)){const t="POE returned 404";Gn(t,{contextData:WH(e),error:a}),new VH(new FH).trackProductListViewedWithError(e.page,e.mpvId,e.tenant,a,p),e.errorCallback&&e.errorCallback(t)}else if(e.fallbackData&&0!==e.fallbackData.offersGroups.length)Gn("POE call failed; using fallback data",{contextData:WH(e),error:a}),r(_R(e.fallbackData)),i(new zH(new FH,e.fallbackData,!0,a)),e.successCallback&&e.successCallback();else{const t="POE call failed; no fallback data available";Gn(t,{contextData:WH(e),error:a}),new VH(new FH).trackProductListViewedWithError(e.page,e.mpvId,e.tenant,a,p),e.errorCallback&&e.errorCallback(t)}},[{state:[a,e.fallbackData]}]),l.a.createElement(NB,{tenant:e.tenant,locale:e.locale,page:e.page,mpvId:e.mpvId,shopperId:e.shopperId,addToCartCallback:e.addToCartCallback,imageWidth:e.imageWidth},l.a.createElement(FR,{parentWorkId:void 0},l.a.createElement(DB,{recommendations:n,title:e.title,trackingService:o})))},WH=e=>({tenant:e.tenant,locale:e.locale,page:e.page,shopperId:e.shopperId,mpvId:e.mpvId}),KH=e=>(e=>e.isPoeError)(e)?e:void 0;var QH,YH=n("MCLT"),ZH=n.n(YH);!function(e){e.LoggedInHomePage="logged-in-homepage",e.ProductPage="product-page-v2",e.Accessories="accessories",e.Envelopes="envelopes",e.CrossSell="cross-sell",e.CrossSellForLogoMaker="logo-maker-cross-sell",e.Cart="cart",e.BrandPreferences="brand-manager"}(QH||(QH={}));var JH="undefined"!=typeof Symbol&&Symbol,XH=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},$H=Array.prototype.slice,eW=Object.prototype.toString,tW=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==eW.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=$H.call(arguments,1),o=function(){if(this instanceof n){var o=t.apply(this,r.concat($H.call(arguments)));return Object(o)===o?o:this}return t.apply(e,r.concat($H.call(arguments)))},i=Math.max(0,t.length-r.length),a=[],s=0;s<i;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n},nW=Function.prototype.bind||tW,rW=nW.call(Function.call,Object.prototype.hasOwnProperty),oW=SyntaxError,iW=Function,aW=TypeError,sW=function(e){try{return iW('"use strict"; return ('+e+").constructor;")()}catch(oA){}},cW=Object.getOwnPropertyDescriptor;if(cW)try{cW({},"")}catch(oA){cW=null}var uW=function(){throw new aW},lW=cW?function(){try{return uW}catch(e){try{return cW(arguments,"callee").get}catch(t){return uW}}}():uW,dW="function"==typeof JH&&"function"==typeof Symbol&&"symbol"==typeof JH("foo")&&"symbol"==typeof Symbol("bar")&&XH(),pW=Object.getPrototypeOf||function(e){return e.__proto__},fW={},hW="undefined"==typeof Uint8Array?void 0:pW(Uint8Array),mW={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":dW?pW([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":fW,"%AsyncGenerator%":fW,"%AsyncGeneratorFunction%":fW,"%AsyncIteratorPrototype%":fW,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":iW,"%GeneratorFunction%":fW,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":dW?pW(pW([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&dW?pW((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&dW?pW((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":dW?pW(""[Symbol.iterator]()):void 0,"%Symbol%":dW?Symbol:void 0,"%SyntaxError%":oW,"%ThrowTypeError%":lW,"%TypedArray%":hW,"%TypeError%":aW,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},gW={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vW=nW,yW=rW,bW=vW.call(Function.call,Array.prototype.concat),wW=vW.call(Function.apply,Array.prototype.splice),OW=vW.call(Function.call,String.prototype.replace),EW=vW.call(Function.call,String.prototype.slice),xW=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,SW=/\\(\\)?/g,PW=function(e){var t=EW(e,0,1),n=EW(e,-1);if("%"===t&&"%"!==n)throw new oW("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new oW("invalid intrinsic syntax, expected opening `%`");var r=[];return OW(e,xW,(function(e,t,n,o){r[r.length]=n?OW(o,SW,"$1"):t||e})),r},CW=function(e,t){var n,r=e;if(yW(gW,r)&&(r="%"+(n=gW[r])[0]+"%"),yW(mW,r)){var o=mW[r];if(o===fW&&(o=function e(t){var n;if("%AsyncFunction%"===t)n=sW("async function () {}");else if("%GeneratorFunction%"===t)n=sW("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=sW("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=pW(o.prototype))}return mW[t]=n,n}(r)),void 0===o&&!t)throw new aW("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new oW("intrinsic "+e+" does not exist!")},TW=function(e,t){if("string"!=typeof e||0===e.length)throw new aW("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new aW('"allowMissing" argument must be a boolean');var n=PW(e),r=n.length>0?n[0]:"",o=CW("%"+r+"%",t),i=o.name,a=o.value,s=!1,c=o.alias;c&&(r=c[0],wW(n,bW([0,1],c)));for(var u=1,l=!0;u<n.length;u+=1){var d=n[u],p=EW(d,0,1),f=EW(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new oW("property names with quotes must have matching quotes");if("constructor"!==d&&l||(s=!0),yW(mW,i="%"+(r+="."+d)+"%"))a=mW[i];else if(null!=a){if(!(d in a)){if(!t)throw new aW("base intrinsic for "+e+" exists, but the property is not available.");return}if(cW&&u+1>=n.length){var h=cW(a,d);a=(l=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else l=yW(a,d),a=a[d];l&&!s&&(mW[i]=a)}}return a},_W={exports:{}};!function(e){var t=nW,n=TW,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(oA){s=null}e.exports=function(e){var n=i(t,o,arguments);if(a&&s){var r=a(n,"length");r.configurable&&s(n,"length",{value:1+c(0,e.length-(arguments.length-1))})}return n};var u=function(){return i(t,r,arguments)};s?s(e.exports,"apply",{value:u}):e.exports.apply=u}(_W);var kW=TW,IW=_W.exports,MW=IW(kW("String.prototype.indexOf")),jW=ZH.a.inspect,AW="function"==typeof Map&&Map.prototype,RW=Object.getOwnPropertyDescriptor&&AW?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,DW=(AW&&RW&&"function"==typeof RW.get&&RW.get,AW&&Map.prototype.forEach,"function"==typeof Set&&Set.prototype),LW=Object.getOwnPropertyDescriptor&&DW?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,NW=(DW&&LW&&"function"==typeof LW.get&&LW.get,DW&&Set.prototype.forEach,"function"==typeof WeakMap&&WeakMap.prototype&&WeakMap.prototype.has,"function"==typeof WeakSet&&WeakSet.prototype&&WeakSet.prototype.has,"function"==typeof WeakRef&&WeakRef.prototype&&WeakRef.prototype.deref,Boolean.prototype.valueOf,Object.prototype.toString,Function.prototype.toString,String.prototype.match,"function"==typeof BigInt&&BigInt.prototype.valueOf,Object.getOwnPropertySymbols,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null),UW="function"==typeof Symbol&&"object"==typeof Symbol.iterator,FW=(Object.prototype.propertyIsEnumerable,("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||Array.prototype,jW.custom);FW&&BW(FW),"function"==typeof Symbol&&void 0!==Symbol.toStringTag&&Symbol.toStringTag;function BW(e){if(UW)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!NW)return!1;try{return NW.call(e),!0}catch(oA){}return!1}Object.prototype.hasOwnProperty;var zW=TW,VW=function(e,t){var n=kW(e,!!t);return"function"==typeof n&&MW(e,".prototype.")>-1?IW(n):n},qW=(zW("%TypeError%"),zW("%WeakMap%",!0),zW("%Map%",!0),VW("WeakMap.prototype.get",!0),VW("WeakMap.prototype.set",!0),VW("WeakMap.prototype.has",!0),VW("Map.prototype.get",!0),VW("Map.prototype.set",!0),VW("Map.prototype.has",!0),String.prototype.replace),GW=/%20/g,HW="RFC3986",WW={default:HW,formatters:{RFC1738:function(e){return qW.call(e,GW,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:HW},KW=WW,QW=Object.prototype.hasOwnProperty,YW=Array.isArray,ZW=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),JW=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},XW={arrayToObject:JW,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(YW(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(oA){return r}},encode:function(e,t,n,r,o){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<i.length;++s){var c=i.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===KW.RFC1738&&(40===c||41===c)?a+=i.charAt(s):c<128?a+=ZW[c]:c<2048?a+=ZW[192|c>>6]+ZW[128|63&c]:c<55296||c>=57344?a+=ZW[224|c>>12]+ZW[128|c>>6&63]+ZW[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&i.charCodeAt(s)),a+=ZW[240|c>>18]+ZW[128|c>>12&63]+ZW[128|c>>6&63]+ZW[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(YW(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(YW(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!QW.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return YW(t)&&!YW(n)&&(o=JW(t,r)),YW(t)&&YW(n)?(n.forEach((function(n,o){if(QW.call(t,o)){var i=t[o];i&&"object"==typeof i&&n&&"object"==typeof n?t[o]=e(i,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var i=n[o];return QW.call(t,o)?t[o]=e(t[o],i,r):t[o]=i,t}),o)}},$W=XW,eK=WW,tK=(Object.prototype.hasOwnProperty,Array.isArray,Array.prototype.push,Date.prototype.toISOString),nK=eK.default,rK=($W.encode,eK.formatters[nK],XW);Object.prototype.hasOwnProperty,Array.isArray,rK.decode,new Uint8Array(16);for(var oK=[],iK=0;iK<256;++iK)oK.push((iK+256).toString(16).substr(1));Error;var aK,sK,cK;!function(e){e.Grid="grid",e.Carousel="carousel"}(aK||(aK={})),function(e){e.AddToCart="AddToCart",e.EditInCrossSellStudio="EditInCrossSellStudio",e.EditInMiniStudio="EditInMiniStudio",e.GoToProductPage="GoToProductPage",e.GoToGallery="GoToGallery"}(sK||(sK={})),function(e){e.Image="Image",e.DocumentMatching="DocumentMatching",e.NonDesignable="NonDesignable"}(cK||(cK={}));var uK=n("W/Zh"),lK=n.n(uK),dK=n("zFH3"),pK=n("lLbw"),fK=n("XuHD"),hK=n.n(fK);const mK=()=>gK().getEncodedContextString(),gK=()=>document.pcxtV3;var vK=n("H95W");function yK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bK={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getPcxtV3=e.executeAfterPricingContextEvent=e.initializePricingContext=e.QUERY_PARAMETERS=e.EVENTS=e.COOKIE_DATA=void 0;var t=new RegExp("(^| )".concat("PCXT","=([^;]+)")),n=function(){return"undefined"!=typeof window&&window.document},r={COOKIE_NAME:"PCXT",COOKIE_REGEX:t};e.COOKIE_DATA=r;var o={SCRIPT_LOADED_EVENT:"PCXT-V3-ScriptLoaded",INITIALIZED_EVENT:"PCXT-V3-ModuleInitialized",CONTEXT_CHANGE_EVENT:"PCXT-V3-ContextChanged",COUPON_CHANGE_EVENT:"PCXT-V3-CouponCodeChanged",VAT_INCLUSIVITY_CHANGE_EVENT:"PCXT-V3-VatInclusivityChanged",DATE_TIME_CHANGE_EVENT:"PCXT-V3-EffectiveDateTimeChanged"};e.EVENTS=o;var i={VAT_INCLUSIVITY_QUERY_PARAMETER:"PCXTVATINCLUSIVE",DATE_TIME_QUERY_PARAMETER:"PCXTEFFECTIVEDATETIME"};e.QUERY_PARAMETERS=i;var a=function(){},s=function(e){window.document.pcxtV3.init(e.merchantId,e.market,e.isDevelopmentMode).catch(a)},c=function(e,t){n()&&(!function(e,t){"function"==typeof t&&(window.document.pcxtV3&&window.document.pcxtV3.isInitialized(e.merchantId,e.market,e.isDevelopmentMode)?t(window.document.pcxtV3.getPricingContext()):window.document.addEventListener("PCXT-V3-ModuleInitialized",(function e(n){window.document.removeEventListener("PCXT-V3-ModuleInitialized",e,!1),t(n.detail)})))}(e,t),window.document.pcxtV3?s(e):window.document.addEventListener("PCXT-V3-ScriptLoaded",(function t(){window.document.removeEventListener("PCXT-V3-ScriptLoaded",t,!1),s(e)})))};e.initializePricingContext=c;var u=function(e,t,r){"function"==typeof t&&(-1!==Object.values(o).indexOf(e)?n()&&window.document.addEventListener(e,(function n(o){r||window.document.removeEventListener(e,n,!1),t(o.detail)})):console.warn("Event '".concat(e,"' is NOT a valid pricing context event.")))};e.executeAfterPricingContextEvent=u;var l=function(){if(n())return window.document.pcxtV3};e.getPcxtV3=l;var d={COOKIE_DATA:r,EVENTS:o,QUERY_PARAMETERS:i,initializePricingContext:c,executeAfterPricingContextEvent:u,getPcxtV3:l};e.default=d}(bK);var wK=yK(bK);const OK=()=>wK.getPcxtV3(),EK=()=>{const e=OK();return(null==e?void 0:e.isInitialized())?e.getPricingContext():void 0},xK=e=>{var t,n,r;const[o,i]=Object(u.useState)(void 0),[a,s]=Object(u.useState)(!1);return Object(u.useEffect)(()=>{a&&e.initializationConfig&&(console.log("Going to initialize the pricing context"),wK.initializePricingContext({merchantId:e.initializationConfig.merchantId,market:e.initializationConfig.market,isDevelopmentMode:e.initializationConfig.isDevelopmentMode}))},[a,e.initializationConfig,null===(t=e.initializationConfig)||void 0===t?void 0:t.merchantId,null===(n=e.initializationConfig)||void 0===n?void 0:n.market,null===(r=e.initializationConfig)||void 0===r?void 0:r.isDevelopmentMode]),Object(u.useEffect)(()=>{const e=()=>{console.log("Pricing context module has been initialized.");const e=EK();e&&i(e)},t=()=>{console.log("Pricing context has changed.");const e=EK();e&&i(e)};return document.addEventListener("PCXT-V3-ModuleInitialized",e),document.addEventListener("PCXT-V3-ContextChanged",t),s(!0),i(EK()),()=>{document.removeEventListener("PCXT-V3-ModuleInitialized",e),document.removeEventListener("PCXT-V3-ContextChanged",t)}},[]),l.a.createElement(OD.Provider,{value:{context:SK(o)}},e.children)},SK=e=>{const t=OK();if(t&&e)return Object.assign(Object.assign({},e),{getEncodedContextString:()=>t.getEncodedContextString(),setCouponCode:e=>t.setCouponCode(e),setEffectiveDateTime:e=>t.setEffectiveDateTime(e),setVatInclusive:e=>t.setVatInclusive(e)})};function PK(e){const{0:t,1:n}=Object(u.useState)(void 0),{0:r,1:o}=Object(u.useState)(!1),{locale:i,fallbackData:a,shouldShowRecommendations:s}=e,{auth:c,isIdentityInitialized:d,identity:p}=Object(dK.a)(),f=c&&d&&p&&p.isSignedIn,{recommendationsTenant:h}=Object(pK.b)(),{1:m}=Object(u.useState)(!0),{1:g}=Object(u.useState)("");return Object(u.useEffect)(()=>{let e;if(!t){lK.a.getTracking()||(e=()=>{n(lK.a.getTracking())},window.addEventListener("trackingReady",e))}return()=>{e&&window.removeEventListener("trackingReady",e)}},[t,lK.a]),Object(u.useEffect)(()=>{var e;e=e=>{g(mK()),m(e.vatInclusive)},hK.a.executeAfterPricingContextEvent(hK.a.EVENTS.INITIALIZED_EVENT,e,!0),(e=>{hK.a.executeAfterPricingContextEvent(hK.a.EVENTS.CONTEXT_CHANGE_EVENT,e,!0)})(e=>{m(e.vatInclusive),g(mK())})},[h,i]),!s||r||null==a?null:f&&t?l.a.createElement(xK,{initializationConfig:{merchantId:h,market:i.split("-")[1],isDevelopmentMode:!e.isProduction}},l.a.createElement(GH,{page:QH.LoggedInHomePage,tenant:h,locale:i,imageWidth:350,errorCallback:()=>{o(!0),Object(vK.newRelicAddPageAction)("recommendations loaded",{result:"error"})},fallbackData:a,successCallback:()=>{Object(vK.newRelicAddPageAction)("recommendations loaded",{result:"success"})}})):null}},E53a:function(e,t,n){},EE1o:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("qLRF").a,o=Function.prototype.call,i=r?o.bind(o):function(){return o.apply(o,arguments)}},EKPF:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("9cPH"),o=(n("vPPQ"),n("5ALN")),i=n("M3CU"),a=n("sz0P"),s=n("4CIZ"),c=n("W6b0"),u=n("6j6n"),l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};var d=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}Object(s.a)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),p(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return f(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return f(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var o=this.hasListeners();o&&h(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!o||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var i=this.computeRefetchInterval();!o||this.currentQuery===r&&this.options.enabled===n.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},o=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return o(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&o("error"),r},n.getNextResult=function(e){var t=this;return new Promise((function(n,r){var o=t.subscribe((function(t){t.isFetching||(o(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch(Object(a.a)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then((function(){return t.createResult(r,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(o.c)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!o.a&&!this.currentResult.isStale&&Object(o.b)(this.options.staleTime)){var t=Object(o.h)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!o.a&&!1!==this.options.enabled&&Object(o.b)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||r.a.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,r=this.currentQuery,i=this.options,a=this.currentResult,s=this.currentResultState,c=this.currentResultOptions,l=e!==r,d=l?e.state:this.currentQueryInitialState,f=l?this.currentResult:this.previousQueryResult,g=e.state,v=g.dataUpdatedAt,y=g.error,b=g.errorUpdatedAt,w=g.isFetching,O=g.status,E=!1,x=!1;if(t.optimisticResults){var S=this.hasListeners(),P=!S&&p(e,t),C=S&&h(e,r,t,i);(P||C)&&(w=!0,v||(O="loading"))}if(t.keepPreviousData&&!g.dataUpdateCount&&(null==f?void 0:f.isSuccess)&&"error"!==O)n=f.data,v=f.dataUpdatedAt,O=f.status,E=!0;else if(t.select&&void 0!==g.data)if(a&&g.data===(null==s?void 0:s.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(g.data),!1!==t.structuralSharing&&(n=Object(o.e)(null==a?void 0:a.data,n)),this.selectResult=n,this.selectError=null}catch(_){Object(u.a)().error(_),this.selectError=_}else n=g.data;if(void 0!==t.placeholderData&&void 0===n&&("loading"===O||"idle"===O)){var T;if((null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==c?void 0:c.placeholderData))T=a.data;else if(T="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==T)try{T=t.select(T),!1!==t.structuralSharing&&(T=Object(o.e)(null==a?void 0:a.data,T)),this.selectError=null}catch(_){Object(u.a)().error(_),this.selectError=_}void 0!==T&&(O="success",n=T,x=!0)}return this.selectError&&(y=this.selectError,n=this.selectResult,b=Date.now(),O="error"),{status:O,isLoading:"loading"===O,isSuccess:"success"===O,isError:"error"===O,isIdle:"idle"===O,data:n,dataUpdatedAt:v,error:y,errorUpdatedAt:b,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&"loading"!==O,isLoadingError:"error"===O&&0===g.dataUpdatedAt,isPlaceholderData:x,isPreviousData:E,isRefetchError:"error"===O&&0!==g.dataUpdatedAt,isStale:m(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,o=n.notifyOnChangePropsExclusions;if(!r&&!o)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var i="tracked"===r?this.trackedProps:r;return Object.keys(e).some((function(n){var r=n,a=e[r]!==t[r],s=null==i?void 0:i.some((function(e){return e===n})),c=null==o?void 0:o.some((function(e){return e===n}));return a&&!c&&(!i||s)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Object(o.g)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify(Object(a.a)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||e.error instanceof l||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;i.a.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(c.a);function p(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&f(e,t,t.refetchOnMount)}function f(e,t,n){if(!1!==t.enabled){var r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&m(e,t)}return!1}function h(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&m(e,n)}function m(e,t){return e.isStaleByTime(t.staleTime)}var g=n("Nz9T"),v=n.n(g);var y,b=v.a.createContext((y=!1,{clearReset:function(){y=!1},reset:function(){y=!0},isReset:function(){return y}})),w=v.a.createContext(void 0),O=v.a.createContext(!1);var E=function(){var e=v.a.useContext(v.a.useContext(O)&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=w),window.ReactQueryClientContext):w);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e};function x(e,t){var n=v.a.useRef(!1),r=v.a.useState(0)[1],o=E(),a=v.a.useContext(b),s=o.defaultQueryObserverOptions(e);s.optimisticResults=!0,s.onError&&(s.onError=i.a.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=i.a.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=i.a.batchCalls(s.onSettled)),s.suspense&&("number"!=typeof s.staleTime&&(s.staleTime=1e3),0===s.cacheTime&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(a.isReset()||(s.retryOnMount=!1));var c,u,l,d=v.a.useState((function(){return new t(o,s)}))[0],p=d.getOptimisticResult(s);if(v.a.useEffect((function(){n.current=!0,a.clearReset();var e=d.subscribe(i.a.batchCalls((function(){n.current&&r((function(e){return e+1}))})));return d.updateResult(),function(){n.current=!1,e()}}),[a,d]),v.a.useEffect((function(){d.setOptions(s,{listeners:!1})}),[s,d]),s.suspense&&p.isLoading)throw d.fetchOptimistic(s).then((function(e){var t=e.data;null==s.onSuccess||s.onSuccess(t),null==s.onSettled||s.onSettled(t,null)})).catch((function(e){a.clearReset(),null==s.onError||s.onError(e),null==s.onSettled||s.onSettled(void 0,e)}));if(p.isError&&!a.isReset()&&!p.isFetching&&(c=s.suspense,u=s.useErrorBoundary,l=[p.error,d.getCurrentQuery()],"function"==typeof u?u.apply(void 0,l):"boolean"==typeof u?u:c))throw p.error;return"tracked"===s.notifyOnChangeProps&&(p=d.trackResult(p,s)),p}function S(e,t,n){return x(Object(o.d)(e,t,n),d)}},EZrr:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,o,i={exports:{}},a={exports:{}};function s(){return o||(o=1,function(e){var t=(r||(r=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(a)),a.exports);e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports}(i)),i.exports}},EnZy:function(e,t,n){"use strict";var r=n("14Sl"),o=n("ROdP"),i=n("glrk"),a=n("HYAF"),s=n("SEBh"),c=n("iqWW"),u=n("UMSQ"),l=n("FMNM"),d=n("kmMV"),p=n("n3/R").UNSUPPORTED_Y,f=[].push,h=Math.min;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var s,c,u,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,p+"g");(s=d.call(m,r))&&!((c=m.lastIndex)>h&&(l.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&f.apply(l,s.slice(1)),u=s[0].length,h=c,l.length>=i));)m.lastIndex===s.index&&m.lastIndex++;return h===r.length?!u&&m.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var d=i(e),f=String(this),m=s(d,RegExp),g=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"g":"y"),y=new m(p?"^(?:"+d.source+")":d,v),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var w=0,O=0,E=[];O<f.length;){y.lastIndex=p?0:O;var x,S=l(y,p?f.slice(O):f);if(null===S||(x=h(u(y.lastIndex+(p?O:0)),f.length))===w)O=c(f,O,g);else{if(E.push(f.slice(w,O)),E.length===b)return E;for(var P=1;P<=S.length-1;P++)if(E.push(S[P]),E.length===b)return E;O=w=x}}return E.push(f.slice(w)),E}]}),p)},Ey5c:function(e,t,n){"use strict";var r=n("PVtR"),o=n("qqeS"),i=n("yJra");e.exports={formats:i,parse:o,stringify:r}},F3Dj:function(e,t){e.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},F5Q5:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.getVatHtml=function(e,t,n,r){return l.apply(this,arguments)},t.getVatText=u;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c=n("79sm");function u(e,t){var n=e?"vatInc":"vatEx";return v(t)?"":(0,s.localized)(n,t)}function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i){var s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(n)){e.next=2;break}return e.abrupt("return","");case 2:if(!b(n)||r){e.next=7;break}return e.next=5,d(t,n,i);case 5:return s=e.sent,e.abrupt("return",s);case 7:return c={vatText:u(t,n)},e.abrupt("return",a.mustacheService.replace("<span class='short-tax-message'>{{vatText}}</span>",c));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(o.default.mark((function e(t,n,r){var i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n,r);case 2:return i=e.sent,s={vatTextWithShipping:m(t,n),shippingMessage:i},e.abrupt("return",a.mustacheService.replace("<span class='short-tax-message'>{{vatTextWithShipping}}</span>",s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=(0,i.default)(o.default.mark((function e(t,n){var r,i,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.localized)("shippingMessage",t),e.next=3,(0,c.getShippingUrl)(n);case 3:return i=e.sent,u="<a target='_blank' href='".concat(i,"'>{{shippingMessage}}</a>"),e.abrupt("return",a.mustacheService.replace(u,{shippingMessage:r}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){var n=e?"vatIncWithShipping":"vatExWithShipping";return v(t)?"":(0,s.localized)(n,t)}var g={"en-in":!0,"en-au":!0,"en-sg":!0,"en-nz":!0,"en-jp":!0,"ja-jp":!0,"en-us":!0,"es-us":!0,"en-ca":!0,"fr-ca":!0};function v(e){var t=e.replace("_","-").toLowerCase();return!!g[t]&&g[t]}var y={"de-de":!0};function b(e){var t=e.replace("_","-").toLowerCase();return!!y[t]&&y[t]}},FUyf:function(e,t,n){"use strict";(function(e){var t=n("/9Dy"),r=n("QRwG");Object.defineProperty(t.a,"__esModule",{value:!0}),t.a.convertToBuffer=void 0;var o=r.a,i=void 0!==e&&e.from?function(t){return e.from(t,"utf8")}:o.fromUtf8;t.a.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}).call(this,n("tjlA").Buffer)},FdlX:function(e,t,n){"use strict";var r=n("uZTx"),o=n("Rmyw"),i=n("TJZh"),a=n("TKFK"),s=n("t7qx"),c=n("oZF6"),u=n("xbmn"),l=n("SRXV"),d=n("2QNb"),p=n("JOlD"),f=n("QYXr"),h=n("8OQI"),m=r.a,g=o.a,v=i.a,y=a.a,b=s.a,w=c.a,O=u.a,E=l.a,x=d.a,S=p.a,P=f.a,C=h.a,T=P("slice"),_=S("species"),k=g.Array,I=Math.max;m({target:"Array",proto:!0,forced:!T},{slice:function(e,t){var n,r,o,i=E(this),a=O(i),s=w(e,a),c=w(void 0===t?a:t,a);if(v(i)&&(n=i.constructor,(y(n)&&(n===k||v(n.prototype))||b(n)&&null===(n=n[_]))&&(n=void 0),n===k||void 0===n))return C(i,s,c);for(r=new(void 0===n?k:n)(I(c-s,0)),o=0;s<c;s++,o++)s in i&&x(r,o,i[s]);return r.length=o,r}})},FpZJ:function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},FshR:function(e,t,n){"use strict";var r=n("vDqi"),o=n.n(r),i=n("JPgR"),a=n.n(i),s=n("BKwc"),c=n.n(s);const u=new a.a.Agent({keepAlive:!0}),l=o.a.create({httpsAgent:u});c()(l,{retries:3,shouldResetTimeout:!0}),t.a=l},FwcU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},GCus:function(e,t,n){"use strict";var r=n("uZTx"),o=n("EE1o"),i=(n("jwQj"),n("q/UP")),a=n("fARH"),s=r.a,c=o.a,u=a.a;s({target:"Promise",stat:!0,forced:i.a.CONSTRUCTOR},{reject:function(e){var t=u.f(this);return c(t.reject,void 0,e),t.promise}})},GGwP:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("F5Q5"),c=n("bQ+U"),u="couponCallout";t.name=u;function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=this,h=a.contextService.getCulture(f),m=a.formatterService.formatPrice({currency:r,minimumFractionDigits:i,culture:h,price:n}),g={couponCode:"<span class='promo-code'>{{couponCode}}</span>",discountPrice:"<span class='discount-price'>{{discountPrice}}</span>",justMessage:"<span class='discount-price'>{{justMessageText}}</span>"},v=(0,c.localized)(u,h),(y={discountPrice:m,couponCode:t}).justMessageText=(0,c.localized)("".concat(u,".subtemplate"),h),d){e.next=11;break}return e.next=10,(0,s.getVatHtml)(l,h,p,f);case 10:y.vatMessage=e.sent;case 11:return e.abrupt("return",a.mustacheService.replace(v,y,g));case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},GRpk:function(e,t,n){"use strict";var r=n("Nz9T"),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var i=function(e){var t=e.animate,n=e.backgroundColor,i=e.backgroundOpacity,a=e.baseUrl,s=e.children,c=e.foregroundColor,u=e.foregroundOpacity,l=e.gradientRatio,d=e.uniqueKey,p=e.interval,f=e.rtl,h=e.speed,m=e.style,g=e.title,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),y=d||Math.random().toString(36).substring(6),b=y+"-diff",w=y+"-animated-diff",O=y+"-aria",E=f?{transform:"scaleX(-1)"}:null,x="0; "+p+"; 1",S=h+"s";return Object(r.createElement)("svg",o({"aria-labelledby":O,role:"img",style:o(o({},m),E)},v),g?Object(r.createElement)("title",{id:O},g):null,Object(r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+a+"#"+b+")",style:{fill:"url("+a+"#"+w+")"}}),Object(r.createElement)("defs",{role:"presentation"},Object(r.createElement)("clipPath",{id:b},s),Object(r.createElement)("linearGradient",{id:w},Object(r.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:i},t&&Object(r.createElement)("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:x,dur:S,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"50%",stopColor:c,stopOpacity:u},t&&Object(r.createElement)("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:x,dur:S,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:i},t&&Object(r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:x,dur:S,repeatCount:"indefinite"})))))};i.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var a=function(e){return e.children?Object(r.createElement)(i,o({},e)):Object(r.createElement)(s,o({},e))},s=function(e){return Object(r.createElement)(a,o({viewBox:"0 0 476 124"},e),Object(r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.a=a},GWeo:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isString(e.coupon,"coupon"),i.validate.isDecimalPositive(e.price,"price"),i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isBoolean(e.vatInc,"vatInc"),i.validate.isBooleanOrUndefined(e.hideVatMessage,"hideVatMessage"),i.validate.isBooleanOrUndefined(e.hideShippingMessageInVatMessage,"hideShippingMessageInVatMessage")]);if(t.length>0)throw t}generateToken(e,t){var n="".concat(e.hideVatMessage?"".concat(e.hideVatMessage):"".concat(!1)),r="".concat(e.hideShippingMessageInVatMessage?"".concat(e.hideShippingMessageInVatMessage):"".concat(!1));return"{{ '".concat(e.coupon,"' | ").concat(t,": ").concat(e.price,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits,", ").concat(e.vatInc,", ").concat(n,", ").concat(r," }}")}}t.default=a},GYWy:function(e,t,n){(function(e,r){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(p[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))}function E(e){var t,n,r,o,i,a,s,u,l,d,p,h=[],g=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,a=1,s=36;o>=g&&m("invalid-input"),((u=(p=e.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||u>f((c-v)/a))&&m("overflow"),v+=u*a,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>f(c/(d=36-l))&&m("overflow"),a*=d;w=O(v-i,t=h.length+1,0==i),f(v/t)>c-y&&m("overflow"),y+=f(v/t),v%=t,h.splice(v++,0,y)}return b(h)}function x(e){var t,n,r,o,i,a,s,u,l,d,p,g,v,b,E,x=[];for(g=(e=y(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(p=e[a])<128&&x.push(h(p));for(r=o=x.length,o&&x.push("-");r<g;){for(s=c,a=0;a<g;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>f((c-n)/(v=r+1))&&m("overflow"),n+=(s-t)*v,t=s,a=0;a<g;++a)if((p=e[a])<t&&++n>c&&m("overflow"),p==t){for(u=n,l=36;!(u<(d=l<=i?1:l>=i+26?26:l-i));l+=36)E=u-d,b=36-d,x.push(h(w(d+E%b,0))),u=f(E/b);x.push(h(w(u,0))),i=O(n,v,r==o),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:x,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n("YuTi")(e),n("yLpj"))},Gaoe:function(e,t,n){"use strict";var r=n("MOJX");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},GlFn:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},Go7y:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="labeledPrice";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=this,h=a.contextService.getCulture(f),e.next=4,(0,s.comparativePriceFilter)(h,t,n,r,i,l,d,p,f);case 4:return m=e.sent,g=m.htmlTemplates,v=m.mustacheVariables,y=(0,c.localized)(u,h),e.abrupt("return",a.mustacheService.replace(y,v,g));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},GzhV:function(e,t,n){"use strict";var r=n("TqRt");n("yq1k"),n("zKZe"),n("JTJg"),n("UxlC"),n("SYor"),Object.defineProperty(t,"__esModule",{value:!0}),t.MustacheService=void 0;var o=r(n("lSNA")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("nbsC"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.MustacheService=class{constructor(){(0,o.default)(this,"trimUnecessarySpaces",e=>e&&e.length>0?e.replace(/  +/g," ").trim():e),(0,o.default)(this,"areThereTokensIn",e=>e.includes("{{")&&e.includes("}}")),(0,o.default)(this,"combineObjectsWithFirstObjectPreference",(e,t)=>{for(var n=Object.assign({},e),r=Object.keys(n),o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];r.includes(a)||(n[a]=t[a])}return n})}replace(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.combineObjectsWithFirstObjectPreference(n,t),o=i.render(e,r);return this.areThereTokensIn(o)&&(o=this.replace(o,t)),this.trimUnecessarySpaces(o)}}},"H/5Z":function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"youSaved",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText})}}t.default=s},"H/hk":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},HGej:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e){return c.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("kLQ6");function c(){return(c=(0,i.default)(o.default.mark((function e(t){var n,r,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.contextService.getCulture(this),r=a.contextService.getTenant(this)){e.next=4;break}throw new Error("tenant not set");case 4:if(n){e.next=6;break}throw new Error("culture not set");case 6:if(e.prev=6,"CONTACT_US_PAGE"!==t){e.next=14;break}return e.next=10,(0,s.getContactUsPage)(n,r);case 10:return i=e.sent,e.abrupt("return",i.new_platform_path);case 14:return e.next=16,(0,s.getCarePhoneData)(n,r);case 16:c=e.sent,e.t0=t,e.next="PHONE"===e.t0?20:"PHONE_SCHEDULE"===e.t0?21:22;break;case 20:return e.abrupt("return",c.phoneNumber);case 21:return e.abrupt("return",c.shortFormatSchedule.length>1?c.shortFormatSchedule.join(", "):c.shortFormatSchedule.shift());case 22:return e.abrupt("return","");case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(6),e.abrupt("return","");case 28:case"end":return e.stop()}}),e,this,[[6,25]])})))).apply(this,arguments)}t.name="care"},HJ4X:function(e,t,n){},"HWI+":function(e,t){},HgAa:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("KpH6"),o=n("zwAr"),i=n("mlsq"),a=r.a,s=o.a,c=i.a,u=!a&&!s((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a}))},HiXI:function(e,t,n){"use strict";var r=n("I+eb"),o=n("WKiH").end,i=n("yNLB")("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},Hxi4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Rmyw").a,o=Object.defineProperty,i=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},I1RU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ZPe3");function o(e,t){var n=e.substr(0,2).toLowerCase(),o=a[""+e.toLowerCase()]||a[""+n];if(!o)throw new Error("Simple Configurator: Translations not found for culture "+e);return Object(r.b)({},o,t||{})}var i={saveChanges:"Update cart",revertChanges:"Keep original",quantity:"Quantity",front:"Front",back:"Back",open:"Open",close:"Close",previewAlt:"Document Preview"},a={en:i,es:{saveChanges:"Actualizar cesta",revertChanges:"Mantener original",quantity:"Cantidad",front:"Anverso",back:"Reverso",open:"Abierto",close:"Cerrar",previewAlt:"Vista previa del documento"},it:{saveChanges:"Aggiorna carrello",revertChanges:"Mantieni l'originale",quantity:"Quantità",front:"Lato anteriore",back:"Indietro",open:"Apri",close:"Chiudi",previewAlt:"Anteprima documento"},pt:{saveChanges:"Atualizar cesto",revertChanges:"Manter original",quantity:"Quantidade",front:"Frente",back:"Verso",open:"Abrir",close:"Fechar",previewAlt:"Pré-visualização do documento"},"en-GB":i,da:{saveChanges:"Opdater vogn",revertChanges:"Behold original",quantity:"Antal",front:"Forside",back:"Tilbage",open:"Åbn",close:"Luk",previewAlt:"Se dokument"},de:{saveChanges:"Warenkorb aktualisieren",revertChanges:"Beim Original bleiben",quantity:"Menge",front:"Vorderseite",back:"Zurück",open:"Geöffnet",close:"Schließen",previewAlt:"Dokumentvorschau"},fi:{saveChanges:"Päivitä ostoskori",revertChanges:"Säilytä alkuperäinen",quantity:"Määrä",front:"Etupuoli",back:"Kääntöpuoli",open:"Avaa",close:"Sulje",previewAlt:"Asiakirjan esikatselu"},fr:{saveChanges:"Actualiser le panier",revertChanges:"Conserver l'original",quantity:"Quantité",front:"Recto",back:"Retour",open:"Ouvert",close:"Fermer",previewAlt:"Aperçu du document"},nb:{saveChanges:"Oppdater handlevogn",revertChanges:"Behold original",quantity:"Ant.",front:"Forside",back:"Bakside",open:"Åpne",close:"Lukk",previewAlt:"Forhåndsvisning av dokument"},nl:{saveChanges:"Winkelwagentje bijwerken",revertChanges:"Origineel behouden",quantity:"Aantal",front:"Voorkant",back:"Achterkant",open:"Open",close:"Sluiten",previewAlt:"Voorbeeld document"},sv:{saveChanges:"Uppdatera kundvagn",revertChanges:"Behåll original",quantity:"Antal",front:"Framsida",back:"Baksida",open:"Öppet",close:"Stäng",previewAlt:"Förhandsgranska dokument"},jp:{saveChanges:"",revertChanges:"",quantity:"数量",front:"前面",back:"後面",open:"",close:"",previewAlt:"ドキュメントのプレビュー"}}},I1w3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},I8xe:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var r=n("2taM"),o=n("FwcU"),i={exports:{}},a=n("r7tZ"),s=n("mC9u"),c=n("IBVR"),u=a.a;function l(){this.handlers=[]}l.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},l.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},l.prototype.forEach=function(e){u.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var d,p,f=l,h=n("ByOJ"),m=a.a,g=Object(h.a)();function v(){return p?d:(p=1,d=function(e){return!(!e||!e.__CANCEL__)})}var y=n("aQFG"),b=a.a,w=function(e,t,n){var r=this||g;return m.forEach(n,(function(n){e=n.call(r,e,t)})),e},O=v(),E=Object(h.a)(),x=Object(y.a)();function S(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new x("canceled")}var P,C,T=a.a,_=function(e,t){t=t||{};var n={};function r(e,t){return T.isPlainObject(e)&&T.isPlainObject(t)?T.merge(e,t):T.isPlainObject(t)?T.merge({},t):T.isArray(t)?t.slice():t}function o(n){return T.isUndefined(t[n])?T.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!T.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return T.isUndefined(t[n])?T.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return T.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);T.isUndefined(r)&&t!==s||(n[e]=r)})),n};function k(){return C?P:(C=1,P={version:"0.24.0"})}var I=k().version,M={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){M[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var j={};M.transitional=function(e,t,n){function r(e,t){return"[Axios v"+I+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new Error(r(o," has been removed"+(t?" in "+t:"")));return t&&!j[o]&&(j[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var A={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:M},R=a.a,D=c.a,L=f,N=function(e){return S(e),e.headers=e.headers||{},e.data=w.call(e,e.data,e.headers,e.transformRequest),e.headers=b.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),b.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||E.adapter)(e).then((function(t){return S(e),t.data=w.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return O(t)||(S(e),t&&t.response&&(t.response.data=w.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},U=_,F=A,B=F.validators;function z(e){this.defaults=e,this.interceptors={request:new L,response:new L}}z.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=U(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&F.assertOptions(t,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var a=[N,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(i),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var s=e;n.length;){var c=n.shift(),u=n.shift();try{s=c(s)}catch(l){u(l);break}}try{o=N(s)}catch(l){return Promise.reject(l)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},z.prototype.getUri=function(e){return e=U(this.defaults,e),D(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},R.forEach(["delete","get","head","options"],(function(e){z.prototype[e]=function(t,n){return this.request(U(n||{},{method:e,url:t,data:(n||{}).data}))}})),R.forEach(["post","put","patch"],(function(e){z.prototype[e]=function(t,n,r){return this.request(U(r||{},{method:e,url:t,data:n}))}}));var V,q,G,H,W,K,Q=z;var Y=a.a,Z=s.a,J=Q,X=_;var $=function e(t){var n=new J(t),r=Z(J.prototype.request,n);return Y.extend(r,J.prototype,n),Y.extend(r,n),r.create=function(n){return e(X(t,n))},r}(Object(h.a)());$.Axios=J,$.Cancel=Object(y.a)(),$.CancelToken=function(){if(q)return V;q=1;var e=Object(y.a)();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},V=t}(),$.isCancel=v(),$.VERSION=k().version,$.all=function(e){return Promise.all(e)},$.spread=H?G:(H=1,G=function(e){return function(t){return e.apply(null,t)}}),$.isAxiosError=K?W:(K=1,W=function(e){return"object"==typeof e&&!0===e.isAxiosError}),i.exports=$,i.exports.default=$;i.exports;!function(e){e.exports=i.exports}(o.a);var ee=Object(r.c)(o.a.exports)},IBVR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("r7tZ").a;function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},IGd6:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"qtyFromPrice",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},IVxI:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;var o=new(r(n("bVzu")).default)("https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV3WILVN9BdZVESenV3zDzBz_XzRcSAtFSqzPAuQJZkFZx-WW7NaH63trWL3ZDs1aE9xyUnb8Ekk7ZxTonoiUa5hsQMPp0JgjKzXKg6CfI7vMA==",5e3,"12.2.0");t.logger=o},Ig62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},IsoC:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("JOlD"),o=n("D9v1"),i=r.a,a=o.a,s=i("iterator"),c=Array.prototype,u=function(e){return void 0!==e&&(a.Array===e||c[s]===e)}},ItgQ:function(e,t,n){"use strict";(function(e){n("E9XD");var t=n("nKUr"),r=n("VdSc"),o=n("Nz9T"),i=(n("y/8W"),n("Ig62")),a=n("wyvy"),s=(n("QuRd"),n("Oc1+"),n("PWiV")),c=(n("9cPH"),n("vPPQ"),n("M3CU"),n("WJUW"),n("kc6j"),n("EKPF")),u=n("Ytr/"),l=n("tjlA"),d=(n("cM8m"),n("b7j7")),p=n("ug/g"),f=n("SDFg"),h=n("+9jB");function m(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}const g=Symbol("lazyRef.noValue");function v(e){return Object.assign({panning:!1,hover:!0,minZoom:.75,maxZoom:1,containerPadding:32},e)}function y(e,t){return Object.assign(Object.assign({},t),{renderingInstructionsUrl:e})}function b(e){var t;return Object.assign(Object.assign({reflectionUrl:"https://vortex.documents.cimpress.io/environments/default/reflection.jpg"},e),{shadowOptions:Object.assign(Object.assign({},null==e?void 0:e.shadowOptions),{canvasShadows:Object.assign({enabled:!0},null===(t=null==e?void 0:e.shadowOptions)||void 0===t?void 0:t.canvasShadows)})})}function w(e,t){return Object.assign(Object.assign({category:"3d",maximumRenderSize:2048},t),{tenant:e})}const O={id:"vistaprint-prod",type:"merchants"},E=[.3,.2];var x,S;(S=x||(x={})).FOLDED="Folded",S.OPEN="Open";const P=(e,t,n,r,a={})=>{const c=d.a.exports.useErrorHandler(),[u,l]=Object(o.useState)(!1),[h,O]=Object(o.useState)(!1),S=Object(o.useRef)(null),P=Object(o.useRef)(null),{current:C}=(e=>{const t=Object(o.useRef)(g);return t.current===g&&(t.current=e()),t})(()=>new p.a.Preview({canvas:e,cameraOptions:v(a.cameraOptions),documentReference:y(n||"",a.documentReference),environment:b(a.environment),renderingOptions:w(t.id,a.renderingOptions)}));return Object(o.useEffect)(()=>{r&&n&&m(void 0,void 0,void 0,(function*(){try{O(!0);const e=!Object(i.a)(P.current,r);S.current!==n&&(C.setDocumentReference(y(n,a.documentReference)),e||(yield C.update()),S.current=n),e&&(yield((e,t)=>m(void 0,void 0,void 0,(function*(){if(!t)return;const n=yield f.a.loadProduct(t);return e.load(n,{scaleToInitialState:!0})})))(C,r),P.current=r),((e,t={},n={})=>{m(void 0,void 0,void 0,(function*(){var r,o,i,a,c;(null===(r=e.product)||void 0===r?void 0:r.getCurrentState().id)===x.OPEN&&e.transitionState(x.FOLDED,{duration:1e-7,centerGeometry:!0,scaleToFitGeometry:!0}),t.swivel?(null==(null===(o=null==n?void 0:n.initialOrientation)||void 0===o?void 0:o.azimuthAngle)&&null==(null===(i=null==n?void 0:n.initialOrientation)||void 0===i?void 0:i.polarAngle)&&(yield e.lookAtFront(1e-7)),((e,t={})=>{try{const n=Array.isArray(t.swivel)?t.swivel:E;s.a.swivel(e,n[0],n[1])}catch(e){console.error("Failed to trigger swivel animiation. Unable to attach mouse animation handlers. ".concat(e.message),e)}})(e,t)):null==(null===(a=null==n?void 0:n.initialOrientation)||void 0===a?void 0:a.azimuthAngle)&&null==(null===(c=null==n?void 0:n.initialOrientation)||void 0===c?void 0:c.polarAngle)&&(yield e.lookAtFront(1))}))})(C,a.animations,C.cameraOptions),l(e=>e||!!n&&!!r)}catch(e){c(e)}finally{O(!1)}}))},[c,a.documentReference,a.animations,C,n,r]),[C,h||!u]};class C{constructor(t){var n,r;if(t)this.fetch=t;else if("undefined"!=typeof window)this.fetch=null===(n=null===window||void 0===window?void 0:window.fetch)||void 0===n?void 0:n.bind(window);else{if(void 0===e)throw new Error('Invalid Configuration: Cannot find a default fetch instace; "window" does not exist and no custom fetch was provided');this.fetch=null===(r=null==e?void 0:e.fetch)||void 0===r?void 0:r.bind(e)}}}function T(e,t){return m(this,void 0,void 0,(function*(){const n=yield t.text(),r=new Error("Bad response from ".concat(e,". ").concat(n||"Vortex service failure."));return r.code=t.status||0===t.status?t.status:"",r.statusText=t.statusText,r.response=JSON.stringify(t),r}))}const _="https://design-specifications.design.vpsvc.com/";const k=new class extends C{getRenderingURL(e,t,n,r,o,i){return m(this,void 0,void 0,(function*(){if(!(e&&t&&n&&r&&o&&i))throw new Error("Expected input of [string, number, string, string, object, string]; found [".concat(typeof e,", ").concat(typeof t,", ").concat(typeof n,", ").concat(typeof r,", ").concat(typeof o,", ").concat(typeof i,"] instead"));const a=Object.assign(Object.assign({},Object.keys(o).reduce((e,t)=>Object.assign(Object.assign({},e),{["optionSelections[".concat(t,"]")]:o[t]}),{})),{culture:r,useFakeFamily:!0}),s="".concat(_,"v2/renderDocuments/products/").concat(e,"/").concat(t,"/templates/").concat(n,"?").concat(h.a.stringify(a)),c=yield this.fetch(s,{headers:{Referer:i}});if(c.ok){const e=yield c.json(),t=Object(u.b)(JSON.stringify(e),{to:"string"});return"https://instructions.documents.cimpress.io/v3/instructions:preview?documentUri=".concat(encodeURIComponent(l.Buffer.from(t).toString("base64")))}throw yield T(_,c)}))}},I=(e,t,n,r,o,i,a={enabled:!0},s=k)=>Object(c.a)(["RenderingURL",e,t,n,r,o,i],()=>s.getRenderingURL(e,t,n,r,o,i),Object.assign(Object.assign({useErrorBoundary:!0,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnWindowFocus:!1},a),{enabled:!!n&&!!o&&!!e&&!!t&&!!i&&a.enabled})),M="https://bes.products.cimpress.io/api/";const j=new class extends C{getRootCimpressProductIdentifier(e,t,n){return m(this,void 0,void 0,(function*(){if(!e||!t||!n)throw new Error("Expected input of [string, string, number]; found [".concat(typeof e,", ").concat(typeof t,", ").concat(typeof n,"] instead"));const r="".concat(M,"v1/products/").concat(t,"/").concat(n,"/rootproduct"),o=yield this.fetch(r,{headers:{Authorization:"Bearer ".concat(e)}});if(o.ok)return yield o.json();throw yield T(M,o)}))}},A="https://cdn.previews.cimpress.io/";const R=new class extends C{getProductConfig(e,t,n){return m(this,void 0,void 0,(function*(){if(!e||!t||!n)throw new Error("Expected input of [string, object, object]; found [".concat(typeof e,", ").concat(typeof t,", ").concat(typeof n,"] instead"));const r={sku:e,skuAttributes:JSON.stringify(t),tenantId:n.id,tenantType:n.type},o="".concat(A,"v2/modelConfig?").concat(h.a.stringify(r)),i=yield this.fetch(o);if(i.ok)return yield i.json();throw yield T(A,i)}))}};Object(o.memo)(Object(o.forwardRef)((e,n)=>{const{bearerToken:i,bindingEvolutionService:s,bindingEvolutionServiceOptions:u,canvasProps:l,completeProductOptionsSet:d,children:p,controlsLocation:f="bottom",controlsWrapperProps:h,culture:g,designSpecificationsService:v,designSpecificationsServiceOptions:y,loader:b=a.BasicPreloader,loaderProps:w={centered:!0,visuallyHiddenLabel:e.visuallyHiddenLabel},mcpSku:E,previewOrchestrationService:x,previewOrchestrationServiceOptions:S,productKey:C,productVersion:T,referer:_,renderingInstructionsUrl:k,suspense:M=!1,templateToken:A,tenant:D=O,previewOptions:L}=e,N=e.locale||g,U=(null==d?void 0:d.length)?d[0].configurations[0].attributes:void 0,F=Object(o.useMemo)(()=>{const e=document.createElement("canvas");if(!(e=>{try{return!("undefined"==typeof window||!(e.getContext("webgl")||e.getContext("experimental-webgl")||e.getContext("webgl2")))}catch(e){return!1}})(e))throw new Error("WebGL is not enabled; triggering fallback");return e.className=Object(r.a)("canvas-control-component-".concat(f),null==l?void 0:l.className),e.style.height=(null==l?void 0:l.height)||"100%",e.style.maxHeight=(null==l?void 0:l.maxHeight)||"100%",e.style.maxWidth=(null==l?void 0:l.maxWidth)||"100%",e.style.minHeight=(null==l?void 0:l.minHeight)||"100%",e.style.minWidth=(null==l?void 0:l.minWidth)||"100%",e.style.width=(null==l?void 0:l.width)||"100%",n.current.appendChild(e),e},[n]);Object(o.useEffect)(()=>{F.className=Object(r.a)("canvas-control-component-".concat(f),null==l?void 0:l.className),F.style.height=(null==l?void 0:l.height)||"100%",F.style.maxHeight=(null==l?void 0:l.maxHeight)||"100%",F.style.maxWidth=(null==l?void 0:l.maxWidth)||"100%",F.style.minHeight=(null==l?void 0:l.minHeight)||"100%",F.style.minWidth=(null==l?void 0:l.minWidth)||"100%",F.style.width=(null==l?void 0:l.width)||"100%"},[l]);const{data:B,isFetching:z}=I(C,T,A,N,U,_,Object.assign(Object.assign({},y),{suspense:M,enabled:!k}),v),{data:V,isFetching:q}=((e,t,n,r={enabled:!0},o=j)=>Object(c.a)(["BESQuery",e,t,n],()=>o.getRootCimpressProductIdentifier(e,t,n),Object.assign(Object.assign({useErrorBoundary:!0,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnWindowFocus:!1},r),{enabled:!!e&&!!t&&!!n&&r.enabled})))(i,C,T,Object.assign(Object.assign({},u),{suspense:M,enabled:!E}),s),{data:G,isFetching:H}=((e,t,n,r={enabled:!0},o=R)=>Object(c.a)(["VortexProductConfig",e,t],()=>o.getProductConfig(e,t,n),Object.assign(Object.assign({useErrorBoundary:!0,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnWindowFocus:!1},r),{enabled:!!e&&!!t&&!!n&&r.enabled})))(E||(null==V?void 0:V.productId),U,D,Object.assign(Object.assign({},S),{suspense:M}),x),W=B||k||"function"!=typeof k?k:k(),[K,Q]=P(F,D,B||W,G,L),Y=!M&&(z||q||H)||Q,Z=K.product?K.product.getStates():[];return Object(o.useEffect)(()=>()=>K.dispose(),[]),Object(t.jsxs)(t.Fragment,{children:[Y&&Object(t.jsx)(b,Object.assign({},w,{className:Object(r.a)("loader",w.className)})),!!p&&Object(t.jsx)("div",Object.assign({},h,{className:Object(r.a)("control-component","control-component-".concat(f),null==h?void 0:h.className)},{children:p({onFront:()=>K?K.lookAtFront():Promise.resolve(void 0),onBack:()=>K?K.lookAtBack():Promise.resolve(void 0),onVortexChangeState:e=>m(void 0,void 0,void 0,(function*(){K.product&&(yield K.transitionState(e,{duration:2,centerGeometry:!0,scaleToFitGeometry:!0}))})),stateIds:Z,className:"control-button",disabled:Y})}))]})}),i.a);const D="https://product-completion.products.vpsvc.com/api/";new class extends C{getCompletedProduct(e,t,n,r,o,i){return m(this,void 0,void 0,(function*(){if(!(e&&t&&n&&r&&o))throw new Error("Expected input of [string, string, string, string, number]; found [".concat(typeof e,", ").concat(typeof t,", ").concat(typeof n,", ").concat(typeof r,", ").concat(typeof o,"] instead"));const a=i?Object.keys(i).reduce((e,t)=>Object.assign(Object.assign({},e),{["attrs[".concat(t,"]")]:i[t]}),{}):null,s=Object.assign(Object.assign({productVersion:o},a),{requestor:r}),c="".concat(D,"v3/lowest-price/").concat(e,"/").concat(t,"/").concat(n,"?").concat(h.a.stringify(s)),u=yield this.fetch(c);if(u.ok)return u.json();throw yield T(D,u)}))}}}).call(this,n("yLpj"))},Iw7o:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e){return a.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU"));function a(){return(a=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'<span class="all-caps">'.concat(t,"</span>"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.name="allcaps"},Iwrm:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o;n("3A28"),n("7w1n");function i(){if(o)return r;o=1;function e(e,t,n,r,o){}return e.resetWarningCache=function(){0},r=e}},Iz2V:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return S}));n("E9XD");var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&c()}function s(){a(i)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=h(r,"left","right")+i),Math.round(c+a)!==n&&(c-=h(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+i)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return y(o.left,o.top,s,c)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return o?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n,r,o,i,a,s,c,u=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),c);l(this,{target:e,contentRect:u})},O=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!=typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new O(t,n,this);E.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var S=void 0!==i.ResizeObserver?i.ResizeObserver:x}.call(this,n("yLpj"))},J78i:function(e,t,n){"use strict";e.exports=a;var r=n("sZro"),o=Object.create(n("Onz0"));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n("P7XM"),o.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},JBUk:function(e,t,n){"use strict";n("FZtP"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{getValidationErrors(e){var t=[];try{this.validateParameters(e)}catch(n){n.forEach(e=>t.push(e))}return t.join()}}},"JEf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("Rmyw"),o=n("Nzva"),i=n("EE1o"),a=n("Y4wP"),s=n("NVNn"),c=n("IsoC"),u=n("xbmn"),l=n("Tx24"),d=n("qjG+"),p=n("+Leq"),f=n("6uSJ"),h=r.a,m=o.a,g=i.a,v=a.a,y=s.a,b=c.a,w=u.a,O=l.a,E=d.a,x=p.a,S=f.a,P=h.TypeError,C=function(e,t){this.stopped=e,this.result=t},T=C.prototype,_=function(e,t,n){var r,o,i,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),h=m(t,l),_=function(e){return r&&S(r,"normal",e),new C(!0,e)},k=function(e){return d?(v(e),f?h(e[0],e[1],_):h(e[0],e[1])):f?h(e,_):h(e)};if(p)r=e;else{if(!(o=x(e)))throw P(y(e)+" is not iterable");if(b(o)){for(i=0,a=w(e);a>i;i++)if((s=k(e[i]))&&O(T,s))return s;return new C(!1)}r=E(e,o)}for(c=r.next;!(u=g(c,r)).done;){try{s=k(u.value)}catch(I){S(r,"throw",I)}if("object"==typeof s&&s&&O(T,s))return s}return new C(!1)}},JM11:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8x/l").a,o=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},JOlD:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("Rmyw"),o=(n("ieMJ"),n("SlgV")),i=n("vbs9"),a=n("uaFB"),s=n("yc6g"),c=n("BEO/"),u=r.a,l=c.a.exports,d=o.a,p=i.a,f=a.a,h=s.a,m=l("wks"),g=u.Symbol,v=g&&g.for,y=h?g:g&&g.withoutSetter||p,b=function(e){if(!d(m,e)||!f&&"string"!=typeof m[e]){var t="Symbol."+e;f&&d(g,e)?m[e]=g[e]:m[e]=h&&v?v(t):y(t)}return m[e]}},JPgR:function(e,t,n){var r=n("lJCZ"),o=n("skmB"),i=e.exports;for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);function s(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=s(e),r.request.call(this,e,t)},i.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},JRVJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("r7tZ").a,o=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),o=n("WjRb"),i=n("HYAF");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},JmOh:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.comparativePriceFilter=function(e,t,n,r,o,i,a,s,c){return u.apply(this,arguments)};var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("F5Q5"),c="<span class='comparative-pricing'><span class='list-price'>{{listPrice}}</span> <span class='discount-price'>{{discountPrice}}</span></span>";function u(){return(u=(0,i.default)(o.default.mark((function e(t,n,r,i,u,l,d,p,f){var h,m,g,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h={},n!==r?(h.comparativePriceListDiscount=c,m=a.formatterService.formatPrice({culture:t,currency:i,price:r,minimumFractionDigits:u})):h.comparativePriceListDiscount="<span class='list-price'>{{listPrice}}</span>",g=a.formatterService.formatPrice({culture:t,currency:i,price:n,minimumFractionDigits:u}),v={discountPrice:m,listPrice:g,vatInc:l},d){e.next=8;break}return e.next=7,(0,s.getVatHtml)(l,t,p,f);case 7:v.vatMessage=e.sent;case 8:return e.abrupt("return",{htmlTemplates:h,mustacheVariables:v});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},JxQ3:function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==typeof Symbol.iterator,E=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),S=n(1).custom,P=S&&I(S)?S:null,C="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function T(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function _(e){return String(e).replace(/"/g,"&quot;")}function k(e){return!("[object Array]"!==A(e)||C&&"object"==typeof e&&C in e)}function I(e){if(O)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!w)return!1;try{return w.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,o){var s=n||{};if(j(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!j(s,"customInspect")||s.customInspect;if("boolean"!=typeof c)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(j(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(t.slice(0,n.maxStringLength),n)+o}return T(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,D),"single",n)}(t,s);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var m=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof t)return k(t)?"[Array]":"[Object]";var b=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(s,r);if(void 0===o)o=[];else if(R(o,t)>=0)return"[Circular]";function E(t,n,i){if(n&&(o=o.slice()).push(n),i){var a={depth:s.depth};return j(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,o)}return e(t,s,r+1,o)}if("function"==typeof t){var S=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),M=B(t,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(M.length>0?" { "+M.join(", ")+" }":"")}if(I(t)){var z=O?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(t);return"object"!=typeof t||O?z:L(z)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var V="<"+String(t.nodeName).toLowerCase(),q=t.attributes||[],G=0;G<q.length;G++)V+=" "+q[G].name+"="+T(_(q[G].value),"double",s);return V+=">",t.childNodes&&t.childNodes.length&&(V+="..."),V+="</"+String(t.nodeName).toLowerCase()+">"}if(k(t)){if(0===t.length)return"[]";var H=B(t,E);return b&&!function(e){for(var t=0;t<e.length;t++)if(R(e[t],"\n")>=0)return!1;return!0}(H)?"["+F(H,b)+"]":"[ "+H.join(", ")+" ]"}if(function(e){return!("[object Error]"!==A(e)||C&&"object"==typeof e&&C in e)}(t)){var W=B(t,E);return 0===W.length?"["+String(t)+"]":"{ ["+String(t)+"] "+W.join(", ")+" }"}if("object"==typeof t&&c){if(P&&"function"==typeof t[P])return t[P]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(V){return!0}return e instanceof Map}catch(t){}return!1}(t)){var K=[];return a.call(t,(function(e,n){K.push(E(n,t,!0)+" => "+E(e,t))})),U("Map",i.call(t),K,b)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var Q=[];return l.call(t,(function(e){Q.push(E(e,t))})),U("Set",u.call(t),Q,b)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(V){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return N("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(V){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return N("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(t){}return!1}(t))return N("WeakRef");if(function(e){return!("[object Number]"!==A(e)||C&&"object"==typeof e&&C in e)}(t))return L(E(Number(t)));if(function(e){if(!e||"object"!=typeof e||!y)return!1;try{return y.call(e),!0}catch(t){}return!1}(t))return L(E(y.call(t)));if(function(e){return!("[object Boolean]"!==A(e)||C&&"object"==typeof e&&C in e)}(t))return L(h.call(t));if(function(e){return!("[object String]"!==A(e)||C&&"object"==typeof e&&C in e)}(t))return L(E(String(t)));if(!function(e){return!("[object Date]"!==A(e)||C&&"object"==typeof e&&C in e)}(t)&&!function(e){return!("[object RegExp]"!==A(e)||C&&"object"==typeof e&&C in e)}(t)){var Y=B(t,E),Z=x?x(t)===Object.prototype:t instanceof Object||t.constructor===Object,J=t instanceof Object?"":"null prototype",X=!Z&&C&&Object(t)===t&&C in t?A(t).slice(8,-1):J?"Object":"",$=(Z||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(X||J?"["+[].concat(X||[],J||[]).join(": ")+"] ":"");return 0===Y.length?$+"{}":b?$+"{"+F(Y,b)+"}":$+"{ "+Y.join(", ")+" }"}return String(t)};var M=Object.prototype.hasOwnProperty||function(e){return e in this};function j(e,t){return M.call(e,t)}function A(e){return m.call(e)}function R(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function D(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function L(e){return"Object("+e+")"}function N(e){return e+" { ? }"}function U(e,t,n,r){return e+" ("+t+") {"+(r?F(n,r):n.join(", "))+"}"}function F(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function B(e,t){var n=k(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=j(e,o)?t(e[o],e):""}var i,a="function"==typeof b?b(e):[];if(O){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)j(e,c)&&(n&&String(Number(c))===c&&c<e.length||O&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof b)for(var u=0;u<a.length;u++)E.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},KIAt:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="asLowAsPricePerPiece";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=this,h=a.contextService.getCulture(f),e.next=4,(0,s.comparativePriceFilter)(h,t,n,r,i,l,d,p,f);case 4:return m=e.sent,g=m.htmlTemplates,v=m.mustacheVariables,y=(0,c.localized)(u,h),e.abrupt("return",a.mustacheService.replace(y,v,g));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},KKCa:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},KOqt:function(e,t,n){"use strict";var r=n("L6Rn").version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},KX9E:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},Kiq5:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r,o,i,a,s,c,u=n("xRrl"),l=n("XL2s");function d(){if(o)return r;o=1;var e=Object(l.a)();return r=function(t,n,r,o,i){var a=new Error(t);return e(a,n,r,o,i)}}var p,f,h,m,g,v,y,b,w,O,E,x,S=n("WY7N");function P(){if(v)return g;v=1;var e=f?p:(f=1,p=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),t=m?h:(m=1,h=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return g=function(n,r){return n&&!e(r)?t(n,r):r}}function C(){if(x)return E;x=1;var e=Object(u.a)(),t=function(){if(a)return i;a=1;var e=d();return i=function(t,n,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?n(e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}}(),n=function(){if(c)return s;c=1;var e=Object(u.a)();return s=e.isStandardBrowserEnv()?{write:function(t,n,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(o)&&s.push("path="+o),e.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}(),r=Object(S.a)(),o=P(),l=function(){if(b)return y;b=1;var e=Object(u.a)(),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return y=function(n){var r,o,i,a={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),o=e.trim(n.substr(i+1)),r){if(a[r]&&t.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}}(),p=function(){if(O)return w;O=1;var e=Object(u.a)();return w=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(n){var r=e.isString(n)?o(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),f=d();return E=function(i){return new Promise((function(a,s){var c=i.data,u=i.headers,d=i.responseType;e.isFormData(c)&&delete u["Content-Type"];var h=new XMLHttpRequest;if(i.auth){var m=i.auth.username||"",g=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";u.Authorization="Basic "+btoa(m+":"+g)}var v=o(i.baseURL,i.url);function y(){if(h){var e="getAllResponseHeaders"in h?l(h.getAllResponseHeaders()):null,n={data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:e,config:i,request:h};t(a,s,n),h=null}}if(h.open(i.method.toUpperCase(),r(v,i.params,i.paramsSerializer),!0),h.timeout=i.timeout,"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(y)},h.onabort=function(){h&&(s(f("Request aborted",i,"ECONNABORTED",h)),h=null)},h.onerror=function(){s(f("Network Error",i,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+i.timeout+"ms exceeded";i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),s(f(e,i,i.transitional&&i.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},e.isStandardBrowserEnv()){var b=(i.withCredentials||p(v))&&i.xsrfCookieName?n.read(i.xsrfCookieName):void 0;b&&(u[i.xsrfHeaderName]=b)}"setRequestHeader"in h&&e.forEach(u,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete u[t]:h.setRequestHeader(t,e)})),e.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),d&&"json"!==d&&(h.responseType=i.responseType),"function"==typeof i.onDownloadProgress&&h.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",i.onUploadProgress),i.cancelToken&&i.cancelToken.promise.then((function(e){h&&(h.abort(),s(e),h=null)})),c||(c=null),h.send(c)}))}}},KpH6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!(0,n("zwAr").a)((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"Kv8+":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("yq1k"),n("4mDm"),n("JTJg"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHost=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=r(n("qmMg")),s=n("IVxI"),c="https://livesite.jetstream.vpsvc.com/",u=function(){var e=(0,i.default)(o.default.mark((function e(t,n){var r,i,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.get(c);case 3:i=e.sent,r=i.data&&i.data.tenant[n]&&i.data.tenant[n].sites,e.t0=o.default.keys(r);case 6:if((e.t1=e.t0()).done){e.next=12;break}if(u=e.t1.value,r[u].primaryLanguage!==t&&!r[u].supportedLanguages.includes(t)){e.next=10;break}return e.abrupt("return","https://".concat(r[u].canonicalDomain));case 10:e.next=6;break;case 12:throw new Error("Canonical domain not found for tenant ".concat(n," and ").concat(t));case 15:throw e.prev=15,e.t2=e.catch(0),s.logger.error("The request for tenant ".concat(n," and ").concat(t," to url: ").concat(c,". Returned error ").concat(e.t2.stack),{contextData:{stack:e.t2.stack,culture:t,tenant:n}}),e.t2;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}();t.getHost=u},L6Rn:function(e,t){e.exports={version:"0.26.1"}},LBJ9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));function r(e,t){!function(e){if("undefined"==typeof window)return;const t=()=>{window.tracking&&e(window.tracking),window.removeEventListener("trackingReady",t)};window&&window.tracking&&window.tracking.track?e(window.tracking):window.addEventListener("trackingReady",t)}(n=>{n.track(e,t)})}var o={PRODUCT_BUILDER_LOADED:"product builder loaded",USER_CHANGED_SELECTIONS:"user changed selections"},i={},a="undefined"!=typeof window;function s(e){if(a){u(e);var t=window.setTimeout((function(){return function(e){u(e),console.error("User interaction was not completed or canceled before it timed out",{name:e,timeoutMs:6e4})}(e)}),6e4);i[e]={startMs:Date.now(),timeoutHandle:t}}}function c(e){if(a){var t=i[e];if(t)u(e),function(e){if(!e.eventName)throw new Error("Missing eventName");try{r("Interaction Timed",{eventName:e.eventName,timing:e.timing,eventDetail:e.eventDetail})}catch(t){console.error("Something went wrong in @vp/track-user-interaction -> trackUserInteractionWithTiming",t)}}({eventName:e,timing:Date.now()-t.startMs})}}function u(e){if(a){var t=i[e];t&&(delete i[e],window.clearTimeout(t.timeoutHandle))}}},M3CU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5ALN"),o=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):Object(r.f)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.schedule((function(){e.apply(void 0,r)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&Object(r.f)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},MCLT:function(e,t,n){(function(e){n("E9XD");var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])m(c)||!w(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=l(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(x(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var u,w="",S=!1,P=["{","}"];(f(n)&&(S=!0,P=["[","]"]),x(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),O(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+d(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)_(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,S)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,P)):P[0]+w+P[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),_(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function O(e){return w(e)&&"[object Date]"===S(e)}function E(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i={}.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=O,t.isError=E,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("1gqn");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n("KKCa"),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(k&&e[k]){var t;if("function"!=typeof(t=e[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),k&&Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=k,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(I,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n("KCCg"))},MJYl:function(e,t,n){"use strict";!function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var l={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=f.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(v,"constructor",f),s(f,"constructor",p),p.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(n("8kND").a)},MOJX:function(e,t,n){"use strict";var r=n("eSXq"),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},MZbR:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("sMLe"),o=n("SlgV"),i=n("SRXV"),a=n("oZF6"),s=n("xbmn"),c=i.a,u=a.a,l=s.a,d=function(e){return function(t,n,r){var o,i=c(t),a=l(i),s=u(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},p={includes:d(!0),indexOf:d(!1)},f=n("I1w3"),h=r.a,m=o.a,g=i.a,v=p.indexOf,y=f.a,b=h([].push),w=function(e,t){var n,r=g(e),o=0,i=[];for(n in r)!m(y,n)&&m(r,n)&&b(i,n);for(;t.length>o;)m(r,n=t[o++])&&(~v(i,n)||b(i,n));return i}},N1Fh:function(e,t,n){"use strict";var r=n("nZdi");e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},N1e5:function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},NKvv:function(e,t,n){"use strict";var r=n("arQW"),o=n("KpH6"),i=n("EE1o"),a={},s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!s.call({1:2},1);a.f=u?function(e){var t=c(this,e);return!!t&&t.enumerable}:s;var l=n("uaR5"),d=n("SRXV"),p=n("kK8I"),f=n("SlgV"),h=n("HgAa"),m=o.a,g=i.a,v=a,y=l.a,b=d.a,w=p.a,O=f.a,E=h.a,x=Object.getOwnPropertyDescriptor;r.a.f=m?x:function(e,t){if(e=b(e),t=w(t),E)try{return x(e,t)}catch(n){}if(O(e,t))return y(!g(v.f,e,t),e[t])}},NVJX:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy");function a(e){return o.a.createElement(i.Typography,{textSize:6},e.text)}var s=n("LBJ9");function c(e){var t,n=e.optionKey,r=e.optionName,c=e.values,u=e.selections,l=e.updateSelections,d=e.renderingOverrides,p=null!=(t=null==d?void 0:d.productOptionValue)?t:a;if(!c)return o.a.createElement(o.a.Fragment,null);var f="step-header-"+r.replace(/\W/g,"_");return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Typography,{id:f,component:"h3",weight:"bold",textSize:6,mb:2},r),o.a.createElement(i.SelectionSet,{style:{flexWrap:"wrap"},variant:"single-select",skin:"buttons",defaultSelectedValue:null==u?void 0:u[n],mb:5,onSelectedValueChange:function(e){return function(e){Object(s.b)(s.a.USER_CHANGED_SELECTIONS);var t=Object.assign({},u);t[n]=e,l(t)}(e)},"aria-labelledby":f},c.map((function(e){return e.isCompatible&&o.a.createElement(i.SelectionSetInput,{value:e.key,key:"value-"+e.key},o.a.createElement(i.SelectionSetLabel,{mr:2,mb:2,style:{padding:"0px 10px"}},o.a.createElement(p,Object.assign({text:e.name},e))))}))))}},NVNn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Rmyw").a.String,o=function(e){try{return r(e)}catch(t){return"Object"}}},Nl4t:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o={exports:{}},i={exports:{}};var a,s={exports:{}};var c,u,l=n("oGgb"),d={exports:{}};function p(){return u||(u=1,function(e){var t=(r||(r=1,function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(i)),i.exports),n=(a||(a=1,function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports}(s)),s.exports),o=Object(l.a)(),u=(c||(c=1,function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(d)),d.exports);e.exports=function(e,r){return t(e)||n(e,r)||o(e,r)||u()},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},Nzva:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("sMLe"),o=n("dUi7"),i=n("qLRF"),a=r.a,s=o.a,c=i.a,u=a(a.bind),l=function(e,t){return s(e),void 0===t?e:c?u(e,t):function(){return e.apply(t,arguments)}}},OPJn:function(e,t,n){"use strict";var r=n("Sadh"),o=n("bhOv"),i=n("Y4wP"),a=n("RJhP"),s=n("zwAr"),c=n("EE1o"),u=n("SlgV"),l=n("Tx24"),d=n("71xO"),p=c.a,f=u.a,h=l.a,m=d.a,g=RegExp.prototype,v=r.a.PROPER,y=o.a,b=i.a,w=a.a,O=s.a,E=function(e){var t=e.flags;return void 0!==t||"flags"in g||f(e,"flags")||!h(g,e)?t:p(m,e)},x=RegExp.prototype.toString,S=O((function(){return"/a/b"!=x.call({source:"a",flags:"b"})})),P=v&&"toString"!=x.name;(S||P)&&y(RegExp.prototype,"toString",(function(){var e=b(this);return"/"+w(e.source)+"/"+w(E(e))}),{unsafe:!0})},ORCT:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=(n("E9XD"),n("l5hM")),a=(n("5DR5"),n("2DWb"),n("qWkD"),n("FdlX"),n("6eof"),n("m2GG"),n("kKQ4"),n("mhtg"),n("GCus"),n("sTLe"),n("OPJn"),n("DUyU"),n("BDz/"),n("MJYl"),n("I8xe"),n("RRyU"),n("ckbL")),s=n("FwcU");!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s.a.exports),r=i(a.a.exports);function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=n.default.create({transformRequest:[e=>"string"==typeof e||e instanceof String?e:JSON.stringify(e)]}),d=()=>{};function p(e){return(0,r.default)(e,(function(e,t){switch(typeof t){case"bigint":case"symbol":return t.toString();default:return t}}))}t.default=class{constructor(e){e&&Object.prototype.hasOwnProperty.call(e,"endpoint")&&void 0!==e.endpoint&&""!==e.endpoint?(this.config={},this.pendingLogs=[],this.interval=0,this.logSending=!1,this.setConfig(e),this.startLogSending()):console.error("An endpoint value must be provided")}setConfig(e){this.config={endpoint:e.endpoint,returnPromise:!Object.prototype.hasOwnProperty.call(e,"returnPromise")||e.returnPromise,clientUrl:e.clientUrl||"",useIntervalOnly:e.useIntervalOnly||!1,interval:e.interval||0,batchSize:e.batchSize||0,sourceName:e.sourceName||"",hostName:e.hostName||"",sourceCategory:e.sourceCategory||"",session:e.sessionKey||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),onSuccess:e.onSuccess||d,onError:e.onError||d,graphite:e.graphite||!1,raw:e.raw||!1}}updateConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.endpoint&&(this.config.endpoint=e.endpoint),e.returnPromise&&(this.config.returnPromise=e.returnPromise),e.useIntervalOnly&&(this.config.useIntervalOnly=e.useIntervalOnly),e.interval&&(this.config.interval=e.interval,this.startLogSending()),e.batchSize&&(this.config.batchSize=e.batchSize),e.sourceCategory&&(this.config.sourceCategory=e.sourceCategory)}batchReadyToSend(){if(0===this.config.batchSize)return 0===this.config.interval;var e=this.pendingLogs.reduce((e,t)=>e+JSON.parse(t).msg+"\n","").length>=this.config.batchSize;return e&&this.stopLogSending(),e}_postSuccess(e){this.pendingLogs=this.pendingLogs.slice(e),this.startLogSending(),this.config.onSuccess()}sendLogs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isFlushing;if(this.logSending||0===this.pendingLogs.length)return!1;try{this.logSending=!0;var t={"X-Sumo-Client":"sumo-javascript-sdk"};this.config.graphite?Object.assign(t,{"Content-Type":"application/vnd.sumologic.graphite"}):Object.assign(t,{"Content-Type":"application/json"}),""!==this.config.sourceName&&Object.assign(t,{"X-Sumo-Name":this.config.sourceName}),""!==this.config.sourceCategory&&Object.assign(t,{"X-Sumo-Category":this.config.sourceCategory}),""!==this.config.hostName&&Object.assign(t,{"X-Sumo-Host":this.config.hostName});var n=Array.from(this.pendingLogs).join("\n"),r={headers:t,maxContentLength:1/0,maxBodyLength:1/0};return this.config.returnPromise&&1===this.pendingLogs.length?l.post(this.config.endpoint,n,r).then(e=>(this._postSuccess(1),this.logSending=!1,e)).catch(t=>(this.config.onError(t),this.logSending=!1,e?(this.stopLogSending(),console.error("Flushing logs failed")):(console.error("Logs ".concat(JSON.stringify(n,null,2)," failed to be sent")),this.removeFromPendingLogs(n.length)),Promise.reject(t))):l.post(this.config.endpoint,n,r).then(()=>{this._postSuccess(n.length),this.logSending=!1}).catch(t=>{if(this.config.onError(t),this.logSending=!1,e?(this.stopLogSending(),console.error("Flushing logs failed")):(console.error("Logs ".concat(JSON.stringify(n,null,2)," failed to be sent")),this.removeFromPendingLogs(n.length)),this.config.returnPromise)return Promise.reject(t)})}catch(o){return this.config.onError(o),!1}}startLogSending(){var e=this;this.config.interval>0&&(this.interval&&this.stopLogSending(),this.interval=setInterval(u(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendLogs();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Interval Sending logs failed",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),this.config.interval))}stopLogSending(){clearInterval(this.interval)}removeFromPendingLogs(e){this.pendingLogs=this.pendingLogs.slice(e)}emptyLogQueue(){this.pendingLogs=[]}flushLogs(){return this.sendLogs({isFlushing:!0})}log(e,t){var n=e;if(!n)return console.error("A value must be provided"),!1;var r=n instanceof Array,o=r?n[0]:n,i=typeof o;if("undefined"===i)return console.error("A value must be provided"),!1;if(this.config.graphite&&(!Object.prototype.hasOwnProperty.call(o,"path")||!Object.prototype.hasOwnProperty.call(o,"value")))return console.error('Both "path" and "value" properties must be provided in the message object to send Graphite metrics'),!1;if("object"===i&&0===Object.keys(n).length)return console.error("A non-empty JSON object must be provided"),!1;r||(n=[n]);var a=new Date,s=this.config.session,c={url:this.config.clientUrl};t&&(Object.prototype.hasOwnProperty.call(t,"sessionKey")&&(s=t.sessionKey),Object.prototype.hasOwnProperty.call(t,"timestamp")&&(a=t.timestamp),Object.prototype.hasOwnProperty.call(t,"url")&&(c.url=t.url));var u=a.toJSON(),l=n.map(e=>{if(this.config.graphite)return"".concat(e.path," ").concat(e.value," ").concat(Math.round(a.getTime()/1e3));if(this.config.raw)return e;if("string"==typeof e)return p(Object.assign({msg:e,sessionId:s,timestamp:u},c));var t={sessionId:s,timestamp:u};return p(Object.assign(t,c,e))});return this.pendingLogs=this.pendingLogs.concat(l),!this.config.useIntervalOnly&&this.batchReadyToSend()?this.sendLogs():void 0}},e.exports=t.default}(i.a,i.a.exports)},"Oc1+":function(e,t,n){"use strict";var r,o,i=n("SDFg"),a={},s=(n("R1BN"),n("9pfv")),c=n("aTPC"),u={exports:{}},l={exports:{}},d=n("xRrl"),p=n("bWKV"),f=n("WY7N");var h,m,g,v,y,b,w,O,E=n("VGbW");function x(){return v?g:(v=1,g=function(e){return!(!e||!e.__CANCEL__)})}function S(){if(b)return y;b=1;var e=Object(d.a)(),t=function(){if(m)return h;m=1;var e=Object(d.a)(),t=Object(E.a)();return h=function(n,r,o){var i=this||t;return e.forEach(o,(function(e){n=e.call(i,n,r)})),n}}(),n=x(),r=Object(E.a)();function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}return y=function(i){return o(i),i.headers=i.headers||{},i.data=t.call(i,i.data,i.headers,i.transformRequest),i.headers=e.merge(i.headers.common||{},i.headers[i.method]||{},i.headers),e.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete i.headers[e]})),(i.adapter||r.adapter)(i).then((function(e){return o(i),e.data=t.call(i,e.data,e.headers,i.transformResponse),e}),(function(e){return n(e)||(o(i),e&&e.response&&(e.response.data=t.call(i,e.response.data,e.response.headers,i.transformResponse))),Promise.reject(e)}))}}function P(){if(O)return w;O=1;var e=Object(d.a)();return w=function(t,n){n=n||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,n){return e.isPlainObject(t)&&e.isPlainObject(n)?e.merge(t,n):e.isPlainObject(n)?e.merge({},n):e.isArray(n)?n.slice():n}function u(o){e.isUndefined(n[o])?e.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(t[o],n[o])}e.forEach(o,(function(t){e.isUndefined(n[t])||(r[t]=c(void 0,n[t]))})),e.forEach(i,u),e.forEach(a,(function(o){e.isUndefined(n[o])?e.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(void 0,n[o])})),e.forEach(s,(function(e){e in n?r[e]=c(t[e],n[e]):e in t&&(r[e]=c(void 0,t[e]))}));var l=o.concat(i).concat(a).concat(s),d=Object.keys(t).concat(Object.keys(n)).filter((function(e){return-1===l.indexOf(e)}));return e.forEach(d,u),r}}var C,T,_,k,I,M,j,A,R,D,L,N,U,F,B={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]};function z(){if(k)return _;k=1;var e=Object(d.a)(),t=Object(f.a)(),n=function(){if(o)return r;o=1;var e=Object(d.a)();function t(){this.handlers=[]}return t.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},t.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},t.prototype.forEach=function(t){e.forEach(this.handlers,(function(e){null!==e&&t(e)}))},r=t}(),i=S(),a=P(),s=function(){if(T)return C;T=1;var e=B,t={};["object","boolean","number","function","string","symbol"].forEach((function(e,n){t[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}}));var n={},r=e.version.split(".");function o(e,t){for(var n=t?t.split("."):r,o=e.split("."),i=0;i<3;i++){if(n[i]>o[i])return!0;if(n[i]<o[i])return!1}return!1}return t.transitional=function(t,r,i){var a=r&&o(r);function s(t,n){return"[Axios v"+e.version+"] Transitional option '"+t+"'"+n+(i?". "+i:"")}return function(e,o,i){if(!1===t)throw new Error(s(o," has been removed in "+r));return a&&!n[o]&&(n[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),!t||t(e,o,i)}},C={isOlderVersion:o,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:t}}(),c=s.validators;function u(e){this.defaults=e,this.interceptors={request:new n,response:new n}}return u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!r){var l=[i,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(u),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var d=e;n.length;){var p=n.shift(),f=n.shift();try{d=p(d)}catch(h){f(h);break}}try{o=i(d)}catch(h){return Promise.reject(h)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=a(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),e.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),_=u}function V(){if(M)return I;function e(e){this.message=e}return M=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,I=e}function q(){if(U)return l.exports;U=1;var e=Object(d.a)(),t=Object(p.a)(),n=z(),r=P();function o(r){var o=new n(r),i=t(n.prototype.request,o);return e.extend(i,n.prototype,o),e.extend(i,o),i}var i=o(Object(E.a)());return i.Axios=n,i.create=function(e){return o(r(i.defaults,e))},i.Cancel=V(),i.CancelToken=function(){if(A)return j;A=1;var e=V();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},j=t}(),i.isCancel=x(),i.all=function(e){return Promise.all(e)},i.spread=D?R:(D=1,R=function(e){return function(t){return e.apply(null,t)}}),i.isAxiosError=N?L:(N=1,L=function(e){return"object"==typeof e&&!0===e.isAxiosError}),l.exports=i,l.exports.default=i,l.exports}function G(){return F||(F=1,function(e){e.exports=q()}(u)),u.exports}var H,W={},K={};function Q(){return H||(H=1,Object.defineProperty(K,"__esModule",{value:!0}),K.FinishType=void 0,K.FinishType=e,function(e){e[e.metallic=0]="metallic",e[e.raisedInk=1]="raisedInk",e[e.raisedFoilGold=2]="raisedFoilGold",e[e.raisedFoilSilver=3]="raisedFoilSilver",e[e.glitter=4]="glitter"}(e||(K.FinishType=e={}))),K;var e}var Y,Z={},J={},X=n("1MfR");function $(){if(Y)return J;Y=1,Object.defineProperty(J,"__esModule",{value:!0}),J.getGlitterFinish=function(){return{name:"glitter",channel:"RaisedFoilGlitterSilver",bumpScale:.1,bumpMode:e.MapMode.generate,shininess:3e3,specularTexture:{dpi:160,sourceUrl:"https://uploads.documents.cimpress.io/v1/uploads/2a97fc86-89ac-4308-9caf-b12f7569b462~110?variant=original&tenant=doc-platform"},baseCompositeMode:e.CompositeMode.normal,reflectivity:.4,baseTexture:{dpi:160,sourceUrl:"https://uploads.documents.cimpress.io/v1/uploads/e48803af-8097-4edd-be90-81b038cf7911~110?variant=original&tenant=doc-platform"}}};var e=Object(X.a)();return J}var ee,te={};function ne(){if(ee)return te;ee=1,Object.defineProperty(te,"__esModule",{value:!0}),te.getMetallicFinish=function(){return{name:"metallic",channel:"foil",bumpScale:.05,bumpMode:e.MapMode.inherit,shininess:300,reflectivity:.05,baseCompositeMode:e.CompositeMode.overlay,baseTexture:{dpi:400,sourceUrl:"https://vortex.documents.cimpress.io/finishes/foil/v1/base"}}};var e=Object(X.a)();return te}var re,oe={};function ie(){if(re)return oe;re=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.getRaisedFoilGoldFinish=function(){return{name:"raisedFoilGold",channel:"RaisedFoilGold",bumpScale:.03,bumpMode:e.MapMode.generate,shininess:100,reflectivity:.4,baseCompositeMode:e.CompositeMode.normal,baseTexture:{dpi:400,sourceUrl:"https://vortex.documents.cimpress.io/finishes/foil/v1/base",overlayColor:"#937011"}}};var e=Object(X.a)();return oe}var ae,se={};function ce(){if(ae)return se;ae=1,Object.defineProperty(se,"__esModule",{value:!0}),se.getRaisedFoilSilverFinish=function(){return{name:"raisedFoilSilver",channel:"RaisedFoilSilver",bumpScale:.03,bumpMode:e.MapMode.generate,shininess:100,reflectivity:.4,baseCompositeMode:e.CompositeMode.normal,baseTexture:{dpi:400,sourceUrl:"https://vortex.documents.cimpress.io/finishes/foil/v1/base",overlayColor:"#e4e4e4"}}};var e=Object(X.a)();return se}var ue,le,de,pe={};function fe(){if(ue)return pe;ue=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.getRaisedInkFinish=function(){return{name:"raisedInk",channel:"gloss",bumpScale:.05,bumpMode:e.MapMode.generate,shininess:1e3,reflectivity:.1,baseCompositeMode:e.CompositeMode.normal}};var e=Object(X.a)();return pe}function he(){return de||(de=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Q();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(le)return Z;le=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.getFinish=function(a){switch(a){case i.FinishType.metallic:return(0,t.getMetallicFinish)();case i.FinishType.raisedInk:return(0,o.getRaisedInkFinish)();case i.FinishType.raisedFoilGold:return(0,n.getRaisedFoilGoldFinish)();case i.FinishType.raisedFoilSilver:return(0,r.getRaisedFoilSilverFinish)();case i.FinishType.glitter:return(0,e.getGlitterFinish)();default:throw new Error("Unknown finish type requested: ".concat({type:a}))}};var e=$(),t=ne(),n=ie(),r=ce(),o=fe(),i=Q();return Z}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=ne();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=fe();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var i=ie();Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var a=ce();Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var s=$();Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}))}(W)),W}var me=n("0LXn"),ge=me.a.exports;Object.defineProperty(a,"__esModule",{value:!0}),a.fetchRenderingInstructions=Oe,a.finishFromString=xe,a.getPageFinish=Se,a.getInstructionData=Pe,a.fetchInstructionData=function(e){return Ce.apply(this,arguments)};var ve=ge(Object(s.a)()),ye=ge(Object(c.a)()),be=ge(G()),we=he();function Oe(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,ye.default)(ve.default.mark((function e(t){var n;return ve.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.default.get(t);case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch instructions at ".concat(t," with status code ").concat(n.status));case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){var t=e.toLowerCase();return t.includes("raisedink")?we.FinishType.raisedInk:t.includes("metallic")?we.FinishType.metallic:t.includes("raisedfoilsilver")?we.FinishType.raisedFoilSilver:t.includes("raisedfoilgold")?we.FinishType.raisedFoilGold:void 0}function Se(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.Variations&&n.Variations.length>0)for(var r=0;r<n.Variations.length;r++){var o=n.Variations[r];if(o.SpotColor&&o.SpotColor.Name&&xe(o.SpotColor.Name))return xe(o.SpotColor.Name)}if(n.Colors&&n.Colors.length>0)for(var i=0;i<n.Colors.length;i++){var a=n.Colors[i];if(a.FillColor&&a.FillColor.Overprint&&a.FillColor.ManufacturerColorName&&xe(a.FillColor.ManufacturerColorName))return xe(a.FillColor.ManufacturerColorName);if(a.StrokeColor&&a.StrokeColor.Overprint&&a.StrokeColor.ManufacturerColorName&&xe(a.StrokeColor.ManufacturerColorName))return xe(a.StrokeColor.ManufacturerColorName)}}}function Pe(e){var t={pages:[]};return e.Slots.forEach((function(e){var n={width:e.WidthInPoints/28.346,height:e.HeightInPoints/28.346,finish:Se(e.Instructions)};t.pages.push(n)})),t}function Ce(){return(Ce=(0,ye.default)(ve.default.mark((function e(t){var n;return ve.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return n=e.sent,e.abrupt("return",Pe(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te={},_e=me.a.exports;Object.defineProperty(Te,"__esModule",{value:!0}),Te.getSurfaceSpecification=function(e,t,n){return Ae.apply(this,arguments)};var ke=_e(Object(s.a)()),Ie=_e(Object(c.a)()),Me=_e(G()),je="https://cdn-surface.products.cimpress.io/v3/calculatedSurfaceSets/";function Ae(){return(Ae=(0,Ie.default)(ke.default.mark((function e(t,n,r){var o,i,a,s;return ke.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(je).concat(n),r&&(i=JSON.stringify(r),o+="?variables=".concat(encodeURIComponent(i))),a={headers:{Authorization:"Bearer ".concat(t)},validateStatus:function(){return!0}},e.next=5,Me.default.get(o,a);case 5:if(!((s=e.sent).status>=400)){e.next=8;break}throw new Error("Failed to fetch product specification: ".concat(JSON.stringify(s.data),"}"));case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re,De={},Le=n("Nl4t"),Ne={},Ue={};function Fe(){return Re||(Re=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.SubstrateType=void 0,Ue.SubstrateType=e,function(e){e[e.natural=0]="natural",e[e.matte=1]="matte",e[e.kraft=2]="kraft",e[e.linen=3]="linen",e[e.pearl=4]="pearl",e[e.fabric=5]="fabric",e[e.glossy=6]="glossy",e[e.canvas=7]="canvas",e[e.wood=8]="wood",e[e.darkWood=9]="darkWood",e[e.premiumGlossy=10]="premiumGlossy",e[e.premiumMatte=11]="premiumMatte",e[e.recycledMatte=12]="recycledMatte",e[e.clearPlasticFilm=13]="clearPlasticFilm",e[e.transparent=14]="transparent",e[e.extraSoftRed=15]="extraSoftRed",e[e.metallicGold=16]="metallicGold",e[e.metallicGrey=17]="metallicGrey",e[e.metallicIceSilver=18]="metallicIceSilver",e[e.metallicIceGold=19]="metallicIceGold",e[e.clearPlastic=20]="clearPlastic",e[e.frostedPlastic=21]="frostedPlastic",e[e.cotton=22]="cotton"}(e||(Ue.SubstrateType=e={}))),Ue;var e}var Be,ze={},Ve={};function qe(){if(Be)return Ve;return Be=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.getCanvasSubstrate=function(){return{color:16777215,shininess:20,bumpScale:6,bumpTexture:{dpi:150,sourceUrl:"https://vortex.documents.cimpress.io/substrates/canvas/v1/bump"}}},Ve}var Ge,He={};function We(){if(Ge)return He;Ge=1,Object.defineProperty(He,"__esModule",{value:!0}),He.getKraftSubstrate=function(){return{color:12228203,shininess:20,baseCompositeMode:e.CompositeMode.multiply,baseTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/kraft/v1/base",overlayColor:"#a2763d"}}};var e=Object(X.a)();return He}var Ke,Qe={};function Ye(){if(Ke)return Qe;return Ke=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.getLinenSubstrate=function(){return{color:16777215,shininess:20,bumpScale:6,bumpTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/linen/v1/bump"}}},Qe}var Ze,Je={};function Xe(){if(Ze)return Je;return Ze=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.getMatteSubstrate=function(){return{color:16777215,shininess:20,bumpScale:.4,bumpTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/matte/v1/bump"}}},Je}var $e,et={};function tt(){if($e)return et;return $e=1,Object.defineProperty(et,"__esModule",{value:!0}),et.getPearlSubstrate=function(){return{color:16777215,shininess:650,specularTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/pearl/v1/specular"}}},et}var nt,rt={};function ot(){if(nt)return rt;nt=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.getWoodSubstrate=function(){return{color:16777215,shininess:40,baseCompositeMode:e.CompositeMode.multiply,baseTexture:{dpi:40,sourceUrl:"https://vortex.documents.cimpress.io/substrates/wood/v1/base",overlayColor:"#d39c66"},bumpScale:.5,bumpTexture:{dpi:40,sourceUrl:"https://vortex.documents.cimpress.io/substrates/wood/v1/base"}}};var e=Object(X.a)();return rt}var it,at,st={},ct=n("/rgY"),ut={};function lt(){return it||(it=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={color:16777215,emissive:0,shininess:20,baseCompositeMode:Object(X.a)().CompositeMode.normal,bumpScale:0,fullyTransparent:!1,supportsTransparency:!1};e.default=t}(ut)),ut}function dt(){if(at)return st;at=1;var e=me.a.exports;Object.defineProperty(st,"__esModule",{value:!0}),st.getNaturalSubstrate=function(){return o(o({},n.default),{},{bumpScale:1.5,bumpTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/natural/v1/bump"}})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return st}var pt,ft={};function ht(){if(pt)return ft;pt=1;var e=me.a.exports;Object.defineProperty(ft,"__esModule",{value:!0}),ft.getFabricSubstrate=function(){return o(o({},n.default),{},{emissive:657930,bumpScale:.4,shininess:40,bumpTexture:{dpi:800,sourceUrl:"https://vortex.documents.cimpress.io/substrates/fabric/v1/bump"}})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return ft}var mt,gt={};function vt(){if(mt)return gt;mt=1;var e=me.a.exports;Object.defineProperty(gt,"__esModule",{value:!0}),gt.getGlossySubstrate=function(){return o(o({},n.default),{},{shininess:40,bumpScale:.2,reflectivity:.04,bumpTexture:{dpi:150,sourceUrl:"https://vortex.documents.cimpress.io/substrates/glossy/v1/bump"},reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform"]})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return gt}var yt,bt={};function wt(){if(yt)return bt;yt=1;var e=me.a.exports;Object.defineProperty(bt,"__esModule",{value:!0}),bt.getDarkWoodSubstrate=function(){return i(i({},r.default),{},{shininess:80,color:2300443,baseCompositeMode:n.CompositeMode.multiply,baseTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/darkWood/v1/base",overlayColor:"#34260d"},bumpScale:.4,bumpTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/darkWood/v1/base"}})};var t=e(Object(ct.a)()),n=Object(X.a)(),r=e(lt());function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}return bt}var Ot,Et={};function xt(){if(Ot)return Et;Ot=1;var e=me.a.exports;Object.defineProperty(Et,"__esModule",{value:!0}),Et.getPremiumGlossySubstrate=function(){return o(o({},n.default),{},{shininess:60,bumpScale:.2,reflectivity:.06,bumpTexture:{dpi:150,sourceUrl:"https://vortex.documents.cimpress.io/substrates/glossy/v1/bump"},reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform"]})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return Et}var St,Pt={};function Ct(){if(St)return Pt;St=1;var e=me.a.exports;Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.getPremiumMatteSubstrate=function(){return o(o({},n.default),{},{shininess:10,bumpScale:.7,bumpTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/matte/v1/bump"}})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return Pt}var Tt,_t={};function kt(){if(Tt)return _t;Tt=1;var e=me.a.exports;Object.defineProperty(_t,"__esModule",{value:!0}),_t.getRecycledMatteSubstrate=function(){return o(o({},n.default),{},{shininess:15,bumpScale:1.2,bumpTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/matte/v1/bump"}})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return _t}var It,Mt={};function jt(){if(It)return Mt;It=1;var e=me.a.exports;Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.getClearPlasticFilmSubstrate=function(){return i(i({},r.default),{},{shininess:100,bumpScale:.1,ambientIntensity:14,reflectivity:.2,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform"],supportsTransparency:!0,baseCompositeMode:n.CompositeMode.normal,baseTexture:{dpi:200,sourceUrl:"https://vortex.documents.cimpress.io/substrates/plasticFilm/v1/base"},baseColorMode:n.CompositeMode.multiply})};var t=e(Object(ct.a)()),n=Object(X.a)(),r=e(lt());function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}return Mt}var At,Rt={};function Dt(){if(At)return Rt;At=1;var e=me.a.exports;Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getTransparentSubstrate=function(){return o(o({},n.default),{},{fullyTransparent:!0})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return Rt}var Lt,Nt={};var Ut,Ft={};var Bt,zt={};var Vt,qt={};var Gt,Ht={};var Wt,Kt={};function Qt(){if(Wt)return Kt;Wt=1;var e=me.a.exports;Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.getClearPlasticSubstrate=function(){return i(i({},n.default),{},{shininess:200,reflectivity:.2,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform"],supportsTransparency:!0,baseTexture:{dpi:20,sourceUrl:"https://uploads.documents.cimpress.io/v1/uploads/f4edf94d-eaae-4a81-a30e-c3e7f6bb0766~110/original?tenant=doc-platform"},baseColorMode:r.CompositeMode.multiply})};var t=e(Object(ct.a)()),n=e(lt()),r=Object(X.a)();function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}return Kt}var Yt,Zt={};function Jt(){if(Yt)return Zt;Yt=1;var e=me.a.exports;Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.getFrostedPlasticSubstrate=function(){return i(i({},n.default),{},{shininess:75,reflectivity:.1,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/53b31c7f-6c22-47fc-9deb-46a4ffdb3f02~110/original?tenant=doc-platform"],supportsTransparency:!0,baseTexture:{dpi:200,sourceUrl:"https://uploads.documents.cimpress.io/v1/uploads/370fdfdd-1c30-4ccd-a98b-1bbebfb8d9ba~110/original?tenant=doc-platform"},baseColorMode:r.CompositeMode.multiply})};var t=e(Object(ct.a)()),n=e(lt()),r=Object(X.a)();function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}return Zt}var Xt,$t,en,tn={};function nn(){if(Xt)return tn;Xt=1;var e=me.a.exports;Object.defineProperty(tn,"__esModule",{value:!0}),tn.getCottonSubstrate=function(){return o(o({},n.default),{},{bumpScale:1.5,bumpTexture:{dpi:30,sourceUrl:"https://vortex.documents.cimpress.io/substrates/natural/v1/bump"}})};var t=e(Object(ct.a)()),n=e(lt());function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){(0,t.default)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}return tn}function rn(){if($t)return ze;$t=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.getSubstrate=function(S){switch(S){case a.SubstrateType.natural:return(0,s.getNaturalSubstrate)();case a.SubstrateType.matte:return(0,r.getMatteSubstrate)();case a.SubstrateType.kraft:return(0,t.getKraftSubstrate)();case a.SubstrateType.linen:return(0,n.getLinenSubstrate)();case a.SubstrateType.pearl:return(0,o.getPearlSubstrate)();case a.SubstrateType.fabric:return(0,c.getFabricSubstrate)();case a.SubstrateType.glossy:return(0,u.getGlossySubstrate)();case a.SubstrateType.canvas:return(0,e.getCanvasSubstrate)();case a.SubstrateType.wood:return(0,i.getWoodSubstrate)();case a.SubstrateType.darkWood:return(0,l.getDarkWoodSubstrate)();case a.SubstrateType.premiumGlossy:return(0,d.getPremiumGlossySubstrate)();case a.SubstrateType.premiumMatte:return(0,p.getPremiumMatteSubstrate)();case a.SubstrateType.recycledMatte:return(0,f.getRecycledMatteSubstrate)();case a.SubstrateType.clearPlasticFilm:return(0,h.getClearPlasticFilmSubstrate)();case a.SubstrateType.transparent:return(0,m.getTransparentSubstrate)();case a.SubstrateType.extraSoftRed:return(0,g.getExtraSoftRed)();case a.SubstrateType.metallicGold:return(0,v.getMetallicGold)();case a.SubstrateType.metallicGrey:return(0,y.getMetallicGrey)();case a.SubstrateType.metallicIceSilver:return(0,b.getMetallicIceSilver)();case a.SubstrateType.metallicIceGold:return(0,w.getMetallicIceGold)();case a.SubstrateType.clearPlastic:return(0,O.getClearPlasticSubstrate)();case a.SubstrateType.frostedPlastic:return(0,E.getFrostedPlasticSubstrate)();case a.SubstrateType.cotton:return(0,x.getCottonSubstrate)();default:throw new Error("Unknown substrate type requested: ".concat({type:S}))}};var e=qe(),t=We(),n=Ye(),r=Xe(),o=tt(),i=ot(),a=Fe(),s=dt(),c=ht(),u=vt(),l=wt(),d=xt(),p=Ct(),f=kt(),h=jt(),m=Dt(),g=function(){if(Lt)return Nt;Lt=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.getExtraSoftRed=function(){return{color:"#a60f30",shininess:20,bumpScale:.2,baseCompositeMode:e.CompositeMode.multiply,bumpTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/matte/v1/bump"}}};var e=Object(X.a)();return Nt}(),v=function(){if(Ut)return Ft;Ut=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.getMetallicGold=function(){return{color:"#c79e49",shininess:650,baseCompositeMode:e.CompositeMode.multiply,specularTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/pearl/v1/specular"},reflectivity:.05,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform"]}};var e=Object(X.a)();return Ft}(),y=function(){if(Bt)return zt;Bt=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.getMetallicGrey=function(){return{color:"#c6c7c9",shininess:650,baseCompositeMode:e.CompositeMode.multiply,specularTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/pearl/v1/specular"},reflectivity:.05,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform"]}};var e=Object(X.a)();return zt}(),b=function(){if(Vt)return qt;Vt=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.getMetallicIceSilver=function(){return{color:"#f3f2ed",shininess:650,baseCompositeMode:e.CompositeMode.multiply,specularTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/pearl/v1/specular"},reflectivity:.05,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform"]}};var e=Object(X.a)();return qt}(),w=function(){if(Gt)return Ht;Gt=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.getMetallicIceGold=function(){return{color:"#f5eabf",shininess:650,baseCompositeMode:e.CompositeMode.multiply,specularTexture:{dpi:300,sourceUrl:"https://vortex.documents.cimpress.io/substrates/pearl/v1/specular"},reflectivity:.05,reflectionMapOverrideUrls:["https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform","https://uploads.documents.cimpress.io/v1/uploads/77329236-4130-40c3-bdb0-91f1721bcd98~110/original?tenant=doc-platform"]}};var e=Object(X.a)();return Ht}(),O=Qt(),E=Jt(),x=nn();return ze}var on,an={},sn={},cn=n("H/hk"),un=n("4EI8"),ln=n("YVQJ"),dn={},pn={};var fn,hn={};var mn,gn={},vn=n("EZrr"),yn=n("41aG"),bn=n("ycja"),wn={},On={},En={};var xn,Sn,Pn,Cn,Tn={};function _n(){if(xn)return Tn;xn=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.preserve=function(e,t){return e},Tn.mirror=function(e,t){return-e+t},Tn.convertPathToShape=n,Tn.convertToShape=function(e,t,r,o){var i=n(e.primary,t,r.x,r.y);e.cutouts&&e.cutouts.forEach((function(e){return i.holes.push(n(e,t,o.x,o.y))}));return i};var e=ln.a,t=Un();function n(n,r,o,i){for(var a=new e.Shape,s=0;s<n.length;s++){var c=n[s];switch(c.type){case t.PathOperationType.moveTo:a.moveTo(o(c.x,r.width),i(c.y,r.height));break;case t.PathOperationType.lineTo:a.lineTo(o(c.x,r.width),i(c.y,r.height));break;case t.PathOperationType.quadraticCurveTo:a.quadraticCurveTo(o(c.aCP1x,r.width),i(c.aCP1y,r.height),o(c.x,r.width),i(c.y,r.height));break;case t.PathOperationType.bezierCurveTo:a.bezierCurveTo(o(c.aCP1x,r.width),i(c.aCP1y,r.height),o(c.aCP2x,r.width),i(c.aCP2y,r.height),o(c.x,r.width),i(c.y,r.height));break;case t.PathOperationType.arcTo:a.absarc(c.x,c.y,c.radius,c.startAngle,c.endAngle,!1)}}return a}return Tn}function kn(){return Sn||(Sn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(mn||(mn=1),En);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=_n();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(On)),On}function In(){if(Pn)return wn;Pn=1;var e=me.a.exports;Object.defineProperty(wn,"__esModule",{value:!0}),wn.CustomPathGeometry=wn.PathOperationType=void 0;var t,n=e(Object(cn.a)()),r=e(Object(un.a)()),o=ln.a,i=Object(X.a)(),a=kn();wn.PathOperationType=t,function(e){e[e.moveTo=0]="moveTo",e[e.lineTo=1]="lineTo",e[e.quadraticCurveTo=2]="quadraticCurveTo",e[e.bezierCurveTo=3]="bezierCurveTo",e[e.arcTo=4]="arcTo"}(t||(wn.PathOperationType=t={}));function s(e,t){e.position.x=-.5*t.width,e.position.y=-.5*t.height,e.position.z=-.5*t.depth}var c=function(){function e(r){(0,n.default)(this,e),this.maxSize=function(e){for(var t=0,n=0,r=0;r<e.length;r++)e[r].x>t&&(t=e[r].x),e[r].y>n&&(n=e[r].y);return{width:t,height:n}}(r.primary),this.customPath=r,this.curveSegments=function(e){var n=0;return e.primary.forEach((function(e){e.type!==t.quadraticCurveTo&&e.type!==t.bezierCurveTo&&e.type!==t.arcTo||n++})),e.cutouts&&e.cutouts.length>0&&e.cutouts.forEach((function(e){e.forEach((function(e){e.type!==t.quadraticCurveTo&&e.type!==t.bezierCurveTo&&e.type!==t.arcTo||n++}))})),0===n?35:Math.max(8,Math.min(35,Math.round(180/n)))}(r)}return(0,r.default)(e,[{key:"key",get:function(){return"custom path"}}]),(0,r.default)(e,[{key:"buildFront",value:function(e){var t=(0,a.convertToShape)(this.customPath,this.maxSize,{x:a.preserve,y:a.mirror},{x:a.preserve,y:a.preserve}),n=new o.ShapeGeometry(t,this.curveSegments);(0,i.UVMapShape)(n,e.width,e.height);var r=new o.Mesh(n);return s(r,e),r}},{key:"buildBack",value:function(e){var t=(0,a.convertToShape)(this.customPath,this.maxSize,{x:a.mirror,y:a.mirror},{x:a.mirror,y:a.preserve}),n=new o.ShapeGeometry(t,this.curveSegments);(0,i.UVMapShape)(n,e.width,e.height);var r=new o.Mesh(n);return s(r,e),r.position.x+=e.width,r}},{key:"buildBody",value:function(e){var t={bevelEnabled:!1,depth:e.depth,curveSegments:this.curveSegments},n=(0,a.convertToShape)(this.customPath,this.maxSize,{x:a.preserve,y:a.mirror},{x:a.preserve,y:a.preserve}),r=new o.Mesh(new o.ExtrudeGeometry(n,t));return s(r,e),r}}]),e}();return wn.CustomPathGeometry=c,wn}function Mn(){if(Cn)return gn;Cn=1;var e=me.a.exports;Object.defineProperty(gn,"__esModule",{value:!0}),gn.RoundedGeometry=void 0;var t=e(Object(cn.a)()),n=e(Object(un.a)()),r=e(Object(vn.a)()),o=e(Object(yn.a)()),i=e(Object(bn.a)()),a=In();function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}var c=function(e){(0,r.default)(i,e);var o=s(i);function i(e,n){var r;return(0,t.default)(this,i),(r=o.call(this,function(e,t){var n=[];return n.push({type:a.PathOperationType.moveTo,x:0,y:t}),n.push({type:a.PathOperationType.lineTo,x:0,y:e.height-t}),n.push({type:a.PathOperationType.quadraticCurveTo,x:t,y:e.height,aCP1x:0,aCP1y:e.height}),n.push({type:a.PathOperationType.lineTo,x:e.width-t,y:e.height}),n.push({type:a.PathOperationType.quadraticCurveTo,x:e.width,y:e.height-t,aCP1x:e.width,aCP1y:e.height}),n.push({type:a.PathOperationType.lineTo,x:e.width,y:t}),n.push({type:a.PathOperationType.quadraticCurveTo,x:e.width-t,y:0,aCP1x:e.width,aCP1y:0}),n.push({type:a.PathOperationType.lineTo,x:t,y:0}),n.push({type:a.PathOperationType.quadraticCurveTo,x:0,y:t,aCP1x:0,aCP1y:0}),{primary:n}}(e,n))).radius=n,r}return(0,n.default)(i,[{key:"key",get:function(){return"rounded ".concat(this.radius)}}]),i}(a.CustomPathGeometry);return gn.RoundedGeometry=c,gn}var jn,An,Rn,Dn,Ln={};function Nn(){if(jn)return Ln;jn=1;var e=me.a.exports;Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.ScallopedGeometry=void 0;var t=e(Object(cn.a)()),n=e(Object(un.a)()),r=e(Object(vn.a)()),o=e(Object(yn.a)()),i=e(Object(bn.a)()),a=In();function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}var c=function(e){(0,r.default)(i,e);var o=s(i);function i(e,n,r){var s;return(0,t.default)(this,i),(s=o.call(this,function(e,t,n){var r=e.width/t,o=r/2,i=(e.height-2*r)/n,s=[];s.push({type:a.PathOperationType.moveTo,x:o,y:r}),s.push({type:a.PathOperationType.arcTo,x:o,y:o,radius:o,startAngle:.5*Math.PI,endAngle:0});for(var c=1;c<t-1;c++)s.push({type:a.PathOperationType.arcTo,x:o+c*r,y:o,radius:o,startAngle:Math.PI,endAngle:0});var u=o+(t-1)*r;s.push({type:a.PathOperationType.arcTo,x:u,y:o,radius:o,startAngle:Math.PI,endAngle:.5*Math.PI});for(var l=r+i/2,d=0;d<n;d++)s.push({type:a.PathOperationType.arcTo,x:u,y:l,radius:o,startAngle:.5*-Math.PI,endAngle:.5*Math.PI}),l+=i;var p=e.height-o;s.push({type:a.PathOperationType.arcTo,x:u,y:p,radius:o,startAngle:.5*-Math.PI,endAngle:Math.PI});for(var f=t-1;f>0;f--)s.push({type:a.PathOperationType.arcTo,x:o+f*r,y:p,radius:o,startAngle:0,endAngle:Math.PI});s.push({type:a.PathOperationType.arcTo,x:o,y:p,radius:o,startAngle:0,endAngle:1.5*Math.PI});for(var h=0;h<n+1;h++)s.push({type:a.PathOperationType.arcTo,x:o,y:l,radius:o,startAngle:.5*Math.PI,endAngle:.5*-Math.PI}),l-=i;return{primary:s}}(e,n,r-2))).horizontalScallops=n,s.verticalScallops=r,s}return(0,n.default)(i,[{key:"key",get:function(){return"scalloped ".concat(this.horizontalScallops," ").concat(this.verticalScallops)}}]),i}(a.CustomPathGeometry);return Ln.ScallopedGeometry=c,Ln}function Un(){return An||(An=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(on||(on=1),pn);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(fn)return hn;fn=1;var e=me.a.exports;Object.defineProperty(hn,"__esModule",{value:!0}),hn.RectangularGeometry=void 0;var t=e(Object(cn.a)()),n=e(Object(un.a)()),r=ln.a,o=function(){function e(){(0,t.default)(this,e),this.key="rectangular"}return(0,n.default)(e,[{key:"buildFront",value:function(e){return new r.Mesh(new r.PlaneGeometry(e.width,e.height))}},{key:"buildBack",value:function(e){return new r.Mesh(new r.PlaneGeometry(e.width,e.height))}},{key:"buildBody",value:function(e){return new r.Mesh(new r.BoxGeometry(e.width,e.height,e.depth))}}]),e}();return hn.RectangularGeometry=o,hn}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=Mn();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=Nn();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var i=In();Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}))}(dn)),dn}var Fn,Bn={},zn={};var Vn,qn,Gn={};var Hn,Wn={};function Kn(){if(Hn)return Wn;Hn=1;var e=me.a.exports;Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.loadSubstrateMap=function(e){return l.apply(this,arguments)},Wn.loadFinishMap=function(e){return d.apply(this,arguments)};var t=e(Object(s.a)()),n=e(Object(c.a)()),r=e(G());function o(e,t){return i.apply(this,arguments)}function i(){return(i=(0,n.default)(t.default.mark((function e(n,o){var i;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(o);case 2:if(!((i=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch finish '".concat(n,"' from '").concat(o,"'!"));case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e,t){return u.apply(this,arguments)}function u(){return(u=(0,n.default)(t.default.mark((function e(n,o){var i;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(o);case 2:if(!((i=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch substrate '".concat(n,"' from '").concat(o,"'!"));case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.default)(t.default.mark((function e(n){var r,o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},o=Object.keys(n.substrateUrlMap).map((function(e){return a(e,n.substrateUrlMap[e]).then((function(t){r[e]=t}))})),e.next=4,Promise.allSettled(o);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,n.default)(t.default.mark((function e(r){var i;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},r.finishUrlMap){e.next=3;break}return e.abrupt("return",i);case 3:return Object.keys(r.finishUrlMap).forEach(function(){var e=(0,n.default)(t.default.mark((function e(n){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.finishUrlMap){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,o(n,r.finishUrlMap[n]);case 4:i[n]=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Wn}var Qn=me.a.exports;Object.defineProperty(De,"__esModule",{value:!0}),De.getFlatSheetConfigFromSurfaceSpecification=ar,De.getFlatSheetProduct=function(e){return cr.apply(this,arguments)},De.getFlatSheetConfigFromMcpSku=ur,De.getFlatSheetProductFromMcpSku=function(e,t,n,r){return lr.apply(this,arguments)};var Yn=Qn(Object(s.a)()),Zn=Qn(Object(Le.a)()),Jn=Qn(Object(c.a)()),Xn=Qn(G()),$n=he(),er=(en||(en=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Fe();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=rn();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=Xe();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=We();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var i=tt();Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var a=Ye();Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var s=qe();Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}));var c=ot();Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}));var u=jt();Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}));var l=wt();Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}));var d=ht();Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}));var p=vt();Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}));var f=dt();Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}));var h=xt();Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})}));var m=Ct();Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})}));var g=kt();Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})}));var v=Dt();Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}));var y=Qt();Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}));var b=Jt();Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})}));var w=nn();Object.keys(w).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})}))}(Ne)),Ne),tr=(Dn||(Dn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){if(Rn)return sn;Rn=1;var e=me.a.exports;Object.defineProperty(sn,"__esModule",{value:!0}),sn.FlatSheetProduct=sn.FlatSheetOrientation=void 0;var t,n=e(Object(s.a)()),r=e(Object(c.a)()),o=e(Object(ct.a)()),i=e(Object(cn.a)()),a=e(Object(un.a)()),u=ln.a,l=Object(X.a)(),d=Un();function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}sn.FlatSheetOrientation=t,function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(t||(sn.FlatSheetOrientation=t={}));var h=function(){function e(t){(0,i.default)(this,e),this.requiresGeometryUpdate=!1,this.LayerOffset=.1,this.config=t;var n,r=this.getPhysicalSize();if(t.cornerRadius&&t.cornerRadius>0?this.flatGeometry=new d.RoundedGeometry(r,t.cornerRadius):t.scallopCounts?this.flatGeometry=new d.ScallopedGeometry(r,t.scallopCounts.horizontal,t.scallopCounts.vertical):t.customPath?this.flatGeometry=new d.CustomPathGeometry(t.customPath):this.flatGeometry=new d.RectangularGeometry,this.config.substrate)n={front:f({},this.config.substrate),body:f({},this.config.substrate),back:f({},this.config.substrate)};else{if(!this.config.substrates)throw new Error("The FlatSheetProductConfig must contain a single substrate or multiple substrates!");if(3!==this.config.substrates.length)throw new Error("The FlatSheetProductConfig must contain three substrates for the front, back, and body!");n={front:f({},this.config.substrates[0]),body:f({},this.config.substrates[1]),back:f({},this.config.substrates[2])}}this.surfaceMapping={front:{substrate:n.front,finishes:this.config.finishes,fullBleed:this.config.fullBleed,trim:this.config.trim,page:1,focalPoint:{cameraView:new u.Vector3(0,0,-1)}},body:{substrate:n.body,fullBleed:this.config.fullBleed},back:{substrate:n.back,fullBleed:this.config.fullBleed,trim:this.config.trim,page:2,focalPoint:{cameraView:new u.Vector3(0,0,1)}}}}var o;return(0,a.default)(e,[{key:"name",get:function(){return"flat sheet ".concat(this.flatGeometry.key)}}]),(0,a.default)(e,[{key:"setSubstrate",value:function(e,t){var n=this;t?this.surfaceMapping[t].substrate=f({},e):Object.keys(this.surfaceMapping).forEach((function(t){n.surfaceMapping[t].substrate=f({},e)})),this.resolveTransparency()}},{key:"setFinishes",value:function(e){this.config.finishes=e,this.surfaceMapping.front.finishes=e,this.requiresGeometryUpdate=!0}},{key:"setCornerRadius",value:function(e){this.config.cornerRadius=e,this.config.cornerRadius&&this.config.cornerRadius>0?this.flatGeometry=new d.RoundedGeometry(this.getPhysicalSize(),e):this.flatGeometry=new d.RectangularGeometry,this.requiresGeometryUpdate=!0}},{key:"setScallopCounts",value:function(e,t){this.config.scallopCounts={horizontal:e,vertical:t},this.flatGeometry=new d.ScallopedGeometry(this.getPhysicalSize(),e,t),this.requiresGeometryUpdate=!0}},{key:"setOrientation",value:function(e){this.config.orientation=e,this.requiresGeometryUpdate=!0}},{key:"getGeometry",value:(o=(0,r.default)(n.default.mark((function e(){var r,o,i,a,s,c=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initializedGeometry&&(0,l.disposeGeometryRecursively)(this.initializedGeometry),r=this.getPhysicalSize(),this.initializedGeometry=new u.Group,(o=this.flatGeometry.buildFront(r)).uuid="front",o.position.z=.5*this.config.depth+this.LayerOffset,this.initializedGeometry.add(o),this.config.finishes&&(i=2*this.LayerOffset,this.config.finishes.forEach((function(e){var t,n=c.flatGeometry.buildFront(r);n.uuid="front-".concat(e.name),n.position.z=.5*c.config.depth+i,i+=c.LayerOffset,null===(t=c.initializedGeometry)||void 0===t||t.add(n)}))),(a=this.flatGeometry.buildBody(r)).uuid="body",this.initializedGeometry.add(a),(s=this.flatGeometry.buildBack(r)).uuid="back",s.position.z=-.5*this.config.depth-this.LayerOffset,s.rotation.y=Math.PI,this.initializedGeometry.add(s),this.config.orientation===t.Vertical&&this.initializedGeometry.rotateZ(Math.PI/2),this.resolveTransparency(),this.requiresGeometryUpdate=!1,e.abrupt("return",this.initializedGeometry);case 20:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this flat sheet product"));this.surfaceMapping[e]=t,this.resolveTransparency()}},{key:"getStates",value:function(){return[{id:"default"}]}},{key:"setStates",value:function(e){}},{key:"getCurrentState",value:function(){return{id:"default"}}},{key:"setCurrentState",value:function(e){}},{key:"getAnimationIds",value:function(){return[]}},{key:"buildAnimation",value:function(e){throw new Error("Method not implemented for Flat Sheet products.")}},{key:"getAlphaMap",value:function(e,t,n){n.fillRect(0,0,e.productSize.width,e.productSize.height),n.fillStyle="#FFFFFF",n.closePath(),n.fill()}},{key:"getAreaLights",value:function(e,t){var n=[],r=new u.DirectionalLight(16777215,.12*t);r.position.set(0,0,200);var o=new u.DirectionalLight(16777215,.12*t);o.position.set(0,0,-200),n.push(r),n.push(o);var i=new u.PointLight(16777215,.25*e,500);i.position.set(0,0,300);var a=new u.PointLight(16777215,.25*e,500);return a.position.set(0,0,-300),n.push(i),n.push(a),n}},{key:"preLoad",value:function(){return Promise.resolve()}},{key:"dispose",value:function(){this.initializedGeometry&&((0,l.disposeGeometryRecursively)(this.initializedGeometry),this.initializedGeometry=void 0)}},{key:"getPhysicalSize",value:function(){return this.config.trim?{width:this.config.trim.bottomRightX-this.config.trim.topLeftX,height:this.config.trim.bottomRightY-this.config.trim.topLeftY,depth:this.config.depth}:{width:this.config.fullBleed.width,height:this.config.fullBleed.height,depth:this.config.depth}}},{key:"resolveTransparency",value:function(){if(this.initializedGeometry&&this.surfaceMapping&&this.surfaceMapping.front){var e,t=this.surfaceMapping.front.substrate,n=this.initializedGeometry.children.find((function(e){return"back"===e.uuid}));n&&(n.visible=null===(e=!t.supportsTransparency)||void 0===e||e)}}}]),e}();return sn.FlatSheetProduct=h,sn}();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}))}(an)),an),nr=(qn||(qn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(Fn||(Fn=1),zn);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(Vn)return Gn;Vn=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.getTrimBounds=t,Gn.getTrimPath=function(e){if(e&&e.masks){var r=e.masks.filter((function(e){return"TRIM"===e.pathType})),o=t(e);if(o&&r.length>0&&r[0].paths.length>0){for(var i={width:o.topLeftX,height:o.topLeftY},a=n(r[0].paths[0],i),s=[],c=1;c<r[0].paths.length;c++)s.push(n(r[0].paths[c],i));return{primary:a,cutouts:s}}}};var e=Un();function t(e){if(e&&e.masks){var t=e.masks.find((function(e){return"TRIM"===e.pathType}));if(t&&"TRIM"===t.pathType&&t.boundingArea)return{topLeftX:10*t.boundingArea.position.x,topLeftY:10*t.boundingArea.position.y,bottomRightX:10*(t.boundingArea.position.width+t.boundingArea.position.x),bottomRightY:10*(t.boundingArea.position.height+t.boundingArea.position.y)}}}function n(t,n){var r=t.pathPoints,o=[];o.push({type:e.PathOperationType.moveTo,x:10*t.anchorX-n.width,y:10*t.anchorY-n.height});for(var i=0;i<r.length;i++){var a=r[i];void 0!==a.firstControlPointX&&void 0!==a.firstControlPointY&&void 0!==a.secondControlPointX&&void 0!==a.secondControlPointY?o.push({type:e.PathOperationType.bezierCurveTo,x:10*a.endPointX-n.width,y:10*a.endPointY-n.height,aCP1x:10*a.firstControlPointX-n.width,aCP1y:10*a.firstControlPointY-n.height,aCP2x:10*a.secondControlPointX-n.width,aCP2y:10*a.secondControlPointY-n.height}):o.push({type:e.PathOperationType.lineTo,x:10*a.endPointX-n.width,y:10*a.endPointY-n.height})}return o}return Gn}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(Bn)),Bn),rr=a,or=Te,ir=Kn();function ar(e,t){return sr.apply(this,arguments)}function sr(){return(sr=(0,Jn.default)(Yn.default.mark((function e(t,n){var r,o,i,a,s,c,u;return Yn.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,rr.fetchInstructionData)(n),e.next=3,Promise.all([t,r]);case 3:return o=e.sent,i=(0,Zn.default)(o,2),a=i[0],s=i[1],c=a.surfaceGroups[0].surfaces[0],u={fullBleed:{width:10*c.widthCm,height:10*c.heightCm},trim:(0,nr.getTrimBounds)(c.docAdditionalData),finishes:s.pages[0].finish?[(0,$n.getFinish)(s.pages[0].finish)]:void 0,substrate:(0,er.getSubstrate)(er.SubstrateType.matte),depth:.2,customPath:(0,nr.getTrimPath)(c.docAdditionalData)},e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cr(){return(cr=(0,Jn.default)(Yn.default.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,p,f;return Yn.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.surfaceMapping).front&&n.body&&n.back){e.next=3;break}throw new Error("The FlatSheetProductConfig must contain three surfaces for front, body, and back!");case 3:return e.next=5,(0,ir.loadSubstrateMap)(t);case 5:return r=e.sent,e.next=8,(0,ir.loadFinishMap)(t);case 8:if(o=e.sent,i=n.front.substrateId,a=n.body.substrateId,s=n.back.substrateId,c=[],t.finishUrlMap&&n.front.finishIds)for(u=0;u<n.front.finishIds.length;u++)l=n.front.finishIds[u],c.push(o[l]);return e.next=16,Xn.default.get(t.productDataUrl);case 16:if(!((d=e.sent).status>=400)){e.next=19;break}throw new Error("Failed to fetch FlatSheetData from '".concat(t.productDataUrl,"'!"));case 19:return p=d.data,f={substrates:[r[i],r[a],r[s]],finishes:c,fullBleed:p.fullBleed,trim:p.trim,depth:p.thickness,orientation:p.orientation,customPath:p.customPath},e.abrupt("return",new tr.FlatSheetProduct(f));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e,t,n,r){return ar((0,or.getSurfaceSpecification)(e,n,r),t)}function lr(){return(lr=(0,Jn.default)(Yn.default.mark((function e(t,n,r,o){var i;return Yn.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(t,n,r,o);case 2:return i=e.sent,e.abrupt("return",new tr.FlatSheetProduct(i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dr,pr={},fr={},hr={};function mr(){return dr||(dr=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.ModelType=void 0,hr.ModelType=e,function(e){e.dae="dae",e.glb="glb"}(e||(hr.ModelType=e={}))),hr;var e}var gr,vr={};var yr,br={},wr={},Or={},Er=n("hqiQ"),xr={},Sr=n("R7S4");function Pr(){if(yr)return xr;yr=1;var e=me.a.exports;Object.defineProperty(xr,"__esModule",{value:!0}),xr.GLTFLoader=void 0;var t=e(Object(Sr.a)()),n=ln.a,r=function(){function e(e){n.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register((function(e){return new c(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new a(e)}))}function r(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:e,load:function(e,t,r,o){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var s=function(t){o?o(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},c=new n.FileLoader(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),s)}catch(r){s(r)}}),r,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,r,a){var c,u={},l={};if("string"==typeof e)c=e;else if(n.LoaderUtils.decodeText(new Uint8Array(e,0,4))===d){try{u[o.KHR_BINARY_GLTF]=new h(e)}catch(x){return void(a&&a(x))}c=u[o.KHR_BINARY_GLTF].content}else c=n.LoaderUtils.decodeText(new Uint8Array(e));var p=JSON.parse(c);if(void 0===p.asset||p.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var f=new q(p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});f.fileLoader.setRequestHeader(this.requestHeader);for(var v=0;v<this.pluginCallbacks.length;v++){var w=this.pluginCallbacks[v](f);l[w.name]=w,u[w.name]=!0}if(p.extensionsUsed)for(v=0;v<p.extensionsUsed.length;++v){var O=p.extensionsUsed[v],E=p.extensionsRequired||[];switch(O){case o.KHR_MATERIALS_UNLIT:u[O]=new s;break;case o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[O]=new y;break;case o.KHR_DRACO_MESH_COMPRESSION:u[O]=new m(p,this.dracoLoader);break;case o.MSFT_TEXTURE_DDS:u[O]=new i(this.ddsLoader);break;case o.KHR_TEXTURE_TRANSFORM:u[O]=new g;break;case o.KHR_MESH_QUANTIZATION:u[O]=new b;break;default:E.indexOf(O)>=0&&void 0===l[O]&&console.warn('THREE.GLTFLoader: Unknown extension "'+O+'".')}}f.setExtensions(u),f.setPlugins(l),f.parse(r,a)}}});var o={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=o.MSFT_TEXTURE_DDS,this.ddsLoader=e}function a(e){this.parser=e,this.name=o.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function s(){this.name=o.KHR_MATERIALS_UNLIT}function c(e){this.parser=e,this.name=o.KHR_MATERIALS_CLEARCOAT}function u(e){this.parser=e,this.name=o.KHR_MATERIALS_TRANSMISSION}function l(e){this.parser=e,this.name=o.KHR_TEXTURE_BASISU}a.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var o=t[n];o.extensions&&o.extensions[this.name]&&void 0!==o.extensions[this.name].light&&e._addNodeRef(this.cache,o.extensions[this.name].light)}},a.prototype._loadLight=function(e){var t=this.parser,r="light:"+e,o=t.cache.get(r);if(o)return o;var i,a=t.json,s=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],c=new n.Color(16777215);void 0!==s.color&&c.fromArray(s.color);var u=void 0!==s.range?s.range:0;switch(s.type){case"directional":(i=new n.DirectionalLight(c)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new n.PointLight(c)).distance=u;break;case"spot":(i=new n.SpotLight(c)).distance=u,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,i.angle=s.spot.outerConeAngle,i.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+s.type+'".')}return i.position.set(0,0,0),i.decay=2,void 0!==s.intensity&&(i.intensity=s.intensity),i.name=t.createUniqueName(s.name||"light_"+e),o=Promise.resolve(i),t.cache.add(r,o),o},a.prototype.createNodeAttachment=function(e){var t=this,n=this.parser,r=n.json.nodes[e],o=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then((function(e){return n._getNodeRef(t.cache,o,e)}))},s.prototype.getMaterialType=function(){return n.MeshBasicMaterial},s.prototype.extendParams=function(e,t,r){var o=[];e.color=new n.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&o.push(r.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(o)},c.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null},c.prototype.extendMaterialParams=function(e,t){var r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var i=[],a=o.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var s=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.Vector2(s,s)}return Promise.all(i)},u.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null},u.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&o.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(o)},l.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var o=r.extensions[this.name],i=n.images[o.source],a=t.options.ktx2Loader;if(!a)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,i,a)};var d="glTF",p=1313821514,f=5130562;function h(e){this.name=o.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),i=0;i<r.byteLength;){var a=r.getUint32(i,!0);i+=4;var s=r.getUint32(i,!0);if(i+=4,s===p){var c=new Uint8Array(e,12+i,a);this.content=n.LoaderUtils.decodeText(c)}else if(s===f){var u=12+i;this.body=e.slice(u,u+a)}i+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=o.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function g(){this.name=o.KHR_TEXTURE_TRANSFORM}function v(e){n.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),s={specular:{value:(new n.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var n in s)e.uniforms[n]=s[n];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function y(){return{name:o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(e,t,r){var o=t.extensions[this.name];e.color=new n.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(o.diffuseFactor)){var a=o.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==o.diffuseTexture&&i.push(r.assignTexture(e,"map",o.diffuseTexture)),e.emissive=new n.Color(0,0,0),e.glossiness=void 0!==o.glossinessFactor?o.glossinessFactor:1,e.specular=new n.Color(1,1,1),Array.isArray(o.specularFactor)&&e.specular.fromArray(o.specularFactor),void 0!==o.specularGlossinessTexture){var s=o.specularGlossinessTexture;i.push(r.assignTexture(e,"glossinessMap",s)),i.push(r.assignTexture(e,"specularMap",s))}return Promise.all(i)},createMaterial:function(e){var t=new v(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=n.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function b(){this.name=o.KHR_MESH_QUANTIZATION}function w(e,t,r,o){n.Interpolant.call(this,e,t,r,o)}m.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,a={},s={},c={};for(var u in i){var l=j[u]||u.toLowerCase();a[l]=i[u]}for(u in e.attributes){l=j[u]||u.toLowerCase();if(void 0!==i[u]){var d=n.accessors[e.attributes[u]],p=_[d.componentType];c[l]=p,s[l]=!0===d.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],o=s[n];void 0!==o&&(r.normalized=o)}t(e)}),a,c)}))}))},g.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},v.prototype=Object.create(n.MeshStandardMaterial.prototype),v.prototype.constructor=v,v.prototype.copy=function(e){return n.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(n.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r*3+r,i=0;i!==r;i++)t[i]=n[o+i];return t},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(e,t,n,r){for(var o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=2*a,c=3*a,u=r-t,l=(n-t)/u,d=l*l,p=d*l,f=e*c,h=f-c,m=-2*p+3*d,g=p-d,v=1-m,y=g-d+l,b=0;b!==a;b++){var w=i[h+b+a],O=i[h+b+s]*u,E=i[f+b+a],x=i[f+b]*u;o[b]=v*w+y*O+m*E+g*x}return o};var O=0,E=1,x=2,S=3,P=4,C=5,T=6,_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},I={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},M={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},A={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},R={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},D="OPAQUE",L="MASK",N="BLEND";function U(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function F(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function B(e,n){void 0!==n.extras&&("object"===(0,t.default)(n.extras)?Object.assign(e.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function z(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var o=t.extras.targetNames;if(e.morphTargetInfluences.length===o.length){e.morphTargetDictionary={};for(n=0,r=o.length;n<r;n++)e.morphTargetDictionary[o[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function V(e){for(var t="",n=Object.keys(e).sort(),r=0,o=n.length;r<o;r++)t+=n[r]+":"+e[n[r]]+";";return t}function q(e,t){this.json=e||{},this.extensions={},this.plugins={},this.options=t||{},this.cache=new r,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new n.ImageBitmapLoader(this.options.manager):this.textureLoader=new n.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function G(e,t,r){var o=t.attributes,i=[];function a(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var s in o){var c=j[s]||s.toLowerCase();c in e.attributes||i.push(a(o[s],c))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return B(e,t),function(e,t,r){var o=t.attributes,i=new n.Box3;if(void 0!==o.POSITION){var a=(h=r.json.accessors[o.POSITION]).min,s=h.max;if(void 0!==a&&void 0!==s){i.set(new n.Vector3(a[0],a[1],a[2]),new n.Vector3(s[0],s[1],s[2]));var c=t.targets;if(void 0!==c){for(var u=new n.Vector3,l=new n.Vector3,d=0,p=c.length;d<p;d++){var f=c[d];if(void 0!==f.POSITION){var h;a=(h=r.json.accessors[f.POSITION]).min,s=h.max;void 0!==a&&void 0!==s?(l.setX(Math.max(Math.abs(a[0]),Math.abs(s[0]))),l.setY(Math.max(Math.abs(a[1]),Math.abs(s[1]))),l.setZ(Math.max(Math.abs(a[2]),Math.abs(s[2]))),u.max(l)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}e.boundingBox=i;var m=new n.Sphere;i.getCenter(m.center),m.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,o=!1,i=0,a=t.length;i<a;i++){if(void 0!==(u=t[i]).POSITION&&(r=!0),void 0!==u.NORMAL&&(o=!0),r&&o)break}if(!r&&!o)return Promise.resolve(e);var s=[],c=[];for(i=0,a=t.length;i<a;i++){var u=t[i];if(r){var l=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(l)}if(o){l=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;c.push(l)}}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),o&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function H(e,t){var r=e.getIndex();if(null===r){var o=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)o.push(a);e.setIndex(o),r=e.getIndex()}var s=r.count-2,c=[];if(t===n.TriangleFanDrawMode)for(a=1;a<=s;a++)c.push(r.getX(0)),c.push(r.getX(a)),c.push(r.getX(a+1));else for(a=0;a<s;a++)a%2==0?(c.push(r.getX(a)),c.push(r.getX(a+1)),c.push(r.getX(a+2))):(c.push(r.getX(a+2)),c.push(r.getX(a+1)),c.push(r.getX(a)));c.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(c),u}return q.prototype.setExtensions=function(e){this.extensions=e},q.prototype.setPlugins=function(e){this.plugins=e},q.prototype.parse=function(e,t){var n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};F(o,i,r),B(i,r),e(i)})).catch(t)},q.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,o=t.length;r<o;r++)for(var i=t[r].joints,a=0,s=i.length;a<s;a++)e[i[a]].isBone=!0;for(var c=0,u=e.length;c<u;c++){var l=e[c];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}},q.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},q.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},q.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},q.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var o=e(t[r]);o&&n.push(o)}return n},q.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},q.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},q.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[o.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,o){n.load(U(t.uri,r.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},q.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},q.prototype.loadAccessor=function(e){var t=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse)return Promise.resolve(null);var i=[];return void 0!==o.bufferView?i.push(this.getDependency("bufferView",o.bufferView)):i.push(null),void 0!==o.sparse&&(i.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,s=e[0],c=M[o.type],u=_[o.componentType],l=u.BYTES_PER_ELEMENT,d=l*c,p=o.byteOffset||0,f=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,h=!0===o.normalized;if(f&&f!==d){var m=Math.floor(p/f),g="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+m+":"+o.count,v=t.cache.get(g);v||(i=new u(s,m*f,o.count*f/l),v=new n.InterleavedBuffer(i,f/l),t.cache.add(g,v)),a=new n.InterleavedBufferAttribute(v,c,p%f/l,h)}else i=null===s?new u(o.count*c):new u(s,p,o.count*c),a=new n.BufferAttribute(i,c,h);if(void 0!==o.sparse){var y=M.SCALAR,b=_[o.sparse.indices.componentType],w=o.sparse.indices.byteOffset||0,O=o.sparse.values.byteOffset||0,E=new b(e[1],w,o.sparse.count*y),x=new u(e[2],O,o.sparse.count*c);null!==s&&(a=new n.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var S=0,P=E.length;S<P;S++){var C=E[S];if(a.setX(C,x[S*c]),c>=2&&a.setY(C,x[S*c+1]),c>=3&&a.setZ(C,x[S*c+2]),c>=4&&a.setW(C,x[S*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},q.prototype.loadTexture=function(e){var t,n,r=this.json,i=this.options,a=r.textures[e],s=a.extensions||{};return(t=s[o.MSFT_TEXTURE_DDS]?r.images[s[o.MSFT_TEXTURE_DDS].source]:r.images[a.source]).uri&&(n=i.manager.getHandler(t.uri)),n||(n=s[o.MSFT_TEXTURE_DDS]?this.extensions[o.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,n)},q.prototype.loadTextureImage=function(e,t,r){var o=this,i=this.json,a=this.options,s=i.textures[e],c=self.URL||self.webkitURL,u=t.uri,l=!1,d=!0;return"image/jpeg"===t.mimeType&&(d=!1),void 0!==t.bufferView&&(u=o.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);d=6===n||4===n||3===n}l=!0;var r=new Blob([e],{type:t.mimeType});return u=c.createObjectURL(r)}))),Promise.resolve(u).then((function(e){return new Promise((function(t,o){var i=t;!0===r.isImageBitmapLoader&&(i=function(e){t(new n.CanvasTexture(e))}),r.load(U(e,a.path),i,void 0,o)}))})).then((function(t){!0===l&&c.revokeObjectURL(u),t.flipY=!1,s.name&&(t.name=s.name),d||(t.format=n.RGBFormat);var r=(i.samplers||{})[s.sampler]||{};return t.magFilter=k[r.magFilter]||n.LinearFilter,t.minFilter=k[r.minFilter]||n.LinearMipmapLinearFilter,t.wrapS=I[r.wrapS]||n.RepeatWrapping,t.wrapT=I[r.wrapT]||n.RepeatWrapping,o.associations.set(t,{type:"textures",index:e}),t}))},q.prototype.assignTexture=function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(i){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[o.KHR_TEXTURE_TRANSFORM]){var a=void 0!==n.extensions?n.extensions[o.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=r.associations.get(i);i=r.extensions[o.KHR_TEXTURE_TRANSFORM].extendTexture(i,a),r.associations.set(i,s)}}e[t]=i}))},q.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,o=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,c=Object.keys(t.morphAttributes).length>0,u=c&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+r.uuid,d=this.cache.get(l);d||(d=new n.PointsMaterial,n.Material.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.sizeAttenuation=!1,this.cache.add(l,d)),r=d}else if(e.isLine){l="LineBasicMaterial:"+r.uuid;var p=this.cache.get(l);p||(p=new n.LineBasicMaterial,n.Material.prototype.copy.call(p,r),p.color.copy(r.color),this.cache.add(l,p)),r=p}if(o||i||a||s||c){l="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),s&&(l+="skinning:"),o&&(l+="vertex-tangents:"),i&&(l+="vertex-colors:"),a&&(l+="flat-shading:"),c&&(l+="morph-targets:"),u&&(l+="morph-normals:");var f=this.cache.get(l);f||(f=r.clone(),s&&(f.skinning=!0),o&&(f.vertexTangents=!0),i&&(f.vertexColors=!0),a&&(f.flatShading=!0),c&&(f.morphTargets=!0),u&&(f.morphNormals=!0),this.cache.add(l,f),this.associations.set(f,this.associations.get(r))),r=f}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),r.normalScale&&!o&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!o&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},q.prototype.getMaterialType=function(){return n.MeshStandardMaterial},q.prototype.loadMaterial=function(e){var t,r=this,i=this.json,a=this.extensions,s=i.materials[e],c={},u=s.extensions||{},l=[];if(u[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=a[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),l.push(d.extendParams(c,s,r))}else if(u[o.KHR_MATERIALS_UNLIT]){var p=a[o.KHR_MATERIALS_UNLIT];t=p.getMaterialType(),l.push(p.extendParams(c,s,r))}else{var f=s.pbrMetallicRoughness||{};if(c.color=new n.Color(1,1,1),c.opacity=1,Array.isArray(f.baseColorFactor)){var h=f.baseColorFactor;c.color.fromArray(h),c.opacity=h[3]}void 0!==f.baseColorTexture&&l.push(r.assignTexture(c,"map",f.baseColorTexture)),c.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,c.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(l.push(r.assignTexture(c,"metalnessMap",f.metallicRoughnessTexture)),l.push(r.assignTexture(c,"roughnessMap",f.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,c)}))))}!0===s.doubleSided&&(c.side=n.DoubleSide);var m=s.alphaMode||D;return m===N?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===L&&(c.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&t!==n.MeshBasicMaterial&&(l.push(r.assignTexture(c,"normalMap",s.normalTexture)),c.normalScale=new n.Vector2(1,1),void 0!==s.normalTexture.scale&&c.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&t!==n.MeshBasicMaterial&&(l.push(r.assignTexture(c,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(c.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&t!==n.MeshBasicMaterial&&(c.emissive=(new n.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&t!==n.MeshBasicMaterial&&l.push(r.assignTexture(c,"emissiveMap",s.emissiveTexture)),Promise.all(l).then((function(){var i;return i=t===v?a[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new t(c),s.name&&(i.name=s.name),i.map&&(i.map.encoding=n.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=n.sRGBEncoding),B(i,s),r.associations.set(i,{type:"materials",index:e}),s.extensions&&F(a,i,s),i}))},q.prototype.createUniqueName=function(e){for(var t=n.PropertyBinding.sanitizeNodeName(e||""),r=1;this.nodeNamesUsed[t];++r)t=e+"_"+r;return this.nodeNamesUsed[t]=!0,t},q.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function a(e){return r[o.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return G(n,e,t)}))}for(var s,c,u=[],l=0,d=e.length;l<d;l++){var p,f=e[l],h=(c=void 0,(c=(s=f).extensions&&s.extensions[o.KHR_DRACO_MESH_COMPRESSION])?"draco:"+c.bufferView+":"+c.indices+":"+V(c.attributes):s.indices+":"+V(s.attributes)+":"+s.mode),m=i[h];if(m)u.push(m.promise);else p=f.extensions&&f.extensions[o.KHR_DRACO_MESH_COMPRESSION]?a(f):G(new n.BufferGeometry,f,t),i[h]={primitive:f,promise:p},u.push(p)}return Promise.all(u)},q.prototype.loadMesh=function(e){for(var t,r=this,o=this.json.meshes[e],i=o.primitives,a=[],s=0,c=i.length;s<c;s++){var u=void 0===i[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),t.DefaultMaterial):this.getDependency("material",i[s].material);a.push(u)}return a.push(r.loadGeometries(i)),Promise.all(a).then((function(t){for(var a=t.slice(0,t.length-1),s=t[t.length-1],c=[],u=0,l=s.length;u<l;u++){var d,p=s[u],f=i[u],h=a[u];if(f.mode===P||f.mode===C||f.mode===T||void 0===f.mode)!0!==(d=!0===o.isSkinnedMesh?new n.SkinnedMesh(p,h):new n.Mesh(p,h)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===C?d.geometry=H(d.geometry,n.TriangleStripDrawMode):f.mode===T&&(d.geometry=H(d.geometry,n.TriangleFanDrawMode));else if(f.mode===E)d=new n.LineSegments(p,h);else if(f.mode===S)d=new n.Line(p,h);else if(f.mode===x)d=new n.LineLoop(p,h);else{if(f.mode!==O)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new n.Points(p,h)}Object.keys(d.geometry.morphAttributes).length>0&&z(d,o),d.name=r.createUniqueName(o.name||"mesh_"+e),d.uuid=o.name,s.length>1&&(d.name+="_"+u),B(d,o),r.assignFinalMaterial(d),c.push(d)}if(1===c.length)return c[0];var m=new n.Group;for(u=0,l=c.length;u<l;u++)m.add(c[u]);return m}))},q.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],o=r[r.type];if(o)return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),B(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},q.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},q.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],o=[],i=[],a=[],s=[],c=0,u=t.channels.length;c<u;c++){var l=t.channels[c],d=t.samplers[l.sampler],p=l.target,f=void 0!==p.node?p.node:p.id,h=void 0!==t.parameters?t.parameters[d.input]:d.input,m=void 0!==t.parameters?t.parameters[d.output]:d.output;r.push(this.getDependency("node",f)),o.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",m)),a.push(d),s.push(p)}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(i),Promise.all(a),Promise.all(s)]).then((function(r){for(var o=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=[],l=0,d=o.length;l<d;l++){var p=o[l],f=i[l],h=a[l],m=s[l],g=c[l];if(void 0!==p){var v;switch(p.updateMatrix(),p.matrixAutoUpdate=!0,A[g.path]){case A.weights:v=n.NumberKeyframeTrack;break;case A.rotation:v=n.QuaternionKeyframeTrack;break;case A.position:case A.scale:default:v=n.VectorKeyframeTrack}var y=p.name?p.name:p.uuid,b=void 0!==m.interpolation?R[m.interpolation]:n.InterpolateLinear,O=[];A[g.path]===A.weights?p.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&O.push(e.name?e.name:e.uuid)})):O.push(y);var E=h.array;if(h.normalized){var x;if(E.constructor===Int8Array)x=1/127;else if(E.constructor===Uint8Array)x=1/255;else if(E.constructor==Int16Array)x=1/32767;else{if(E.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}for(var S=new Float32Array(E.length),P=0,C=E.length;P<C;P++)S[P]=E[P]*x;E=S}for(P=0,C=O.length;P<C;P++){var T=new v(O[P]+"."+A[g.path],f.array,E,b);"CUBICSPLINE"===m.interpolation&&(T.createInterpolant=function(e){return new w(this.times,this.values,this.getValueSize()/3,e)},T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(T)}}}var _=t.name?t.name:"animation_"+e;return new n.AnimationClip(_,void 0,u)}))},q.prototype.loadNode=function(e){var t,r=this.json,o=this.extensions,i=this,a=r.nodes[e],s=a.name?i.createUniqueName(a.name):"";return(t=[],void 0!==a.mesh&&t.push(i.getDependency("mesh",a.mesh).then((function(e){var t=i._getNodeRef(i.meshCache,a.mesh,e);return void 0!==a.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=a.weights.length;t<n;t++)e.morphTargetInfluences[t]=a.weights[t]})),t}))),void 0!==a.camera&&t.push(i.getDependency("camera",a.camera).then((function(e){return i._getNodeRef(i.cameraCache,a.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var r;if((r=!0===a.isBone?new n.Bone:t.length>1?new n.Group:1===t.length?t[0]:new n.Object3D)!==t[0])for(var c=0,u=t.length;c<u;c++)r.add(t[c]);if(a.name&&(r.userData.name=a.name,r.name=s),B(r,a),a.extensions&&F(o,r,a),void 0!==a.matrix){var l=new n.Matrix4;l.fromArray(a.matrix),r.applyMatrix4(l)}else void 0!==a.translation&&r.position.fromArray(a.translation),void 0!==a.rotation&&r.quaternion.fromArray(a.rotation),void 0!==a.scale&&r.scale.fromArray(a.scale);return i.associations.set(r,{type:"nodes",index:e}),r}))},q.prototype.loadScene=function(){function e(t,r,o,i){var a=o.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===a.skin?e:i.getDependency("skin",a.skin).then((function(e){for(var n=[],r=0,o=(t=e).joints.length;r<o;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var o=[],i=[],a=0,s=r.length;a<s;a++){var c=r[a];if(c){o.push(c);var u=new n.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*a),i.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new n.Skeleton(o,i),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var n=[];if(a.children)for(var s=a.children,c=0,u=s.length;c<u;c++){var l=s[c];n.push(e(l,t,o,i))}return Promise.all(n)}))}return function(t){var r=this.json,o=this.extensions,i=this.json.scenes[t],a=new n.Group;i.name&&(a.name=this.createUniqueName(i.name)),B(a,i),i.extensions&&F(o,a,i);for(var s=i.nodes||[],c=[],u=0,l=s.length;u<l;u++)c.push(e(s[u],a,r,this));return Promise.all(c).then((function(){return a}))}}(),e}();return xr.GLTFLoader=r,xr}var Cr,Tr={};function _r(){if(Cr)return Tr;Cr=1;var e=me.a.exports;Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.DRACOLoader=void 0;var t=e(Object(Sr.a)()),n=ln.a,r=function(e){n.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};return Tr.DRACOLoader=r,r.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:r,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,r,o){var i=this,a=new n.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(o)}),r,o)},decodeDracoFile:function(e,t,n,r){var o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,o).then(t)},decodeGeometry:function(e,t){var n=this;for(var o in t.attributeTypes){var i=t.attributeTypes[o];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[o]=i.name)}var a,s=JSON.stringify(t);if(r.taskCache.has(e)){var c=r.taskCache.get(e);if(c.key===s)return c.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,l=e.byteLength,d=this._getWorker(u,l).then((function(n){return a=n,new Promise((function(n,r){a._callbacks[u]={resolve:n,reject:r},a.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return d.catch((function(){return!0})).then((function(){a&&u&&n._releaseTask(a,u)})),r.taskCache.set(e,{key:s,promise:d}),d},_createGeometry:function(e){var t=new n.BufferGeometry;e.index&&t.setIndex(new n.BufferAttribute(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r],i=o.name,a=o.array,s=o.itemSize;t.setAttribute(i,new n.BufferAttribute(a,s))}return t},_loadLibrary:function(e,t){var r=new n.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((function(t,n){r.load(e,t,void 0,n)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var n="object"!==("undefined"==typeof WebAssembly?"undefined":(0,t.default)(WebAssembly))||"js"===this.decoderConfig.type,o=[];return n?o.push(this._loadLibrary("draco_decoder.js","text")):(o.push(this._loadLibrary("draco_wasm_wrapper.js","text")),o.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(o).then((function(t){var o=t[0];n||(e.decoderConfig.wasmBinary=t[1]);var i=r.DRACOWorker.toString(),a=["/* draco decoder */",o,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){var r;n.workerPool.length<n.workerLimit?((r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)):n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),r.DRACOWorker=function(){var e,t;function n(e,t,n,r,o,i){var a=i.num_components(),s=n.num_points()*a,c=s*o.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,o),l=e._malloc(c);t.GetAttributeDataArrayForAllPoints(n,i,u,c,l);var d=new o(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:r,array:d,itemSize:a}}onmessage=function(r){var o=r.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=o.buffer,a=o.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{var c=function(e,t,r,o){var i,a,s=o.attributeIDs,c=o.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,a=t.DecodeBufferToMesh(r,i);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,a=t.DecodeBufferToPointCloud(r,i)}if(!a.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var l={index:null,attributes:[]};for(var d in s){var p,f,h=self[c[d]];if(o.useUniqueIDs)f=s[d],p=t.GetAttributeByUniqueId(i,f);else{if(-1===(f=t.GetAttributeId(i,e[s[d]])))continue;p=t.GetAttribute(i,f)}l.attributes.push(n(e,t,i,d,h,p))}u===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){var r=3*n.num_faces(),o=4*r,i=e._malloc(o);t.GetTrianglesUInt32Array(n,o,i);var a=new Uint32Array(e.HEAPF32.buffer,i,r).slice();return e._free(i),{array:a,itemSize:1}}(e,t,i));return e.destroy(i),l}(t,r,s,a),u=c.attributes.map((function(e){return e.array.buffer}));c.index&&u.push(c.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:c},u)}catch(l){console.error(l),self.postMessage({type:"error",id:o.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}},r.taskCache=new WeakMap,r.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},r.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},r.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},r.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")},Tr}var kr,Ir={},Mr={};var jr,Ar,Rr,Dr,Lr={};function Nr(){return Ar||(Ar=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t,n=(kr||(kr=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.AnimationType=void 0,Mr.AnimationType=t,function(e){e[e.forwardImmediateBack=0]="forwardImmediateBack",e[e.forwardWaitForBack=1]="forwardWaitForBack"}(t||(Mr.AnimationType=t={}))),Mr);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=function(){if(jr)return Lr;jr=1;var e=me.a.exports;Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.ModelAnimation=void 0;var t=e(Object(cn.a)()),n=e(Object(un.a)()),r=ln.a,o=Object(Er.a)(),i=function(){function e(n,r,o,i){var a=this;(0,t.default)(this,e),this.completionStatus=!1,this.activeStatus=!1,this.canceledStatus=!1,this.mixer=n,this.animation=this.buildAnimation(n,r,o.duration),this.options=o,this.myTags=i||[],this.animationFinished=new Promise((function(e){a.mixer.addEventListener("finished",(function(){a.completionStatus=!0,a.activeStatus=!1,e()}))}))}return(0,n.default)(e,[{key:"resetMeshState",value:function(){this.animation.reset()}},{key:"update",value:function(e){this.mixer.update(e)}},{key:"start",value:function(){return this.activeStatus=!0,this.options.direction===o.AnimationDirection.forward?this.playAnimationForward():this.playAnimationBackward(),this.animationFinished}},{key:"stop",value:function(){this.animation.paused=!0,this.activeStatus=!1}},{key:"cancel",value:function(){this.canceledStatus=!0,this.resetMeshState()}},{key:"resume",value:function(){this.activeStatus=!0,this.animation.paused=!1}},{key:"buildAnimation",value:function(e,t,n){var o=e.clipAction(t);return void 0!==n&&o.setDuration(n),o.setLoop(r.LoopOnce,1),o.play(),o}},{key:"playAnimationForward",value:function(){this.resetMeshState(),this.animation.setEffectiveTimeScale(Math.abs(this.animation.timeScale)),this.animation.clampWhenFinished=!0}},{key:"playAnimationBackward",value:function(){0===this.animation.time&&(this.animation.time=this.animation.getClip().duration),this.resume(),this.animation.setEffectiveTimeScale(-Math.abs(this.animation.timeScale))}},{key:"isComplete",get:function(){return this.completionStatus}},{key:"isActive",get:function(){return this.activeStatus}},{key:"tags",get:function(){return this.myTags}},{key:"isCanceled",get:function(){return this.canceledStatus}}]),e}();return Lr.ModelAnimation=i,Lr}();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))}(Ir)),Ir}function Ur(){return Dr||(Dr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){if(Rr)return Or;Rr=1;var e=me.a.exports;Object.defineProperty(Or,"__esModule",{value:!0}),Or.GltfProduct=void 0;var t=e(Object(s.a)()),n=e(Object(ct.a)()),r=e(Object(c.a)()),o=e(Object(Le.a)()),i=e(Object(cn.a)()),a=e(Object(un.a)()),u=Object(X.a)(),l=ln.a,d=Object(Er.a)(),p=Yr(),f=Pr(),h=_r(),m=Nr();function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(){function e(t){(0,i.default)(this,e),this.name="gltf",this.animationClips=[],this.modelUri=t.modelUri,this.rotationOffset=t.rotationOffset,this.positionOffset=t.positionOffset,this.dracoLoader=new h.DRACOLoader(l.DefaultLoadingManager),this.dracoLoader.setDecoderPath("https://vortex.documents.cimpress.io/draco/v2/");this.dracoLoader.setDecoderConfig({type:"js"}),t.modelStates&&t.modelStates.length>0?this.productStates=t.modelStates:this.productStates=[],this.currentState=this.productStates[0];var n={};Object.entries(t.productMapping).map((function(e){var t=(0,o.default)(e,2),r=t[0],i=t[1];return n[r]=i.alias})),this.surfaceAliases=n;var r={};Object.entries((0,p.getSurfaceMapping)(t.productMapping,t.fullBleed)).forEach((function(e){var t,i=(0,o.default)(e,2),a=i[0],s=i[1],c=null!==(t=n[a])&&void 0!==t?t:a;r[c]=s})),this.surfaceMapping=r}var n;return(0,a.default)(e,[{key:"getGeometry",value:(n=(0,r.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.meshGroup){e.next=2;break}return e.abrupt("return",this.meshGroup);case 2:return e.next=4,this.preLoad();case 4:if(void 0!==this.meshGroup){e.next=6;break}throw new Error("Failed to load model from uri");case 6:return e.abrupt("return",this.meshGroup);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this modeled product"));this.surfaceMapping[e]=v(v({},this.surfaceMapping[e]),t)}},{key:"getAlphaMap",value:function(e,t,n){}},{key:"getAreaLights",value:function(e,t){var n=[.4*e,.4*e,.37*e,.37*e,.43*e,.4*e];return(0,u.buildPointLightGrid)(n)}},{key:"getCurrentState",value:function(){return this.currentState}},{key:"setStates",value:function(e){this.productStates=e}},{key:"setCurrentState",value:function(e){var t=this.getStates().find((function(t){return t.id===e}));if(!t)throw new Error("'".concat(e," is not a state defined in this product!"));this.currentState=t}},{key:"getStates",value:function(){return this.productStates}},{key:"getAnimationIds",value:function(){var e=[];return this.animationClips.forEach((function(t){return e.push(t.name)})),e}},{key:"buildAnimation",value:function(e){void 0===this.mixer&&(this.mixer=new l.AnimationMixer(this.meshGroup));var t=this.getAnimationClip(e.animationId),n={direction:e.direction,duration:e.duration};return new m.ModelAnimation(this.mixer,t,n)}},{key:"getAnimationClip",value:function(e){var t;if(e){var n=this.animationClips.find((function(t){return t.name===e}));if(!n)throw new Error("Animation with name ".concat(e," was not found"));t=n}else{if(!(this.animationClips.length>0))throw new Error("No animation was found");t=this.animationClips[0]}return t}},{key:"preLoad",value:function(){var e=this;if(void 0!==this.meshGroup)return Promise.resolve();var t=new f.GLTFLoader(l.DefaultLoadingManager);return t.setDRACOLoader(this.dracoLoader),new Promise((function(n){t.load(e.modelUri,(function(t){e.rotationOffset&&t.scene.rotation.set(e.rotationOffset.yaw,e.rotationOffset.pitch,e.rotationOffset.roll),t.animations&&t.animations.forEach((function(t){e.animationClips.push(t)})),0===e.productStates.length&&(e.productStates.push({id:"Folded"}),e.animationClips.forEach((function(t){e.productStates.push({id:"".concat(t.name,"-forward"),dependency:{stateId:"Folded",animationId:t.name,animationDirection:d.AnimationDirection.forward}})})),e.currentState=e.productStates[0]),e.meshGroup=(0,p.centerModel)(e.positionOffset,t.scene);var r=1===Object.keys(e.surfaceMapping).length&&!!e.surfaceMapping.primary,o={};(0,p.findMeshRecursively)(e.meshGroup,(function(t){var n,i=null!==(n=e.surfaceAliases[t.uuid])&&void 0!==n?n:t.uuid;t.uuid=i,r&&(o[i]=e.surfaceMapping.primary)})),r&&(e.surfaceMapping=o),n()}))}))}},{key:"dispose",value:function(){this.meshGroup=void 0,this.dracoLoader.dispose()}},{key:"requiresGeometryUpdate",get:function(){return!1}}]),e}();return Or.GltfProduct=y,Or}();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=Pr();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(wr)),wr}var Fr,Br={},zr={};function Vr(){return Fr||(Fr=1,function(e){var t=me.a.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Object(cn.a)()),r=t(Object(un.a)()),o=ln.a,i=function(){function e(t){(0,n.default)(this,e),this._manager=void 0!==t?t:o.DefaultLoadingManager}return(0,r.default)(e,[{key:"load",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=new o.FileLoader(this._manager);a.setPath(this._path),a.load(e,(function(e){t(n.parse(e))}),r,i)}},{key:"setPath",value:function(e){this._path=e}},{key:"parse",value:function(e){var t=0,n=new o.Matrix4,r=new o.Vector3,i={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};function a(e,t){for(var n=[],r=e.childNodes,o=0,i=r.length;o<i;o++){var a=r[o];a.nodeName===t&&n.push(a)}return n}function s(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=t[r];return n}function c(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=parseFloat(t[r]);return n}function u(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=parseInt(t[r]);return n}function l(e){return e.substring(1)}function d(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function p(e){return void 0!==e?e.textContent:"Y_UP"}function f(e,t,n,r){var o=a(e,t)[0];if(void 0!==o)for(var i=a(o,n),s=0;s<i.length;s++)r(i[s])}function h(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function m(e){var t={id:e.id},n=i.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){function t(e,t){return t.weight-e.weight}var n,r,i,a={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},s=e.sources,c=e.vertexWeights,u=c.vcount,l=c.v,d=c.inputs.JOINT.offset,p=c.inputs.WEIGHT.offset,f=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],m=s[c.inputs.WEIGHT.id].array,g=0;for(n=0,i=u.length;n<i;n++){var v=u[n],y=[];for(r=0;r<v;r++){var b=l[g+d],w=m[l[g+p]];y.push({index:b,weight:w}),g+=2}for(y.sort(t),r=0;r<4;r++){var O=y[r];void 0!==O?(a.indices.array.push(O.index),a.weights.array.push(O.weight)):(a.indices.array.push(0),a.weights.array.push(0))}}for(e.bindShapeMatrix?a.bindMatrix=(new o.Matrix4).fromArray(e.bindShapeMatrix).transpose():a.bindMatrix=(new o.Matrix4).identity(),n=0,i=f.array.length;n<i;n++){var E=f.array[n],x=(new o.Matrix4).fromArray(h.array,n*h.stride).transpose();a.joints.push({name:E,boneInverse:x})}return a}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function g(e){for(var t={array:[],stride:3},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n],o=void 0;if(1===r.nodeType)switch(r.nodeName){case"float_array":t.array=c(r.textContent);break;case"Name_array":t.array=s(r.textContent);break;case"technique_common":void 0!==(o=a(r,"accessor")[0])&&(t.stride=parseInt(o.getAttribute("stride")))}}return t}function v(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=l(r.getAttribute("source")))}return t}function y(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"input":var i=l(o.getAttribute("source")),a=o.getAttribute("semantic"),s=parseInt(o.getAttribute("offset")),c=parseInt(o.getAttribute("set")),d=c>0?a+c:a;t.inputs[d]={id:i,offset:s},t.stride=Math.max(t.stride,s+1),"TEXCOORD"===a&&(t.hasUV=!0);break;case"vcount":t.vcount=u(o.textContent);break;case"p":t.p=u(o.textContent)}}return t}function b(e){for(var t=0,n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function w(e,t,n,r){var o=e.p,i=e.stride,a=e.vcount,s=t.array,c=t.stride;function u(e){for(var t=o[e+n]*c,i=t+c;t<i;t++)r.push(s[t])}if(void 0!==e.vcount)for(var l=0,d=0,p=a.length;d<p;d++){var f=a[d];if(4===f){var h=l+1*i,m=l+2*i,g=l+3*i;u(l+0*i),u(h),u(g),u(h),u(m),u(g)}else if(3===f){var v=l+1*i,y=l+2*i;u(l+0*i),u(v),u(y)}else if(f>4)for(var b=1,w=f-2;b<=w;b++){var O=l+i*b,E=l+i*(b+1);u(l+0*i),u(O),u(E)}l+=i*f}else for(var x=0,S=o.length;x<S;x+=i)u(x)}function O(e,t,n){for(var r={},i={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},c={array:[],stride:0},u={array:[],stride:0},l=[],d=4,p=[],f=4,h=new o.BufferGeometry,m=[],g=0,v=0;v<e.length;v++){var y=e[v],b=y.inputs,O=0;switch(y.type){case"lines":case"linestrips":O=2*y.count;break;case"triangles":O=3*y.count;break;case"polylist":for(var E=0;E<y.count;E++){var x=y.vcount[E];switch(x){case 3:O+=3;break;case 4:O+=6;break;default:O+=3*(x-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",y.type)}for(var S in h.addGroup(g,O,v),g+=O,y.material&&m.push(y.material),b){var P=b[S];switch(S){case"VERTEX":for(var C in n){var T=n[C];switch(C){case"POSITION":var _=i.array.length;if(w(y,t[T],P.offset,i.array),i.stride=t[T].stride,t.skinWeights&&t.skinIndices&&(w(y,t.skinIndices,P.offset,l),w(y,t.skinWeights,P.offset,p)),!1===y.hasUV&&!0===e.uvsNeedsFix)for(var k=(i.array.length-_)/i.stride,I=0;I<k;I++)s.array.push(0,0);break;case"NORMAL":w(y,t[T],P.offset,a.array),a.stride=t[T].stride;break;case"COLOR":w(y,t[T],P.offset,u.array),u.stride=t[T].stride;break;case"TEXCOORD":w(y,t[T],P.offset,s.array),s.stride=t[T].stride;break;case"TEXCOORD1":w(y,t[T],P.offset,c.array),s.stride=t[T].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',C)}}break;case"NORMAL":w(y,t[P.id],P.offset,a.array),a.stride=t[P.id].stride;break;case"COLOR":w(y,t[P.id],P.offset,u.array),u.stride=t[P.id].stride;break;case"TEXCOORD":w(y,t[P.id],P.offset,s.array),s.stride=t[P.id].stride;break;case"TEXCOORD1":w(y,t[P.id],P.offset,c.array),c.stride=t[P.id].stride}}}return i.array.length>0&&h.setAttribute("position",new o.Float32BufferAttribute(i.array,i.stride)),a.array.length>0&&h.setAttribute("normal",new o.Float32BufferAttribute(a.array,a.stride)),u.array.length>0&&h.setAttribute("color",new o.Float32BufferAttribute(u.array,u.stride)),s.array.length>0&&h.setAttribute("uv",new o.Float32BufferAttribute(s.array,s.stride)),c.array.length>0&&h.setAttribute("uv2",new o.Float32BufferAttribute(c.array,c.stride)),l.length>0&&h.setAttribute("skinIndex",new o.Float32BufferAttribute(l,d)),p.length>0&&h.setAttribute("skinWeight",new o.Float32BufferAttribute(p,f)),r.data=h,r.type=e[0].type,r.materialKeys=m,r}function E(e){var t={},n=e.sources,r=e.vertices,o=e.primitives;if(0===o.length)return{};var i=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(o);for(var a in i){var s=i[a];b(s),t[a]=O(s,n,r),t[a].data.name=e.name}return t}function x(e){return h(i.geometries[e],E)}function S(e){for(var t={id:l(e.getAttribute("url")),materials:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"bind_material":for(var o=r.getElementsByTagName("instance_material"),i=0;i<o.length;i++){var a=o[i],s=a.getAttribute("symbol"),c=a.getAttribute("target");t.materials[s]=l(c)}}}return t}function P(e){for(var t,a={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new o.Matrix4,nodes:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},s=0;s<e.childNodes.length;s++){var u=e.childNodes[s],d=void 0;if(1===u.nodeType)switch(u.nodeName){case"node":a.nodes.push(u.getAttribute("id")),P(u);break;case"instance_controller":a.instanceControllers.push(S(u));break;case"instance_geometry":a.instanceGeometries.push(S(u));break;case"instance_node":a.instanceNodes.push(l(u.getAttribute("url")));break;case"matrix":d=c(u.textContent),a.matrix.multiply(n.fromArray(d).transpose()),a.transforms[u.getAttribute("sid")]=u.nodeName;break;case"translate":d=c(u.textContent),r.fromArray(d),a.matrix.multiply(n.makeTranslation(r.x,r.y,r.z)),a.transforms[u.getAttribute("sid")]=u.nodeName;break;case"rotate":var p=(d=c(u.textContent))[3]*Math.PI/180;a.matrix.multiply(n.makeRotationAxis(r.fromArray(d),p)),a.transforms[u.getAttribute("sid")]=u.nodeName;break;case"scale":d=c(u.textContent),a.matrix.scale(r.fromArray(d)),a.transforms[u.getAttribute("sid")]=u.nodeName;break;case"extra":break;default:console.log(u)}}return t=a.id,void 0!==i.nodes[t]?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",a.id):i.nodes[a.id]=a,a}var C=new o.MeshBasicMaterial({color:16711935});function T(e){var t=[];for(var n in e){var r=e[n],i=C,a=void 0;switch(n){case"lines":a=new o.LineSegments(r.data,i);break;case"linestrips":a=new o.Line(r.data,i);break;case"triangles":case"polylist":a=new o.Mesh(r.data,i)}""===a.name&&r.data.name&&(a.uuid=r.data.name.replace("Mesh","")),t.push(a)}return t}function _(e){for(var t,n,r=[],a=e.matrix,s=e.nodes,c=e.type,u=e.instanceControllers,l=e.instanceGeometries,d=e.instanceNodes,p=0,f=s.length;p<f;p++)r.push(k(s[p]));for(var g=0,v=u.length;g<v;g++)for(var y=u[g],b=T(x((t=y.id,h(i.controllers[t],m)).id)),w=0,O=b.length;w<O;w++){var E=b[w];r.push(E)}for(var S=0,P=l.length;S<P;S++)for(var C=T(x(l[S].id)),_=0,I=C.length;_<I;_++)r.push(C[_]);for(var M=0,j=d.length;M<j;M++)r.push(k(d[M]).clone());if(0===s.length&&1===r.length)n=r[0];else{n="JOINT"===c?new o.Bone:new o.Group;for(var A=0;A<r.length;A++)n.add(r[A])}return""===n.name&&(n.name="JOINT"===c?e.sid:e.name,n.uuid=e.id),n.matrix.copy(a),n.matrix.decompose(n.position,n.quaternion,n.scale),n}function k(e){return h(i.nodes[e],_)}function I(e){var t=new o.Group;t.name=e.name;for(var n=e.children,r=0;r<n.length;r++){var i=n[r];t.add(k(i.id))}return t}if(0===e.length)return{scene:new o.Scene};var M=(new DOMParser).parseFromString(e,"application/xml"),j=a(M,"COLLADA")[0],A=M.getElementsByTagName("parsererror")[0];if(void 0!==A){var R,D=a(A,"div")[0];return R=D?D.textContent:function(e){for(var t="",n=[e];n.length;){var r=n.shift();r.nodeType===Node.TEXT_NODE?t+=r.textContent:(t+="\n",n.push.apply(n,r.childNodes))}return t.trim()}(A),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",R),null}var L=function(e){return{unit:d(a(e,"unit")[0]),upAxis:p(a(e,"up_axis")[0])}}(a(j,"asset")[0]);f(j,"library_geometries","geometry",(function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=a(e,"mesh")[0];if(void 0!==n){for(var r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];if(1===o.nodeType){var s=o.getAttribute("id");switch(o.nodeName){case"source":t.sources[s]=g(o);break;case"vertices":t.vertices=v(o);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",o.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(y(o));break;default:console.log(o)}}}i.geometries[e.getAttribute("id")]=t}})),f(j,"library_visual_scenes","visual_scene",(function(e){var n={name:e.getAttribute("name"),children:[]};!function(e){for(var n=e.getElementsByTagName("node"),r=0;r<n.length;r++){var o=n[r];!1===o.hasAttribute("id")&&o.setAttribute("id","three_default_".concat(t++))}}(e);for(var r=a(e,"node"),o=0;o<r.length;o++)n.children.push(P(r[o]));i.visualScenes[e.getAttribute("id")]=n}));var N=function(e){var t,n=a(e,"instance_visual_scene")[0];return t=l(n.getAttribute("url")),h(i.visualScenes[t],I)}(a(j,"scene")[0]);return"Z_UP"===L.upAxis&&N.quaternion.setFromEuler(new o.Euler(-Math.PI/2,0,0)),N.scale.multiplyScalar(L.unit),{library:i,scene:N}}}]),e}();e.default=i}(zr)),zr}var qr,Gr,Hr,Wr,Kr={};function Qr(){return Gr||(Gr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Vr();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(qr)return Kr;qr=1;var e=me.a.exports;Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.ColladaProduct=void 0;var t=e(Object(s.a)()),n=e(Object(ct.a)()),r=e(Object(c.a)()),o=e(Object(Le.a)()),i=e(Object(cn.a)()),a=e(Object(un.a)()),u=Object(X.a)(),l=ln.a,d=Yr(),p=e(Vr());function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){function e(t){(0,i.default)(this,e),this.name="collada",this.modelUri=t.modelUri,this.rotationOffset=t.rotationOffset,this.positionOffset=t.positionOffset;var n={};Object.entries(t.productMapping).map((function(e){var t=(0,o.default)(e,2),r=t[0],i=t[1];return n[r]=i.alias})),this.surfaceAliases=n;var r={};Object.entries((0,d.getSurfaceMapping)(t.productMapping,t.fullBleed)).forEach((function(e){var t,i=(0,o.default)(e,2),a=i[0],s=i[1],c=null!==(t=n[a])&&void 0!==t?t:a;r[c]=s})),this.surfaceMapping=r}var n;return(0,a.default)(e,[{key:"getGeometry",value:(n=(0,r.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.meshGroup){e.next=2;break}return e.abrupt("return",this.meshGroup);case 2:return e.next=4,this.preLoad();case 4:if(void 0!==this.scene){e.next=6;break}throw new Error("Failed to load model from uri");case 6:return this.meshGroup=new l.Group,this.meshGroup.add(this.scene),e.abrupt("return",(0,d.centerModel)(this.positionOffset,this.meshGroup));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this modeled product"));this.surfaceMapping[e]=h(h({},this.surfaceMapping[e]),t)}},{key:"getAlphaMap",value:function(e,t,n){}},{key:"getAreaLights",value:function(e,t){var n=[.4*e,.4*e,.37*e,.37*e,.43*e,.4*e];return(0,u.buildPointLightGrid)(n)}},{key:"getStates",value:function(){return[{id:"default"}]}},{key:"setStates",value:function(e){}},{key:"getCurrentState",value:function(){return{id:"default"}}},{key:"setCurrentState",value:function(e){}},{key:"getAnimationIds",value:function(){return[]}},{key:"buildAnimation",value:function(e){throw new Error("Method not implemented for Collda products.")}},{key:"preLoad",value:function(){var e=this;if(void 0!==this.scene)return Promise.resolve();var t=new p.default(l.DefaultLoadingManager);return new Promise((function(n){t.load(e.modelUri,(function(t){t&&t.scene||n(),e.scene=t.scene,e.rotationOffset&&t.scene.rotation.set(e.rotationOffset.yaw,e.rotationOffset.pitch,e.rotationOffset.roll);var r=1===Object.keys(e.surfaceMapping).length&&!!e.surfaceMapping.primary,o={};(0,d.findMeshRecursively)(e.scene,(function(t){var n,i=null!==(n=e.surfaceAliases[t.uuid])&&void 0!==n?n:t.uuid;t.uuid=i,r&&(o[i]=e.surfaceMapping.primary)})),r&&(e.surfaceMapping=o),n()}))}))}},{key:"dispose",value:function(){this.scene&&(0,u.disposeGeometryRecursively)(this.scene),this.scene=void 0,this.meshGroup=void 0}},{key:"requiresGeometryUpdate",get:function(){return!1}}]),e}();return Kr.ColladaProduct=m,Kr}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(Br)),Br}function Yr(){return Wr||(Wr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=mr();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=function(){if(gr)return vr;gr=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.getSurfaceMapping=function(e,t){var n=Object.keys(e),r={};return n.forEach((function(n){var o={substrate:e[n].substrate,page:e[n].page,fullBleed:e[n].fullBleed||t,trim:e[n].trim,focalPoint:e[n].focalPoint};r[n]=o})),r},vr.centerModel=function(t,n){var r=(new e.Box3).setFromObject(n).getCenter(new e.Vector3);t&&(r.x-=t.x,r.y-=t.y,r.z-=t.z);return n.position.set(-r.x,-r.y,-r.z),n.updateMatrix(),n},vr.findMeshRecursively=function t(n,r){if(!n.children||0===n.children.length)return;n.children.forEach((function(n){n instanceof e.Mesh&&r(n),t(n,r)}))};var e=ln.a;return vr}();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=function(){if(Hr)return br;Hr=1;var e=me.a.exports;Object.defineProperty(br,"__esModule",{value:!0}),br.loadModelFromConfig=function(e){return a.apply(this,arguments)};var t=e(Object(s.a)()),n=e(Object(c.a)()),r=Ur(),o=Qr(),i=mr();function a(){return(a=(0,n.default)(t.default.mark((function e(n){var a,s,c;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.type){e.next=6;break}if(n.type!==i.ModelType.dae){e.next=3;break}return e.abrupt("return",new o.ColladaProduct(n));case 3:if(n.type!==i.ModelType.glb){e.next=5;break}return e.abrupt("return",new r.GltfProduct(n));case 5:throw new Error("The model type: ".concat(n.type," is not supported!"));case 6:return e.next=8,fetch(n.modelUri,{method:"HEAD"});case 8:if(!((s=e.sent).status>=400)){e.next=11;break}throw new Error("Failed to fetch the model asset at '".concat(n.modelUri,"'"));case 11:return c=null===(a=s.headers.get("content-type"))||void 0===a?void 0:a.includes("binary"),e.abrupt("return",c?new r.GltfProduct(n):new o.ColladaProduct(n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return br}();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))}(fr)),fr}var Zr={},Jr=me.a.exports;Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getAssetById=function(e,t){return no.apply(this,arguments)},Zr.getAssetContentUrl=function(e){return"".concat(to,"/").concat(e,"/content")},Zr.queryLinksBySkuAndVariables=function(e,t,n,r){return ro.apply(this,arguments)};var Xr=Jr(Object(s.a)()),$r=Jr(Object(c.a)()),eo=Jr(G()),to="https://assets.documents.cimpress.io/v3/assets";function no(){return(no=(0,$r.default)(Xr.default.mark((function e(t,n){var r,o,i;return Xr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(to,"/").concat(n),o={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,eo.default.get(r,o);case 4:if(!((i=e.sent).status>=400)){e.next=7;break}throw new Error("Failed to fetch assets: ".concat(JSON.stringify(i.data),"}"));case 7:return e.abrupt("return",{contentLink:i.data._links.content.href,id:i.data.id,referenceId:i.data.referenceId,attributes:i.data.attributes,tenant:i.data.tenant});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(){return(ro=(0,$r.default)(Xr.default.mark((function e(t,n,r,o){var i,a,s,c;return Xr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(to,"/-/links:query?pageSize=250&strict=true"),a={headers:{Authorization:"Bearer ".concat(t)}},s={referenceId:n,attributes:r,assetTypes:["vortexModelConfig"],tenant:o},e.next=5,eo.default.post(i,s,a);case 5:if(!((c=e.sent).status>=400)){e.next=8;break}throw new Error("Failed to fetch assets: ".concat(JSON.stringify(c.data),"}"));case 8:return e.abrupt("return",c.data._embedded.item.map((function(e){return{id:e.id,assetId:e.assetId,assetType:e.assetType,referenceId:e.referenceId,attributes:e.attributes,tenant:e.tenant}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oo=me.a.exports;Object.defineProperty(pr,"__esModule",{value:!0}),pr.getModelProduct=mo,pr.getModelProductFromMcpSku=function(e,t,n,r){return vo.apply(this,arguments)};var io=oo(Object(s.a)()),ao=oo(Object(c.a)()),so=oo(G()),co=Yr(),uo=Zr,lo=Kn(),po=Math.PI/180;function fo(e,t){return e.find((function(e){return e.tenant.id===t.id&&e.tenant.type===t.type}))}function ho(e){var t={yaw:0,pitch:0,roll:0};return e&&(t={yaw:e.yaw*po,pitch:e.pitch*po,roll:e.roll*po}),t}function mo(e){return go.apply(this,arguments)}function go(){return(go=(0,ao.default)(io.default.mark((function e(t){var n,r,o,i,a,s,c,u,l;return io.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so.default.get(t.productDataUrl);case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch ModelData from '".concat(t.productDataUrl,"'!"));case 5:return r=n.data,o=Object.keys(t.surfaceMapping),i={},e.next=10,(0,lo.loadSubstrateMap)(t);case 10:a=e.sent,s=0;case 12:if(!(s<o.length)){e.next=21;break}if(c=o[s],u=t.surfaceMapping[c],r.surfaceData[c]){e.next=17;break}throw new Error("The model data does not contain surface '".concat(c,"'!"));case 17:i[c]={page:u.page,substrate:a[u.substrateId],fullBleed:r.surfaceData[c].fullBleed,trim:r.surfaceData[c].trim,focalPoint:u.focalPoint,alias:r.surfaceData[c].alias};case 18:s++,e.next=12;break;case 21:return l={type:r.type,modelUri:r.modelUrl,productMapping:i,fullBleed:{width:0,height:0},rotationOffset:ho(r.rotationOffset),positionOffset:r.positionOffset,modelStates:t.modelStates},e.abrupt("return",(0,co.loadModelFromConfig)(l));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(){return(vo=(0,ao.default)(io.default.mark((function e(t,n,r,o){var i,a,s,c,u;return io.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,uo.queryLinksBySkuAndVariables)(t,n,r,o);case 2:if(i=e.sent,a=fo(i,o),s=fo(i,{id:"cimpressVortex",type:"fulfillers"}),!(c=(null==a?void 0:a.assetId)||(null==s?void 0:s.assetId))){e.next=13;break}return e.next=9,so.default.get((0,uo.getAssetContentUrl)(c));case 9:if(!((u=e.sent).status>=400)){e.next=12;break}throw new Error("Failed to fetch content link from asset '".concat(c,"'"));case 12:return e.abrupt("return",mo(u.data));case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yo,bo,wo={},Oo={},Eo={},xo={},So=n("CPM8");var Po=me.a.exports;Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.getCanvasPrintProduct=function(e){return Mo.apply(this,arguments)};var Co=Po(Object(s.a)()),To=Po(Object(c.a)()),_o=Po(G()),ko=(bo||(bo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){if(yo)return xo;yo=1;var e=me.a.exports;Object.defineProperty(xo,"__esModule",{value:!0}),xo.CanvasPrintProduct=void 0;var t=e(Object(s.a)()),n=e(Object(So.a)()),r=e(Object(c.a)()),o=e(Object(cn.a)()),i=e(Object(un.a)()),a=ln.a,u=Object(X.a)(),l=function(){function e(t){var n,r;(0,o.default)(this,e),this.name="canvas print",this.requiresGeometryUpdate=!1,this.config=t;var i=this.config.fabricSubstrate,s=this.config.interiorOptions.frameOptions.substrate;if(this.surfaceMapping={front:{page:1,substrate:i,fullBleed:this.config.fullBleed,focalPoint:{cameraView:new a.Vector3(0,0,-1)}},left:{page:1,substrate:i,fullBleed:this.config.fullBleed,focalPoint:{cameraView:new a.Vector3(1,0,-.2).normalize()}},right:{page:1,substrate:i,fullBleed:this.config.fullBleed,focalPoint:{cameraView:new a.Vector3(-1,0,-.2).normalize()}},top:{page:1,substrate:i,fullBleed:this.config.fullBleed,focalPoint:{cameraView:new a.Vector3(0,-1,-.2).normalize()}},bottom:{page:1,substrate:i,fullBleed:this.config.fullBleed,focalPoint:{cameraView:new a.Vector3(0,1,-.2).normalize()}}},this.surfaceMapping["back-center"]={substrate:i,fullBleed:this.config.fullBleed},this.surfaceMapping["back-left"]={substrate:i,fullBleed:this.config.fullBleed},this.surfaceMapping["back-right"]={substrate:i,fullBleed:this.config.fullBleed},this.surfaceMapping["back-top"]={substrate:i,fullBleed:this.config.fullBleed},this.surfaceMapping["back-bottom"]={substrate:i,fullBleed:this.config.fullBleed},this.surfaceMapping["interior-frame-left"]={substrate:s,fullBleed:this.config.fullBleed},this.surfaceMapping["interior-frame-right"]={substrate:s,fullBleed:this.config.fullBleed},this.surfaceMapping["interior-frame-top"]={substrate:s,fullBleed:this.config.fullBleed},this.surfaceMapping["interior-frame-bottom"]={substrate:s,fullBleed:this.config.fullBleed},null===(n=this.config.exteriorOptions)||void 0===n?void 0:n.cover){var c=this.config.exteriorOptions.cover;this.addCover(c.substrate,c.depth)}(null===(r=this.config.exteriorOptions)||void 0===r?void 0:r.frameOptions)&&this.addFrame(this.config.exteriorOptions.frameOptions)}var s;return(0,i.default)(e,[{key:"getGeometry",value:(s=(0,r.default)(t.default.mark((function e(){var r,o,i,s,c,l,d,p,f,h,m;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initializedGeometry&&(0,u.disposeGeometryRecursively)(this.initializedGeometry),l={width:this.config.fullBleed.width,height:this.config.fullBleed.height,depth:this.config.depth},d=this.computeOuterUVCoords(),p=this.computeInnerUVCoords(d),this.initializedGeometry=new a.Group,(r=this.initializedGeometry).add.apply(r,(0,n.default)(this.buildFrontDocumentMeshes(l,p,d))),(o=this.initializedGeometry).add.apply(o,(0,n.default)(this.buildBackDocumentMeshes(l,p,d))),(i=this.initializedGeometry).add.apply(i,(0,n.default)(this.buildInteriorFrame(l))),(null===(s=this.config.exteriorOptions)||void 0===s?void 0:s.cover)&&(f=this.initializedGeometry).add.apply(f,(0,n.default)(this.buildExteriorCover(l,this.config.exteriorOptions.cover.depth))),(null===(c=this.config.exteriorOptions)||void 0===c?void 0:c.frameOptions)&&((h=this.initializedGeometry).add.apply(h,(0,n.default)(this.buildExteriorFrameInner(l,this.config.exteriorOptions.frameOptions))),(m=this.initializedGeometry).add.apply(m,(0,n.default)(this.buildExteriorFrameOuter(l,this.config.exteriorOptions.frameOptions)))),this.requiresGeometryUpdate=!1,e.abrupt("return",this.initializedGeometry);case 12:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this canvas product"));this.surfaceMapping[e]=t}},{key:"getStates",value:function(){return[{id:"default"}]}},{key:"setStates",value:function(e){}},{key:"getCurrentState",value:function(){return{id:"default"}}},{key:"setCurrentState",value:function(e){}},{key:"getAnimationIds",value:function(){return[]}},{key:"buildAnimation",value:function(e){throw new Error("Method not implemented for Canvas products.")}},{key:"getAreaLights",value:function(e,t){var n=[.4*e,.4*e,.4*e,.4*e,.35*e,.35*e];return(0,u.buildPointLightGrid)(n)}},{key:"addCover",value:function(e,t){this.requiresGeometryUpdate=!0,this.config.exteriorOptions?this.config.exteriorOptions.cover={substrate:e,depth:t}:this.config.exteriorOptions={cover:{substrate:e,depth:t}},this.surfaceMapping.cover={substrate:e,fullBleed:this.config.fullBleed}}},{key:"removeCover",value:function(){var e;(null===(e=this.config.exteriorOptions)||void 0===e?void 0:e.cover)&&(this.config.exteriorOptions.cover=void 0,this.requiresGeometryUpdate=!0),delete this.surfaceMapping.cover}},{key:"addFrame",value:function(e){this.requiresGeometryUpdate=!0,this.config.exteriorOptions?this.config.exteriorOptions.frameOptions=e:this.config.exteriorOptions={frameOptions:e},this.surfaceMapping["exterior-frame-inner-left"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-inner-right"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-inner-top"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-inner-bottom"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-outer-left"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-outer-right"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-outer-top"]={substrate:e.substrate,fullBleed:this.config.fullBleed},this.surfaceMapping["exterior-frame-outer-bottom"]={substrate:e.substrate,fullBleed:this.config.fullBleed}}},{key:"removeFrame",value:function(){var e;(null===(e=this.config.exteriorOptions)||void 0===e?void 0:e.frameOptions)&&(this.config.exteriorOptions.frameOptions=void 0,this.requiresGeometryUpdate=!0),delete this.surfaceMapping["exterior-frame-inner-left"],delete this.surfaceMapping["exterior-frame-inner-right"],delete this.surfaceMapping["exterior-frame-inner-top"],delete this.surfaceMapping["exterior-frame-inner-bottom"],delete this.surfaceMapping["exterior-frame-outer-left"],delete this.surfaceMapping["exterior-frame-outer-right"],delete this.surfaceMapping["exterior-frame-outer-top"],delete this.surfaceMapping["exterior-frame-outer-bottom"]}},{key:"getAlphaMap",value:function(e,t,n){}},{key:"preLoad",value:function(){return Promise.resolve()}},{key:"dispose",value:function(){this.initializedGeometry&&((0,u.disposeGeometryRecursively)(this.initializedGeometry),this.initializedGeometry=void 0)}},{key:"buildFrontDocumentMeshes",value:function(e,t,n){var r=[],o=new a.PlaneGeometry(e.width,e.height);(0,u.UVMapPlane)(o,t[0],t[2],t[1],t[3]);var i=new a.Mesh(o);i.uuid="front",i.position.setZ(e.depth/2),r.push(i);var s=new a.PlaneGeometry(e.depth,e.height);(0,u.UVMapPlane)(s,n[0],t[0],t[1],t[3]);var c=new a.Mesh(s);c.uuid="left",c.rotateY(-Math.PI/2),c.position.setX(-e.width/2),r.push(c);var l=new a.PlaneGeometry(e.depth,e.height);(0,u.UVMapPlane)(l,t[2],n[2],t[1],t[3]);var d=new a.Mesh(l);d.uuid="right",d.rotateY(Math.PI/2),d.position.setX(e.width/2),r.push(d);var p=new a.PlaneGeometry(e.width,e.depth);(0,u.UVMapPlane)(p,t[0],t[2],t[3],n[3]);var f=new a.Mesh(p);f.uuid="top",f.rotateX(-Math.PI/2),f.position.setY(e.height/2),r.push(f);var h=new a.PlaneGeometry(e.width,e.depth);(0,u.UVMapPlane)(h,t[0],t[2],n[1],t[1]);var m=new a.Mesh(h);return m.uuid="bottom",m.rotateX(Math.PI/2),m.position.setY(-e.height/2),r.push(m),r}},{key:"buildBackDocumentMeshes",value:function(e,t,n){var r=[],o=new a.PlaneGeometry(e.width,e.height);(0,u.UVMapPlane)(o,t[0],t[2],t[1],t[3]);var i=new a.Mesh(o);i.uuid="back-center",i.rotateY(Math.PI),i.position.setZ(e.depth/2-.5),r.push(i);var s=new a.PlaneGeometry(e.depth/3,e.height);(0,u.UVMapPlane)(s,0,n[0],t[1],t[3]);var c=new a.Mesh(s);c.uuid="back-left",c.rotateY(Math.PI),c.position.setX(-e.width/2+e.depth/6),c.position.setZ(-e.depth/2-.01),r.push(c);var l=new a.PlaneGeometry(e.depth/3,e.height);(0,u.UVMapPlane)(l,n[2],1,t[1],t[3]);var d=new a.Mesh(l);d.uuid="back-right",d.rotateY(Math.PI),d.position.setX(e.width/2-e.depth/6),d.position.setZ(-e.depth/2-.01),r.push(d);var p=new a.PlaneGeometry(e.width,e.depth/3);(0,u.UVMapPlane)(p,t[2],t[0],1,n[3]);var f=new a.Mesh(p);f.uuid="back-top",f.rotateY(Math.PI),f.position.setY(e.height/2-e.depth/6),f.position.setZ(-e.depth/2),r.push(f);var h=new a.PlaneGeometry(e.width,e.depth/3);(0,u.UVMapPlane)(h,t[2],t[0],n[1],0);var m=new a.Mesh(h);return m.uuid="back-bottom",m.rotateY(Math.PI),m.position.setY(-e.height/2+e.depth/6),m.position.setZ(-e.depth/2),r.push(m),r}},{key:"buildInteriorFrame",value:function(e){var t=[],n=this.config.interiorOptions.frameOptions.thickness,r=new a.BoxGeometry(n,.99*e.height,.99*e.depth);(0,u.UVMapBox)(r);var o=new a.Mesh(r);o.uuid="interior-frame-left",o.position.setX(.5*-e.width+.51*n);var i=new a.Mesh(r);i.uuid="interior-frame-right",i.position.setX(.5*e.width-.51*n),t.push(o),t.push(i);var s=new a.BoxGeometry(e.width-2*n,n,.99*e.depth);(0,u.UVMapBox)(s);var c=new a.Mesh(s);c.uuid="interior-frame-top",c.position.setY(.5*e.height-.51*n);var l=new a.Mesh(s);return l.uuid="interior-frame-bottom",l.position.setY(.5*-e.height+.51*n),t.push(c),t.push(l),t}},{key:"buildExteriorCover",value:function(e,t){var n=[],r=new a.BoxGeometry(.99*e.width,.99*e.height,t);(0,u.UVMapBox)(r);var o=new a.Mesh(r);return o.uuid="cover",o.position.setZ(.5*-e.depth-.5*t),n.push(o),n}},{key:"buildExteriorFrameInner",value:function(e,t){var n=[],r=new a.BoxGeometry(t.inner.thickness,e.height+t.inner.thickness,t.inner.depth);(0,u.UVMapBox)(r);var o=new a.Mesh(r);o.uuid="exterior-frame-inner-left",o.position.setX(.5*-e.width),o.position.setZ(.5*-e.depth-.5*t.inner.depth);var i=new a.Mesh(r);i.uuid="exterior-frame-inner-right",i.position.setX(.5*e.width),i.position.setZ(.5*-e.depth-.5*t.inner.depth),n.push(o),n.push(i);var s=new a.BoxGeometry(e.width,t.inner.thickness,t.inner.depth);(0,u.UVMapBox)(s);var c=new a.Mesh(s);c.uuid="exterior-frame-inner-top",c.position.setY(.5*e.height),c.position.setZ(.5*-e.depth-.5*t.inner.depth);var l=new a.Mesh(s);return l.uuid="exterior-frame-inner-bottom",l.position.setY(.5*-e.height),l.position.setZ(.5*-e.depth-.5*t.inner.depth),n.push(c),n.push(l),n}},{key:"buildExteriorFrameOuter",value:function(e,t){var n=[],r=new a.BoxGeometry(t.outer.thickness,e.height+t.inner.thickness,t.outer.depth);(0,u.UVMapBox)(r);var o=new a.Mesh(r);o.uuid="exterior-frame-outer-left",o.position.setX(.5*-e.width-.5*t.inner.thickness),o.position.setZ(.5*-e.depth-t.inner.depth+.5*t.outer.depth);var i=new a.Mesh(r);i.uuid="exterior-frame-outer-right",i.position.setX(.5*e.width+.5*t.inner.thickness),i.position.setZ(.5*-e.depth-t.inner.depth+.5*t.outer.depth),n.push(o),n.push(i);var s=new a.BoxGeometry(e.width+t.inner.thickness+t.outer.thickness,t.outer.thickness,t.outer.depth);(0,u.UVMapBox)(s);var c=new a.Mesh(s);c.uuid="exterior-frame-outer-top",c.position.setY(.5*e.height+.5*t.inner.thickness),c.position.setZ(.5*-e.depth-t.inner.depth+.5*t.outer.depth);var l=new a.Mesh(s);return l.uuid="exterior-frame-outer-bottom",l.position.setY(.5*-e.height-.5*t.inner.thickness),l.position.setZ(.5*-e.depth-t.inner.depth+.5*t.outer.depth),n.push(c),n.push(l),n}},{key:"computeOuterUVCoords",value:function(){if(this.config.trim){var e=this.config.trim;return[e.topLeftX/this.config.fullBleed.width,e.topLeftY/this.config.fullBleed.height,e.bottomRightX/this.config.fullBleed.width,e.bottomRightY/this.config.fullBleed.height]}return[0,0,1,1]}},{key:"computeInnerUVCoords",value:function(e){var t=this.config.fullBleed.width+2*this.config.depth,n=this.config.fullBleed.height+2*this.config.depth,r=this.config.depth/t,o=this.config.depth/n;return[e[0]+r,e[1]+o,e[2]-r,e[3]-o]}}]),e}();return xo.CanvasPrintProduct=l,xo}();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}))}(Eo)),Eo),Io=Kn();function Mo(){return(Mo=(0,To.default)(Co.default.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,p,f;return Co.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o.default.get(t.productDataUrl);case 2:if(!((o=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch CanvasPrintData from '".concat(t.productDataUrl,"'!"));case 5:return i=o.data,e.next=8,(0,Io.loadSubstrateMap)(t);case 8:if(a=e.sent,(s=t.surfaceMapping).canvas&&s.interiorFrame){e.next=12;break}throw new Error("The surface mapping must contain surfaces for canvas and interiorFrame!");case 12:if(c={fullBleed:i.fullBleed,trim:i.trim,depth:i.depth,fabricSubstrate:a[s.canvas.substrateId],interiorOptions:{frameOptions:{thickness:i.interiorOptions.frameOptions.thickness,substrate:a[s.interiorFrame.substrateId]}}},!(null===(n=i.exteriorOptions)||void 0===n?void 0:n.cover)){e.next=17;break}if(s.cover){e.next=16;break}throw new Error("The surface mapping is missing a cover!");case 16:c.exteriorOptions={cover:{substrate:a[s.cover.substrateId],depth:i.exteriorOptions.cover.depth}};case 17:if(!(null===(r=i.exteriorOptions)||void 0===r?void 0:r.frameOptions)){e.next=22;break}if(s.exteriorFrame){e.next=20;break}throw new Error("The surface mapping is missing an exteriorFrame!");case 20:f={substrate:a[s.exteriorFrame.substrateId],inner:{depth:null===(u=i.exteriorOptions)||void 0===u?void 0:u.frameOptions.inner.depth,thickness:null===(l=i.exteriorOptions)||void 0===l?void 0:l.frameOptions.inner.thickness},outer:{depth:null===(d=i.exteriorOptions)||void 0===d?void 0:d.frameOptions.outer.depth,thickness:null===(p=i.exteriorOptions)||void 0===p?void 0:p.frameOptions.outer.thickness}},c.exteriorOptions?c.exteriorOptions.frameOptions=f:c.exteriorOptions={frameOptions:f};case 22:return e.abrupt("return",new ko.CanvasPrintProduct(c));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jo,Ao={};var Ro,Do,Lo,No,Uo={},Fo={},Bo=(n("E9XD"),{}),zo={},Vo={},qo={};function Go(){return Ro||(Ro=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.ProductRotation=qo.PanelEdge=void 0,qo.PanelEdge=e,function(e){e[e.left=0]="left",e[e.right=1]="right",e[e.top=2]="top",e[e.bottom=3]="bottom"}(e||(qo.PanelEdge=e={})),qo.ProductRotation=t,function(e){e[e.none=0]="none",e[e.rotate_90=1]="rotate_90",e[e.rotate_270=2]="rotate_270"}(t||(qo.ProductRotation=t={}))),qo;var e,t}function Ho(){if(Do)return Vo;Do=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.getSection=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];throw new Error("Section id '".concat(e,"' is not defined in the NFold configuration!"))},Vo.getZScaleRatios=function(e){for(var n=new Array(e.horizontalRatios.length*e.verticalRatios.length).fill(1),r=.3,o=0;o<e.foldDirections.length;o++)for(var i=0;i<e.foldDirections[o].length;i++)if(Math.abs(e.foldDirections[o][i].angleClosed)>.97*Math.PI){var a=e.foldDirections[o][i].ratioIndex;if(e.foldDirections[o][i].edge===t.PanelEdge.left||e.foldDirections[o][i].edge===t.PanelEdge.right)for(var s=0;s<e.verticalRatios.length;s++)n[s*e.horizontalRatios.length+a]=r,r+=.02;else for(var c=0;c<e.horizontalRatios.length;c++)n[a*e.horizontalRatios.length+c]=r,r+=.02}return n},Vo.rotateVector=function(e,t,n){var r=e.sub(t);return r=(r=r.applyEuler(n)).add(t)},Vo.getRotationAxis=function(n){if(n===t.PanelEdge.left||n===t.PanelEdge.right)return new e.Vector3(0,1,0);return new e.Vector3(1,0,0)},Vo.applyRotation=function(t,n,r,o){var i=new e.Quaternion;return i.setFromAxisAngle(o,r),t.quaternion.multiplyQuaternions(i,t.quaternion),t.position.sub(n),t.position.applyQuaternion(i),t.position.add(n),t};var e=ln.a,t=Go();return Vo}function Wo(){if(Lo)return zo;Lo=1;var e=me.a.exports;Object.defineProperty(zo,"__esModule",{value:!0}),zo.NFoldAnimation=zo.FoldAnimationDirection=void 0;var t,n=e(Object(ct.a)()),r=e(Object(cn.a)()),o=e(Object(un.a)()),i=ln.a,a=Object(X.a)(),s=Ho(),c=Go();function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}zo.FoldAnimationDirection=t,function(e){e[e.open=0]="open",e[e.close=1]="close"}(t||(zo.FoldAnimationDirection=t={}));var l=function(){function e(o,i,a){var c;(0,r.default)(this,e),this.completionStatus=!1,this.activeStatus=!1,this.canceledStatus=!1,this.elapsedTime=0,this.currentRotations=[],this.myTags=null!=a?a:[],this.mesh=o,this.duration=null!==(c=i.duration)&&void 0!==c?c:2,this.nFoldOptions=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i.nFoldOptions),this.direction=i.direction,this.depth=i.depth;for(var l=this.nFoldOptions.foldDirections.reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return e.ratioIndex>t.ratioIndex?1:-1})),d=0;d<l.length;d++){var p="open"===o.userData.state?l[d].angleOpen:l[d].angleClosed;this.currentRotations.push(p)}this.startPosition=this.mesh.position,this.startZScaleRatios=this.mesh.children.map((function(e){return e.scale.z})),this.foldZScaleRatios=(0,s.getZScaleRatios)(this.nFoldOptions),this.direction===t.open?(this.nFoldOptions.foldDirections=this.nFoldOptions.foldDirections.slice(0,this.nFoldOptions.foldDirections.length).reverse(),this.endPosition=this.mesh.userData.openPosition,this.endZScaleRatios=new Array(this.nFoldOptions.horizontalRatios.length*this.nFoldOptions.verticalRatios.length).fill(1)):(this.endPosition=this.mesh.userData.closedPosition,this.endZScaleRatios=this.foldZScaleRatios)}return(0,o.default)(e,[{key:"resetMeshState",value:function(){this.activeStatus=!1,this.interpolateValues(this.duration),this.resolveAnimation&&this.resolveAnimation()}},{key:"update",value:function(e){this.isActive&&this.elapsedTime<this.duration&&(this.interpolateValues(this.elapsedTime),this.elapsedTime+=e),this.elapsedTime>=this.duration&&this.isActive&&(this.interpolateValues(this.duration),this.mesh.userData.state=this.direction===t.open?"open":"closed",this.resolveAnimation&&this.resolveAnimation(),this.activeStatus=!1)}},{key:"start",value:function(){var e=this;return this.activeStatus=!0,new Promise((function(t){e.resolveAnimation=t}))}},{key:"resume",value:function(){void 0!==this.resolveAnimation&&(this.activeStatus=!0)}},{key:"stop",value:function(){this.activeStatus=!1}},{key:"cancel",value:function(){this.activeStatus=!1,this.canceledStatus=!0,this.resetMeshState(),this.resolveAnimation&&this.resolveAnimation()}},{key:"interpolateValues",value:function(e){var t=this.duration/this.nFoldOptions.foldDirections.length,n=Math.trunc(e/t);if(!(n>=this.nFoldOptions.foldDirections.length)){for(var r=0;r<this.nFoldOptions.foldDirections[n].length;r++)this.applyFold(e-t*n,this.nFoldOptions.foldDirections[n][r],t);for(var o=0;o<this.startZScaleRatios.length;o++){var i=(0,a.easeInOutQuart)(this.elapsedTime,this.startZScaleRatios[o],this.endZScaleRatios[o]-this.startZScaleRatios[o],this.duration);this.mesh.children[o].scale.setZ(i)}var s=(0,a.easeInOutQuart)(e,this.startPosition.x,this.endPosition.x-this.startPosition.x,this.duration);this.mesh.position.setX(s);var c=(0,a.easeInOutQuart)(e,this.startPosition.y,this.endPosition.y-this.startPosition.y,this.duration);this.mesh.position.setY(c)}}},{key:"applyFold",value:function(e,n,r){var o=this,u=n.ratioIndex,l="open"===this.mesh.userData.state?n.angleOpen:n.angleClosed,d=this.direction===t.open?n.angleOpen:n.angleClosed,p=(0,a.easeInOutQuart)(e,l,d-l,r),f=this.getRotationPanel(n),h=f.panel,m=h.children[0],g=h.children[1],v=n.edge===c.PanelEdge.right||n.edge===c.PanelEdge.top?-1:1,y=n.angleClosed>0?1:-1;if(null!==m.geometry.boundingBox&&void 0!==m.geometry.boundingBox||(m.geometry.computeBoundingBox(),g.geometry.computeBoundingBox()),null===m.geometry.boundingBox||null===g.geometry.boundingBox)throw new Error("unable to compute bounding box");var b=Math.max(m.geometry.boundingBox.max.x,g.geometry.boundingBox.max.x)-Math.min(m.geometry.boundingBox.min.x,g.geometry.boundingBox.min.x),w=Math.max(m.geometry.boundingBox.max.y,g.geometry.boundingBox.max.y)-Math.min(m.geometry.boundingBox.min.y,g.geometry.boundingBox.min.y),O=new i.Vector3(h.position.x+v*b/2,h.position.y-v*w/2,h.position.z-v*this.depth*this.foldZScaleRatios[f.index]*.5*y),E=(0,s.getRotationAxis)(n.edge);O=(0,s.rotateVector)(O,h.position,h.rotation),this.findRotationPanels(n).forEach((function(e){return(0,s.applyRotation)(e,O,p-o.currentRotations[u],E)})),this.currentRotations[u]=p}},{key:"getRotationPanel",value:function(e){var t=e.edge,n=this.mesh;if(t===c.PanelEdge.left||t===c.PanelEdge.right){var r=e.edge===c.PanelEdge.left?e.ratioIndex-1:e.ratioIndex+1;return{panel:n.children[r],index:r}}var o=e.edge===c.PanelEdge.top?e.ratioIndex-1:e.ratioIndex+1,i=o*this.nFoldOptions.horizontalRatios.length;return{panel:n.children[o*this.nFoldOptions.horizontalRatios.length],index:i}}},{key:"findRotationPanels",value:function(e){var t=e.edge,n=this.mesh,r=[],o=0,i=this.nFoldOptions.horizontalRatios.length,a=0,s=this.nFoldOptions.verticalRatios.length;e.edge===c.PanelEdge.left?o=e.ratioIndex:t===c.PanelEdge.right?i=e.ratioIndex+1:t===c.PanelEdge.bottom?s=e.ratioIndex+1:a=e.ratioIndex;for(var u=a;u<s;u++)for(var l=o;l<i;l++)r.push(n.children[u*this.nFoldOptions.horizontalRatios.length+l]);return r}},{key:"isComplete",get:function(){return this.completionStatus}},{key:"isActive",get:function(){return this.activeStatus}},{key:"tags",get:function(){return this.myTags}},{key:"isCanceled",get:function(){return this.canceledStatus}}]),e}();return zo.NFoldAnimation=l,zo}var Ko,Qo={};function Yo(){if(Ko)return Qo;Ko=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.TwoPageRollH=Qo.TwoPageRoll=Qo.GateFold=Qo.ThreePanelRoll=Qo.ThreePanelZ=Qo.ParallelFold=Qo.DoubleGate=Qo.FourPanelRoll=Qo.FourPanelZ=Qo.FoldType=void 0;var e,t=Go();Qo.FoldType=e,function(e){e[e.TwoPageRoll=0]="TwoPageRoll",e[e.ThreePanelZ=1]="ThreePanelZ",e[e.FourPanelZ=2]="FourPanelZ",e[e.ThreePanelRoll=3]="ThreePanelRoll",e[e.FourPanelRoll=4]="FourPanelRoll",e[e.Parallel=5]="Parallel",e[e.Gate=6]="Gate",e[e.DoubleGate=7]="DoubleGate",e[e.TwoPageRollH=8]="TwoPageRollH"}(e||(Qo.FoldType=e={}));var n={horizontalRatios:[.498,.502],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right},{ratioIndex:1,angleOpen:.15*Math.PI,angleClosed:.85*Math.PI,edge:t.PanelEdge.left}]]};Qo.TwoPageRoll=n;var r={horizontalRatios:[1],verticalRatios:[.498,.502],foldDirections:[[{ratioIndex:0,angleOpen:.15*Math.PI,angleClosed:.85*Math.PI,edge:t.PanelEdge.bottom},{ratioIndex:1,angleOpen:0,angleClosed:0,edge:t.PanelEdge.top}]],rotationOffset:{yaw:-.02*Math.PI,pitch:0,roll:Math.PI}};Qo.TwoPageRollH=r;var o={horizontalRatios:[.333,.334,.333],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:.1*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.right},{ratioIndex:1,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right},{ratioIndex:2,angleOpen:.1*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.left}]]};Qo.ThreePanelZ=o;var i={horizontalRatios:[.25,.25,.25,.25],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:-.1*Math.PI,angleClosed:-.95*Math.PI,edge:t.PanelEdge.right},{ratioIndex:1,angleOpen:.1*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.right},{ratioIndex:2,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right},{ratioIndex:3,angleOpen:.1*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.left}]]};Qo.FourPanelZ=i;var a={horizontalRatios:[.327,.338,.334],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:.1*-Math.PI,angleClosed:-Math.PI,edge:t.PanelEdge.right},{ratioIndex:1,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right}],[{ratioIndex:2,angleOpen:.1*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.left}]]};Qo.ThreePanelRoll=a;var s={horizontalRatios:[.245,.25,.2525,.2525],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:-.05*Math.PI,angleClosed:-Math.PI,edge:t.PanelEdge.right},{ratioIndex:2,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right}],[{ratioIndex:1,angleOpen:-.05*Math.PI,angleClosed:-Math.PI,edge:t.PanelEdge.right}],[{ratioIndex:3,angleOpen:.05*Math.PI,angleClosed:.95*Math.PI,edge:t.PanelEdge.left}]]};Qo.FourPanelRoll=s;var c={horizontalRatios:[.25,.25,.25,.25],verticalRatios:[1],foldDirections:[[{ratioIndex:1,angleOpen:-.05*Math.PI,angleClosed:-Math.PI,edge:t.PanelEdge.right},{ratioIndex:2,angleOpen:0*Math.PI,angleClosed:0*Math.PI,edge:t.PanelEdge.left}],[{ratioIndex:0,angleOpen:.05*Math.PI,angleClosed:Math.PI,edge:t.PanelEdge.right},{ratioIndex:3,angleOpen:.05*Math.PI,angleClosed:.9*Math.PI,edge:t.PanelEdge.left}]]};Qo.ParallelFold=c;var u={horizontalRatios:[.25,.5,.25],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:.1*-Math.PI,angleClosed:1*-Math.PI,edge:t.PanelEdge.right},{ratioIndex:2,angleOpen:.1*Math.PI,angleClosed:1*Math.PI,edge:t.PanelEdge.left},{ratioIndex:1,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right}]]};Qo.GateFold=u;var l={horizontalRatios:[.2499,.2501,.2501,.2499],verticalRatios:[1],foldDirections:[[{ratioIndex:0,angleOpen:-.05*Math.PI,angleClosed:-1*Math.PI,edge:t.PanelEdge.right},{ratioIndex:3,angleOpen:.05*Math.PI,angleClosed:Math.PI,edge:t.PanelEdge.left},{ratioIndex:1,angleOpen:0,angleClosed:0,edge:t.PanelEdge.right}],[{ratioIndex:2,angleOpen:.05*Math.PI,angleClosed:.85*Math.PI,edge:t.PanelEdge.left}]]};return Qo.DoubleGate=l,Qo}var Zo,Jo={};var Xo,$o={};var ei,ti,ni,ri={},oi={};function ii(){if(ei)return oi;ei=1;var e=me.a.exports;Object.defineProperty(oi,"__esModule",{value:!0}),oi.FoldingAnimation=void 0;var t=e(Object(cn.a)()),n=e(Object(un.a)()),r=ln.a,o=Object(Er.a)(),i=Object(X.a)(),a=_n();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){function e(n,r,o){(0,t.default)(this,e),this.completionStatus=!1,this.activeStatus=!1,this.canceledStatus=!1,this.elapsedTime=0,this.product=n,this.config=r,this.primarySectionSet=r.sectionSets[0],this.physicalSize=n.getPhysicalSize(),this.foldStates=this.generateFoldStates(o.sequenceId,r),this.duration=o.duration,this.direction=o.direction}return(0,n.default)(e,[{key:"resetMeshState",value:function(){this.activeStatus=!1,this.interpolateValues(this.duration),this.resolveAnimation&&this.resolveAnimation()}},{key:"update",value:function(e){this.isActive&&this.elapsedTime<this.duration&&(this.interpolateValues(this.elapsedTime),this.elapsedTime+=e),this.elapsedTime>=this.duration&&this.isActive&&(this.interpolateValues(this.duration),this.resolveAnimation&&this.resolveAnimation(),this.activeStatus=!1)}},{key:"start",value:function(){var e=this;return this.activeStatus=!0,new Promise((function(t){e.resolveAnimation=t}))}},{key:"resume",value:function(){void 0!==this.resolveAnimation&&(this.activeStatus=!0)}},{key:"stop",value:function(){this.activeStatus=!1}},{key:"cancel",value:function(){this.activeStatus=!1,this.canceledStatus=!0,this.resetMeshState(),this.resolveAnimation&&this.resolveAnimation()}},{key:"getFoldSequence",value:function(e){for(var t=0;t<this.primarySectionSet.foldSequences.length;t++)if(this.primarySectionSet.foldSequences[t].id===e)return this.primarySectionSet.foldSequences[t];throw new Error("Fold sequence '".concat(e,"' is not an available in the NFold Config!"))}},{key:"getFold",value:function(e){for(var t=0;t<this.primarySectionSet.folds.length;t++)if(this.primarySectionSet.folds[t].id===e)return this.primarySectionSet.folds[t];throw new Error("Fold '".concat(e,"' is not an available in the NFold Config!"))}},{key:"getLastOperationById",value:function(e,t){var n,r,o=0,i=s(t.operations);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.foldId===e&&a.endRatio>o&&(n=a,o=a.endRatio)}}catch(c){i.e(c)}finally{i.f()}if(void 0===n)throw new Error("Fold operation '".concat(e,"' is not an available in the fold sequence '").concat(t.id,"'!"));return n}},{key:"generateFoldStates",value:function(e,t){var n=this,r={},o=this.getFoldSequence(e);if(o.dependencyId){var i=this.getFoldSequence(o.dependencyId),a=this.groupOperationsByFold(o.operations);Object.keys(a).forEach((function(e){var t=n.getFold(e);r[t.childSectionId]=[];for(var o=a[e],s=0;s<o.length;s++){var c=void 0;c=0===s?n.getLastOperationById(e,i):o[s-1],r[t.childSectionId].push({fold:t,startRatio:o[s].startRatio,endRatio:o[s].endRatio,startAngle:c.angle,endAngle:o[s].angle})}}))}else{var s=this.groupOperationsByFold(o.operations);Object.keys(s).forEach((function(e){var t=n.getFold(e);r[t.childSectionId]=[];for(var o=s[e],i=0;i<o.length;i++){var a=0;i>0&&(a=o[i-1].angle),r[t.childSectionId].push({fold:t,startRatio:o[i].startRatio,endRatio:o[i].endRatio,startAngle:a,endAngle:o[i].angle})}}))}return r}},{key:"groupOperationsByFold",value:function(e){var t,n={},r=s(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.foldId]?n[o.foldId].push(o):n[o.foldId]=[o]}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"interpolateValues",value:function(e){var t=this,n=this.direction===o.AnimationDirection.forward?e/this.duration:1-e/this.duration,r=this.product.getSectionGroupMapping();Object.keys(r).forEach((function(e){if(t.foldStates[e])for(var o=t.foldStates[e],a=0;a<o.length;a++){var s=o[a];if(n<=s.startRatio)0===a&&t.foldSection(e,0,s,r);else if(n>=s.endRatio)a===o.length-1&&t.foldSection(e,1,s,r);else{var c=n-s.startRatio,u=s.endRatio-s.startRatio,l=(0,i.easeInOutQuart)(c,0,1,u);t.foldSection(e,l,s,r)}}}))}},{key:"foldSection",value:function(e,t,n,o){var i=-.0174533*((n.endAngle-n.startAngle)*t+n.startAngle),s={x0:(0,a.preserve)(n.fold.path.primary[0].x,this.physicalSize.width),y0:(0,a.mirror)(n.fold.path.primary[0].y,this.physicalSize.height),x1:(0,a.preserve)(n.fold.path.primary[1].x,this.physicalSize.width),y1:(0,a.mirror)(n.fold.path.primary[1].y,this.physicalSize.height)};o[e].rotation.set(0,0,0),o[e].position.set(0,0,0);var c=new r.Vector3(s.x1,s.y1,this.primarySectionSet.thickness),u=new r.Vector3(s.x1-s.x0,s.y1-s.y0).normalize(),l=this.rotateVector(c,new r.Vector3,new r.Euler);this.applyRotation(o[e],l,i,u)}},{key:"rotateVector",value:function(e,t,n){var r=e.sub(t);return r=(r=r.applyEuler(n)).add(t)}},{key:"applyRotation",value:function(e,t,n,o){var i=new r.Quaternion;return i.setFromAxisAngle(o,n),e.quaternion.multiplyQuaternions(i,e.quaternion),e.position.sub(t),e.position.applyQuaternion(i),e.position.add(t),e}},{key:"isComplete",get:function(){return this.completionStatus}},{key:"isActive",get:function(){return this.activeStatus}},{key:"tags",get:function(){return[]}},{key:"isCanceled",get:function(){return this.canceledStatus}}]),e}();return oi.FoldingAnimation=u,oi}function ai(){if(ti)return ri;ti=1;var e=me.a.exports;Object.defineProperty(ri,"__esModule",{value:!0}),ri.NFoldProduct2=void 0;var t=e(Object(s.a)()),n=e(Object(c.a)()),r=e(Object(So.a)()),o=e(Object(cn.a)()),i=e(Object(un.a)()),a=Object(X.a)(),u=ln.a,l=Object(Er.a)(),d=kn(),p=ii(),f=Ho();function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){function e(t){(0,o.default)(this,e),this.requiresGeometryUpdate=!1,this.currentLayerOffset=.02,this.config=t,this.primarySectionSet=t.sectionSets[0],this.surfaceMapping={},this.sectionGroupMap={},this.physicalSize={width:this.primarySectionSet.trim.bottomRightX-this.primarySectionSet.trim.topLeftX,height:this.primarySectionSet.trim.bottomRightY-this.primarySectionSet.trim.topLeftY,depth:this.primarySectionSet.thickness},this.productStates=[{id:"Unfolded"}];var n,r=h(this.primarySectionSet.foldSequences);try{for(r.s();!(n=r.n()).done;){var i=n.value,a={id:i.id,allowGeneratedFocalPoints:!0};i.dependencyId?a.dependency={stateId:i.dependencyId,animationId:i.id,animationDirection:l.AnimationDirection.forward}:a.dependency={stateId:"Unfolded",animationId:i.id,animationDirection:l.AnimationDirection.forward},this.productStates.push(a)}}catch(c){r.e(c)}finally{r.f()}var s=this.productStates.find((function(e){return"Folded"===e.id}));if(!s)throw new Error("Must have 'Folded' as a fold sequence");this.currentState=s}var s;return(0,i.default)(e,[{key:"name",get:function(){return"package"}}]),(0,i.default)(e,[{key:"buildSectionMeshes",value:function(e){var t={width:this.physicalSize.width,height:this.physicalSize.height},n=[];return n.push.apply(n,(0,r.default)(this.buildFrontSection(e,t))),n.push.apply(n,(0,r.default)(this.buildSectionBody(e,t))),n.push.apply(n,(0,r.default)(this.buildSectionBack(e,t))),n}},{key:"buildFrontSection",value:function(e,t){var n=new u.ShapeGeometry((0,d.convertToShape)(e.path,t,{x:d.preserve,y:d.mirror},{x:d.preserve,y:d.mirror}),15);(0,a.UVMapOffsetShape)(n,this.physicalSize.width,this.physicalSize.height,this.getContentOffset(e.frontSide));var r=[],o=new u.Mesh(n);if(o.uuid="".concat(e.id,":Front"),o.position.z=this.primarySectionSet.thickness+.02,r.push(o),this.surfaceMapping[o.uuid]={substrate:e.frontSide.substrate,fullBleed:this.primarySectionSet.fullBleed,trim:this.primarySectionSet.trim,page:e.frontSide.page,focalPoint:e.frontSide.focalPoint,finishes:e.frontSide.finishes},e.frontSide.finishes){var i,s=.04,c=h(e.frontSide.finishes);try{for(c.s();!(i=c.n()).done;){var l=i.value,p=new u.Mesh(n);p.uuid="".concat(e.id,":Front-").concat(l.name),p.position.z=this.primarySectionSet.thickness+s,r.push(p),s+=.02}}catch(f){c.e(f)}finally{c.f()}}return r}},{key:"buildSectionBody",value:function(e,t){var n=[];if(this.primarySectionSet.thickness>1e-4){var r={bevelEnabled:!1,depth:this.primarySectionSet.thickness,curveSegments:15},o=new u.ExtrudeGeometry((0,d.convertToShape)(e.path,t,{x:d.preserve,y:d.mirror},{x:d.preserve,y:d.mirror}),r);(0,a.UVMapShape)(o,this.physicalSize.width,this.physicalSize.height);var i=new u.Mesh(o);i.uuid="".concat(e.id,":Body"),this.surfaceMapping[i.uuid]={substrate:e.bodySubstrate,fullBleed:this.primarySectionSet.fullBleed},n.push(i)}if(e.path.fills&&e.fillSubstrates)for(var s={bevelEnabled:!1,depth:.02,curveSegments:15},c=0;c<e.path.fills.length;c++){var l=e.path.fills[c],p=new u.ExtrudeGeometry((0,d.convertPathToShape)(l,t,d.preserve,d.mirror),s);(0,a.UVMapShape)(p,this.physicalSize.width,this.physicalSize.height);var f=new u.Mesh(p);f.uuid="".concat(e.id,":Body Fill:").concat(c),this.surfaceMapping[f.uuid]={substrate:e.fillSubstrates[c],fullBleed:this.primarySectionSet.fullBleed},n.push(f)}return n}},{key:"buildSectionBack",value:function(e,t){var n=new u.ShapeGeometry((0,d.convertToShape)(e.path,t,{x:d.mirror,y:d.mirror},{x:d.mirror,y:d.mirror}),15);(0,a.UVMapOffsetShape)(n,this.physicalSize.width,this.physicalSize.height,this.getContentOffset(e.backSide));var r=[],o=new u.Mesh(n);if(o.uuid="".concat(e.id,":Back"),r.push(o),o.position.z=-.02,o.position.x+=this.physicalSize.width,o.rotation.y=Math.PI,this.surfaceMapping[o.uuid]={substrate:e.backSide.substrate,fullBleed:this.primarySectionSet.fullBleed,trim:this.primarySectionSet.trim,page:e.backSide.page,focalPoint:e.backSide.focalPoint,finishes:e.backSide.finishes},e.backSide.finishes){var i,s=.04,c=h(e.backSide.finishes);try{for(c.s();!(i=c.n()).done;){var l=i.value,p=new u.Mesh(n);p.uuid="".concat(e.id,":Back-").concat(l.name),r.push(p),p.position.z=-s,p.position.x+=this.physicalSize.width,p.rotation.y=Math.PI,s+=.02}}catch(f){c.e(f)}finally{c.f()}}return r}},{key:"buildSectionGroup",value:function(e){var t=new u.Group;this.sectionGroupMap[e.id]=t;var n=this.buildSectionMeshes(e);t.add.apply(t,(0,r.default)(n));for(var o=this.getConnectedFolds(e.id),i=0;i<o.length;i++){var a=o[i],s=(0,f.getSection)(a.childSectionId,this.primarySectionSet.sections);t.add(this.buildSectionGroup(s))}return t}},{key:"getConnectedFolds",value:function(e){for(var t=[],n=0;n<this.primarySectionSet.folds.length;n++){var r=this.primarySectionSet.folds[n];r.parentSectionId===e&&t.push(r)}return t}},{key:"getContentOffset",value:function(e){return e.contentOffset?new u.Vector2(e.contentOffset.x,e.contentOffset.y):new u.Vector2}},{key:"updateLayerOffset",value:function(e){var t,n=this;null===(t=this.initializedGeometry)||void 0===t||t.traverse((function(t){"Mesh"===t.type&&(t.uuid.indexOf("Back")>=0?t.position.z=-e:t.uuid.indexOf("Front")>=0&&(t.position.z=n.primarySectionSet.thickness+e))}))}},{key:"getGeometry",value:(s=(0,n.default)(t.default.mark((function e(){var n,r,o,i,s;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initializedGeometry&&(0,a.disposeGeometryRecursively)(this.initializedGeometry),n=(0,f.getSection)(this.primarySectionSet.baseSectionId,this.primarySectionSet.sections),r=this.buildSectionGroup(n),this.primarySectionSet.rotationOffset&&(o=this.primarySectionSet.rotationOffset,r.rotation.set(o.yaw,o.pitch,o.roll)),e.next=6,(0,a.instantlyPlayAnimation)("Folded",this);case 6:return i=(new u.Box3).setFromObject(r),s=i.getCenter(new u.Vector3),r.position.set(-s.x,-s.y,-s.z),r.updateMatrix(),this.requiresGeometryUpdate=!1,this.initializedGeometry=new u.Group,this.initializedGeometry.add(r),e.abrupt("return",this.initializedGeometry);case 14:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this N-fold product"));this.surfaceMapping[e]=t}},{key:"getSectionGroupMapping",value:function(){return this.sectionGroupMap}},{key:"getPhysicalSize",value:function(){return this.physicalSize}},{key:"getCurrentState",value:function(){return this.currentState}},{key:"setCurrentState",value:function(e){var t=this.getStates().find((function(t){return t.id===e}));if(!t)throw new Error("'".concat(e," is not a state defined in this product!"));this.currentState=t}},{key:"getStates",value:function(){return this.productStates}},{key:"setStates",value:function(e){}},{key:"getAnimationIds",value:function(){var e=[];return this.primarySectionSet.foldSequences.forEach((function(t){return e.push(t.id)})),e}},{key:"buildAnimation",value:function(e){var t=this.primarySectionSet.foldSequences.find((function(t){return t.id===e.animationId}));if(void 0===this.primarySectionSet.foldSequences||!t)throw new Error("Fold sequence '".concat(e.animationId,"' is not an available in the NFold Config!"));var n={duration:e.duration,direction:e.direction,sequenceId:e.animationId};return new p.FoldingAnimation(this,this.config,n)}},{key:"sync",value:function(e){var t=e.preview.camera.normalizedZoomFactor,n=t>1?.04*t:.02;Math.abs(this.currentLayerOffset-n)>1e-4&&(this.updateLayerOffset(n),this.currentLayerOffset=n)}},{key:"getAlphaMap",value:function(e,t,n){n.fillRect(0,0,e.productSize.width,e.productSize.height),n.fillStyle="#FFFFFF",n.closePath(),n.fill()}},{key:"getAreaLights",value:function(e,t){var n=[.4*e,.4*e,.37*e,.37*e,.43*e,.4*e];return(0,a.buildPointLightGrid)(n)}},{key:"preLoad",value:function(){return Promise.resolve()}},{key:"dispose",value:function(){this.initializedGeometry&&((0,a.disposeGeometryRecursively)(this.initializedGeometry),this.initializedGeometry=void 0)}}]),e}();return ri.NFoldProduct2=g,ri}var si=me.a.exports;Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.getNfoldProduct=function(e){return mi.apply(this,arguments)};var ci=si(Object(s.a)()),ui=si(Object(c.a)()),li=si(G()),di=(ni||(ni=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){if(No)return Bo;No=1;var e=me.a.exports;Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.NFoldProduct=void 0;var t=e(Object(s.a)()),n=e(Object(c.a)()),r=e(Object(ct.a)()),o=e(Object(cn.a)()),i=e(Object(un.a)()),a=Object(X.a)(),u=ln.a,l=Object(Er.a)(),d=Wo(),p=Ho(),f=Go();function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){function e(t){var n;(0,o.default)(this,e),this.name="n-fold",this.requiresGeometryUpdate=!1,this.surfaceMapping={},this.numberOfPanels=t.nFoldOptions.horizontalRatios.length*t.nFoldOptions.verticalRatios.length,this.panelRatiosH=t.nFoldOptions.horizontalRatios,this.panelRatiosV=t.nFoldOptions.verticalRatios,this.nfoldOptions=t.nFoldOptions,this.foldCommands=t.nFoldOptions.foldDirections.reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return e.ratioIndex>t.ratioIndex?1:-1})),this.depth=t.depth,this.size=t.fullBleed,this.rotation=null!==(n=t.rotation)&&void 0!==n?n:f.ProductRotation.none,t.trim&&(this.size={width:t.trim.bottomRightX-t.trim.topLeftX,height:t.trim.bottomRightY-t.trim.topLeftY}),this.openSize={width:this.size.width,height:this.size.height,depth:this.depth};for(var r={substrate:t.productSurfaces.front.substrate,fullBleed:t.fullBleed,trim:t.trim,page:t.productSurfaces.front.page,finishes:t.productSurfaces.front.finishes},i={substrate:t.productSurfaces.back.substrate,fullBleed:t.fullBleed,trim:t.trim,page:t.productSurfaces.back.page,finishes:t.productSurfaces.back.finishes},a={substrate:t.productSurfaces.back.substrate,fullBleed:t.fullBleed,trim:t.trim},s=0;s<t.nFoldOptions.verticalRatios.length;s++)for(var c=0;c<t.nFoldOptions.horizontalRatios.length;c++)this.surfaceMapping["front-".concat(s,"-").concat(c)]=r,this.surfaceMapping["back-".concat(s,"-").concat(c)]=i,this.surfaceMapping["left-".concat(s,"-").concat(c)]=this.getJoinMaterials(c,f.PanelEdge.left,r,i,a),this.surfaceMapping["right-".concat(s,"-").concat(c)]=this.getJoinMaterials(c,f.PanelEdge.right,r,i,a),this.surfaceMapping["top-".concat(s,"-").concat(c)]=a,this.surfaceMapping["bottom-".concat(s,"-").concat(c)]=a;this.productStates=[{id:"Folded"},{id:"Unfolded",dependency:{stateId:"Folded",animationId:"Fold",animationDirection:l.AnimationDirection.backward}}],this.currentState=this.productStates[0]}var r;return(0,i.default)(e,[{key:"setSubstrate",value:function(e,t){var n=this;t?this.surfaceMapping[t].substrate=m({},e):Object.keys(this.surfaceMapping).forEach((function(t){n.surfaceMapping[t].substrate=m({},e)}))}},{key:"setFinishes",value:function(e){var t=this;Object.keys(this.surfaceMapping).forEach((function(n){n.startsWith("front")&&(t.surfaceMapping[n].finishes=e)})),this.requiresGeometryUpdate=!0}},{key:"getJoinAngles",value:function(){for(var e=new Array(this.numberOfPanels-1).fill(0),t=0;t<this.numberOfPanels;t++){var n=this.foldCommands[t];n.edge===f.PanelEdge.right&&t<this.numberOfPanels-1?e[t]-=n.angleClosed:n.edge===f.PanelEdge.left&&t>0&&(e[t-1]+=n.angleClosed)}return e}},{key:"getJoinMaterials",value:function(e,t,n,r,o){var i=this.getJoinAngles(),a=e+(t===f.PanelEdge.left?0:1);return 0===a||a===this.numberOfPanels?n:i[a-1]>=0?r:n}},{key:"buildFrontUVRanges",value:function(e){for(var t=[],n=0,r=0;r<e.length;r++)t.push(new u.Vector2(n,n+e[r])),n+=e[r];return t}},{key:"buildBackUVRanges",value:function(e){for(var t=[],n=0,r=e.length-1;r>=0;r--)t.push(new u.Vector2(n,n+e[r])),n+=e[r];return t.reverse()}},{key:"getGeometry",value:(r=(0,n.default)(t.default.mark((function e(){var n,r,o,i,s,c,l,d,h,m,g,v,y,b,w,O,E=this;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.dispose(),this.geometry=new u.Group,n=this.buildFrontUVRanges(this.panelRatiosH),r=this.buildBackUVRanges(this.panelRatiosH),o=this.buildFrontUVRanges(this.panelRatiosV),i=function(e){for(var t=E.size.height*E.panelRatiosV[e],i=o[e],s=function(o){var s=new u.Group,c=E.size.width*E.panelRatiosH[o],l=new u.PlaneGeometry(c,t);(0,a.UVMapPlane)(l,n[o].x,n[o].y,i.x,i.y);var d=new u.Mesh(l);d.uuid="front-".concat(e,"-").concat(o),d.position.z=E.depth/2,s.add(d);var p=E.surfaceMapping["front-".concat(e,"-").concat(o)];p.finishes&&p.finishes.forEach((function(r){var l=new u.PlaneGeometry(c,t);(0,a.UVMapPlane)(l,n[o].x,n[o].y,i.x,i.y);var p=new u.Mesh(l);p.uuid="front-".concat(e,"-").concat(o,"-").concat(r.name),p.position.z=d.position.z,s.add(p)}));var f=new u.PlaneGeometry(c,t);(0,a.UVMapPlane)(f,r[o].x,r[o].y,i.x,i.y);var h=new u.Mesh(f);h.uuid="back-".concat(e,"-").concat(o),h.rotation.y=Math.PI,h.position.z=-E.depth/2,s.add(h);var m=E.depth/E.size.width,g=new u.PlaneGeometry(E.depth,t);(0,a.UVMapPlane)(g,r[o].x-m,r[o].x+m,i.x,i.y);var v=new u.Mesh(g);v.uuid="left-".concat(e,"-").concat(o),v.rotation.y=Math.PI/2,v.position.x=c/2,s.add(v);var y=new u.PlaneGeometry(E.depth,t);(0,a.UVMapPlane)(y,r[o].x-m,r[o].x+m,i.x,i.y);var b=new u.Mesh(y);b.uuid="right-".concat(e,"-").concat(o),b.rotateY(-Math.PI/2),b.position.x=-c/2,s.add(b);var w=new u.PlaneGeometry(c,E.depth),O=new u.Mesh(w);O.uuid="top-".concat(e,"-").concat(o),O.rotateX(-Math.PI/2),O.position.y=t/2*-1,s.add(O);var x=new u.PlaneGeometry(c,E.depth),S=new u.Mesh(x);S.uuid="bottom-".concat(e,"-").concat(o),S.rotateX(Math.PI/2),S.position.y=t/2,s.add(S),E.geometry.add(s)},c=0;c<E.panelRatiosH.length;c++)s(c)},s=0;s<this.panelRatiosV.length;s++)i(s);for(c=(0,p.getZScaleRatios)(this.nfoldOptions),l=0;l<this.panelRatiosV.length;l++)for(d=this.panelRatiosV.slice(0,l+1).reduce((function(e,t){return e+t})),h=0;h<this.panelRatiosH.length;h++)m=this.geometry.children[l*this.panelRatiosH.length+h],g=this.panelRatiosH.slice(0,h+1).reduce((function(e,t){return e+t})),m.position.y=this.size.height*d-this.size.height*this.panelRatiosV[l]*.5-this.size.height/2,m.position.x=this.size.width*g-this.size.width*this.panelRatiosH[h]*.5-this.size.width/2,m.scale.setZ(c[l*this.panelRatiosH.length+h]);for(this.geometry.userData.openPosition=this.geometry.position.clone(),v=function(e){var t=E.foldCommands[e],n=E.getRotationPanel(t),r=t.edge===f.PanelEdge.right||t.edge===f.PanelEdge.top?-1:1,o=t.angleClosed>0?1:-1,i=n.children[0],a=n.children[1];if(null!==i.geometry.boundingBox&&void 0!==i.geometry.boundingBox||(i.geometry.computeBoundingBox(),a.geometry.computeBoundingBox()),null===i.geometry.boundingBox||null===a.geometry.boundingBox)throw new Error("unable to compute bounding box");var s=Math.max(i.geometry.boundingBox.max.x,a.geometry.boundingBox.max.x)-Math.min(i.geometry.boundingBox.min.x,a.geometry.boundingBox.min.x),c=Math.max(i.geometry.boundingBox.max.y,a.geometry.boundingBox.max.y)-Math.min(i.geometry.boundingBox.min.y,a.geometry.boundingBox.min.y),l=new u.Vector3(n.position.x+r*s/2,n.position.y-r*c/2,n.position.z-r*E.depth*n.scale.z*.5*o);l=(0,p.rotateVector)(l,n.position,n.rotation);var d=(0,p.getRotationAxis)(t.edge);E.findRotationPanels(t).forEach((function(e){return(0,p.applyRotation)(e,l,t.angleClosed,d)}))},y=0;y<this.foldCommands.length;y++)v(y);return this.geometry.rotation.y=Math.PI,this.nfoldOptions.rotationOffset&&((0,p.applyRotation)(this.geometry,new u.Vector3(0,0,0),this.nfoldOptions.rotationOffset.yaw,new u.Vector3(1,0,0)),(0,p.applyRotation)(this.geometry,new u.Vector3(0,0,0),this.nfoldOptions.rotationOffset.pitch,new u.Vector3(0,1,0)),(0,p.applyRotation)(this.geometry,new u.Vector3(0,0,0),this.nfoldOptions.rotationOffset.roll,new u.Vector3(0,0,1))),b=(new u.Box3).setFromObject(this.geometry),w=b.getCenter(new u.Vector3),O=b.getSize(new u.Vector3),this.geometry.translateX(w.x),this.geometry.translateY(w.y),this.geometry.translateZ(w.z),this.rotation===f.ProductRotation.rotate_90?((0,p.applyRotation)(this.geometry,new u.Vector3(0,0,0),Math.PI/2,new u.Vector3(0,0,1)),O=new u.Vector3(O.y,O.x,O.z)):this.rotation===f.ProductRotation.rotate_270&&((0,p.applyRotation)(this.geometry,new u.Vector3(0,0,0),3*Math.PI/2,new u.Vector3(0,0,1)),O=new u.Vector3(O.y,O.x,O.z)),this.geometry.userData.state="closed",this.geometry.userData.closedPosition=this.geometry.position.clone(),this.closedSize={width:O.x,height:O.y,depth:O.z},this.requiresGeometryUpdate=!1,e.abrupt("return",Promise.resolve(this.geometry));case 26:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSurfaceMapping",value:function(){return this.surfaceMapping}},{key:"setProductSurface",value:function(e,t){if(!this.surfaceMapping[e])throw new Error("'".concat(e,"' is not a surface on this N-Fold product"));this.surfaceMapping[e]=t}},{key:"getCurrentState",value:function(){return this.currentState}},{key:"setCurrentState",value:function(e){var t=this.productStates.find((function(t){return t.id===e}));if(!t)throw new Error("'".concat(e," is not a state defined in this product!"));this.currentState=t}},{key:"getStates",value:function(){return this.productStates}},{key:"setStates",value:function(e){}},{key:"getAnimationIds",value:function(){return[]}},{key:"buildAnimation",value:function(e){var t={direction:e.direction===l.AnimationDirection.forward?d.FoldAnimationDirection.close:d.FoldAnimationDirection.open,duration:e.duration,nFoldOptions:this.nfoldOptions,depth:this.depth};return new d.NFoldAnimation(this.geometry,t)}},{key:"getAlphaMap",value:function(e,t,n){}},{key:"getAreaLights",value:function(e,t){var n=[],r=new u.DirectionalLight(16777215,.12*t);r.position.set(0,0,200);var o=new u.DirectionalLight(16777215,.12*t);o.position.set(0,0,-200),n.push(r),n.push(o);var i=new u.PointLight(16777215,.25*e,500);i.position.set(0,0,300);var a=new u.PointLight(16777215,.25*e,500);return a.position.set(0,0,-300),n.push(i),n.push(a),n}},{key:"open",value:function(e,t){var n={animationId:"fold",direction:l.AnimationDirection.backward,duration:t||2},r={id:"n-fold-open",animation:this.buildAnimation(n),cameraOptions:{duration:t,geometrySize:{width:this.size.width,height:this.size.height,depth:this.depth}}};return this.setCurrentState("Unfolded"),e.performAction(r)}},{key:"close",value:function(e,t){var n=this,r={animationId:"fold",direction:l.AnimationDirection.forward,duration:t||2},o={id:"n-fold-close",animation:this.buildAnimation(r),cameraOptions:{duration:t,geometrySize:this.closedSize}};return this.setCurrentState("Folded"),e.performAction(o).then((function(){if(n.geometry){var e=(new u.Box3).setFromObject(n.geometry).getSize(new u.Vector3);n.openSize={width:e.x,height:e.y,depth:e.z}}}))}},{key:"preLoad",value:function(){return Promise.resolve()}},{key:"dispose",value:function(){void 0!==this.geometry&&((0,a.disposeGeometryRecursively)(this.geometry),this.geometry=void 0)}},{key:"getRotationPanel",value:function(e){var t=e.edge,n=this.geometry;if(t===f.PanelEdge.left||t===f.PanelEdge.right){var r=e.edge===f.PanelEdge.left?e.ratioIndex-1:e.ratioIndex+1;return n.children[r]}var o=e.edge===f.PanelEdge.top?e.ratioIndex-1:e.ratioIndex+1;return n.children[o*this.panelRatiosH.length]}},{key:"findRotationPanels",value:function(e){var t=e.edge,n=this.geometry,r=[],o=0,i=this.panelRatiosH.length,a=0,s=this.panelRatiosV.length;e.edge===f.PanelEdge.left?o=e.ratioIndex:t===f.PanelEdge.right?i=e.ratioIndex+1:t===f.PanelEdge.bottom?s=e.ratioIndex+1:a=e.ratioIndex;for(var c=a;c<s;c++)for(var u=o;u<i;u++)r.push(n.children[c*this.panelRatiosH.length+u]);return r}}]),e}();return Bo.NFoldProduct=g,Bo}();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=Go();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=Yo();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=function(){if(Zo)return Jo;Zo=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.getFoldConfiguration=function(t){switch(t){case e.FoldType.TwoPageRoll:return e.TwoPageRoll;case e.FoldType.ThreePanelRoll:return e.ThreePanelRoll;case e.FoldType.ThreePanelZ:return e.ThreePanelZ;case e.FoldType.Gate:return e.GateFold;case e.FoldType.FourPanelZ:return e.FourPanelZ;case e.FoldType.FourPanelRoll:return e.FourPanelRoll;case e.FoldType.DoubleGate:return e.DoubleGate;case e.FoldType.Parallel:return e.ParallelFold;case e.FoldType.TwoPageRollH:return e.TwoPageRollH;default:throw new Error("Unknown Fold Type type requested: ".concat({foldType:t}))}};var e=Yo();return Jo}();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var i=(Xo||(Xo=1),$o);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var a=ai();Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}))}(Fo)),Fo),pi=Kn();function fi(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(){return(mi=(0,ui.default)(ci.default.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,p,f,h,m,g,v,y,b,w,O,E,x,S,P,C,T,_,k,I,M,j;return ci.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li.default.get(t.productDataUrl);case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error("Failed to fetch NFoldData from '".concat(t.productDataUrl,"'!"));case 5:return r=n.data,o=[],e.next=9,(0,pi.loadSubstrateMap)(t);case 9:return i=e.sent,e.next=12,(0,pi.loadFinishMap)(t);case 12:a=e.sent,s=fi(r.sectionSets),e.prev=14,s.s();case 16:if((c=s.n()).done){e.next=61;break}u=c.value,l=[],d=fi(u.sections),e.prev=20,d.s();case 22:if((p=d.n()).done){e.next=50;break}if(m=p.value,g="".concat(m.id,":Front"),v="".concat(m.id,":Body"),y="".concat(m.id,":Back"),t.surfaceMapping[g]&&t.surfaceMapping[v]&&t.surfaceMapping[y]){e.next=29;break}throw new Error("The surface mapping must contain three surfaces (front, body, and back) for section!");case 29:if(b=t.surfaceMapping[g],w=t.surfaceMapping[v],O=t.surfaceMapping[y],E={id:m.id,path:m.path,frontSide:{page:b.page,contentOffset:null===(f=b.contentOptions)||void 0===f?void 0:f.offset,substrate:i[b.substrateId],focalPoint:b.focalPoint},backSide:{page:O.page,contentOffset:null===(h=O.contentOptions)||void 0===h?void 0:h.offset,substrate:i[O.substrateId],focalPoint:O.focalPoint},bodySubstrate:i[w.substrateId]},b.finishIds){E.frontSide.finishes=[],x=fi(b.finishIds);try{for(x.s();!(S=x.n()).done;)P=S.value,E.frontSide.finishes.push(a[P])}catch(A){x.e(A)}finally{x.f()}}if(O.finishIds){E.backSide.finishes=[],C=fi(O.finishIds);try{for(C.s();!(T=C.n()).done;)_=T.value,E.backSide.finishes.push(a[_])}catch(A){C.e(A)}finally{C.f()}}if(!m.path.fills){e.next=47;break}E.fillSubstrates=[],k=0;case 38:if(!(k<m.path.fills.length)){e.next=47;break}if(I="".concat(m.id,":Body Fill:").concat(k),t.surfaceMapping[I]){e.next=42;break}throw new Error("The surface mapping must include '".concat(I,"' because the path has fill sections!"));case 42:M=t.surfaceMapping[I],E.fillSubstrates.push(i[M.substrateId]);case 44:k++,e.next=38;break;case 47:l.push(E);case 48:e.next=22;break;case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(20),d.e(e.t0);case 55:return e.prev=55,d.f(),e.finish(55);case 58:o.push({id:u.id,name:u.name,fullBleed:u.fullBleed,trim:u.trim,thickness:u.thickness,baseSectionId:u.baseSectionId,sections:l,folds:u.folds,foldSequences:u.foldSequences,rotationOffset:u.rotationOffset,positionOffset:u.positionOffset});case 59:e.next=16;break;case 61:e.next=66;break;case 63:e.prev=63,e.t1=e.catch(14),s.e(e.t1);case 66:return e.prev=66,s.f(),e.finish(66);case 69:return j={sectionSets:o},e.abrupt("return",new di.NFoldProduct2(j));case 71:case"end":return e.stop()}}),e,null,[[14,63,66,69],[20,52,55,58]])})))).apply(this,arguments)}var gi=me.a.exports;Object.defineProperty(wo,"__esModule",{value:!0}),wo.loadProduct=function(e){return Ci.apply(this,arguments)},wo.getProductConfig=function(e){return Ti.apply(this,arguments)};var vi,yi=gi(Object(s.a)()),bi=gi(Object(c.a)()),wi=gi(G()),Oi=Oo,Ei=(jo||(jo=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.ProductType=void 0,Ao.ProductType=vi,function(e){e.model="model",e.flatSheet="flatSheet",e.nFold="nFold",e.canvasPrint="canvasPrint"}(vi||(Ao.ProductType=vi={}))),Ao),xi=De,Si=pr,Pi=Uo;function Ci(){return(Ci=(0,bi.default)(yi.default.mark((function e(t){return yi.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next=e.t0===Ei.ProductType.flatSheet?3:e.t0===Ei.ProductType.model?4:e.t0===Ei.ProductType.nFold?5:e.t0===Ei.ProductType.canvasPrint?6:7;break;case 3:return e.abrupt("return",(0,xi.getFlatSheetProduct)(t));case 4:return e.abrupt("return",(0,Si.getModelProduct)(t));case 5:return e.abrupt("return",(0,Pi.getNfoldProduct)(t));case 6:return e.abrupt("return",(0,Oi.getCanvasPrintProduct)(t));case 7:throw new Error("Unsupported product type '".concat(t.type,"'!"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(){return(Ti=(0,bi.default)(yi.default.mark((function e(t){var n,r,o;return yi.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t.attributes),r="".concat("https://cdn.previews.cimpress.io/v2/modelConfig","?sku=").concat(t.sku,"&skuAttributes=").concat(encodeURIComponent(n))+"&tenantId=".concat(t.tenant.id,"&tenantType=").concat(t.tenant.type),t.ignoreLinkedModels&&(r+="&ignoreVortexModel=".concat(t.ignoreLinkedModels)),e.next=5,wi.default.get(r);case 5:if(!((o=e.sent).status>=400)){e.next=8;break}throw new Error("Failed to fetch vortex product config: '".concat(JSON.stringify(o.data),"'!"));case 8:return e.abrupt("return",o.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=a;Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=Te;Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=De;Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=pr;Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var i=wo;Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var s=Uo;Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}));var c=Oo;Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}));var u=Zr;Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}))}(i.a)},OeRv:function(e,t,n){},Onz0:function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n("tjlA").Buffer)},OoGS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},OrJK:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AsLowAsPricePerPiece",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"LabeledPrice",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriceForQtyUnits",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"QtyForOnly",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"QtyStartingAtPrice",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PlusOrMinus",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PlusOrMinusPerUnit",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"PercentOff",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"YouSaved",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"RawPrice",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"PricePerUnit",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"CouponCallout",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"VatMessage",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"VpTokenizedFragment",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"TokenReplace",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ITokenReplaceProps",{enumerable:!0,get:function(){return b.ITokenReplaceProps}}),Object.defineProperty(t,"PricePresentation",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"QtyForPrice",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"QtyFromPrice",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"RangePrice",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"IUnitPrice",{enumerable:!0,get:function(){return S.IUnitPrice}}),Object.defineProperty(t,"ICouponCallout",{enumerable:!0,get:function(){return S.ICouponCallout}}),Object.defineProperty(t,"IPrice",{enumerable:!0,get:function(){return S.IPrice}}),Object.defineProperty(t,"IRangePrice",{enumerable:!0,get:function(){return S.IRangePrice}}),Object.defineProperty(t,"IPercentage",{enumerable:!0,get:function(){return S.IPercentage}}),Object.defineProperty(t,"IPlusOrMinus",{enumerable:!0,get:function(){return S.IPlusOrMinus}}),Object.defineProperty(t,"IQuantityPrice",{enumerable:!0,get:function(){return S.IQuantityPrice}}),Object.defineProperty(t,"ISavings",{enumerable:!0,get:function(){return S.ISavings}}),Object.defineProperty(t,"IVatMessage",{enumerable:!0,get:function(){return S.IVatMessage}});var i=o(n("7gIb")),a=o(n("wCj4")),s=o(n("v3mq")),c=o(n("XMAQ")),u=o(n("grwm")),l=o(n("QHD2")),d=o(n("ocql")),p=o(n("Qhyj")),f=o(n("H/5Z")),h=o(n("D7Ly")),m=o(n("XnrF")),g=o(n("cBuW")),v=o(n("q6z5")),y=o(n("nzdk")),b=r(n("5VOQ")),w=o(n("q1Yw")),O=o(n("39H/")),E=o(n("IGd6")),x=o(n("qgsu")),S=n("zhvd")},P1HI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("yoy/"),o=Object(r.a)()},P44E:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy"),a=n("neN6");const s=({children:e})=>{const{customerData:t}=Object(a.b)(),n=(null==t?void 0:t.portfolioData.length)>0;return o.a.createElement(i.Box,{component:"section",className:"notification-status-bar-wrapper","data-hasProjects":n},e)}},P7XM:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},PVtR:function(e,t,n){"use strict";var r=n("VAJa"),o=n("pPIV"),i=n("yJra"),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=String.prototype.split,l=Array.prototype.push,d=function(e,t){l.apply(e,c(t)?t:[t])},p=Date.prototype.toISOString,f=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},m={},g=function e(t,n,i,a,s,l,p,f,g,v,y,b,w,O,E){for(var x,S=t,P=E,C=0,T=!1;void 0!==(P=P.get(m))&&!T;){var _=P.get(t);if(C+=1,void 0!==_){if(_===C)throw new RangeError("Cyclic object value");T=!0}void 0===P.get(m)&&(C=0)}if("function"==typeof p?S=p(n,S):S instanceof Date?S=v(S):"comma"===i&&c(S)&&(S=o.maybeMap(S,(function(e){return e instanceof Date?v(e):e}))),null===S){if(a)return l&&!w?l(n,h.encoder,O,"key",y):n;S=""}if("string"==typeof(x=S)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||o.isBuffer(S)){if(l){var k=w?n:l(n,h.encoder,O,"key",y);if("comma"===i&&w){for(var I=u.call(String(S),","),M="",j=0;j<I.length;++j)M+=(0===j?"":",")+b(l(I[j],h.encoder,O,"value",y));return[b(k)+"="+M]}return[b(k)+"="+b(l(S,h.encoder,O,"value",y))]}return[b(n)+"="+b(String(S))]}var A,R=[];if(void 0===S)return R;if("comma"===i&&c(S))A=[{value:S.length>0?S.join(",")||null:void 0}];else if(c(p))A=p;else{var D=Object.keys(S);A=f?D.sort(f):D}for(var L=0;L<A.length;++L){var N=A[L],U="object"==typeof N&&void 0!==N.value?N.value:S[N];if(!s||null!==U){var F=c(S)?"function"==typeof i?i(n,N):n:n+(g?"."+N:"["+N+"]");E.set(t,C);var B=r();B.set(m,E),d(R,e(U,F,i,a,s,l,p,f,g,v,y,b,w,O,B))}}return R};e.exports=function(e,t){var n,o=e,u=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=h.filter;return("function"==typeof e.filter||c(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(n=u.filter);var l,p=[];if("object"!=typeof o||null===o)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=s[l];n||(n=Object.keys(o)),u.sort&&n.sort(u.sort);for(var m=r(),v=0;v<n.length;++v){var y=n[v];u.skipNulls&&null===o[y]||d(p,g(o[y],y,f,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var b=p.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},PWiV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("hqiQ"),o=Object(r.a)()},Pr4q:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("zLVn"),o=n("Nz9T"),i=n.n(o),a=n("wyvy"),s=n("J8aS");const c=e=>{let{text:t,url:n,count:o,skin:c="secondary",component:u="a",showButton:l=!1,onClick:d,trackingConfiguration:p}=e,f=Object(r.a)(e,["text","url","count","skin","component","showButton","onClick","trackingConfiguration"]);if(!1===l||null===t||void 0===n&&!d)return null;const h=null==p?void 0:p.linkAttributes,m=Object(s.a)(p,n);return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.TextButton,Object.assign({widthVariant:"standard",sizeVariant:"mini",mt:2,mr:2,skin:c,component:u,onClick:e=>{m&&m(e),d&&d(e)},href:"a"===u?n:void 0},f,h),i.a.createElement(a.Typography,{className:"link-container"},t),o&&i.a.createElement(a.Typography,{component:"span"},i.a.createElement(a.Count,{className:"status-bar-button-count"},o))))}},PrET:function(e,t,n){"use strict";var r=n("D3zA"),o=n("AM7I"),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(p){u=null}e.exports=function(e){var t=s(r,a,arguments);if(c&&u){var n=c(t,"length");n.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},QFcT:function(e,t,n){var r=n("I+eb"),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,s=0,c=arguments.length,u=0;s<c;)u<(n=i(arguments[s++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*a(o)}})},QHD2:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"plusOrMinus",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText})}}t.default=s},QIE6:function(e,t,n){var r=n("7MhH"),o=n("wJvl"),i=o.formatDOM,a=o.isIE(9),s=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t,n=e.match(s);return n&&n[1]&&(t=n[1],a&&(e=e.replace(n[0],""))),i(r(e),null,t)}},QIZl:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,o,i=n("Rmyw"),a=n("eLLd"),s=i.a,c=a.a,u=s.process,l=s.Deno,d=u&&u.versions||l&&l.version,p=d&&d.v8;p&&(o=(r=p.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&c&&(!(r=c.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=c.match(/Chrome\/(\d+)/))&&(o=+r[1]);var f=o},QRwG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r={};n.r(r),n.d(r,"fromUtf8",(function(){return i})),n.d(r,"toUtf8",(function(){return a}));var o=n("2taM");var i=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},a=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},s=Object(o.b)(r)},QYXr:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("zwAr"),o=n("JOlD"),i=n("QIZl"),a=r.a,s=o.a,c=i.a,u=s("species"),l=function(e){return c>=51||!a((function(){var t=[];return(t.constructor={})[u]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},Qhyj:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"percentOff",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText})}}t.default=s},QpuX:function(e,t,n){e.exports=n("fiWp").EventEmitter},QuR9:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("Nz9T"),o=n.n(r),i=n("TSYQ"),a=n.n(i),s=n("wyvy"),c=n("OrJK"),u=n("7KV9"),l=n("jt1E"),d=n("neN6");n("0WmL");function p(e){return e.profile.firstName?o.a.createElement(f,{profile:e.profile,className:e.className}):o.a.createElement(f,{profile:{firstName:"..."},className:e.className})}const f=({profile:e,className:t})=>{const n=Object(l.b)(),r=Object(d.b)(),i=Object(s.useScreenClass)(),p=n.homepageWelcomeBackEmail,f=n.homepageHiFirstName,{firstName:h,lastName:m,email:g}=e,v=null==g?void 0:g.split("@")[0],y=a()("snowflake-link-wrapper",t),b=void 0!==t?"standard":"cta",w=()=>{let e="";return e=h?f:p,o.a.createElement(u.IssuesWrapper,{targetNodes:[e],elementName:"Welcome text"},o.a.createElement(c.TokenReplace,{tokenizedText:e.value,contextVariables:{email:v,firstName:h,lastName:m}}))};return o.a.createElement(s.Typography,{className:y,id:"account-name",component:"h2",mt:"xs"===i?2:0},o.a.createElement(s.Link,{href:r.myAccountLink,className:"snowflake-link snowflake-link-accountInfo",skin:b},o.a.createElement(w,null)))}},QuRd:function(e,t,n){"use strict";var r,o,i=n("ug/g"),a={},s=(n("R1BN"),n("9pfv")),c=n("CPM8"),u=n("aTPC"),l=n("H/hk"),d=n("4EI8"),p=n("YVQJ"),f=n("2taM"),h=n("Iz2V"),m=Object(f.b)(h),g=n("1MfR"),v=n("1Pl4"),y={},b={},w=n("0LXn");function O(){if(r)return b;r=1;var e=w.a.exports;Object.defineProperty(b,"__esModule",{value:!0}),b.RenderingClient=void 0;var t=e(Object(l.a)()),n=e(Object(d.a)());function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){function e(n){var r,o,i,a,s;if((0,t.default)(this,e),this.instructionSourceOverrides={},this.instructionsChanged=!1,this.webpSupported=!1,this.tenant=n.tenant,this.category=n.category,this.baseUrl=null!==(r=n.baseUrl)&&void 0!==r?r:"https://rendering.documents.cimpress.io/v2",this.cacheBust=null!==(o=n.cacheBust)&&void 0!==o&&o,this.minimumRenderSize=null!==(i=n.minimumRenderSize)&&void 0!==i?i:512,this.maximumRenderSize=null!==(a=n.maximumRenderSize)&&void 0!==a?a:1024,this.webpEnabled=null!==(s=n.enableWebp)&&void 0!==s&&s,!this.isPow2(this.minimumRenderSize)||!this.isPow2(this.maximumRenderSize))throw new Error("Minium and maximum render sizes must be powers of two!")}return(0,n.default)(e,[{key:"initialize",value:function(){var e=this;if(!this.webpEnabled)return Promise.resolve();var t=new Image;return t.onload=function(){e.webpSupported=!0},t.onerror=function(){e.webpSupported=!1},t.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",t.decode()}},{key:"computeRenderSize",value:function(e){return void 0===this.containerDimensions?{textureSize:{width:this.minimumRenderSize,height:this.minimumRenderSize},productSize:{width:Math.round(e>1?this.maximumRenderSize:this.maximumRenderSize*e),height:Math.round(e>1?this.maximumRenderSize/e:this.maximumRenderSize)}}:(this.containerDimensions.width/this.containerDimensions.height>1?t=(n=this.containerDimensions.height)*e:n=(t=this.containerDimensions.width)/e,{textureSize:{width:t<this.minimumRenderSize?this.minimumRenderSize:this.maximumRenderSize,height:n<this.minimumRenderSize?this.minimumRenderSize:this.maximumRenderSize},productSize:{width:Math.round(e>1?this.maximumRenderSize:this.maximumRenderSize*e),height:Math.round(e>1?this.maximumRenderSize/e:this.maximumRenderSize)}});var t,n}},{key:"isInitialized",value:function(){return void 0!==this.instructionSourceUrl}},{key:"requiresUpdate",value:function(){return this.instructionsChanged}},{key:"updateContainerDimensions",value:function(e){this.containerDimensions=e}},{key:"setInstructionSourceUrl",value:function(e,t){t&&this.instructionSourceUrl?this.instructionSourceOverrides[t]="".concat(e):(this.instructionSourceOverrides={},this.instructionSourceUrl="".concat(e)),this.instructionsChanged=!0}},{key:"buildDocumentRasterUrls",value:function(e){var t=this,n={},r=e.getSurfaceMapping(),i=Object.keys(r).some((function(e){return r[e].page&&r[e].substrate&&(r[e].substrate.supportsTransparency||r[e].substrate.requiresDocumentTransparency)}));return Object.keys(r).forEach((function(e){var a=r[e];if(a.page){var s,c="".concat(a.page," none"),u=null!==(s=t.instructionSourceOverrides[a.page])&&void 0!==s?s:t.instructionSourceUrl,l=a.fullBleed.width/a.fullBleed.height,d=t.computeRenderSize(l);if(n[c]||(n[c]=t.getDocumentRaster(d.textureSize,a,u,void 0,i)),a.finishes){var p,f=o(a.finishes);try{for(f.s();!(p=f.n()).done;){var h=p.value,m="".concat(a.page," ").concat(h.channel);n[m]||(n[m]=t.getDocumentRaster(d.textureSize,a,u,h.channel,!0))}}catch(g){f.e(g)}finally{f.f()}}}})),this.instructionsChanged=!1,n}},{key:"getDocumentRaster",value:function(e,t,n,r,o){if(!n)throw new Error("Cannot render a document without instructions defined!");if(!t.page)throw new Error("Cannot build rendering instructions for a surface without a defined page number!");var i=new URLSearchParams;return i.append("instructions_uri",n),i.append("scene",this.buildTransientScene(e,t.page,t.fullBleed,t.trim,r)),this.cacheBust&&i.append("vortexBust","vortex".concat(Math.random())),this.webpEnabled&&this.webpSupported?i.append("format","webp"):o?i.append("format","png"):i.append("format","jpg"),o||i.append("bgColor","FFFFFF"),this.category&&i.append("category",this.category),"".concat(this.baseUrl,"/").concat(this.tenant,"/preview?width=").concat(e.width,"&").concat(i.toString())}},{key:"buildTransientScene",value:function(e,t,n,r,o){var i=r;i||(i={topLeftX:0,topLeftY:0,bottomRightX:n.width,bottomRightY:n.height});var a={width:e.width,height:e.height,page:t,channel:o,product:{bleed:n,trim:i}};return"".concat("https://cdn.scenes.documents.cimpress.io/v3/transient","?data=").concat(encodeURIComponent(JSON.stringify(a)))}},{key:"isPow2",value:function(e){var t=Math.log2(e);return Math.floor(t)===Math.ceil(t)}}]),e}();return b.RenderingClient=a,b}var E,x={},S={},P=n("EZrr"),C=n("41aG"),T=n("ycja");function _(){if(E)return S;E=1;var e=w.a.exports;Object.defineProperty(S,"__esModule",{value:!0}),S.OrbitControls=void 0;var t=e(Object(l.a)()),n=e(Object(d.a)()),r=e(Object(P.a)()),o=e(Object(C.a)()),i=e(Object(T.a)()),a=p.a;function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}var c=-1,u=0,f=1,h=2,m=3,g=4,v=5,y={type:"change"},b={type:"start"},O={type:"end"},x=function(e){(0,r.default)(i,e);var o=s(i);function i(e,n,r){var s;return(0,t.default)(this,i),(s=o.call(this)).object=e,s.domElement=void 0!==n?n:document,s.window=void 0!==r?r:window,s.enabled=!0,s.target=new a.Vector3,s.minDistance=0,s.maxDistance=1/0,s.minZoom=0,s.maxZoom=1/0,s.minPolarAngle=0,s.maxPolarAngle=Math.PI,s.minAzimuthAngle=-1/0,s.maxAzimuthAngle=1/0,s.enableDamping=!1,s.dampingFactor=.25,s.enableZoom=!0,s.zoomSpeed=1,s.enableRotate=!0,s.rotateSpeed=1,s.enablePan=!0,s.keyPanSpeed=7,s.autoRotate=!1,s.autoRotateSpeed=2,s.enableKeys=!0,s.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},s.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT},s.target0=s.target.clone(),s.position0=s.object.position.clone(),s.zoom0=s.object.zoom,s.updateOffset=new a.Vector3,s.updateQuat=(new a.Quaternion).setFromUnitVectors(e.up,new a.Vector3(0,1,0)),s.updateQuatInverse=s.updateQuat.clone().inverse(),s.updateLastPosition=new a.Vector3,s.updateLastQuaternion=new a.Quaternion,s.state=c,s.scale=1,s.spherical=new a.Spherical,s.sphericalDelta=new a.Spherical,s.panOffset=new a.Vector3,s.zoomChanged=!1,s.rotateStart=new a.Vector2,s.rotateEnd=new a.Vector2,s.rotateDelta=new a.Vector2,s.panStart=new a.Vector2,s.panEnd=new a.Vector2,s.panDelta=new a.Vector2,s.dollyStart=new a.Vector2,s.dollyEnd=new a.Vector2,s.dollyDelta=new a.Vector2,s.panLeftV=new a.Vector3,s.panUpV=new a.Vector3,s.panInternalOffset=new a.Vector3,s.onMouseDown=function(e){if(!1!==s.enabled){if(e.preventDefault(),e.button===s.mouseButtons.ORBIT){if(!1===s.enableRotate)return;s.rotateStart.set(e.clientX,e.clientY),s.state=u}else if(e.button===s.mouseButtons.ZOOM){if(!1===s.enableZoom)return;s.dollyStart.set(e.clientX,e.clientY),s.state=f}else if(e.button===s.mouseButtons.PAN){if(!1===s.enablePan)return;s.panStart.set(e.clientX,e.clientY),s.state=h}s.state!==c&&(document.addEventListener("mousemove",s.onMouseMove,!1),document.addEventListener("mouseup",s.onMouseUp,!1),s.dispatchEvent(b))}},s.onMouseMove=function(e){if(!1!==s.enabled)if(e.preventDefault(),s.state===u){if(!1===s.enableRotate)return;s.rotateEnd.set(e.clientX,e.clientY),s.rotateDelta.subVectors(s.rotateEnd,s.rotateStart);var t=s.domElement===document?s.domElement.body:s.domElement;s.rotateLeft(2*Math.PI*s.rotateDelta.x/t.clientWidth*s.rotateSpeed),s.rotateUp(2*Math.PI*s.rotateDelta.y/t.clientHeight*s.rotateSpeed),s.rotateStart.copy(s.rotateEnd),s.update()}else if(s.state===f){if(!1===s.enableZoom)return;s.dollyEnd.set(e.clientX,e.clientY),s.dollyDelta.subVectors(s.dollyEnd,s.dollyStart),s.dollyDelta.y>0?s.dollyIn(s.getZoomScale()):s.dollyDelta.y<0&&s.dollyOut(s.getZoomScale()),s.dollyStart.copy(s.dollyEnd),s.update()}else if(s.state===h){if(!1===s.enablePan)return;s.panEnd.set(e.clientX,e.clientY),s.panDelta.subVectors(s.panEnd,s.panStart),s.pan(s.panDelta.x,s.panDelta.y),s.panStart.copy(s.panEnd),s.update()}},s.onMouseUp=function(){!1!==s.enabled&&(document.removeEventListener("mousemove",s.onMouseMove,!1),document.removeEventListener("mouseup",s.onMouseUp,!1),s.dispatchEvent(O),s.state=c)},s.onMouseWheel=function(e){!1===s.enabled||!1===s.enableZoom||s.state!==c&&s.state!==u||(e.preventDefault(),e.stopPropagation(),e.deltaY<0?s.dollyOut(s.getZoomScale()):e.deltaY>0&&s.dollyIn(s.getZoomScale()),s.update(),s.dispatchEvent(b),s.dispatchEvent(O))},s.onKeyDown=function(e){if(!1!==s.enabled&&!1!==s.enableKeys&&!1!==s.enablePan)switch(e.keyCode){case s.keys.UP:s.pan(0,s.keyPanSpeed),s.update();break;case s.keys.BOTTOM:s.pan(0,-s.keyPanSpeed),s.update();break;case s.keys.LEFT:s.pan(s.keyPanSpeed,0),s.update();break;case s.keys.RIGHT:s.pan(-s.keyPanSpeed,0),s.update()}},s.onTouchStart=function(e){if(!1!==s.enabled){switch(e.touches.length){case 1:if(!1===s.enableRotate)return;s.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),s.state=m;break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);if(!1===s.enableZoom)return;s.dollyStart.set(0,r),s.state=g;break;case 3:if(!1===s.enablePan)return;s.panStart.set(e.touches[0].pageX,e.touches[0].pageY),s.state=v;break;default:s.state=c}s.state!==c&&s.dispatchEvent(b)}},s.onTouchMove=function(e){if(!1!==s.enabled){e.preventDefault(),e.stopPropagation();var t=s.domElement===document?s.domElement.body:s.domElement;switch(e.touches.length){case 1:if(!1===s.enableRotate||s.state!==m)return;s.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),s.rotateDelta.subVectors(s.rotateEnd,s.rotateStart),s.rotateLeft(2*Math.PI*s.rotateDelta.x/t.clientWidth*s.rotateSpeed),s.rotateUp(2*Math.PI*s.rotateDelta.y/t.clientHeight*s.rotateSpeed),s.rotateStart.copy(s.rotateEnd),s.update();break;case 2:var n=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(n*n+r*r);if(!1===s.enableZoom||s.state!==g)return;s.dollyEnd.set(0,o),s.dollyDelta.subVectors(s.dollyEnd,s.dollyStart),s.dollyDelta.y>0?s.dollyOut(s.getZoomScale()):s.dollyDelta.y<0&&s.dollyIn(s.getZoomScale()),s.dollyStart.copy(s.dollyEnd),s.update();break;case 3:if(!1===s.enablePan)return;if(s.state!==v)return;s.panEnd.set(e.touches[0].pageX,e.touches[0].pageY),s.panDelta.subVectors(s.panEnd,s.panStart),s.pan(s.panDelta.x,s.panDelta.y),s.panStart.copy(s.panEnd),s.update();break;default:s.state=c}}},s.onTouchEnd=function(){!1!==s.enabled&&(s.dispatchEvent(O),s.state=c)},s.onContextMenu=function(e){e.preventDefault()},s.domElement.addEventListener("contextmenu",s.onContextMenu,!1),s.domElement.addEventListener("mousedown",s.onMouseDown,!1),s.domElement.addEventListener("wheel",s.onMouseWheel,!1),s.domElement.addEventListener("touchstart",s.onTouchStart,!1),s.domElement.addEventListener("touchend",s.onTouchEnd,!1),s.domElement.addEventListener("touchmove",s.onTouchMove,!1),s.window.addEventListener("keydown",s.onKeyDown,!1),s.update(),s}return(0,n.default)(i,[{key:"update",value:function(){var e=this.object.position;return this.updateOffset.copy(e).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&this.state===c&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),e.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>1e-6||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(y),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)}},{key:"panLeft",value:function(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}},{key:"panUp",value:function(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}},{key:"pan",value:function(e,t){var n=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){var r=this.object.position;this.panInternalOffset.copy(r).sub(this.target);var o=this.panInternalOffset.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*o/n.clientHeight,this.object.matrix),this.panUp(2*t*o/n.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}},{key:"dollyIn",value:function(e){this._checkPerspectiveCamera(this.object)?this.scale/=e:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"dollyOut",value:function(e){this._checkPerspectiveCamera(this.object)?this.scale*=e:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"getAutoRotationAngle",value:function(){return 2*Math.PI/60/(60*this.autoRotateSpeed)}},{key:"getZoomScale",value:function(){return Math.pow(.95,this.zoomSpeed)}},{key:"rotateLeft",value:function(e){this.sphericalDelta.theta-=e}},{key:"rotateUp",value:function(e){this.sphericalDelta.phi-=e}},{key:"getPolarAngle",value:function(){return this.spherical.phi}},{key:"getAzimuthalAngle",value:function(){return this.spherical.theta}},{key:"dispose",value:function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"reset",value:function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(y),this.update(),this.state=c}},{key:"saveState",value:function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)}},{key:"_checkPerspectiveCamera",value:function(e){return e.isPerspectiveCamera}},{key:"_checkOrthographicCamera",value:function(e){return e.isOrthographicCamera}},{key:"center",get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},{key:"noZoom",get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}}]),i}(a.EventDispatcher);return S.OrbitControls=x,S}var k,I,M,j={},A=n("/rgY"),R=n("AHE6"),D={exports:{}},L={exports:{}};function N(){return I||(I=1,function(e){var t=(k||(k=1,function(e){var t=Object(T.a)();e.exports=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=t(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports}(L)),L.exports);function n(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=n=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=n=function(e,n,r){var o=t(e,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?e:r):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(D)),D.exports}function U(){if(M)return j;M=1;var e=w.a.exports;Object.defineProperty(j,"__esModule",{value:!0}),j.OrbitControlsWithHover=void 0;var t=e(Object(A.a)()),n=e(Object(l.a)()),r=e(Object(d.a)()),o=e(Object(R.a)()),i=e(N()),a=e(Object(P.a)()),s=e(Object(C.a)()),c=e(Object(T.a)()),u=_();function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m={hoverStart:function(){},hoverEnd:function(){},hoverAnimate:function(){},invertXAxis:!1,invertYAxis:!1},g={vertical:40,horizontal:45},v=function(e){(0,a.default)(s,e);var t=h(s);function s(e,r,i,a){var c;(0,n.default)(this,s),(c=t.call(this,e,r))._enableHover=!1,c.isClickDragging=!1,c.hoverStartAzimuth=0,c.onMouseEnterLocal=function(){!c.isClickDragging&&c.hasInitialized&&(c.hoverSettings.hoverStart(),c.hoverStartAzimuth=c.getAzimuthalAngle(),c.hoverStartPolar=c.getPolarAngle(),c.captureMouse=!0)},c.onMouseLeaveLocal=function(){!c.isClickDragging&&c.hasStartingPosition&&(c.captureMouse=!1,c.hoverSettings.hoverAnimate(c.hoverStartAzimuth||1,c.hoverStartPolar||1,s.RESET_CAMERA_DURATION),c.hoverSettings.hoverEnd())},c.onMouseMoveLocal=function(e){if(1&e.buttons||void 0===e.buttons&&1===e.which?c.isClickDragging=!0:c.isClickDragging=!1,c.captureMouse&&!c.isClickDragging&&c.hasStartingPosition){var t=e.target,n=t.offsetWidth,r=t.offsetHeight,o=(e.offsetX-n/2)/n*45,i=(e.offsetY-r/2)/r*(c.fov.vertical||1);c.hoverSettings.invertXAxis&&(o*=-1),c.hoverSettings.invertYAxis&&(i*=-1);var a=c.hoverStartAzimuth+o*(Math.PI/180),u=c.hoverStartPolar+i*(Math.PI/180);c.hoverSettings.hoverAnimate(a,u,s.HOVER_CAMERA_DURATION)}},c.fov=f(f({},g),i),c.hoverSettings=f(f({},m),a),c.captureMouse=!0,c.hasInitialized=!1;var u=c.update.bind((0,o.default)(c));return c.update=function(){var e=u();return c.hasInitialized||(c.hoverStartAzimuth=c.getAzimuthalAngle(),c.hoverStartPolar=c.getPolarAngle(),c.hasInitialized=!0),e},c.hoverStartAzimuth=c.getAzimuthalAngle(),c.hoverStartPolar=c.getPolarAngle(),c}return(0,r.default)(s,[{key:"dispose",value:function(){(0,i.default)((0,c.default)(s.prototype),"dispose",this).call(this),this.domElement.removeEventListener("mouseenter",this.onMouseEnterLocal),this.domElement.removeEventListener("mouseleave",this.onMouseLeaveLocal),this.domElement.removeEventListener("mousemove",this.onMouseMoveLocal)}},{key:"hasStartingPosition",get:function(){return void 0!==this.hoverStartAzimuth&&void 0!==this.hoverStartPolar&&this.hasInitialized}},{key:"enableHover",get:function(){return this._enableHover},set:function(e){this._enableHover=e,e?(this.domElement.addEventListener("mouseenter",this.onMouseEnterLocal),this.domElement.addEventListener("mouseleave",this.onMouseLeaveLocal),this.domElement.addEventListener("mousemove",this.onMouseMoveLocal)):(this.domElement.removeEventListener("mouseenter",this.onMouseEnterLocal),this.domElement.removeEventListener("mouseleave",this.onMouseLeaveLocal),this.domElement.removeEventListener("mousemove",this.onMouseMoveLocal))}}]),s}(u.OrbitControls);return j.OrbitControlsWithHover=v,v.RESET_CAMERA_DURATION=.01,v.HOVER_CAMERA_DURATION=.08,j}var F,B,z={};var V,q=n("hqiQ"),G={};var H=w.a.exports;Object.defineProperty(a,"__esModule",{value:!0}),a.Preview=void 0;var W=H(Object(s.a)()),K=H(Object(c.a)()),Q=H(Object(u.a)()),Y=H(Object(l.a)()),Z=H(Object(d.a)()),J=p.a,X=H(m),$=Object(g.a)(),ee=Object(v.a)(),te=(o||(o=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=O();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}))}(y)),y),ne=(B||(B=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_();Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=U();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=function(){if(F)return z;F=1;var e=w.a.exports;Object.defineProperty(z,"__esModule",{value:!0}),z.OrbitalCamera=void 0;var t=e(Object(A.a)()),n=e(Object(l.a)()),r=e(Object(d.a)()),o=p.a,i=U(),a=Object(g.a)(),s=Object(v.a)();function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){(0,t.default)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={panning:!1,hover:!1,invertXAxis:!1,invertYAxis:!1,minZoom:1,maxZoom:1,containerPadding:30},h=function(){function e(t,r){var s,c,l=r.aspectRatio,d=r.domElement;(0,n.default)(this,e);var p=u(u({},f),t),h=p.panning,m=p.hover,g=p.invertXAxis,v=p.invertYAxis,y=p.minZoom,b=p.maxZoom,w=p.containerPadding;this.camera=new o.PerspectiveCamera(40,l,5,3e3);var O=null!==(s=t.initialOrientation)&&void 0!==s?s:{azimuthAngle:0,polarAngle:Math.PI/2};this.setPosition(O.azimuthAngle,O.polarAngle,1),this.controls=new i.OrbitControlsWithHover(this.camera,d,{vertical:40},{invertXAxis:g,invertYAxis:v}),this.controls.rotateSpeed=null!==(c=t.rotationSpeed)&&void 0!==c?c:.07,this.controls.enableDamping=!0,this.controls.dampingFactor=.1,this.controls.enableHover=m,this.controls.enablePan=h,this.minZoom=y,this.maxZoom=b,this.containerPadding=w,this.controls.enableZoom=this.minZoom!==this.maxZoom,this.lastPosition=new o.Vector3,this._requiresUpdate=!0,this.rotationAnimation={animating:!1,duration:2,elapsedTime:0,target:{azimuthAngle:0,polarAngle:0},initial:{azimuthAngle:0,polarAngle:0},easingFunction:a.easeInOutQuart},this.focusAnimation={animating:!1,elapsedTime:0,duration:2,targetOrbitRadius:0,initialOrbitRadius:0},this.zoomAnimation={animating:!1,elapsedTime:0,duration:.5,targetZoom:0,initialZoom:0,easingFunction:a.easeInOutQuart},this.initialOrbitRadius=this.orbitRadius}return(0,r.default)(e,[{key:"adjustZoomFactor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.easeInOutQuart;return e>0&&e>=this.minZoom&&e<=this.maxZoom?(this.zoomPromiseResolver&&this.zoomPromiseResolver(),this.zoomAnimation.elapsedTime=0,this.zoomAnimation.duration=n,this.zoomAnimation.initialZoom=this.orbitRadius/this.initialOrbitRadius,this.zoomAnimation.targetZoom=e,this.zoomAnimation.animating=!0,this.zoomAnimation.easingFunction=r,new Promise((function(e){t.zoomPromiseResolver=e}))):Promise.resolve()}},{key:"computeOrbitRadius",value:function(e){this.orbitRadius=this.calculateOrbitRadius(e),this.initialOrbitRadius=this.orbitRadius,this.lastPosition=new o.Vector3(0,0,0)}},{key:"update",value:function(e){var t=this.orbitRadius;if(this.focusAnimation.animating){var n=this.focusAnimation;t=(0,a.easeInOutQuart)(n.elapsedTime,n.initialOrbitRadius,n.targetOrbitRadius-n.initialOrbitRadius,n.duration),n.elapsedTime+=e,n.elapsedTime>n.duration&&(n.animating=!1,t=n.targetOrbitRadius,this.focusPromiseResolver&&this.focusPromiseResolver(),this.focusPromiseResolver=void 0),this.orbitRadius=t}if(this.rotationAnimation.animating){var r=this.controls.getAzimuthalAngle(),o=this.controls.getPolarAngle(),i=this.rotationAnimation;r=this.rotationAnimation.easingFunction(i.elapsedTime,i.initial.azimuthAngle,i.target.azimuthAngle-i.initial.azimuthAngle,i.duration),o=this.rotationAnimation.easingFunction(i.elapsedTime,i.initial.polarAngle,i.target.polarAngle-i.initial.polarAngle,i.duration),i.elapsedTime+=e,i.elapsedTime>i.duration&&(r=i.target.azimuthAngle,o=i.target.polarAngle,i.animating=!1,this.lookAtPromiseResolver&&this.lookAtPromiseResolver(),this.lookAtPromiseResolver=void 0),this.setPosition(r,o,t)}if(this.zoomAnimation.animating){var s=this.zoomAnimation,c=s.easingFunction(s.elapsedTime,s.initialZoom,s.targetZoom-s.initialZoom,s.duration);s.elapsedTime+=e,s.elapsedTime>s.duration&&(c=s.targetZoom,s.animating=!1,this.zoomPromiseResolver&&this.zoomPromiseResolver(),this.zoomPromiseResolver=void 0),this.setPosition(this.controls.getAzimuthalAngle(),this.controls.getPolarAngle(),c*this.initialOrbitRadius)}this.controls.update(),this._requiresUpdate=this.lastPosition.distanceTo(this.camera.position)>1e-4,this.lastPosition=this.camera.position.clone()}},{key:"lookAt",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.easeInOutQuart;this.lookAtPromiseResolver&&this.lookAtPromiseResolver();var o=this.normalizeOrientation({azimuthAngle:this.controls.getAzimuthalAngle(),polarAngle:this.controls.getPolarAngle()}),i=this.normalizeOrientation(e);return Math.abs(i.azimuthAngle-o.azimuthAngle)>Math.PI&&(i.azimuthAngle>o.azimuthAngle?o.azimuthAngle+=s.TWO_PI:i.azimuthAngle+=s.TWO_PI),Math.abs(i.polarAngle-o.polarAngle)>Math.PI&&(i.polarAngle>o.polarAngle?o.polarAngle+=s.TWO_PI:i.polarAngle+=s.TWO_PI),this.rotationAnimation.elapsedTime=0,this.rotationAnimation.duration=n,this.rotationAnimation.initial=o,this.rotationAnimation.target=i,this.rotationAnimation.animating=!0,this.rotationAnimation.easingFunction=r,new Promise((function(e){t.lookAtPromiseResolver=e}))}},{key:"adjustFocus",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;this.focusPromiseResolver&&this.focusPromiseResolver();var r=this.calculateOrbitRadius(e);return this.focusAnimation.duration=n,this.focusAnimation.initialOrbitRadius=this.orbitRadius,this.focusAnimation.targetOrbitRadius=r,this.focusAnimation.animating=!0,this.focusAnimation.elapsedTime=0,new Promise((function(e){t.focusPromiseResolver=e}))}},{key:"dispose",value:function(){this.lookAtPromiseResolver&&this.lookAtPromiseResolver(),this.focusPromiseResolver&&this.focusPromiseResolver(),this.zoomPromiseResolver&&this.zoomPromiseResolver(),this.controls.dispose()}},{key:"calculateOrbitRadius",value:function(e){var t=Math.PI/180*40,n=2*Math.atan(this.camera.aspect*Math.tan(t/2)),r=(e.height/2+this.containerPadding)/Math.tan(t/2),o=(e.width/2+this.containerPadding)/Math.tan(n/2),i=(e.depth/2+this.containerPadding)/Math.tan(n/2);return Math.max(r,o,i)}},{key:"setPosition",value:function(e,t,n){var r=new o.Vector3(Math.sin(e)*Math.sin(t),Math.cos(t),Math.cos(e)*Math.sin(t));this.camera.position.copy(r.multiplyScalar(n))}},{key:"normalizeOrientation",value:function(e){var t=e.azimuthAngle%s.TWO_PI,n=e.polarAngle%s.TWO_PI;return t<0&&(t+=s.TWO_PI),n<0&&(n+=s.TWO_PI),{azimuthAngle:t,polarAngle:n}}},{key:"requiresUpdate",get:function(){return this._requiresUpdate}},{key:"orbitRadius",get:function(){return this.camera.position.length()},set:function(e){this.controls.minDistance=this.minZoom*e,this.controls.maxDistance=this.maxZoom*e,this.setPosition(this.controls.getAzimuthalAngle(),this.controls.getPolarAngle(),e)}},{key:"zoomFactor",get:function(){return this.initialOrbitRadius/this.orbitRadius}},{key:"normalizedZoomFactor",get:function(){return this.orbitRadius*this.controls.getZoomScale()/s.MAX_GEOMETRY_DIMENSION}},{key:"aspectRatio",set:function(e){var t=this.controls.getAzimuthalAngle(),n=this.controls.getPolarAngle();this.camera.aspect=e,this.camera.updateProjectionMatrix(),this.setPosition(t,n,this.orbitRadius)}},{key:"threeJsCamera",get:function(){return this.camera}}]),e}();return z.OrbitalCamera=h,z}();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))}(x)),x),re=Object(q.a)(),oe=function(){if(V)return G;V=1,Object.defineProperty(G,"__esModule",{value:!0}),G.updateCanvasShadows=function(t,n,r){var o,i,a,s="",c=null!==(o=n.softSpread)&&void 0!==o?o:2.5,u=null!==(i=n.hardSpread)&&void 0!==i?i:.5,l=null!==(a=n.hardOffset)&&void 0!==a?a:{x:0,y:.5};if(c>0){var d,p,f=.0071*t.offsetWidth*c*r.zoomFactor;if(e.isSafari)s+=" drop-shadow(0px 0px ".concat((.5*f).toFixed(2),"px ").concat(null!==(d=n.softColor)&&void 0!==d?d:"rgba(0,0,0,0.08)",")");else s+=" drop-shadow(0px 0px ".concat(f.toFixed(2),"px ").concat(null!==(p=n.softColor)&&void 0!==p?p:"rgba(0,0,0,0.05)",")")}if(u>0&&!e.isSafari){var h,m=(.0071*t.offsetWidth*u*r.zoomFactor).toFixed(2),g=(.0071*t.offsetWidth*l.x*r.zoomFactor).toFixed(2),v=(.0071*t.offsetWidth*l.y*r.zoomFactor).toFixed(2);s+=" drop-shadow(".concat(g,"px ").concat(v,"px ").concat(m,"px ").concat(null!==(h=n.hardColor)&&void 0!==h?h:"rgba(0,0,0,0.04)",")")}t.style.filter=s};var e=Object(g.a)();return G}();function ie(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=function(){function e(t){var n,r,o,i=this;(0,Y.default)(this,e),this.rafId=0,this.eventMap={},this.boundClickEvent=this.onClick.bind(this),this.boundMoveEvent=this.onMouseMove.bind(this),this.lastIntersectingSurfaceId=void 0,this.productRequiresUpdate=!1,this.holdRenderForUpdate=!1,this.stateBounds={},this.materialMap={},this.hightLightMap={},this.documentRasterUrls={},this.normalizationFactor=1,this.clock=new J.Clock,this.animationManager=new re.AnimationManager,this.render=function(){var e,t,n,r=i.clock.getDelta();(i.camera.update(r),i.holdRenderForUpdate)||(i.camera.requiresUpdate||i.productRequiresUpdate||i.animationManager.requiresUpdate)&&(i.updateAnimations(r),i.renderer.render(i.scene,i.camera.threeJsCamera),(null===(e=i.environment)||void 0===e||null===(t=e.shadowOptions)||void 0===t||null===(n=t.canvasShadows)||void 0===n?void 0:n.enabled)&&(0,oe.updateCanvasShadows)(i.canvas,i.environment.shadowOptions.canvasShadows,i.camera),i.vortexProduct&&i.vortexProduct.sync&&i.vortexProduct.sync({preview:i}),i.productRequiresUpdate=!1);i.rafId=requestAnimationFrame(i.render)},this.environment=t.environment,this.cameraOptions=t.cameraOptions,this.canvas=t.canvas,this.canvas.addEventListener("click",this.boundClickEvent,!1),this.canvas.addEventListener("mousemove",this.boundMoveEvent,!1);var a=this.canvas.getBoundingClientRect();this.renderingClient=new te.RenderingClient(t.renderingOptions),this.renderingClient.updateContainerDimensions({width:a.width,height:a.height}),t.documentReference&&this.renderingClient.setInstructionSourceUrl(t.documentReference.renderingInstructionsUrl);var s=(null===(n=t.webGlOptions)||void 0===n?void 0:n.preserveDrawingBuffer)||!1;this.renderer=new J.WebGLRenderer({antialias:!0,alpha:!0,canvas:this.canvas,preserveDrawingBuffer:s}),this.renderer.setPixelRatio(Math.max(2,devicePixelRatio)),this.renderer.setClearColor(0,0),this.camera=new ne.OrbitalCamera(this.cameraOptions,{aspectRatio:a.width/a.height,domElement:this.canvas}),this.scene=new J.Scene;var c=null!==(r=null===(o=this.environment.lightingOptions)||void 0===o?void 0:o.ambientIntensity)&&void 0!==r?r:1;this.scene.add(new J.AmbientLight(1118481,11.04*c)),this.canvasResizeObserver=new X.default((function(e){if(0!==e.length){var t=e[0].contentRect,n=t.width,r=t.height;i.currentGeometry&&i.maximumGeometrySize&&i.camera.computeOrbitRadius(i.maximumGeometrySize),i.camera.aspectRatio=n/r,i.renderingClient.updateContainerDimensions({width:n,height:r}),i.renderer.setSize(n,r,!1)}}))}var t,n,r,o,i,a,s,c,u,l,d,p,f;return(0,Z.default)(e,[{key:"load",value:(f=(0,Q.default)(W.default.mark((function e(t,n){var r,o,i,a,s,c,u,l,d,p,f,h,m;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.holdRenderForUpdate=!0,l=!!this.vortexProduct,d=this.initializeBackground(),!l){e.next=11;break}null===(p=this.vortexProduct)||void 0===p||p.dispose(),$.buildSubstrate.flush(),$.buildFinish.flush(),this.areaLights&&(f=this.scene).remove.apply(f,(0,K.default)(this.areaLights)),this.currentGeometry&&this.scene.remove(this.currentGeometry),e.next=13;break;case 11:return e.next=13,this.renderingClient.initialize();case 13:return this.vortexProduct=t,this.productLoadingOptions=n,e.next=17,this.loadGeometry(this.vortexProduct);case 17:return this.currentGeometry=e.sent,this.scene.add(this.currentGeometry),this.scene.updateMatrixWorld(),e.next=22,(0,$.getStateBounds)(this,t,this.currentGeometry);case 22:return this.stateBounds=e.sent,this.renderingClient.isInitialized()&&(this.documentRasterUrls=this.renderingClient.buildDocumentRasterUrls(t)),h=null!==(r=null===(o=this.environment)||void 0===o||null===(i=o.lightingOptions)||void 0===i?void 0:i.pointLightIntensity)&&void 0!==r?r:1,m=null!==(a=null===(s=this.environment)||void 0===s||null===(c=s.lightingOptions)||void 0===c?void 0:c.directionalLightIntensity)&&void 0!==a?a:1,this.areaLights=t.getAreaLights(h,m),(u=this.scene).add.apply(u,(0,K.default)(this.areaLights)),e.next=30,Promise.all([this.textureGeometry(),d]);case 30:if(this.observeResize(),l||this.render(),!this.vortexProduct||!this.meshMap){e.next=35;break}return e.next=35,(0,$.ComputeFocalPoints)(this.vortexProduct,this.meshMap,this);case 35:this.holdRenderForUpdate=!1;case 36:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"setDocumentReference",value:function(e,t){this.renderingClient.setInstructionSourceUrl(e.renderingInstructionsUrl,t)}},{key:"setDocumentImage",value:function(e,t){this.documentRasterUrls["".concat(t," none")]=e}},{key:"setFinishMaskImage",value:function(e,t,n){this.documentRasterUrls["".concat(t," ").concat(n)]=e}},{key:"adjustZoom",value:function(e,t,n){return this.camera.adjustZoomFactor(e,t,n)}},{key:"addHighlight",value:function(e,t){if(this.materialMap[e]){var n=this.materialMap[e];n.color=t?new J.Color(t):new J.Color(1,1,.3),n.needsUpdate=!0,this.productRequiresUpdate=!0}}},{key:"removeHighlight",value:function(e){if(this.materialMap[e]){var t=this.materialMap[e];t.color=this.hightLightMap[e].clone(),t.needsUpdate=!0,this.productRequiresUpdate=!0}}},{key:"update",value:(p=(0,Q.default)(W.default.mark((function e(){return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.holdRenderForUpdate=!0,!this.vortexProduct){e.next=13;break}if(!this.vortexProduct.requiresGeometryUpdate){e.next=8;break}return this.currentGeometry&&this.scene.remove(this.currentGeometry),e.next=6,this.loadGeometry(this.vortexProduct);case 6:this.currentGeometry=e.sent,this.scene.add(this.currentGeometry);case 8:return $.buildSubstrate.flush(),$.buildFinish.flush(),this.renderingClient.requiresUpdate()&&(this.documentRasterUrls=this.renderingClient.buildDocumentRasterUrls(this.vortexProduct)),e.next=13,this.textureGeometry();case 13:this.productRequiresUpdate=!0,this.holdRenderForUpdate=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"addEventListener",value:function(e,t){Object.keys(this.eventMap).includes(e)||(this.eventMap[e]=[]),this.eventMap[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(Object.keys(this.eventMap).includes(e)){var n=this.eventMap[e].indexOf(t);this.eventMap[e].splice(n,1)}}},{key:"lookAtFront",value:function(e,t){return this.lookAtAngle(0,void 0,e,t)}},{key:"lookAtRight",value:function(e,t){return this.lookAtAngle(Math.PI/2,void 0,e,t)}},{key:"lookAtLeft",value:function(e,t){return this.lookAtAngle(-Math.PI/2,void 0,e,t)}},{key:"lookAtBack",value:function(e,t){return this.lookAtAngle(Math.PI,void 0,e,t)}},{key:"focusOnSurface",value:(d=(0,Q.default)(W.default.mark((function e(t,n,r){var o,i,a,s,c,u;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vortexProduct){e.next=2;break}throw new Error("Vortex Product must be defined before a surface can be focused on!");case 2:if(!(o=this.vortexProduct.getSurfaceMapping()[t].focalPoint)){e.next=15;break}if(i=o.cameraView,a=new J.Vector3(-i.x,-i.y,-i.z),s=(new J.Spherical).setFromVector3(a),c=this.lookAtAngle(s.theta,s.phi,n,r),!(o.allowedStates&&o.allowedStates.length>0)){e.next=13;break}if(u=this.vortexProduct.getCurrentState(),o.allowedStates.includes(u.id)){e.next=13;break}return e.next=13,this.changeState(o.allowedStates[0]);case 13:return e.next=15,c;case 15:return e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return d.apply(this,arguments)})},{key:"lookAtAngle",value:function(e,t,n,r){return this.camera.lookAt({azimuthAngle:e,polarAngle:void 0!==t?t:Math.PI/2},n,r)}},{key:"changeState",value:(l=(0,Q.default)(W.default.mark((function e(t,n){return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transitionState(t,{duration:n});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"transitionState",value:(u=(0,Q.default)(W.default.mark((function e(t,n){var r,o,i,a,s,c,u,l;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.vortexProduct){e.next=16;break}if(r=this.vortexProduct.getCurrentState(),t!==r.id){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(o=this.vortexProduct.getStates().find((function(e){return e.id===t}))){e.next=7;break}throw new Error("'".concat(t,"' not found on product!"));case 7:if(!o.dependency&&!r.dependency){e.next=15;break}return c=null!==(i=null==n?void 0:n.duration)&&void 0!==i?i:1,u=null!==(a=null==n?void 0:n.centerGeometry)&&void 0!==a&&a,l=null!==(s=null==n?void 0:n.scaleToFitGeometry)&&void 0!==s&&s,e.next=13,this.changeStateRecursively(this.vortexProduct,r,o,c,u,l);case 13:return this.vortexProduct.setCurrentState(t),e.abrupt("return",Promise.resolve());case 15:throw new Error("Cannot change to '".concat(t,"' because '").concat(r.id,"' has no dependencies!"));case 16:throw new Error("Cannot change state, no vortex product loaded!");case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"performAction",value:(c=(0,Q.default)(W.default.mark((function e(t){var n,r,o,i,a,s=arguments;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=[],this.animationManager.cleanAnimations(),n&&this.animationManager.stopAnimations(),void 0!==t.animation&&(r.push(t.animation.start()),this.pushAnimation(t.animation)),t.cameraOptions&&t.cameraOptions.targetOrientation&&r.push(this.lookAtAngle(t.cameraOptions.targetOrientation.azimuthAngle,t.cameraOptions.targetOrientation.polarAngle,t.cameraOptions.duration,t.cameraOptions.easingFunction)),t.cameraOptions&&t.cameraOptions.geometrySize&&(o={width:t.cameraOptions.geometrySize.width*this.normalizationFactor,height:t.cameraOptions.geometrySize.height*this.normalizationFactor,depth:t.cameraOptions.geometrySize.depth*this.normalizationFactor},r.push(this.camera.adjustFocus(o,t.cameraOptions.duration))),t.modelOptions&&this.currentGeometry&&t.modelOptions.center&&(i={duration:t.modelOptions.duration,initialBounds:t.modelOptions.center.initialBounds,targetBounds:t.modelOptions.center.targetBounds},a=new re.CenterAnimation(this.currentGeometry,i),r.push(a.start()),this.pushAnimation(a)),e.next=10,Promise.all(r);case 10:n&&this.animationManager.resumeAnimations();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"pushAnimation",value:function(e){return this.animationManager.pushAnimation(e)}},{key:"updateAnimations",value:function(e){this.animationManager.update(e)}},{key:"screenCapture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";this.holdRenderForUpdate=!0,this.renderer.render(this.scene,this.camera.threeJsCamera);var t=this.canvas.toDataURL(e);return this.holdRenderForUpdate=!1,t}},{key:"dispose",value:function(){this.vortexProduct&&this.vortexProduct.dispose(),this.renderer.dispose(),this.canvasResizeObserver.disconnect(),$.buildSubstrate.flush(),$.buildFinish.flush(),this.canvas.removeEventListener("click",this.boundClickEvent,!1),this.canvas.removeEventListener("mousemove",this.boundMoveEvent,!1),this.lastIntersectingSurfaceId=void 0,this.camera.dispose(),cancelAnimationFrame(this.rafId),this.animationManager.cancelAnimations()}},{key:"observeResize",value:function(){this.canvasResizeObserver&&this.canvasResizeObserver.disconnect(),this.canvasResizeObserver.observe(this.canvas)}},{key:"onClick",value:function(e){var t=(0,$.normalizePosition)(e.clientX,e.clientY,this.canvas),n=(0,$.TraceIntersection)(t,this.camera.threeJsCamera,this.scene);n&&Object.keys(this.eventMap).includes("click")&&this.triggerEvents("click",n)}},{key:"onMouseMove",value:function(e){var t=(0,$.normalizePosition)(e.clientX,e.clientY,this.canvas),n=(0,$.TraceIntersection)(t,this.camera.threeJsCamera,this.scene);this.lastIntersectingSurfaceId?n?n!==this.lastIntersectingSurfaceId&&(Object.keys(this.eventMap).includes("mouseout")&&this.triggerEvents("mouseout",this.lastIntersectingSurfaceId),Object.keys(this.eventMap).includes("mouseover")&&this.triggerEvents("mouseover",n)):Object.keys(this.eventMap).includes("mouseout")&&this.triggerEvents("mouseout",this.lastIntersectingSurfaceId):n&&Object.keys(this.eventMap).includes("mouseover")&&this.triggerEvents("mouseover",n),this.lastIntersectingSurfaceId=n}},{key:"triggerEvents",value:function(e,t){for(var n=0;n<this.eventMap[e].length;n++){var r={preview:this,type:e,surfaceId:t,srcElement:this.canvas};this.eventMap[e][n](r)}}},{key:"loadGeometry",value:(s=(0,Q.default)(W.default.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,p,f,h,m,g;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getGeometry();case 2:return n=e.sent,this.meshMap=(0,$.BuildMeshMap)(n),r=t.getStates(),o=t.getCurrentState().id,e.next=8,(0,$.getStateBounds)(this,t,n);case 8:i=e.sent,a=0,s=new J.Vector3,c=ie(r),e.prev=12,c.s();case 14:if((u=c.n()).done){e.next=24;break}if(d=u.value,!(null===(l=this.productLoadingOptions)||void 0===l?void 0:l.scaleToInitialState)||d.id===o){e.next=18;break}return e.abrupt("continue",22);case 18:p=i[d.id],f=p.getSize(new J.Vector3),(h=f.x*f.y*f.z)>a&&(a=h,s=f.clone());case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),c.e(e.t0);case 29:return e.prev=29,c.f(),e.finish(29);case 32:return m=Math.max(s.x,s.y,s.z),g=ee.MAX_GEOMETRY_DIMENSION/m,this.normalizationFactor=g,n.scale.multiplyScalar(g),n.position.multiplyScalar(g),this.maximumGeometrySize={width:s.x*g,height:s.y*g,depth:s.z*g},this.camera.computeOrbitRadius(this.maximumGeometrySize),e.abrupt("return",n);case 40:case"end":return e.stop()}}),e,this,[[12,26,29,32]])}))),function(e){return s.apply(this,arguments)})},{key:"initializeBackground",value:(a=(0,Q.default)(W.default.mark((function e(){var t,n;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=this.environment.background)||void 0===t?void 0:t.textureUrl)){e.next=6;break}return e.next=3,(0,$.loadTextureFromUri)(this.environment.background.textureUrl);case 3:this.scene.background=e.sent,e.next=7;break;case 6:(null===(n=this.environment.background)||void 0===n?void 0:n.color)&&(this.scene.background=new J.Color(this.environment.background.color));case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"textureGeometry",value:(i=(0,Q.default)(W.default.mark((function e(){var t,n=this;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(this.materialMap).forEach((function(e){var t=n.materialMap[e];Object.keys(t).forEach((function(e){var n=t[e];n instanceof J.Texture&&n.dispose()}))})),this.materialMap={},this.hightLightMap={},!(this.vortexProduct&&this.currentGeometry&&this.meshMap)){e.next=8;break}return t=this.vortexProduct.getSurfaceMapping(),e.next=7,this.buildMaterialMap(t);case 7:Object.keys(this.meshMap).forEach((function(e){if(n.meshMap)if(n.materialMap[e])n.meshMap[e].material=n.materialMap[e];else{if(!n.materialMap.primary)throw new Error("No product surface was defined for mesh: ".concat(e));n.meshMap[e].material=n.materialMap.primary}}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"buildMaterialMap",value:(o=(0,Q.default)(W.default.mark((function e(t){var n,r=this;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],Object.keys(t).forEach((function(e){var o=t[e];n.push(r.loadAndMapSubstrate(e,o)),o.finishes&&o.finishes.forEach((function(t){var i="".concat(e,"-").concat(t.name);n.push(r.loadAndMapFinish(i,t,o))}))})),e.next=4,Promise.all(n);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"loadAndMapSubstrate",value:(r=(0,Q.default)(W.default.mark((function e(t,n){var r,o,i,a,s;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.vortexProduct&&this.renderingClient&&this.environment)){e.next=12;break}if(!n.page){e.next=6;break}if(i="".concat(n.page," none"),this.documentRasterUrls[i]){e.next=5;break}throw new Error("No document information exists for page ".concat(n.page,"!"));case 5:o=this.documentRasterUrls[i];case 6:return e.next=8,(0,$.buildSubstrate)(o,n,this.vortexProduct,this.renderingClient,this.environment);case 8:a=e.sent,(null===(r=this.meshMap)||void 0===r?void 0:r[t])instanceof J.SkinnedMesh&&(a.skinning=null!==(s=this.meshMap[t].material.skinning)&&void 0!==s&&s),this.materialMap[t]=a.clone(),this.hightLightMap[t]=a.color.clone();case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"loadAndMapFinish",value:(n=(0,Q.default)(W.default.mark((function e(t,n,r){var o,i,a,s,c,u,l;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.vortexProduct&&this.renderingClient&&this.environment)){e.next=17;break}if(r.page){e.next=3;break}throw new Error("A page number must exist in the surface map to show to show finish: '".concat(n.channel,"'!"));case 3:if(i="".concat(r.page," none"),a="".concat(r.page," ").concat(n.channel),this.documentRasterUrls[i]){e.next=7;break}throw new Error("No document information exists for page ".concat(r.page,"!"));case 7:if(this.documentRasterUrls[a]){e.next=9;break}throw new Error("No finish information exists on page ".concat(r.page," for finish '").concat(n.channel,"'!"));case 9:return s=this.documentRasterUrls[i],c=this.documentRasterUrls[a],e.next=13,(0,$.buildFinish)(s,c,n,r,this.vortexProduct,this.renderingClient,this.environment);case 13:u=e.sent,(null===(o=this.meshMap)||void 0===o?void 0:o[t])instanceof J.SkinnedMesh&&(u.skinning=null!==(l=this.meshMap[t].material.skinning)&&void 0!==l&&l),this.materialMap[t]=u.clone(),this.hightLightMap[t]=u.color.clone();case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createActionFromState",value:function(e,t,n,r,o,i,a){var s={id:n.id};if(n.dependency){var c=n.dependency.animationDirection===re.AnimationDirection.forward?re.AnimationDirection.backward:re.AnimationDirection.forward,u={animationId:n.dependency.animationId,direction:o?c:n.dependency.animationDirection,duration:r};if(s.animation=e.buildAnimation(u),i&&this.stateBounds[t.id]&&this.stateBounds[n.id]&&(s.modelOptions={duration:r,center:{initialBounds:o?this.stateBounds[n.id]:this.stateBounds[t.id],targetBounds:o?this.stateBounds[t.id]:this.stateBounds[n.id]}}),a&&this.stateBounds[t.id]&&this.stateBounds[n.id]){var l=(o?this.stateBounds[t.id]:this.stateBounds[n.id]).getSize(new J.Vector3);s.cameraOptions={duration:r,geometrySize:{width:l.x/this.normalizationFactor,height:l.y/this.normalizationFactor,depth:l.z/this.normalizationFactor}}}}return s}},{key:"changeStateRecursively",value:(t=(0,Q.default)(W.default.mark((function e(t,n,r,o,i,a){var s,c,u,l;return W.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.dependency||r.dependency.stateId!==n.id){e.next=4;break}return e.next=3,this.performAction(this.createActionFromState(t,n,r,o,!1,i,a));case 3:return e.abrupt("return",r);case 4:if(!n.dependency||n.dependency.stateId!==r.id){e.next=8;break}return e.next=7,this.performAction(this.createActionFromState(t,r,n,o,!0,i,a));case 7:return e.abrupt("return",r);case 8:if(c=t.getStates(),(u=c.find((function(e){var t;return e.id===(null===(t=r.dependency)||void 0===t?void 0:t.stateId)})))&&(null===(s=u.dependency)||void 0===s?void 0:s.stateId)===r.id||function(){for(var e=n;;){var t,o=c.find((function(t){var n;return t.id===(null===(n=e.dependency)||void 0===n?void 0:n.stateId)}));if(!o)break;if((null===(t=o.dependency)||void 0===t?void 0:t.stateId)===r.id){u=o;break}e=o}}(),u){e.next=13;break}throw new Error("Cannot find state stated in dependency");case 13:return e.next=15,this.changeStateRecursively(t,n,u,o,i,a);case 15:if(l=e.sent,!r.dependency||r.dependency.stateId!==l.id){e.next=20;break}return e.next=19,this.performAction(this.createActionFromState(t,n,r,o,!1,i,a));case 19:return e.abrupt("return",r);case 20:if(!l.dependency||l.dependency.stateId!==r.id){e.next=24;break}return e.next=23,this.performAction(this.createActionFromState(t,n,l,o,!0,i,a));case 23:return e.abrupt("return",r);case 24:throw new Error("Did not play animation to move on to next state");case 25:case"end":return e.stop()}}),e,this)}))),function(e,n,r,o,i,a){return t.apply(this,arguments)})},{key:"product",get:function(){return this.vortexProduct}},{key:"getProductGeometry",get:function(){return this.currentGeometry}}]),e}();a.Preview=se,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=a;Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}))}(i.a)},"R/GJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},R1BN:function(e,t,n){"use strict";!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(n("0LXn").a)},R7S4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},RJhP:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Rmyw"),o=n("Yji6"),i=r.a,a=o.a,s=i.String,c=function(e){if("Symbol"===a(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},ROdP:function(e,t,n){var r=n("hh1v"),o=n("xrYK"),i=n("tiKp")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},RRyU:function(e,t,n){"use strict";var r=n("ckbL");!function(e,t){function n(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(o,i){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,o):r.push(o),~n.indexOf(i)&&(i=t.call(this,o,i))}else n.push(i);return null==e?i:e.call(this,o,i)}}(e.exports=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)}).getSerialize=n}(r.a,r.a.exports)},Rmyw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2taM"),o=function(e){return e&&e.Math==Math&&e},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.a&&r.a)||function(){return this}()||Function("return this")()},RoFp:function(e,t,n){"use strict";var r=n("lm0R");function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},S1Wq:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("4mDm"),n("Tskq"),n("FZtP"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.UrlClient=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=r(n("lSNA")),s=n("IVxI"),c=r(n("Ey5c"));t.UrlClient=class{constructor(e){(0,a.default)(this,"urlCache",void 0),(0,a.default)(this,"baseUrl",void 0),(0,a.default)(this,"axios",void 0),this.urlCache=new Map,this.axios=e,this.baseUrl="https://url.prod.merch.vpsvc.com/v3"}getPageSlug(e,t,n){var r=this;return(0,i.default)(o.default.mark((function i(){var a,c,u,l;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===(a=r.urlCache.get(e))){o.next=3;break}return o.abrupt("return",a);case 3:return c="".concat(r.baseUrl,"/url/").concat(n,"/").concat(t,"/").concat(e,"?requestor=TokenEngine"),o.prev=4,o.next=7,r.axios.get(c);case 7:l=o.sent,u=l.data.url,o.next=15;break;case 11:o.prev=11,o.t0=o.catch(4),u="#",s.logger.error("The request for tenant ".concat(n," and ").concat(t," to url: ").concat(c,". Returned error ").concat(o.t0.stack),{contextData:{stack:o.t0.stack,culture:t,tenant:n}});case 15:return r.urlCache.set(e,u),o.abrupt("return",u);case 17:case"end":return o.stop()}}),i,null,[[4,11]])})))()}fillUrlCache(e,t){var n=this;return(0,i.default)(o.default.mark((function r(){var i,a,s,u,l,d;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="".concat(n.baseUrl,"/types/").concat(t,"?requestor=TokenEngine"),r.next=3,n.axios.get(i);case 3:return a=r.sent.data,s=c.default.stringify({pageType:a},{arrayFormat:"repeat"}),u="".concat(n.baseUrl,"/all/").concat(t,"/").concat(e,"?").concat(s,"&requestor=TokenEngine"),r.next=8,n.axios.get(u);case 8:l=r.sent,d=new Map,void 0!==l.data&&(Object.keys(l.data).forEach(e=>{d.set(e,l.data[e].url)}),n.urlCache=d);case 11:case"end":return r.stop()}}),r)})))()}}},SBIF:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isDecimalPositive(e.amountSaved,"amountSaved"),i.validate.isCurrency(e.currency,"currency")]);if(t.length>0)throw t}generateToken(e,t){return"{{ ".concat(e.amountSaved," | ").concat(t,": '").concat(e.currency,"', ").concat(e.minimumFractionDigits," }}")}}t.default=a},SDFg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},SRXV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("wHaV"),o=n("3MWB"),i=r.a,a=o.a,s=function(e){return i(a(e))}},SSN7:function(e,t,n){"use strict";(function(e){var t=n("29T6");Object.defineProperty(t.a,"__esModule",{value:!0}),t.a.default=function(t){var n=t.length,r=n%4;if(!r)return t;var o=n,i=4-r,a=n+i,s=e.alloc(a);for(s.write(t);i--;)s.write("=",o++);return s.toString()}}).call(this,n("tjlA").Buffer)},SYor:function(e,t,n){"use strict";var r=n("I+eb"),o=n("WKiH").trim;r({target:"String",proto:!0,forced:n("yNLB")("trim")},{trim:function(){return o(this)}})},Sadh:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("KpH6"),o=n("SlgV"),i=r.a,a=o.a,s=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,u=a(s,"name"),l={EXISTS:u,PROPER:u&&"something"===function(){}.name,CONFIGURABLE:u&&(!i||i&&c(s,"name").configurable)}},SdNc:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a,s){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="qtyForOnly";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p,f){var h,m,g,v,y,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=this,m=a.contextService.getCulture(h),e.next=4,(0,s.comparativePriceFilter)(m,n,r,i,l,d,p,f,h);case 4:return g=e.sent,v=g.htmlTemplates,(y=g.mustacheVariables).quantity=t,b=(0,c.localized)(u,m),e.abrupt("return",a.mustacheService.replace(b,y,v));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},SlgV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("sMLe"),o=n("qIYE"),i=r.a,a=o.a,s=i({}.hasOwnProperty),c=Object.hasOwn||function(e,t){return s(a(e),t)}},T1zv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},TDIa:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isNotNegativeDecimal(e.listPrice,"listPrice"),i.validate.isNotNegativeDecimal(e.discountPrice,"discountPrice"),i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isBoolean(e.vatInc,"vatInc"),i.validate.isBooleanOrUndefined(e.hideVatMessage,"hideVatMessage"),i.validate.isBooleanOrUndefined(e.hideShippingMessageInVatMessage,"hideShippingMessageInVatMessage")]);if(t.length>0)throw t}generateToken(e,t){var n="".concat(e.hideVatMessage?"".concat(e.hideVatMessage):"".concat(!1)),r="".concat(e.hideShippingMessageInVatMessage?"".concat(e.hideShippingMessageInVatMessage):"".concat(!1));return"{{ ".concat(e.listPrice," | ").concat(t,": ").concat(e.discountPrice,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits,", ").concat(e.vatInc,", ").concat(n,", ").concat(r," }}")}}t.default=a},TJZh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("kdos").a,o=Array.isArray||function(e){return"Array"==r(e)}},TKFK:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("sMLe"),o=n("zwAr"),i=n("o/zE"),a=n("Yji6"),s=n("z92h"),c=n("njhQ"),u=r.a,l=o.a,d=i.a,p=a.a,f=s.a,h=c.a,m=function(){},g=[],v=f("Reflect","construct"),y=/^\s*(?:class|function)\b/,b=u(y.exec),w=!y.exec(m),O=function(e){if(!d(e))return!1;try{return v(m,g,e),!0}catch(t){return!1}},E=function(e){if(!d(e))return!1;switch(p(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return w||!!b(y,h(e))}catch(t){return!0}};E.sham=!0;var x=!v||l((function(){var e;return O(O.call)||!O(Object)||!O((function(){e=!0}))||e}))?E:O},TP9b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};r&&r.__assign;function o(){return function(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[i[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(s){}}return t}(document.cookie)}var i=function(e){return o()[e]};const a=e=>{try{const t=(()=>{try{const e=i("userContext");if(e)return c(e);const t=i("puc-ab");if(t)return s(t,",")}catch(e){return console.warn("Experiment variation reader in getAllExperiments failed.",e),[]}return[]})().find(t=>t.experimentKey===e);return t?t.variationKey:null}catch(t){return console.warn("Experiment variation reader in getVariation failed.",t),null}},s=(e,t)=>{const n=e.split(t),r=[];return n.forEach(t=>{const n=t.split(":");let o=!0;2!=n.length&&(console.warn("Experiment cookie is malformed: ",e),o=!1);const i=n[0].trim();r.some(e=>e.experimentKey===i)&&(console.warn("Experiment cookie has more than one instance of experiment key ".concat(i),e),o=!1),o&&r.push({experimentKey:i,variationKey:n[1].trim()})}),r},c=e=>{var t;const n=JSON.parse(decodeURIComponent(e)),r=null===(t=null==n?void 0:n.experiments)||void 0===t?void 0:t.v1;return r?Object.keys(r).map(e=>({experimentKey:e,variationKey:r[e]})):[]}}).call(this,n("yLpj"))},TWNs:function(e,t,n){var r=n("g6v/"),o=n("2oRo"),i=n("lMq5"),a=n("cVYH"),s=n("m/L8").f,c=n("JBy8").f,u=n("ROdP"),l=n("rW0t"),d=n("n3/R"),p=n("busE"),f=n("0Dky"),h=n("afO8").enforce,m=n("JiZb"),g=n("tiKp")("match"),v=o.RegExp,y=v.prototype,b=/a/g,w=/a/g,O=new v(b)!==b,E=d.UNSUPPORTED_Y;if(r&&i("RegExp",!O||E||f((function(){return w[g]=!1,v(b)!=b||v(w)==w||"/a/i"!=v(b,"i")})))){for(var x=function(e,t){var n,r=this instanceof x,o=u(e),i=void 0===t;if(!r&&o&&e.constructor===x&&i)return e;O?o&&!i&&(e=e.source):e instanceof x&&(i&&(t=l.call(e)),e=e.source),E&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=a(O?new v(e,t):v(e,t),r?this:y,x);E&&n&&(h(s).sticky=!0);return s},S=function(e){e in x||s(x,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},P=c(v),C=0;P.length>C;)S(P[C++]);y.constructor=x,x.prototype=y,p(o,"RegExp",x)}m("RegExp")},Trhe:function(e,t){},Tskq:function(e,t,n){"use strict";var r=n("bWFh"),o=n("ZWaQ");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},Tx24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(0,n("sMLe").a)({}.isPrototypeOf)},"U+bb":function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a,s,c){return d.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("F5Q5"),c=n("bQ+U"),u="rangePrice";t.name=u;var l="<span class='comparative-pricing'><span class='list-price-wrapper'><span class='list-price'>{{lowestListPrice}}</span> — <span class='list-price'>{{highestListPrice}}</span></span> <span class='discount-price'>{{lowestDiscountPrice}} — {{highestDiscountPrice}}</span></span>";function d(){return(d=(0,i.default)(o.default.mark((function e(t,n,r,i,d,p,f,h,m){var g,v,y,b,w,O,E,x,S;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=this,v=a.contextService.getCulture(g),y={},t!==r||n!==i?(y.comparativeRangePriceListDiscount=l,b=a.formatterService.formatPrice({culture:v,currency:d,price:r,minimumFractionDigits:p}),w=a.formatterService.formatPrice({culture:v,currency:d,price:i,minimumFractionDigits:p})):y.comparativeRangePriceListDiscount="<span class='list-price'>{{lowestListPrice}} — {{highestListPrice}}</span>",O=a.formatterService.formatPrice({culture:v,currency:d,price:t,minimumFractionDigits:p}),E=a.formatterService.formatPrice({culture:v,currency:d,price:n,minimumFractionDigits:p}),x={lowestListPrice:O,highestListPrice:E,lowestDiscountPrice:b,highestDiscountPrice:w,vatInc:f},h){e.next=11;break}return e.next=10,(0,s.getVatHtml)(f,v,m,g);case 10:x.vatMessage=e.sent;case 11:return S=(0,c.localized)(u,v),e.abrupt("return",a.mustacheService.replace(S,x,y));case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},U0gJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Nz9T"),o=n("1zAN"),i=n("H95W"),a=n("FshR");async function s({token:e,canonicalId:t,tenant:n,locale:r}){const i={headers:{Authorization:"Bearer "+e}},s="https://home-page-bff.prod.merch.vpsvc.com/v3/customer-utility-bar/"+t+"/"+n+"/"+r;try{return(await a.a.get(s,i)).data}catch(c){return void function(e,t,n,r){e&&e.response?o.a.error("Homepage BFF service failure",Object(o.c)(e,{canonicalId:t,tenant:n,locale:r})):o.a.error("Homepage BFF service failed unexpectedly",Object(o.b)(e))}({error:c,canonicalId:t,tenant:n,locale:r})}}const c=(e,t,n,a,c,u)=>{const[l,d]=r.useState();return r.useEffect(()=>{n&&a&&a.accessToken&&a.isSignedIn&&!l&&(async()=>{const n=null==c?void 0:c.getCanonicalId(),r=a.profile["https://claims.cimpress.io/is_customer"],l=a.profile["https://claims.cimpress.io/canonical_id"],p=a.profile["https://claims.cimpress.io/is_anonymous"],f=a.profile["https://claims.cimpress.io/cimpress_internal"],h=a.profile["https://claims.cimpress.io/was"];if(o.a.info("fetchStatusBarData",{contextData:{canonicalId:n,isCustomer:u,tenant:e,locale:t,claims:{isCustomerClaim:r,canonicalIdClaim:l,isAnonymousClaim:p,cimpressInternalClaim:f,wasClaim:h}}}),u){const r=await s({token:a.accessToken,canonicalId:n,tenant:e,locale:t});Object(i.newRelicAddPageAction)("Loaded customer status bar"),d(r)}})().catch(e=>{console.error("Could not fetch status bar",{error:e})})},[u,n,a,c,l,e,t]),{statusBarCustomerData:l}}},U6jy:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},UTha:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=r(n("lSNA")),s=n("Aq9I");t.default=class{constructor(e,t){(0,a.default)(this,"tokenEngine",void 0),this.tokenEngine=s.tokenEngineFactory.create(e,t)}get(e,t){var n=this;return(0,i.default)(o.default.mark((function r(){var i;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=s.presentationTokenFactory.generateToken(e,t),r.next=3,n.tokenEngine.render(i);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}}},UVaH:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n("FpZJ");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},Ua2A:function(e,t,n){},UxZ4:function(e,t){},"V+hJ":function(e,t,n){},V8Jq:function(e,t,n){"use strict";function r(e){return e.split("-")[1].toUpperCase()}n.d(t,"a",(function(){return r}))},VAJa:function(e,t,n){"use strict";var r=n("AM7I"),o=n("VF6F"),i=n("JxQ3"),a=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(c){if(t)return p(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(c){if(t)return h(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,o)):c?(t||(t=new c),f(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},VF6F:function(e,t,n){"use strict";var r=n("AM7I"),o=n("PrET"),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},VGbW:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r,o,i=n("xRrl"),a=n("funq"),s=n("XL2s"),c=n("Kiq5");function u(){if(o)return r;o=1;var t=Object(i.a)(),n=Object(a.a)(),u=Object(s.a)(),l={"Content-Type":"application/x-www-form-urlencoded"};function d(e,n){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var p,f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(p=Object(c.a)()),p),transformRequest:[function(e,r){return n(r,"Accept"),n(r,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(d(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)||r&&"application/json"===r["Content-Type"]?(d(r,"application/json"),function(e,n,r){if(t.isString(e))try{return(n||JSON.parse)(e),t.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&t.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw u(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};return f.headers={common:{Accept:"application/json, text/plain, */*"}},t.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),t.forEach(["post","put","patch"],(function(e){f.headers[e]=t.merge(l)})),r=f}}).call(this,n("KCCg"))},VVba:function(e,t,n){"use strict";var r=n("2taM"),o=n("xNHL"),i={},a={},s=r.a&&r.a.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(a,"__esModule",{value:!0}),a.serializeParams=a.serializeToUseEffectString=void 0;var c=function(e,t){return e+"="+t};a.serializeToUseEffectString=function(e){return JSON.stringify(function e(t){if("object"==typeof t){if(Array.isArray(t))return t.map(e);if(null===t)return null;var n={};return s([],Object.keys(t)).sort().forEach((function(r){return n[r]=e(t[r])})),n}return t}(e))};a.serializeParams=function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=r[n],i=o[0],a=o[1];if("object"==typeof a)if(Array.isArray(a))for(var s=0,u=a;s<u.length;s++){var l=u[s];if("object"==typeof l)for(var d in l)t.push(c(i+"["+encodeURIComponent(d)+"]",encodeURIComponent(l[d])));else t.push(c(i,encodeURIComponent(l)))}else{if(null==a)continue;for(var p=0,f=Object.entries(a);p<f.length;p++){var h=f[p],m=h[0],g=h[1];t.push(c(i+"["+m+"]",encodeURIComponent(g)))}}else void 0!==a&&t.push(c(i,encodeURIComponent(a)))}return t.join("&")};var u={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LocalizedBadges=e.getBadge=void 0;e.getBadge=function(t,n){var r,o,i,a=t.substr(0,2).toLowerCase();function s(e){return"object"==typeof e&&!!e.id}if(s(n))return n;var c=null!==(o=null===(r=e.LocalizedBadges[a.toLowerCase()])||void 0===r?void 0:r[n])&&void 0!==o?o:null===(i=e.LocalizedBadges[t.toLowerCase()])||void 0===i?void 0:i[n];return s(n)?n:{id:n,text:null!=c?c:n}},e.LocalizedBadges={en:{recommended:"Recommended",premium:"Premium",popular:"Popular"},es:{recommended:"Recomendado",premium:"Premium",popular:"Popular"},it:{recommended:"Consigliato",premium:"Premium",popular:"Popolari"},pt:{recommended:"Recomendadas",premium:"Especial",popular:"Populares"},fr:{recommended:"Recommandé",premium:"Premium",popular:"Populaires"},da:{recommended:"Anbefalet",premium:"Premium",popular:"Populære"},nl:{recommended:"Aanbevolen",premium:"Premium",popular:"Populair"},de:{recommended:"Empfohlen",premium:"Premium",popular:"Beliebt"},nb:{recommended:"Anbefales",premium:"Premium",popular:"Populær"},sv:{recommended:"Rekommenderas",premium:"Premium",popular:"Populära"}}}(u);var l=r.a&&r.a.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=r.a&&r.a.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},p=r.a&&r.a.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(i,"__esModule",{value:!0});var f=a,h=u,m={},g=function(){function e(){}return e.getWranglerData=function(e){return d(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,d,h,g,v,y,b,w,O,E,x,S;return p(this,(function(p){switch(p.label){case 0:if(t=e.merchant,n=e.culture,r=e.productKey,o=e.productVersion,i=e.merchandisingExperience,a=e.selectedAttributes,s=e.initialSelectedAttributes,c=e.selectedQuantity,u=e.documentUrl,l=e.includeVat,d=e.couponCode,h=e.pricingContextString,g=e.imageTransformations,v=e.iconTransformations,y={merchandisingExperience:i,responseComponents:["standardConfigurator"],selectedAttributes:a,selectedQuantity:c,initialSelectedAttributes:s,documentUrl:u,includeVat:l,couponCode:d,pricingContextString:h,imageTransformations:g,iconTransformations:v,useMsx:!0},b=f.serializeToUseEffectString(e),m[b])return[2,m[b]];p.label=1;case 1:return p.trys.push([1,3,,4]),w="https://wrangler.prod.merch.vpsvc.com/api/v1/"+t+"/"+n+"/configuratorData/"+r+"/"+o+"?"+f.serializeParams(y),[4,fetch(w).then((function(e){return e.json()}))];case 2:return O=p.sent(),E=this.remapResponse(O,n),(x={data:E,exceptionMessages:O.exceptionMessages}).data&&this.addToCache(b,x),[2,x];case 3:return[2,{data:null,exceptionMessages:["error call to wrangler get endpoint failed: "+((S=p.sent()).message?S.message:"")]}];case 4:return[2]}}))}))},e.realizeDocument=function(e,t){return d(this,void 0,void 0,(function(){var n,r,o,i,a;return p(this,(function(s){switch(s.label){case 0:if(!t.changesPending)return[2,void 0];if(!e)throw new Error("AuthToken required to realize and save document");if(!(n=t.url))throw new Error("Document resolution url required to realize and save document");s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(n,{headers:{authorization:"Bearer "+e}}).then((function(e){return e.json()}))];case 2:return r=s.sent(),[3,4];case 3:throw o=s.sent(),new Error("Document resolution failed: url: "+n+"; exception: "+(o.message?o.message:o.stack));case 4:i=void 0,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.postDocumentToUDS(r,e)];case 6:return i=s.sent(),[3,8];case 7:throw a=s.sent(),new Error("error posting document to UDS: "+JSON.stringify(i)+"; exception: "+(a.message?a.message:a.stack));case 8:return[2,i._links]}}))}))},e.addToCache=function(e,t){var n=Object.keys(m);n.length>50&&delete m[n[0]],m[e]=t},e.postDocumentToUDS=function(e,t){return d(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return"https://uds.documents.cimpress.io","1","https://uds.documents.cimpress.io/v3/documents?cacheForHours=1",[4,fetch("https://uds.documents.cimpress.io/v3/documents?cacheForHours=1",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+t},body:JSON.stringify(e)}).then((function(e){return e.json()}))];case 1:return[2,n.sent()]}}))}))},e.remapResponse=function(e,t){var n,r,o,i;function a(e){switch(typeof e){case"string":var t=parseInt(e);return isNaN(t)?void 0:t;case"number":return e;default:return}}var s=e.standardConfigurator;return l(l({},s),{attributes:s.attributes.map((function(e){return l(l({},e),{options:e.options.map((function(e){return l(l({},e),{badges:e.badges.map((function(e){return h.getBadge(t,e)}))})}))})})),quantities:l(l({},s.quantities),{selected:a(null===(n=s.quantities)||void 0===n?void 0:n.selected),quantities:null===(o=null===(r=s.quantities)||void 0===r?void 0:r.quantities)||void 0===o?void 0:o.map((function(e){return l(l({},e),{quantity:a(e.quantity),badges:e.badges.map((function(e){return h.getBadge(t,e)}))})}))}),selections:l(l({},s.selections),{quantity:a(null===(i=s.selections)||void 0===i?void 0:i.quantity)})})},e}();i.default=g;var v={},y=n("Nz9T"),b=n.n(y),w=n("5tnp"),O=Object(r.b)(w);!function(e){var t=r.a&&r.a.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=r.a&&r.a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=r.a&&r.a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=r.a&&r.a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=r.a&&r.a.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=r.a&&r.a.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=r.a&&r.a.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},l=r.a&&r.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.useWranglerDataContext=e.WranglerDataContext=void 0;var d=a(b.a),p=l(i),f=l(O);e.WranglerDataContext=d.createContext(void 0),e.default=function(n){var r=d.useState(void 0),o=r[0],i=r[1],a=d.useState(!1),l=a[0],h=a[1],m=d.useState([]),g=m[0],v=m[1];n.children;var y=u(n,["children"]),b={merchant:y.merchant,culture:y.culture,initialSelectedAttributes:y.initialSelectedAttributes,initialQuantity:y.selectedQuantity,merchandisingExperience:y.merchandisingExperience,includeVat:y.includeVat,couponCode:y.couponCode,pricingContextString:y.pricingContextString};return f.default((function(){var e=!0;return o&&h(!0),function(){s(this,void 0,void 0,(function(){var n,r,a;return c(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),n=t({},y),[4,p.default.getWranglerData(n)];case 1:return r=s.sent(),e&&(v([].concat(r.exceptionMessages,g)),h(!1),i(r.data||o)),[3,4];case 2:return a=s.sent(),e&&v([].concat(a.message+": "+a.stack,g)),[3,4];case 3:return e&&h(!1),[7];case 4:return[2]}}))}))}(),function(){e=!1}}),[y]),d.default.createElement(e.WranglerDataContext.Provider,{value:{data:o,context:b,updating:l,exceptionMessages:g}},n.children)};e.useWranglerDataContext=function(){return d.useContext(e.WranglerDataContext)}}(v);var E={};!function(e){var t=r.a&&r.a.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=r.a&&r.a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=r.a&&r.a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=r.a&&r.a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=r.a&&r.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.useManagedWranglerSelectionsContext=e.ManagedWranglerSelectionsProvider=e.ManagedWranglerSelectionsContext=void 0;var s=i(b.a),c=a(v);e.ManagedWranglerSelectionsContext=s.createContext(void 0),e.ManagedWranglerSelectionsProvider=function(n){var r=s.useState(n.selectedQuantity),o=r[0],i=r[1],a=s.useState(n.selectedAttributes||{}),u=a[0],l=a[1];return s.default.createElement(e.ManagedWranglerSelectionsContext.Provider,{value:{setSelectedQuantity:function(e){i(e),n.onChangeQuantity&&n.onChangeQuantity(e,o)},setSelections:function(e){l(e),n.onChangeSelections&&n.onChangeSelections(e,u)}}},s.default.createElement(c.default,t({},n,{selectedAttributes:u,selectedQuantity:o}),n.children))};e.useManagedWranglerSelectionsContext=function(){return s.useContext(e.ManagedWranglerSelectionsContext)}}(E),function(e){var t=r.a&&r.a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=r.a&&r.a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=r.a&&r.a.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r},a=r.a&&r.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.useManagedWranglerSelectionsContext=e.ManagedWranglerSelectionsProvider=e.ManagedWranglerSelectionsContext=e.useWranglerDataContext=e.WranglerDataContext=e.WranglerDataProvider=e.WranglerDataSource=void 0;var s=a(i);e.WranglerDataSource=s.default;var c=o(v);e.WranglerDataProvider=c.default,Object.defineProperty(e,"WranglerDataContext",{enumerable:!0,get:function(){return c.WranglerDataContext}}),Object.defineProperty(e,"useWranglerDataContext",{enumerable:!0,get:function(){return c.useWranglerDataContext}});var u=E;Object.defineProperty(e,"ManagedWranglerSelectionsContext",{enumerable:!0,get:function(){return u.ManagedWranglerSelectionsContext}}),Object.defineProperty(e,"useManagedWranglerSelectionsContext",{enumerable:!0,get:function(){return u.useManagedWranglerSelectionsContext}}),Object.defineProperty(e,"ManagedWranglerSelectionsProvider",{enumerable:!0,get:function(){return u.ManagedWranglerSelectionsProvider}})}(o.a)},VdSc:function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,"a",(function(){return o}))},W47U:function(e,t){},W6b0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},WGpj:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a,s){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="qtyStartingAtPrice";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p,f){var h,m,g,v,y,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=this,m=a.contextService.getCulture(h),e.next=4,(0,s.comparativePriceFilter)(m,n,r,i,l,d,p,f,h);case 4:return g=e.sent,v=g.htmlTemplates,(y=g.mustacheVariables).quantity=t,b=(0,c.localized)(u,m),e.abrupt("return",a.mustacheService.replace(b,y,v));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},WJUW:function(e,t,n){"use strict";n("9cPH"),n("vPPQ");var r=n("M3CU"),o=n("P1HI").a.unstable_batchedUpdates;r.a.setBatchNotifyFunction(o)},WY7N:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o,i=n("xRrl");function a(){if(o)return r;o=1;var e=Object(i.a)();function t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return r=function(n,r,o){if(!r)return n;var i;if(o)i=o(r);else if(e.isURLSearchParams(r))i=r.toString();else{var a=[];e.forEach(r,(function(n,r){null!=n&&(e.isArray(n)?r+="[]":n=[n],e.forEach(n,(function(n){e.isDate(n)?n=n.toISOString():e.isObject(n)&&(n=JSON.stringify(n)),a.push(t(r)+"="+t(n))})))})),i=a.join("&")}if(i){var s=n.indexOf("#");-1!==s&&(n=n.slice(0,s)),n+=(-1===n.indexOf("?")?"?":"&")+i}return n}}},WjRb:function(e,t,n){var r=n("ROdP");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},XL2s:function(e,t,n){"use strict";var r,o;function i(){return o?r:(o=1,r=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e})}n.d(t,"a",(function(){return i}))},XMAQ:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"qtyForOnly",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},XXVo:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},XaGS:function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[o]=u["[object Number]"]=u[i]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,p=l||d||Function("return this")(),f=t&&!t.nodeType&&t,h=f&&"object"==typeof n&&n&&!n.nodeType&&n,m=h&&h.exports===f,g=m&&l.process,v=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),y=v&&v.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,x,S,P=Array.prototype,C=Function.prototype,T=Object.prototype,_=p["__core-js_shared__"],k=C.toString,I=T.hasOwnProperty,M=(E=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",j=T.toString,A=RegExp("^"+k.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m?p.Buffer:void 0,D=p.Symbol,L=p.Uint8Array,N=T.propertyIsEnumerable,U=P.splice,F=D?D.toStringTag:void 0,B=Object.getOwnPropertySymbols,z=R?R.isBuffer:void 0,V=(x=Object.keys,S=Object,function(e){return x(S(e))}),q=ve(p,"DataView"),G=ve(p,"Map"),H=ve(p,"Promise"),W=ve(p,"Set"),K=ve(p,"WeakMap"),Q=ve(Object,"create"),Y=Oe(q),Z=Oe(G),J=Oe(H),X=Oe(W),$=Oe(K),ee=D?D.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){var n=Se(e),r=!n&&xe(e),o=!n&&!r&&Pe(e),i=!n&&!r&&!o&&Ie(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!I.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||we(u,c))||s.push(u);return s}function ce(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function ue(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=I.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(i){}var o=j.call(e);r&&(t?e[F]=n:delete e[F]);return o}(e):function(e){return j.call(e)}(e)}function le(e){return ke(e)&&ue(e)==r}function de(e,t,n,s,c){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,s,c,u){var l=Se(e),d=Se(t),p=l?"[object Array]":be(e),f=d?"[object Array]":be(t),h=(p=p==r?i:p)==i,m=(f=f==r?i:f)==i,g=p==f;if(g&&Pe(e)){if(!Pe(t))return!1;l=!0,h=!1}if(g&&!h)return u||(u=new ae),l||Ie(e)?he(e,t,n,s,c,u):function(e,t,n,r,i,s,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var u=w;case a:var l=1&r;if(u||(u=O),e.size!=t.size&&!l)return!1;var d=c.get(e);if(d)return d==t;r|=2,c.set(e,t);var p=he(u(e),u(t),r,i,s,c);return c.delete(e),p;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,p,n,s,c,u);if(!(1&n)){var v=h&&I.call(e,"__wrapped__"),y=m&&I.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,E=y?t.value():t;return u||(u=new ae),c(b,E,n,s,u)}}if(!g)return!1;return u||(u=new ae),function(e,t,n,r,o,i){var a=1&n,s=me(e),c=s.length,u=me(t).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var d=s[l];if(!(a?d in t:I.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=a;for(;++l<c;){d=s[l];var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,i):r(m,g,d,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,s,c,u)}(e,t,n,s,de,c))}function pe(e){return!(!_e(e)||function(e){return!!M&&M in e}(e))&&(Ce(e)?A:s).test(Oe(e))}function fe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||T,t!==r)return V(e);var t,n,r,o=[];for(var i in Object(e))I.call(e,i)&&"constructor"!=i&&o.push(i);return o}function he(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,d=!0,p=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var f=e[l],h=t[l];if(r)var m=a?r(h,f,l,t,e,i):r(f,h,l,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!b(t,(function(e,t){if(a=t,!p.has(a)&&(f===e||o(f,e,n,r,i)))return p.push(t);var a}))){d=!1;break}}else if(f!==h&&!o(f,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function me(e){return function(e,t,n){var r=t(e);return Se(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Me,ye)}function ge(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return I.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:I.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(G||re),string:new ne}},oe.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ge(this,e).get(e)},oe.prototype.has=function(e){return ge(this,e).has(e)},oe.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ye=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(B(e),(function(t){return N.call(e,t)})))}:function(){return[]},be=ue;function we(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function Oe(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(q&&"[object DataView]"!=be(new q(new ArrayBuffer(1)))||G&&be(new G)!=o||H&&"[object Promise]"!=be(H.resolve())||W&&be(new W)!=a||K&&"[object WeakMap]"!=be(new K))&&(be=function(e){var t=ue(e),n=t==i?e.constructor:void 0,r=n?Oe(n):"";if(r)switch(r){case Y:return"[object DataView]";case Z:return o;case J:return"[object Promise]";case X:return a;case $:return"[object WeakMap]"}return t});var xe=le(function(){return arguments}())?le:function(e){return ke(e)&&I.call(e,"callee")&&!N.call(e,"callee")},Se=Array.isArray;var Pe=z||function(){return!1};function Ce(e){if(!_e(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Ie=y?function(e){return function(t){return e(t)}}(y):function(e){return ke(e)&&Te(e.length)&&!!u[ue(e)]};function Me(e){return null!=(t=e)&&Te(t.length)&&!Ce(t)?se(e):fe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n("yLpj"),n("YuTi")(e))},Xhqo:function(e,t,n){"use strict";var r=n("qPBE").Buffer,o=n(3);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o,i=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=i,o=s,t.copy(n,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},XnrF:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"pricePerUnit",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},XpQx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},Y4wP:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Rmyw"),o=n("t7qx"),i=r.a,a=o.a,s=i.String,c=i.TypeError,u=function(e){if(a(e))return e;throw c(s(e)+" is not an object")}},"YAv+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},YEcl:function(e,t,n){"use strict";var r=n("MOJX");function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},YFPr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},YNrV:function(e,t,n){"use strict";var r=n("g6v/"),o=n("0Dky"),i=n("33Wh"),a=n("dBg+"),s=n("0eef"),c=n("ewvW"),u=n("RK3t"),l=Object.assign,d=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=c(e),o=arguments.length,l=1,d=a.f,p=s.f;o>l;)for(var f,h=u(arguments[l++]),m=d?i(h).concat(d(h)):i(h),g=m.length,v=0;g>v;)f=m[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},YRG5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},YUC8:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r,o,i=n("8x/l"),a=n("JM11"),s=n("XpQx"),c=n("r2Zl");function u(){if(o)return r;o=1;var t=i.a,n=a.a,u=s.a,l={"Content-Type":"application/x-www-form-urlencoded"};function d(e,n){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var p,f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(p=Object(c.a)()),p),transformRequest:[function(e,r){return n(r,"Accept"),n(r,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(d(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)||r&&"application/json"===r["Content-Type"]?(d(r,"application/json"),function(e,n,r){if(t.isString(e))try{return(n||JSON.parse)(e),t.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var n=this.transitional||f.transitional,r=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&t.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw u(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),t.forEach(["post","put","patch"],(function(e){f.headers[e]=t.merge(l)})),r=f}}).call(this,n("KCCg"))},YVQJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2taM"),o=n("dm8C"),i=Object(r.b)(o)},Yb5V:function(e,t,n){"use strict";var r,o;function i(){if(o)return r;o=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}return r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(r,o){for(var a,s,c=i(r),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))t.call(a,l)&&(c[l]=a[l]);if(e){s=e(a);for(var d=0;d<s.length;d++)n.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}}n.d(t,"a",(function(){return i}))},YdXy:function(e,t,n){},Yji6:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("Rmyw"),o=n("JOlD"),i={};i[(0,o.a)("toStringTag")]="z";var a="[object z]"===String(i),s=n("o/zE"),c=n("kdos"),u=r.a,l=a,d=s.a,p=c.a,f=(0,o.a)("toStringTag"),h=u.Object,m="Arguments"==p(function(){return arguments}()),g=l?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=h(e),f))?n:m?p(t):"Object"==(r=p(t))&&d(t.callee)?"Arguments":r}},Yshu:function(e,t,n){var r=n("tjlA"),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZDk0:function(e,t,n){},ZPe3:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},ZWaQ:function(e,t,n){"use strict";var r=n("m/L8").f,o=n("fHMY"),i=n("4syw"),a=n("A2ZE"),s=n("GarU"),c=n("ImZN"),u=n("fdAy"),l=n("JiZb"),d=n("g6v/"),p=n("8YOa").fastKey,f=n("afO8"),h=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&c(r,e[u],{that:e,AS_ENTRIES:n})})),f=m(t),g=function(e,t,n){var r,o,i=f(e),a=v(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),d?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var n,r=f(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=f(this),n=v(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&r(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=m(t),i=m(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},ZeFV:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a,s){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="priceForQtyUnits";t.name=u;function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p,f){var h,m,g,v,y,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=this,m=a.contextService.getCulture(h),e.next=4,(0,s.comparativePriceFilter)(m,n,r,i,l,d,p,f,h);case 4:return g=e.sent,v=g.htmlTemplates,(y=g.mustacheVariables).quantity=t,v.forQtyUnits="<span class='pricing-for-units-callout'>{{forQtyUnits}}</span>",y.forQtyUnits=(0,c.localized)("".concat(u,".subtemplate"),m),b=(0,c.localized)(u,m),e.abrupt("return",a.mustacheService.replace(b,y,v));case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},ZeN8:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n("Ytr/");function o(t){if("undefined"==typeof btoa){const n=Object(r.b)(t,{to:"string"});return e.from(n,"binary").toString("base64")}const n=Object(r.b)(t);return btoa(String.fromCharCode(...n))}}).call(this,n("tjlA").Buffer)},aI7X:function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(r+t);for(var n,a=o.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},aQFG:function(e,t,n){"use strict";var r,o;function i(){if(o)return r;function e(e){this.message=e}return o=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,r=e}n.d(t,"a",(function(){return i}))},aTPC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){function t(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},arQW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},atqP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Rmyw"),o=n("Hxi4"),i=r.a,a=o.a,s=i["__core-js_shared__"]||a("__core-js_shared__",{})},b5Jz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},b7j7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},bPwW:function(e,t,n){"use strict";var r=n("MOJX"),o=n("/0TV");e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},"bQ+U":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localized=void 0;var r={};r["sv-se"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Bara </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> styck </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> med rabattkoden </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Bara",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} rabatt",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Grundpris",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"ingår","priceForQtyUnits.subtemplate":"för {{quantity}} st.",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / st.</span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} för bara </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} för",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} från </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} från </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. moms)",vatEx:"(exkl. moms)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Du har sparat",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["pt-pt"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>A partir de apenas </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> por unidade </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> com o código </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Apenas",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Preço </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"Desconto de {{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Preço base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/cada</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"incluído","priceForQtyUnits.subtemplate":"por {{quantity}} unidades",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Preço </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unidade </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} por apenas </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} por",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(IVA inc.)",vatEx:"(Sem IVA)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Poupou {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["no-locale"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"",labeledPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"","priceForQtyUnits.subtemplate":"{{quantity}}",priceForQtyUnits:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} ",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"",vatEx:"",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"{{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["nl-nl"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Al vanaf </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per stuk </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> met code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Slechts",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prijs </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} korting",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Basisprijs",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/stuk</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"Inclusief","priceForQtyUnits.subtemplate":"voor {{quantity}} stuks",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prijs </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'>/stuk </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} voor slechts </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} voor",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} vanaf </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} vanaf </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(incl. btw)",vatEx:"(excl. btw)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Je hebt {{amount}} bespaard",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["nl-be"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Al vanaf </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per stuk </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> met code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Slechts",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prijs </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} korting",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Basisprijs",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/stuk</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"Inclusief","priceForQtyUnits.subtemplate":"voor {{quantity}} stuks",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prijs </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'>/stuk </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} voor slechts </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} voor",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} vanaf </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} vanaf </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(incl. btw)",vatEx:"(excl. btw)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Je hebt {{amount}} bespaard",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["nb-no"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Så lite som </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per stykk </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> med kode </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Kun",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} rabatt",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Grunnpris",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/per stk.</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inkludert","priceForQtyUnits.subtemplate":"for {{quantity}} stk.",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / stk </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for kun </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} fra </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} fra </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. MVA)",vatEx:"(ekskl. MVA)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Du sparte {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["ja-jp"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}<span class='pricing-offer'> お得になります</span></span>",couponCallout:"<span class='pricing'><span class='pricing-offer'>このクーポンコード </span>{{{couponCode}}}<span class='pricing-offer'> で </span>{{{discountPrice}}} {{{vatMessage}}}<span class='pricing-offer'> お得になります</span></span>",labeledPrice:"<span class='pricing'><span class='pricing-offer'>価格： </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} オフ",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"本体価格",plusOrMinusPerUnit:"<span class='pricing'><span class='pricing-offer'>各</span>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"追加料金なし","priceForQtyUnits.subtemplate":"数量: {{quantity}}",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>価格: </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}<span class='pricing-offer'> 数量: </span>{{{forQtyUnits}}}</span>",pricePerUnit:"<span class='pricing'><span class='pricing-offer'>各 </span>{{{comparativePriceListDiscount}}}{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>数量: {{quantity}} 価格: </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"数量: {{qtyFor}} 価格: {{price}} {{vatText}}","qtyForPrice.subtemplate":"数量: {{quantity}}",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>数量: {{quantity}} 価格: </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>数量: {{quantity}} 価格: </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(税込み）",vatEx:"(税別）",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"{{amount}} お得です",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["it-it"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>A soli </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per unità </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> con il codice </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Solo",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prezzo </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} di sconto",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prezzo di base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unità</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"incluso","priceForQtyUnits.subtemplate":"per {{quantity}} unità",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prezzo </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unità </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a soli </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} a",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partire da </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partire da </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(IVA incl.)",vatEx:"(IVA escl.)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Hai risparmiato {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["it-ch"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>A soli </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per unità </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> con il codice </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Solo",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prezzo </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} di sconto",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prezzo di base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unità</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"incluso","priceForQtyUnits.subtemplate":"per {{quantity}} unità",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prezzo </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unità </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a soli </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} a",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partire da </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partire da </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(IVA incl.)",vatEx:"(IVA escl.)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Hai risparmiato {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["fr-fr"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>À partir de </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> l’unité </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> en entrant le code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Seulement",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} de réduction",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prix de base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unité</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inclus","priceForQtyUnits.subtemplate":"pour {{quantity}} unités",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unité </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} pour seulement </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} pour",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} dès </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} à partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(TTC)",vatEx:"(HT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Vous économisez {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["fr-ch"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>À partir de </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> l’unité </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> en entrant le code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Seulement",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} de réduction",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prix de base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unité</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inclus","priceForQtyUnits.subtemplate":"pour {{quantity}} unités",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unité </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} pour seulement </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} pour",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} dès </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} à partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(TTC)",vatEx:"(HT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Vous économisez {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["fr-ca"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>À partir de </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> l’unité </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> avec le code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Seulement",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prix...</span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"- {{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prix de base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/chq</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inclus","priceForQtyUnits.subtemplate":"pour {{quantity}} unités",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unité </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} pour seulement </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} pour",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} à partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(incl. TPS/TVH)",vatEx:"(ex. TPS/TVH)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Vous avez économisé {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["fr-be"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>À partir de </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> l’unité </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> en entrant le code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Seulement",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} de réduction",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Prix de base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unité</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inclus","priceForQtyUnits.subtemplate":"pour {{quantity}} unités",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Prix </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unité </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} pour seulement </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} pour",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} dès </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} à partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(TTC)",vatEx:"(HT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Vous économisez {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["fi-fi"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Alkaen </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per tuote</span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> käytettäessä koodia </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Vain",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Hinta </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} alennus",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Perushinta",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/kpl</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"sisältyy mukaan","priceForQtyUnits.subtemplate":"/ {{quantity}} kpl",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Hinta </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / tuote</span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} vain </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} ",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} alkaen </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} alkaen </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(sis. ALV)",vatEx:"(ei sis. ALV)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Säästit {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["es-us"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Por tan solo </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> la unidad </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> con código </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Tan solo",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Precio </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} dto.",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Precio base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>c/u</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"incluido","priceForQtyUnits.subtemplate":"por {{quantity}} unidades",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Precio </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unidad </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} por solo </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} para",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} desde </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} desde </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(Incl. IVA)",vatEx:"(Excl. IVA)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Ahorró {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["es-es"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Desde tan solo </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> por unidad </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> con el código </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Solo",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Precio </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} de dto.",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Precio base",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/unidad</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"incluido","priceForQtyUnits.subtemplate":"por {{quantity}} unidades",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Precio </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unidad </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} por solo </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} por",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} desde </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} a partir de </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(IVA incl.)",vatEx:"(IVA no incl.)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Ahorras {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-us"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-sg"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-nz"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-jp"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-in"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-ie"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-gb"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-ca"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["en-au"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>As low as </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> per piece </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> with code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Just",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} off",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Base Price",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/ea</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"included","priceForQtyUnits.subtemplate":"for {{quantity}} units",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Price </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / unit </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for only </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} from </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} starting at </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inc. VAT)",vatEx:"(ex. VAT)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"You saved {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["de-de"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Schon ab </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> pro Stück </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> mit dem Code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Nur",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"-{{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Grundpreis",plusOrMinusPerUnit:"<span class='pricing'><span class='pricing-offer'>je </span>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inklusive","priceForQtyUnits.subtemplate":"für {{quantity}} Stück",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / Stück </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} für nur </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} für",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} schon ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. MwSt.)",vatEx:"(exkl. MwSt.)",vatIncWithShipping:"(inkl. MwSt. zzgl. {{{shippingMessage}}})",vatExWithShipping:"(exkl. MwSt. zzgl. {{{shippingMessage}}})",shippingMessage:"Versand",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"So viel haben Sie gespart: {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["de-ch"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Schon ab </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> pro Stück </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> mit dem Code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Nur",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"-{{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Grundpreis",plusOrMinusPerUnit:"<span class='pricing'><span class='pricing-offer'>je </span>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inklusive","priceForQtyUnits.subtemplate":"für {{quantity}} Stück",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / Stück </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} für nur </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} für",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} schon ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. MwSt.)",vatEx:"(exkl. MwSt.)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"So viel haben Sie gespart: {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["de-at"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Schon ab </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> pro Stück </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> mit dem Code </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Nur",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"-{{percent}}",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Grundpreis",plusOrMinusPerUnit:"<span class='pricing'><span class='pricing-offer'>je </span>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inklusive","priceForQtyUnits.subtemplate":"für {{quantity}} Stück",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Preis </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> / Stück </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} für nur </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} für",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} schon ab </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. MwSt.)",vatEx:"(exkl. MwSt.)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"So viel haben Sie gespart: {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};r["da-dk"]={rawPrice:"<span class='pricing'>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",asLowAsPricePerPiece:"<span class='pricing'><span class='pricing-offer'>Fra kun </span>{{{comparativePriceListDiscount}}}<span class='pricing-offer'> pr. styk </span>{{{vatMessage}}}</span>",couponCallout:"<span class='pricing'>{{{justMessage}}} {{{discountPrice}}}<span class='pricing-offer'> med rabatkoden </span>{{{couponCode}}} {{{vatMessage}}}</span>","couponCallout.subtemplate":"Kun",labeledPrice:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",percentOff:"<span class='pricing'>{{{percentOff}}}</span>","percentOff.subtemplate":"{{percent}} rabat",plusOrMinus:"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinus.subtemplate":"Basispris",plusOrMinusPerUnit:"<span class='pricing'>{{{plusOrMinus}}}<span class='pricing-offer'>/stk.</span></span>","plusOrMinusPerUnit.base":"<span class='pricing'>{{{plusOrMinus}}}</span>","plusOrMinusPerUnit.subtemplate":"inkluderet","priceForQtyUnits.subtemplate":"for {{quantity}} styk",priceForQtyUnits:"<span class='pricing'><span class='pricing-offer'>Pris </span>{{{comparativePriceListDiscount}}} {{{forQtyUnits}}} {{{vatMessage}}}</span>",pricePerUnit:"<span class='pricing'>{{{comparativePriceListDiscount}}}<span class='pricing-offer'>/stk. </span>{{{vatMessage}}}</span>",qtyForOnly:"<span class='pricing'><span class='pricing-offer'>{{quantity}} for kun </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyForPrice:"{{qtyFor}} {{price}} {{vatText}}","qtyForPrice.subtemplate":"{{quantity}} for",qtyFromPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} fra </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",qtyStartingAtPrice:"<span class='pricing'><span class='pricing-offer'>{{quantity}} til priser fra </span>{{{comparativePriceListDiscount}}} {{{vatMessage}}}</span>",vatInc:"(inkl. moms)",vatEx:"(ekskl. moms)",vatMessage:"<span class='pricing'>{{{vatMessage}}}</span>",youSaved:"<span class='pricing'>{{{youSaved}}}</span>","youSaved.subtemplate":"Du har sparet {{amount}}",rangePrice:"<span class='pricing'>{{{comparativeRangePriceListDiscount}}} {{{vatMessage}}}</span>"};t.localized=(e,t)=>r[t.toLowerCase()]?r[t.toLowerCase()][e]:r["no-locale"][e]},bUv3:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=(n("E9XD"),n("mWeo")),a=(n("5DR5"),n("2DWb"),n("qWkD"),n("FdlX"),n("6eof"),n("m2GG"),n("kKQ4"),n("mhtg"),n("GCus"),n("sTLe"),n("OPJn"),n("DUyU"),n("BDz/"),n("MJYl"),n("oRON"),n("RRyU"),n("uhOi")),s=n("ckbL");!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a.a.exports),r=i(s.a.exports);function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=n.default.create({transformRequest:[e=>"string"==typeof e||e instanceof String?e:JSON.stringify(e)]}),d=()=>{};function p(e){return(0,r.default)(e,(function(e,t){switch(typeof t){case"bigint":case"symbol":return t.toString();default:return t}}))}t.default=class{constructor(e){e&&Object.prototype.hasOwnProperty.call(e,"endpoint")&&void 0!==e.endpoint&&""!==e.endpoint?(this.config={},this.pendingLogs=[],this.interval=0,this.logSending=!1,this.setConfig(e),this.startLogSending()):console.error("An endpoint value must be provided")}setConfig(e){this.config={endpoint:e.endpoint,returnPromise:!Object.prototype.hasOwnProperty.call(e,"returnPromise")||e.returnPromise,clientUrl:e.clientUrl||"",useIntervalOnly:e.useIntervalOnly||!1,interval:e.interval||0,batchSize:e.batchSize||0,sourceName:e.sourceName||"",hostName:e.hostName||"",sourceCategory:e.sourceCategory||"",session:e.sessionKey||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),onSuccess:e.onSuccess||d,onError:e.onError||d,graphite:e.graphite||!1,raw:e.raw||!1}}updateConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.endpoint&&(this.config.endpoint=e.endpoint),e.returnPromise&&(this.config.returnPromise=e.returnPromise),e.useIntervalOnly&&(this.config.useIntervalOnly=e.useIntervalOnly),e.interval&&(this.config.interval=e.interval,this.startLogSending()),e.batchSize&&(this.config.batchSize=e.batchSize),e.sourceCategory&&(this.config.sourceCategory=e.sourceCategory)}batchReadyToSend(){if(0===this.config.batchSize)return 0===this.config.interval;var e=this.pendingLogs.reduce((e,t)=>e+JSON.parse(t).msg+"\n","").length>=this.config.batchSize;return e&&this.stopLogSending(),e}_postSuccess(e){this.pendingLogs=this.pendingLogs.slice(e),this.startLogSending(),this.config.onSuccess()}sendLogs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isFlushing;if(this.logSending||0===this.pendingLogs.length)return!1;try{this.logSending=!0;var t={"X-Sumo-Client":"sumo-javascript-sdk"};this.config.graphite?Object.assign(t,{"Content-Type":"application/vnd.sumologic.graphite"}):Object.assign(t,{"Content-Type":"application/json"}),""!==this.config.sourceName&&Object.assign(t,{"X-Sumo-Name":this.config.sourceName}),""!==this.config.sourceCategory&&Object.assign(t,{"X-Sumo-Category":this.config.sourceCategory}),""!==this.config.hostName&&Object.assign(t,{"X-Sumo-Host":this.config.hostName});var n=Array.from(this.pendingLogs).join("\n"),r={headers:t,maxContentLength:1/0,maxBodyLength:1/0};return this.config.returnPromise&&1===this.pendingLogs.length?l.post(this.config.endpoint,n,r).then(e=>(this._postSuccess(1),this.logSending=!1,e)).catch(t=>(this.config.onError(t),this.logSending=!1,e?(this.stopLogSending(),console.error("Flushing logs failed")):(console.error("Logs ".concat(JSON.stringify(n,null,2)," failed to be sent")),this.removeFromPendingLogs(n.length)),Promise.reject(t))):l.post(this.config.endpoint,n,r).then(()=>{this._postSuccess(n.length),this.logSending=!1}).catch(t=>{if(this.config.onError(t),this.logSending=!1,e?(this.stopLogSending(),console.error("Flushing logs failed")):(console.error("Logs ".concat(JSON.stringify(n,null,2)," failed to be sent")),this.removeFromPendingLogs(n.length)),this.config.returnPromise)return Promise.reject(t)})}catch(o){return this.config.onError(o),!1}}startLogSending(){var e=this;this.config.interval>0&&(this.interval&&this.stopLogSending(),this.interval=setInterval(u(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendLogs();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Interval Sending logs failed",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),this.config.interval))}stopLogSending(){clearInterval(this.interval)}removeFromPendingLogs(e){this.pendingLogs=this.pendingLogs.slice(e)}emptyLogQueue(){this.pendingLogs=[]}flushLogs(){return this.sendLogs({isFlushing:!0})}log(e,t){var n=e;if(!n)return console.error("A value must be provided"),!1;var r=n instanceof Array,o=r?n[0]:n,i=typeof o;if("undefined"===i)return console.error("A value must be provided"),!1;if(this.config.graphite&&(!Object.prototype.hasOwnProperty.call(o,"path")||!Object.prototype.hasOwnProperty.call(o,"value")))return console.error('Both "path" and "value" properties must be provided in the message object to send Graphite metrics'),!1;if("object"===i&&0===Object.keys(n).length)return console.error("A non-empty JSON object must be provided"),!1;r||(n=[n]);var a=new Date,s=this.config.session,c={url:this.config.clientUrl};t&&(Object.prototype.hasOwnProperty.call(t,"sessionKey")&&(s=t.sessionKey),Object.prototype.hasOwnProperty.call(t,"timestamp")&&(a=t.timestamp),Object.prototype.hasOwnProperty.call(t,"url")&&(c.url=t.url));var u=a.toJSON(),l=n.map(e=>{if(this.config.graphite)return"".concat(e.path," ").concat(e.value," ").concat(Math.round(a.getTime()/1e3));if(this.config.raw)return e;if("string"==typeof e)return p(Object.assign({msg:e,sessionId:s,timestamp:u},c));var t={sessionId:s,timestamp:u};return p(Object.assign(t,c,e))});return this.pendingLogs=this.pendingLogs.concat(l),!this.config.useIntervalOnly&&this.batchReadyToSend()?this.sendLogs():void 0}},e.exports=t.default}(i.a,i.a.exports)},bWFh:function(e,t,n){"use strict";var r=n("I+eb"),o=n("2oRo"),i=n("lMq5"),a=n("busE"),s=n("8YOa"),c=n("ImZN"),u=n("GarU"),l=n("hh1v"),d=n("0Dky"),p=n("HH4o"),f=n("1E5z"),h=n("cVYH");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=m?"set":"add",y=o[e],b=y&&y.prototype,w=y,O={},E=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof y||!(g||b.forEach&&!d((function(){(new y).entries().next()})))))w=n.getConstructor(t,e,m,v),s.REQUIRED=!0;else if(i(e,!0)){var x=new w,S=x[v](g?{}:-0,1)!=x,P=d((function(){x.has(1)})),C=p((function(e){new y(e)})),T=!g&&d((function(){for(var e=new y,t=5;t--;)e[v](t,t);return!e.has(-0)}));C||((w=t((function(t,n){u(t,w,e);var r=h(new y,t,w);return null!=n&&c(n,r[v],{that:r,AS_ENTRIES:m}),r}))).prototype=b,b.constructor=w),(P||T)&&(E("delete"),E("has"),m&&E("get")),(T||S)&&E(v),g&&b.clear&&delete b.clear}return O[e]=w,r({global:!0,forced:w!=y},O),f(w,e),g||n.setStrong(w,e,m),w}},bWKV:function(e,t,n){"use strict";var r,o;function i(){return o?r:(o=1,r=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}})}n.d(t,"a",(function(){return i}))},bhOv:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("Rmyw"),o=n("o/zE"),i=n("4Wv+"),a={exports:{}},s=n("zwAr"),c=n("SlgV"),u=n("KpH6"),l=n("Sadh"),d=n("njhQ"),p=n("6K58"),f=s.a,h=o.a,m=c.a,g=u.a,v=l.a.CONFIGURABLE,y=d.a,b=p.a,w=b.enforce,O=b.get,E=Object.defineProperty,x=g&&!f((function(){return 8!==E((function(){}),"length",{value:8}).length})),S=String(String).split("String"),P=a.exports=function(e,t,n){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!m(e,"name")||v&&e.name!==t)&&E(e,"name",{value:t,configurable:!0}),x&&n&&m(n,"arity")&&e.length!==n.arity&&E(e,"length",{value:n.arity}),n&&m(n,"constructor")&&n.constructor){if(g)try{E(e,"prototype",{writable:!1})}catch(o){}}else e.prototype=void 0;var r=w(e);return m(r,"source")||(r.source=S.join("string"==typeof t?t:"")),e};Function.prototype.toString=P((function(){return h(this)&&O(this).source||y(this)}),"toString");a.exports;var C=n("Hxi4"),T=r.a,_=o.a,k=i.a,I=a.exports,M=C.a,j=function(e,t,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet,s=r&&void 0!==r.name?r.name:t;return _(n)&&I(n,s,r),e===T?(i?e[t]=n:M(t,n),e):(o?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=n:k(e,t,n),e)}},c5Is:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("wyvy"),o=n("2taM"),i=Object(o.b)(r)},cBuW:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("pVnL")),a=r(n("Nz9T")),s=n("dHFW"),c=o(n("q1Yw"));class u extends a.Component{render(){const e={replace:t=>{if(t.attribs&&"promo-code"===t.attribs.class){const n=(0,s.attributesToProps)(t.attribs),r={textDecoration:"underline"};return n.className="".concat(n.className," stylized-button-skin-unstyled"),a.createElement("button",(0,i.default)({},n,{style:r,onClick:this.props.onCouponClick}),(0,s.domToReact)(t.children,e))}return t}};return a.createElement(c.default,{classNameWrapper:this.props.classNameWrapper,type:"couponCallout",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText,tenant:this.props.tenant,replaceOptions:this.props.onCouponClick?e:void 0})}}t.default=u},cCro:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Intl}},cGx4:function(e,t,n){"use strict";var r=n("uZTx"),o=n("KpH6"),i=n("4tCF"),a=n("SRXV"),s=(n("NKvv"),n("2QNb")),c=n("arQW"),u=r.a,l=o.a,d=i.a,p=a.a,f=c.a,h=s.a;u({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){for(var t,n,r=p(e),o=f.f,i=d(r),a={},s=0;i.length>s;)void 0!==(n=o(r,t=i[s++]))&&h(a,t,n);return a}})},cM8m:function(e,t,n){"use strict";n("E9XD");var r=n("+9jB"),o=n("g7/d"),i=n("dmge"),a=n("w7Oj"),s=n("ATlU");!function(e){const t=o.a,n=i.a,r=a.a,c=s.a,u=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function p(e,t){return t.decode?n(e):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&p(n,e).includes(e.arrayFormatSeparator);n=i?p(n,e):n;const a=o||i?n.split(e.arrayFormatSeparator).map(t=>p(t,e)):null===n?n:p(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?p(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>p(t,e));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const i of e.split("&")){if(""===i)continue;let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:p(a,t),n(p(e,t),a,o)}for(const r of Object.keys(o)){const e=o[r];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=m(e[n],t);else o[r]=m(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}e.extract=h,e.parse=g,e.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[d(t,e),"[",o,"]"].join("")]:[...n,[d(t,e),"[",d(o,e),"]=",d(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[d(t,e),"[]"].join("")]:[...n,[d(t,e),"[]=",d(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[d(t,e),":list="].join("")]:[...n,[d(t,e),":list=",d(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[d(n,e),t,d(o,e)].join("")]:[[r,d(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,d(t,e)]:[...n,[d(t,e),"=",d(r,e)].join("")]}}(t),o={};for(const a of Object.keys(e))n(a)||(o[a]=e[a]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(n=>{const o=e[n];return void 0===o?"":null===o?d(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?d(n,t)+"[]":o.reduce(r(n),[]).join("&"):d(n,t)+"="+d(o,t)}).filter(e=>e.length>0).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,o]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(h(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:p(o,t)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0,[u]:!0},n);const r=f(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),a=Object.assign(i,t.query);let s=e.stringify(a,n);s&&(s="?".concat(s));let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(c="#".concat(n[u]?d(t.fragmentIdentifier,n):t.fragmentIdentifier)),"".concat(r).concat(s).concat(c)},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[u]:!1},r);const{url:o,query:i,fragmentIdentifier:a}=e.parseUrl(t,r);return e.stringifyUrl({url:o,query:c(i,n),fragmentIdentifier:a},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return e.pick(t,o,r)}}(r.a)},cVYH:function(e,t,n){var r=n("hh1v"),o=n("0rvr");e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},ckbL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},d3KY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy"),a=n("LBJ9"),s=n("OrJK");function c(e){var t,n,r,c=e.priceInfo,u=e.selectedQuantity,l=e.setSelectedQuantity,d=e.quantityLabel,p=e.priceRendering;o.a.useEffect((function(){c&&(Object(a.c)(a.a.PRODUCT_BUILDER_LOADED),Object(a.c)(a.a.USER_CHANGED_SELECTIONS),null==e.onPriceUpdated||e.onPriceUpdated(c))}),[c]);var f=null!=(t=null==c||null==(n=c.quantities)?void 0:n.map((function(e){return e.quantity})))?t:[u],h=null==c||null==(r=c.quantities)?void 0:r.find((function(e){return e.quantity===u}));var m=null!=p?p:function(e){return o.a.createElement(s.RawPrice,{placeHolderText:"...",pricingInfo:e})};return o.a.createElement(i.FlexBox,{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},o.a.createElement(i.StandardForm,null,o.a.createElement(i.FormField,null,o.a.createElement(i.FormLabel,null,d),o.a.createElement(i.FormInputGroup,null,o.a.createElement(i.Dropdown,{className:"quantity-dropdown",value:u,onChange:function(e){return l(e.target.value)}},f.map((function(e){return o.a.createElement(i.DropdownOption,{key:e,value:e},e)})))))),o.a.createElement(i.Typography,{align:"right",mb:2},h&&o.a.createElement(m,Object.assign({},h))))}},dBAq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy");function a(e){var t=Object.entries(e.productOptions).map((function(e){var t=e[0],n=e[1];return o.a.createElement(n,{key:t})}));return e.documentPreview?o.a.createElement(i.GridContainer,null,o.a.createElement(i.Row,null,o.a.createElement(i.Column,{span:6},o.a.createElement(e.documentPreview,null)),o.a.createElement(i.Column,{span:6},t,o.a.createElement(i.Divider,{mb:4,mt:7}),o.a.createElement(e.quantityAndPrice,null),o.a.createElement(e.responseButtons,null)))):o.a.createElement(o.a.Fragment,null,t,o.a.createElement(i.Divider,{mb:4,mt:7}),o.a.createElement(e.quantityAndPrice,null),o.a.createElement(e.responseButtons,null))}},dHFW:function(e,t,n){var r=n("yM65"),o=n("DIeE"),i=n("QIE6"),a={decodeEntities:!0,lowerCaseAttributeNames:!1};function s(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return""===e?[]:r(i(e,(t=t||{}).htmlparser2||a),t)}s.domToReact=r,s.htmlToDOM=i,s.attributesToProps=o,e.exports=s,e.exports.default=s},dUi7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Rmyw"),o=n("o/zE"),i=n("NVNn"),a=r.a,s=o.a,c=i.a,u=a.TypeError,l=function(e){if(s(e))return e;throw u(c(e)+" is not a function")}},ddWL:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isNotNegativeDecimal(e.lowestListPrice,"lowestListPrice"),i.validate.isNotNegativeDecimal(e.highestListPrice,"highestListPrice"),i.validate.isNotNegativeDecimal(e.lowestDiscountPrice,"lowestDiscountPrice"),i.validate.isNotNegativeDecimal(e.highestDiscountPrice,"highestDiscountPrice"),i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isBoolean(e.vatInc,"vatInc"),i.validate.isBooleanOrUndefined(e.hideVatMessage,"hideVatMessage"),i.validate.isBooleanOrUndefined(e.hideShippingMessageInVatMessage,"hideShippingMessageInVatMessage")]);if(t.length>0)throw t}generateToken(e,t){var n="".concat(e.hideVatMessage?"".concat(e.hideVatMessage):"".concat(!1)),r="".concat(e.hideShippingMessageInVatMessage?"".concat(e.hideShippingMessageInVatMessage):"".concat(!1));return"{{ ".concat(e.lowestListPrice," | ").concat(t,": ").concat(e.highestListPrice,", ").concat(e.lowestDiscountPrice,", ").concat(e.highestDiscountPrice,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits,", ").concat(e.vatInc,", ").concat(n,", ").concat(r," }}")}}t.default=a},dmge:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r);return e}}var s=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var i=a(r[0]);i!==r[0]&&(n[r[0]]=i)}r=o.exec(e)}n["%C2"]="�";for(var s=Object.keys(n),c=0;c<s.length;c++){var u=s[c];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},ds4h:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},dvJZ:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.FormatterService=void 0;var o=r(n("lSNA")),i=r(n("cCro"));t.FormatterService=class{constructor(){(0,o.default)(this,"intl",void 0),this.intl=(0,i.default)()}formatPrice(e){return new this.intl.NumberFormat(e.culture,{currency:e.currency,minimumFractionDigits:e.minimumFractionDigits,style:"currency"}).format(e.price)}formatPercentage(e,t){return new this.intl.NumberFormat(t,{style:"percent",maximumFractionDigits:0}).format(e/100)}formatPriceDifference(e){var t=new this.intl.NumberFormat(e.culture,{currency:e.currency,minimumFractionDigits:e.minimumFractionDigits,style:"currency"}),n=e.price<=0?"":"+";return"".concat(n).concat(t.format(e.price))}}},e9Cw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("iCj6"),o=n("fAzO"),i=n("q/UP"),a=r.a,s=o.a,c=i.a.CONSTRUCTOR||!s((function(e){a.all(e).then(void 0,(function(){}))}))},"eA/Y":function(e,t,n){"use strict";e.exports=i;var r=n("J78i"),o=Object.create(n("Onz0"));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n("P7XM"),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},eAIq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,o={exports:{}},i={};var a;function s(){return a||(a=1,function(e){e.exports=(r||(r=1,function(e){var t,n,r,o,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,s=null,c=function(){if(null!==a)try{var t=e.unstable_now();a(!0,t),a=null}catch(n){throw setTimeout(c,0),n}},u=Date.now();e.unstable_now=function(){return Date.now()-u},t=function(e){null!==a?setTimeout(t,0,e):(a=e,setTimeout(c,0))},n=function(e,t){s=setTimeout(e,t)},r=function(){clearTimeout(s)},o=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var l=window.performance,d=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof l&&"function"==typeof l.now)e.unstable_now=function(){return l.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var g=!1,v=null,y=-1,b=5,w=0;o=function(){return e.unstable_now()>=w},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,E=O.port2;O.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();w=t+b;try{v(!0,t)?E.postMessage(null):(g=!1,v=null)}catch(n){throw E.postMessage(null),n}}else g=!1},t=function(e){v=e,g||(g=!0,E.postMessage(null))},n=function(t,n){y=p((function(){t(e.unstable_now())}),n)},r=function(){f(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<C(o,t)))break e;e[r]=t,e[n]=o,n=r}}function S(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],_=[],k=1,I=null,M=3,j=!1,A=!1,R=!1;function D(e){for(var t=S(_);null!==t;){if(null===t.callback)P(_);else{if(!(t.startTime<=e))break;P(_),t.sortIndex=t.expirationTime,x(T,t)}t=S(_)}}function L(e){if(R=!1,D(e),!A)if(null!==S(T))A=!0,t(N);else{var r=S(_);null!==r&&n(L,r.startTime-e)}}function N(t,i){A=!1,R&&(R=!1,r()),j=!0;var a=M;try{for(D(i),I=S(T);null!==I&&(!(I.expirationTime>i)||t&&!o());){var s=I.callback;if(null!==s){I.callback=null,M=I.priorityLevel;var c=s(I.expirationTime<=i);i=e.unstable_now(),"function"==typeof c?I.callback=c:I===S(T)&&P(T),D(i)}else P(T);I=S(T)}if(null!==I)var u=!0;else{var l=S(_);null!==l&&n(L,l.startTime-i),u=!1}return u}finally{I=null,M=a,j=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){A||j||(A=!0,t(N))},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return S(T)},e.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},e.unstable_scheduleCallback=function(o,i,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:U(o)}else a=U(o),c=s;return o={id:k++,callback:i,priorityLevel:o,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(o.sortIndex=c,x(_,o),null===S(T)&&o===S(_)&&(R?r():R=!0,n(L,c-s))):(o.sortIndex=a,x(T,o),A||j||(A=!0,t(N))),o},e.unstable_shouldYield=function(){var t=e.unstable_now();D(t);var n=S(T);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<I.expirationTime||o()},e.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}}(i)),i)}(o)),o.exports}},eK6c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},eKI7:function(e,t,n){"use strict";(function(e){var t=n("o0o1"),r=n.n(t),o=n("KX9E"),i=(n("5DR5"),n("9B84"),n("cGx4"),n("6eof"),n("m2GG"),n("kKQ4"),n("mhtg"),n("GCus"),n("sTLe"),n("uZev"),n("MJYl"),n("bUv3"),n("/J3Q"),n("we4N"),n("kNyU")),a=n("T1zv"),s=n("mWeo");!function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=l(s.a.exports),c=i.a,u=l(a.a.exports);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e,t,n){this.endpoint=e,this.interval=t,this.version=n||"",this.environment=this.getEnvironment();try{this.userAgent=window.navigator.userAgent}catch(r){this.userAgent=""}try{this.sessionId=window.tracking.visit()}catch(o){this.sessionId=""}try{this.url=window.location.href}catch(i){this.url=""}try{this.requestor=(0,u.default)()}catch(a){this.requestor=""}}info(e,t){return this.log(e,h({logLevel:"INFO"},t))}warn(e,t){return this.log(e,h({logLevel:"WARN"},t))}error(e,t){return this.log(e,h({logLevel:"ERROR"},t))}flushLogs(){var e=this;return p(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getInstance().flushLogs();case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("[".concat(e.requestor,"] Error flushing logs: "),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}log(e,t){var n=this;return p(r.a.mark((function o(){var i,a,s,c,u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i={},r.prev=1,!g.logsDisabled()){r.next=4;break}return r.abrupt("return");case 4:if(i.message=e,i.level="INFO",a=!0,t&&(s=t.logLevel,c=t.includeMetadata,u=t.contextData,null!=s&&(i.level=s),null!=c&&(a=c),u&&(i.contextData=u)),!0===a&&(i.environment=n.environment,i["user-agent"]=n.userAgent,i.requestor=n.requestor,i.version=n.version),!g.isDevelopment()){r.next=12;break}return g.devLogsEnabled()&&console.log("DEV ENV: ",i),r.abrupt("return");case 12:return r.next=14,n.getInstance().log(i,{url:n.url,sessionId:n.sessionId});case 14:return r.abrupt("return",r.sent);case 17:return r.prev=17,r.t0=r.catch(1),delete i.contextData,console.error("'".concat(i.message,"' contextData could not be completely logged to Sumo"),r.t0),r.prev=21,r.next=24,n.getInstance().log("".concat(i," (contextData was removed)"),{url:n.url,sessionId:n.sessionId});case 24:return r.abrupt("return",r.sent);case 27:r.prev=27,r.t1=r.catch(21),console.error("'".concat(i.message,"' could not be logged to Sumo"),r.t1);case 30:case"end":return r.stop()}}),o,null,[[1,17],[21,27]])})))()}getEnvironment(){var e=(0,c.detect)(),t=e&&e.name?e.name:"unknown",n=e&&e.name&&e.version?e.version:"",r=e&&e.os?e.os:"unknown";return"".concat(t," ").concat(n," - OS ").concat(r)}getInstance(){if(!this.sumoLogger){var e={endpoint:this.endpoint,interval:this.interval};this.sumoLogger=new o.default(e);try{window.addEventListener("beforeunload",()=>{if(null!==this.sumoLogger)try{this.sumoLogger.flushLogs()}catch(e){}})}catch(t){}}return this.sumoLogger}static getEnvironmentVariable(t){return void 0===e?void 0:{}[t]}static isDevelopment(){return"development"===g.getEnvironmentVariable("NODE_ENV")}static devLogsEnabled(){return"true"===g.getEnvironmentVariable("ENABLE_DEV_LOGS")}static logsDisabled(){return"true"===g.getEnvironmentVariable("DISABLE_LOGS")}}n.default=g,t.exports=n.default}(o.a,o.a.exports)}).call(this,n("KCCg"))},eLLd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(0,n("z92h").a)("navigator","userAgent")||""},eSXq:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"eb+j":function(e,t,n){var r=n("Nz9T"),o=n("mwSz").default;var i={reactCompat:!0};var a=r.version.split(".")[0]>=16;e.exports={PRESERVE_CUSTOM_ATTRIBUTES:a,invertObject:function(e,t){if(!e||"object"!=typeof e)throw new TypeError("First argument must be an object");var n,r,o="function"==typeof t,i={},a={};for(n in e)r=e[n],o&&(i=t(n,r))&&2===i.length?a[i[0]]=i[1]:"string"==typeof r&&(a[r]=n);return a},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){null!=e&&(t.style=o(e,i))}}},efL7:function(e,t,n){"use strict";var r=n("N1Fh");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},euF4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("qLRF").a,o=Function.prototype,i=o.apply,a=o.call,s="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},evWJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("KpH6"),o=n("zwAr"),i=r.a,a=o.a,s=i&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},fARH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},fAzO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=(0,n("JOlD").a)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}var s=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(c){}return n}},fBnT:function(e,t,n){"use strict";(function(e){var t=n("3uHJ"),r=(n("SSN7"),n("29T6"));Object.defineProperty(t.a,"__esModule",{value:!0});var o=r.a;function i(t,n){return void 0===n&&(n="utf8"),e.isBuffer(t)?s(t.toString("base64")):s(e.from(t,n).toString("base64"))}function a(e){return e=e.toString(),o.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var c=i;c.encode=i,c.decode=function(t,n){return void 0===n&&(n="utf8"),e.from(a(t),"base64").toString(n)},c.toBase64=a,c.fromBase64=s,c.toBuffer=function(t){return e.from(a(t),"base64")},t.a.default=c}).call(this,n("tjlA").Buffer)},fXKp:function(e,t,n){"use strict";var r=n("Yshu").Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},fZcC:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n("ZPe3"),o=n("Nz9T"),i=n.n(o),a=n("wyvy"),s=(n("VVba"),n("LBJ9")),c=n("NVJX"),u=n("V8Jq"),l=n("I1RU"),d=n("d3KY"),p=n("yUNY"),f=n("dBAq"),h=n("xNHL");function m(t){var n,o,m,g,v,y,b,w,O,E,x=t.uiLabelOverrides,S=t.authToken,P=t.onCancel,C=t.onSaveSelections,T=t.documentRendering,_=t.renderingOverrides,k=t.onVortexUpdated,I=null!=(n=null==_?void 0:_.productOption)?n:c.a,M=null!=(o=null==_?void 0:_.quantityAndPrice)?o:d.a,j=null!=(m=null==_?void 0:_.responseButtons)?m:p.a,A=null!=(g=null==_?void 0:_.configuratorLayout)?g:f.a,R=i.a.useContext(h.a.WranglerDataContext),D=i.a.useContext(h.a.ManagedWranglerSelectionsContext);if(null==R||!R.data||!D)return i.a.createElement(a.BasicPreloader,null);var L,N,U,F=R.data.attributes,B=R.updating?void 0:R.data.price,z=void 0;B&&(z={quantities:(null!=(L=null==(N=R.data.quantities)?void 0:N.quantities)?L:[]).map((function(e){var t;return{quantity:e.quantity,culture:R.context.culture,currency:null==B?void 0:B.currency,listPrice:e.totalListPrice,discountPrice:e.totalDiscountedPrice,unitListPrice:e.unitListPrice,unitDiscountPrice:e.unitDiscountedPrice,badges:e.badges,vatInc:null!=(t=R.context.includeVat)&&t,minimumFractionDigits:null==B?void 0:B.fractionDigits,hideVatMessage:!1}})),culture:R.context.culture,currency:null==B?void 0:B.currency,vatInc:null!=(U=R.context.includeVat)&&U,minimumFractionDigits:null==B?void 0:B.fractionDigits,hideVatMessage:!1});var V=null==R||null==(v=R.data)||null==(y=v.selections)?void 0:y.selectedAttributes,q=null==R||null==(b=R.data)||null==(w=b.selections)?void 0:w.quantity,G=null==R||null==(O=R.data)||null==(E=O.selections)?void 0:E.document,H=Object(l.a)(R.context.culture,x);if(F){var W,K,Q=void 0;T&&(Q=function(){return null!=R&&R.data&&!R.updating?T({productKey:R.data.selections.productKey,productVersion:R.data.selections.productVersion,selections:V||{},siteTenant:e.SITE_TENANT,frontButtonText:H.front,backButtonText:H.back,openButtonText:H.open,closeButtonText:H.close,previewAltText:H.previewAlt,document:R.data.selections.document,culture:R.context.culture,mpvId:R.data.selections.mpvId,market:Object(u.a)(R.context.culture),authToken:S,onVortexUpdated:k}):i.a.createElement(i.a.Fragment,null)});for(var Y,Z={},J=function(){var e=Y.value;Z[e.key]=function(){return i.a.createElement(I,{optionKey:e.key,optionName:e.name,values:e.options,selections:V||{},updateSelections:function(e){return D.setSelections(e)},renderingOverrides:_})}},X=Object(r.a)(F||[]);!(Y=X()).done;)J();var $=null==(W=z)||null==(K=W.quantities)?void 0:K.find((function(e){return e.quantity===q})),ee={mpvId:R.data.selections.mpvId,productName:R.data.productName,price:$};return i.a.createElement(A,{documentPreview:Q,productOptions:Z,quantityAndPrice:function(){return i.a.createElement(M,{quantityLabel:H.quantity,priceInfo:z,selectedQuantity:q,setSelectedQuantity:function(e){Object(s.b)(s.a.USER_CHANGED_SELECTIONS),D.setSelectedQuantity(e)},onPriceUpdated:t.onPriceUpdated})},responseButtons:function(){return i.a.createElement(j,{onSaveSelections:function(){return!R.updating&&V&&C(V,q,G,ee)},onCancel:P,saveChangesLabel:H.saveChanges,revertChangesLabel:H.revertChanges})}})}return i.a.createElement(i.a.Fragment,null)}}).call(this,n("yLpj"))},fcR4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=t.pricePresentationTokenFactory=t.htmlIdentifier=t.tokenEngineFactory=void 0;var r=n("zhvd"),o=n("j4jc"),i=n("0YW3");const a={create:(e,t)=>new r.TokenEngine(e,t)};t.tokenEngineFactory=a;const s=new o.HTMLIdentifier;t.htmlIdentifier=s;const c=new r.PresentationTokenFactory;t.pricePresentationTokenFactory=c;const u=(0,i.availablesLocales)();t.locales=u},fdAy:function(e,t,n){"use strict";var r=n("I+eb"),o=n("ntOU"),i=n("4WOD"),a=n("0rvr"),s=n("1E5z"),c=n("kRJp"),u=n("busE"),l=n("tiKp"),d=n("xDBR"),p=n("P4y1"),f=n("rpNk"),h=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v=function(){return this};e.exports=function(e,t,n,l,f,y,b){o(n,t,l);var w,O,E,x=function(e){if(e===f&&_)return _;if(!m&&e in C)return C[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",P=!1,C=e.prototype,T=C[g]||C["@@iterator"]||f&&C[f],_=!m&&T||x(f),k="Array"==t&&C.entries||T;if(k&&(w=i(k.call(new e)),h!==Object.prototype&&w.next&&(d||i(w)===h||(a?a(w,h):"function"!=typeof w[g]&&c(w,g,v)),s(w,S,!0,!0),d&&(p[S]=v))),"values"==f&&T&&"values"!==T.name&&(P=!0,_=function(){return T.call(this)}),d&&!b||C[g]===_||c(C,g,_),p[t]=_,f)if(O={values:x("values"),keys:y?_:x("keys"),entries:x("entries")},b)for(E in O)(m||P||!(E in C))&&u(C,E,O[E]);else r({target:t,proto:!0,forced:m||P},O);return O}},fiWp:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,a,s;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},funq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o,i=n("xRrl");function a(){if(o)return r;o=1;var e=Object(i.a)();return r=function(t,n){e.forEach(t,(function(e,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(t[n]=e,delete t[r])}))}}},"g7/d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()))},gX5i:function(e,t,n){"use strict";var r=n("MOJX");e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},grwm:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"qtyStartingAtPrice",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},hJrl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},hqiQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,o={},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.AnimationDirection=void 0,i.AnimationDirection=r,function(e){e[e.forward=0]="forward",e[e.backward=1]="backward"}(r||(i.AnimationDirection=r={}));var a,s={};Object.defineProperty(s,"__esModule",{value:!0}),s.AnimationState=void 0,s.AnimationState=a,function(e){e[e.playing=0]="playing",e[e.paused=1]="paused"}(a||(s.AnimationState=a={}));var c={},u=(n("R1BN"),n("H/hk")),l=n("4EI8"),d=n("0LXn"),p=d.a.exports;Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationManager=void 0;var f=p(Object(u.a)()),h=p(Object(l.a)()),m=s,g=function(){function e(){(0,f.default)(this,e),this.animations=[],this.animationState=m.AnimationState.playing}return(0,h.default)(e,[{key:"pauseAnimations",value:function(){this.animationState=m.AnimationState.paused}},{key:"playAnimations",value:function(){this.animationState=m.AnimationState.playing}},{key:"resetAnimations",value:function(){this.animations.forEach((function(e){return e.resetMeshState()}))}},{key:"update",value:function(e){this.animationState!==m.AnimationState.paused&&this.animations.forEach((function(t){return t.update(e)}))}},{key:"pushAnimation",value:function(e){return this.animations.push(e),e}},{key:"cleanAnimations",value:function(){var e=[];this.animations.forEach((function(t){t.isComplete||e.push(t)})),this.animations=e}},{key:"cancelAnimations",value:function(e){this.stopAnimations(e),(void 0===e?this.animations:this.animations.filter((function(t){return t.tags.includes(e)}))).forEach((function(e){return e.cancel()}))}},{key:"stopAnimations",value:function(e){e?this.animations.filter((function(t){return t.tags.includes(e)})).forEach((function(e){return e.stop()})):this.animations.forEach((function(e){return e.stop()}))}},{key:"resumeAnimations",value:function(e){e?this.animations.filter((function(t){return!t.tags.includes(e)})).forEach((function(e){return e.start()})):this.animations.forEach((function(e){return e.resume()}))}},{key:"requiresUpdate",get:function(){return this.animations.some((function(e){return e.isActive}))}}]),e}();c.AnimationManager=g;var v={},y=d.a.exports;Object.defineProperty(v,"__esModule",{value:!0}),v.SwivelAnimation=void 0;var b=y(Object(u.a)()),w=y(Object(l.a)());var O=function(){function e(t,n){var r=this;(0,b.default)(this,e),this.dampValue=0,this.activeState=!1,this.completed=!1,this.canceledState=!1,this.tags=[];var o=function(e){var t=e||45;return t>2*Math.PI?t/180*Math.PI:t}(n.range);this.minRange=-o,this.maxRange=o,this.elapsedTime=0,this.swivelGroup=t,this.initialRotation=this.swivelGroup.rotation.y,this.shouldDamp=void 0!==n.damping,this.shouldDamp&&(this.dampValue=!0===n.damping?-.05:-n.damping),this.applyDamping=this.shouldDamp?function(e,t){return e*Math.pow(Math.E,r.dampValue*t)}:function(e){return e}}return(0,w.default)(e,[{key:"resetMeshState",value:function(){this.swivelGroup.rotation.y=this.initialRotation}},{key:"cancel",value:function(){this.resetMeshState(),this.resolveAnimation&&this.resolveAnimation(),this.canceledState=!0}},{key:"update",value:function(e){if(this.isActive){var t=Math.sin(this.elapsedTime);t=this.applyDamping(t,this.elapsedTime),this.shouldDamp&&this.dampValue*this.elapsedTime<-4&&(this.activeState=!1,this.completed=!0,this.resolveAnimation&&this.resolveAnimation());var n=function(e,t,n){var r=(t-e)/2;return r*n+(t-1*r)}(this.minRange,this.maxRange,t);this.swivelGroup.rotation.y=n,this.elapsedTime+=e}}},{key:"start",value:function(){var e=this;return this.activeState=!0,this.shouldDamp?new Promise((function(t){e.resolveAnimation=t})):Promise.resolve()}},{key:"resume",value:function(){void 0!==this.resolveAnimation&&(this.activeState=!0)}},{key:"stop",value:function(){this.activeState=!1}},{key:"isComplete",get:function(){return this.completed}},{key:"isCanceled",get:function(){return this.canceledState}},{key:"isActive",get:function(){return this.activeState}}]),e}();v.SwivelAnimation=O;var E,x={},S=n("YVQJ"),P=n("1MfR");var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.swivel=function(e,t,n,r){var o={range:t,damping:null!=n&&n,tags:null!=r?r:[]},i=new T.SwivelAnimation(e.getProductGeometry,o);return e.pushAnimation(i).start()};var T=v;var _={},k=d.a.exports;Object.defineProperty(_,"__esModule",{value:!0}),_.RotationAnimation=void 0;var I,M=k(Object(u.a)()),j=k(Object(l.a)()),A=S.a,R=function(){function e(t,n){var r;if((0,M.default)(this,e),this.activeState=!1,this.completed=!1,this.canceledState=!1,this.elapsedTime=0,this.rotation=0,this.tags=[],!n.angle)throw new Error("Angle is not defined for RotationAnimation! (Angle in degrees)");if(!n.axis)throw new Error("Axis is not defined for RotationAnimation! Please specify the x, y, z value of the axis vector");this.duration=null!==(r=n.duration)&&void 0!==r?r:1,this.angle=n.angle*Math.PI/180,this.axis=new A.Vector3(n.axis.x,n.axis.y,n.axis.z).normalize(),this.rotationGroup=t,this.initialRotation=this.rotationGroup.rotation.x}return(0,j.default)(e,[{key:"resetMeshState",value:function(){this.rotationGroup.rotation.x=this.initialRotation}},{key:"cancel",value:function(){this.resetMeshState(),this.resolveAnimation&&this.resolveAnimation(),this.canceledState=!0,this.activeState=!1}},{key:"update",value:function(e){if(this.isActive){var t=this.angle/this.duration*e;this.rotation+t>=this.angle?(this.rotationGroup.rotateOnAxis(this.axis,this.angle-this.rotation),this.activeState=!1,this.completed=!0,this.resolveAnimation&&this.resolveAnimation(),this.elapsedTime=0,this.rotation=0):(this.rotationGroup.rotateOnAxis(this.axis,t),this.elapsedTime+=e,this.rotation+=t)}}},{key:"start",value:function(){var e=this;return this.activeState=!0,new Promise((function(t){e.resolveAnimation=t}))}},{key:"resume",value:function(){void 0!==this.resolveAnimation&&(this.activeState=!0)}},{key:"stop",value:function(){this.activeState=!1}},{key:"isComplete",get:function(){return this.completed}},{key:"isCanceled",get:function(){return this.canceledState}},{key:"isActive",get:function(){return this.activeState}}]),e}();function D(){return I||(I=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=i;Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var n=s;Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var r=c;Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=v;Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var a=function(){if(E)return x;E=1;var e=d.a.exports;Object.defineProperty(x,"__esModule",{value:!0}),x.CenterAnimation=void 0;var t=e(Object(u.a)()),n=e(Object(l.a)()),r=S.a,o=Object(P.a)(),i=function(){function e(n,o){var i;(0,t.default)(this,e),this.elapsedTime=0,this.activeStatus=!1,this.completed=!1,this.canceledStatus=!1,this.tags=[],this.duration=null!==(i=o.duration)&&void 0!==i?i:2,this.geometry=n;var a=o.initialBounds.getCenter(new r.Vector3),s=o.targetBounds.getCenter(new r.Vector3);this.translationOffset=new r.Vector3(a.x-s.x,a.y-s.y,a.z-s.z),this.initialCenter=n.position.clone()}return(0,n.default)(e,[{key:"resetMeshState",value:function(){this.activeStatus=!1,this.interpolateValues(this.duration),this.resolveAnimation&&this.resolveAnimation()}},{key:"cancel",value:function(){this.activeStatus=!1,this.canceledStatus=!0,this.resetMeshState(),this.resolveAnimation&&this.resolveAnimation()}},{key:"update",value:function(e){this.isActive&&this.elapsedTime<this.duration&&(this.interpolateValues(this.elapsedTime),this.elapsedTime+=e),this.elapsedTime>=this.duration&&this.isActive&&(this.interpolateValues(this.duration),this.resolveAnimation&&this.resolveAnimation(),this.activeStatus=!1)}},{key:"start",value:function(){var e=this;return this.activeStatus=!0,new Promise((function(t){e.resolveAnimation=t}))}},{key:"resume",value:function(){void 0!==this.resolveAnimation&&(this.activeStatus=!0)}},{key:"stop",value:function(){this.activeStatus=!1}},{key:"interpolateValues",value:function(e){this.geometry.position.x=(0,o.easeInOutQuart)(e,this.initialCenter.x,this.translationOffset.x,this.duration),this.geometry.position.y=(0,o.easeInOutQuart)(e,this.initialCenter.y,this.translationOffset.y,this.duration),this.geometry.position.z=(0,o.easeInOutQuart)(e,this.initialCenter.z,this.translationOffset.z,this.duration)}},{key:"isComplete",get:function(){return this.completed}},{key:"isCanceled",get:function(){return this.canceledStatus}},{key:"isActive",get:function(){return this.activeStatus}}]),e}();return x.CenterAnimation=i,x}();Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var p=C;Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}));var f=_;Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}))}(o)),o}_.RotationAnimation=R},hvOZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("zwAr"),o=n("o/zE"),i=r.a,a=o.a,s=/#|\.prototype\./,c=function(e,t){var n=l[u(e)];return n==p||n!=d&&(a(t)?i(t):!!t)},u=c.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=c.data={},d=c.NATIVE="N",p=c.POLYFILL="P",f=c},iCj6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("Rmyw").a.Promise},iF8a:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c="percentOff";t.name=c;var u="<span class='pricing-offer'>{{percentOff}}</span>";function l(){return(l=(0,i.default)(o.default.mark((function e(t){var n,r,i,l,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.contextService.getCulture(this),r=a.formatterService.formatPercentage(t,n),i={percent:r,percentOff:(0,s.localized)("".concat(c,".subtemplate"),n)},l=(0,s.localized)(c,n),d={percentOff:u},e.abrupt("return",a.mustacheService.replace(l,i,d));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},ieMJ:function(e,t,n){"use strict";var r=n("BEO/"),o=n("atqP").a;(r.a.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"});r.a.exports},isxL:function(e,t,n){n("E9XD"),n("7ueG"),n("HiXI"),e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var i=function(){function e(){}return e.prototype.valueOf=function(){},e.prototype.liquidMethodMissing=function(e){},e}(),a=Object.prototype.toString;function s(e){return"[object String]"===a.call(e)}function c(e){return"function"==typeof e}function u(e){return p(e=l(e))?"":String(e)}function l(e){return e instanceof i?e.valueOf():e}function d(e){return"number"==typeof e}function p(e){return null==e}function f(e){return"[object Array]"===a.call(e)}function h(e,t){for(var n in e=e||{})if(e.hasOwnProperty(n)&&!1===t(e[n],n,e))break;return e}function m(e){return e[e.length-1]}function g(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function v(e,t,n){void 0===n&&(n=1);for(var r=[],o=e;o<t;o+=n)r.push(o);return r}function y(e,t,n){void 0===n&&(n=" ");for(var r=t-(e=String(e)).length;r-- >0;)e=n+e;return e}var b=function(e){function n(t,n){var r=e.call(this,t.message)||this;return r.originalError=t,r.token=n,r}return t(n,e),n.prototype.update=function(){var e,t,n,r,o=this.originalError,i=(e=this.token,t=e.input.split("\n"),n=Math.max(e.line-2,1),r=Math.min(e.line+3,t.length),v(n,r+1).map((function(n){return(n===e.line?">> ":"   ")+y(String(n),String(r).length)+"| "+t[n-1]})).join("\n"));this.message=function(e,t){return t.file&&(e+=", file:"+t.file),e+=", line:"+t.line+", col:"+t.col}(o.message,this.token),this.stack=this.message+"\n"+i+"\n"+this.stack+"\nFrom "+o.stack},n}(Error),w=function(e){function n(t,n){var r=e.call(this,new Error(t),n)||this;return r.name="TokenizationError",e.prototype.update.call(r),r}return t(n,e),n}(b),O=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.name="ParseError",r.message=t.message,e.prototype.update.call(r),r}return t(n,e),n}(b),E=function(e){function n(t,n){var r=e.call(this,t,n.token)||this;return r.name="RenderError",r.message=t.message,e.prototype.update.call(r),r}return t(n,e),n}(b),x=function(e){function n(t){var n=e.call(this,t)||this;return n.resolvedHTML="",n.name="RenderBreakError",n.message=t+"",n}return t(n,e),n}(Error),S=function(e){function n(t){var n=e.call(this,t)||this;return n.name="AssertionError",n.message=t+"",n}return t(n,e),n}(Error);function P(e,t){if(!e)throw new S(t=t||"expect "+e+" to be true")}var C={root:["."],cache:!1,extname:"",dynamicPartials:!0,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",strictFilters:!1,strictVariables:!1};function T(e){return(e=e||{}).hasOwnProperty("root")&&(e.root=function(e){return f(e)?e:s(e)?[e]:[]}(e.root)),e}function _(e){return n({},C,e)}var k=function(){function e(e,t){void 0===e&&(e={}),this.scopes=[{}],this.registers={},this.opts=_(t),this.environments=e}return e.prototype.getRegister=function(e,t){return void 0===t&&(t={}),this.registers[e]=this.registers[e]||t},e.prototype.setRegister=function(e,t){return this.registers[e]=t},e.prototype.getAll=function(){return[this.environments].concat(this.scopes).reduce((function(e,t){return n(e,t)}),{})},e.prototype.get=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return[4,this.parseProp(e)];case 1:for(t=o.sent(),n=this.findScope(t[0])||this.environments,r=0,i=t;r<i.length;r++)if(a=i[r],p(n=I(n,a))&&this.opts.strictVariables)throw new TypeError("undefined variable: "+a);return[2,n]}}))}))},e.prototype.push=function(e){return this.scopes.push(e)},e.prototype.pop=function(){return this.scopes.pop()},e.prototype.front=function(){return this.scopes[0]},e.prototype.findScope=function(e){for(var t=this.scopes.length-1;t>=0;t--){var n=this.scopes[t];if(e in n)return n}return null},e.prototype.parseProp=function(e){return r(this,void 0,void 0,(function(){function t(){r.length&&n.push(r),r=""}var n,r,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:e=String(e),n=[],r="",a=0,o.label=1;case 1:if(!(a<e.length))return[3,10];switch(e[a]){case"[":return[3,2];case".":return[3,7]}return[3,8];case 2:return t(),s=e[a+1],/['"]/.test(s)?(P(-1!==(i=e.indexOf(s,a+2)),"unbalanced "+s+": "+e),r=e.slice(a+2,i),t(),a=i+2,[3,6]):[3,3];case 3:return P(-1!==(i=function(e,t){for(var n=1,r=t;r<e.length;r++)if("["===e[r]&&n++,"]"===e[r]&&0==--n)return r;return-1}(e,a+1)),"unbalanced []: "+e),r=e.slice(a+1,i),/^[+-]?\d+$/.test(r)?[3,5]:(c=String,[4,this.get(r)]);case 4:r=c.apply(void 0,[o.sent()]),o.label=5;case 5:t(),a=i+1,o.label=6;case 6:return[3,9];case 7:return t(),a++,[3,9];case 8:r+=e[a++],o.label=9;case 9:return[3,1];case 10:if(t(),!n.length)throw new TypeError('invalid path:"'+e+'"');return[2,n]}}))}))},e}();function I(e,t){return p(e)?e:(e=function e(t){return t&&c(t.toLiquid)?e(t.toLiquid()):t}(e))instanceof i?c(e[t])?e[t]():e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t):"size"===t?function(e){return p(e.size)&&(f(e)||s(e))?e.length:e.size}(e):e[t]}var M=Object.freeze({ParseError:O,TokenizationError:w,RenderBreakError:x,AssertionError:S,Drop:i}),j={readFile:function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){r.status>=200&&r.status<300?t(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("An error occurred whilst receiving the response."))},r.open("GET",e),r.send()}))]}))}))},resolve:function(e,t,n){return e.length&&"/"!==m(e)&&(e+="/"),function(e,t){var n=document.createElement("base");n.href=e;var r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);var o=document.createElement("a");o.href=t;var i=o.href;return r.removeChild(n),i}(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(function(e,t,r){var o=r.split("/").pop();return/\.\w+$/.test(o)?e:t+r+n}))},exists:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,!0]}))}))}},A=function(e,t,n,r,o){this.trimLeft=!1,this.trimRight=!1,this.type="notset",this.col=r,this.line=n,this.raw=e,this.value=e,this.input=t,this.file=o},R=function(e){function n(t,n,r,o,i,a,s,c){var u=e.call(this,t,r,o,i,c)||this,l="-"===n[0],d="-"===m(n);return u.value=n.slice(l?1:0,d?-1:n.length).trim(),u.trimLeft=l||a,u.trimRight=d||s,u}return t(n,e),n}(A),D=new RegExp(/'[^']*'/.source+"|"+/"[^"]*"/.source),L=new RegExp("(?:"+D.source+"|[^'\"])*"),N=/[+-]?(?:\d+\.?\d*|\.?\d+)/,U=/[\w-]+[?]?/,F=new RegExp("\\[(?:"+D.source+"|[\\w-\\.]+)\\]"),B=new RegExp("(?:"+D.source+"|"+/true|false/.source+"|"+N.source+")"),z=new RegExp(U.source+"(?:\\."+U.source+"|"+F.source+")*"),V=new RegExp("(?:"+z.source+"|"+N.source+")"),q=new RegExp("\\("+V.source+"\\.\\."+V.source+"\\)"),G=new RegExp("\\(("+V.source+")\\.\\.("+V.source+")\\)"),H=new RegExp("(?:"+z.source+"|"+B.source+"|"+q.source+")"),W=new RegExp("(?:"+U.source+")\\s*:\\s*(?:"+H.source+")"),K=new RegExp("("+U.source+")\\s*:\\s*("+H.source+")","g"),Q=new RegExp("^\\s*("+U.source+")\\s*([\\s\\S]*?)\\s*$"),Y=new RegExp("^"+D.source+"$"),Z=new RegExp("^"+G.source+"$"),J=[/\s+or\s+/,/\s+and\s+/,/==|!=|<=|>=|<|>|\s+contains\s+/],X=function(e){function n(t,n,r,o,i,a,s){var c=e.call(this,t,n,r,o,i,a.trimTagLeft,a.trimTagRight,s)||this;c.type="tag";var u=c.value.match(Q);if(!u)throw new w("illegal tag syntax",c);return c.name=u[1],c.args=u[2],c}return t(n,e),n.is=function(e){return"tag"===e.type},n}(R),$=function(e){function n(t,n,r,o,i){var a=e.call(this,t,n,r,o,i)||this;return a.type="html",a.value=t,a}return t(n,e),n.is=function(e){return"html"===e.type},n}(A);function ee(e,t){if(e&&$.is(e)){var n=t?/\s+$/g:/[\t\r ]*$/g;e.value=e.value.replace(n,"")}}function te(e,t){if(e&&$.is(e)){var n=t?/^\s+/g:/^[\t\r ]*\n?/g;e.value=e.value.replace(n,"")}}var ne,re=function(e){function n(t,n,r,o,i,a,s){var c=e.call(this,t,n,r,o,i,a.trimOutputLeft,a.trimOutputRight,s)||this;return c.type="output",c}return t(n,e),n.is=function(e){return"output"===e.type},n}(R);!function(e){e[e.HTML=0]="HTML",e[e.OUTPUT=1]="OUTPUT",e[e.TAG=2]="TAG"}(ne||(ne={}));var oe=function(){function e(e){this.options=_(e)}return e.prototype.tokenize=function(e,t){for(var r=[],o=this.options,i=o.tagDelimiterLeft,a=o.tagDelimiterRight,s=o.outputDelimiterLeft,c=o.outputDelimiterRight,u=0,l=1,d=ne.HTML,p="",f=0,h=1,m=1;u<e.length;){if("\n"===e[u]&&(l++,f=u+1),d===ne.HTML){if(e.substr(u,s.length)===s){p&&r.push(new $(p,e,h,m,t)),p=s,h=l,m=u-f+1,u+=s.length,d=ne.OUTPUT;continue}if(e.substr(u,i.length)===i){p&&r.push(new $(p,e,h,m,t)),p=i,h=l,m=u-f+1,u+=i.length,d=ne.TAG;continue}}else{if(d===ne.OUTPUT&&e.substr(u,c.length)===c){p+=c,r.push(new re(p,p.slice(s.length,-c.length),e,h,m,this.options,t)),p="",h=l,m=(u+=c.length)-f+1,d=ne.HTML;continue}if(e.substr(u,a.length)===a){p+=a,r.push(new X(p,p.slice(i.length,-a.length),e,h,m,this.options,t)),p="",h=l,m=(u+=a.length)-f+1,d=ne.HTML;continue}}p+=e[u++]}if(d!==ne.HTML){var g=d===ne.OUTPUT?"output":"tag",v=p.length>16?p.slice(0,13)+"...":p;throw new w(g+' "'+v+'" not closed',new A(p,e,h,m,t))}return p&&r.push(new $(p,e,h,m,t)),function(e,t){t=n({greedy:!0},t);for(var r=!1,o=0;o<e.length;o++){var i=e[o];!r&&i.trimLeft&&ee(e[o-1],t.greedy),X.is(i)&&("raw"===i.name?r=!0:"endraw"===i.name&&(r=!1)),!r&&i.trimRight&&te(e[o+1],t.greedy)}}(r,this.options),r},e}(),ie=function(){function e(){}return e.prototype.renderTemplates=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:P(t,"unable to evalTemplates: context undefined"),n="",r=0,i=e,o.label=1;case 1:if(!(r<i.length))return[3,6];a=i[r],o.label=2;case 2:return o.trys.push([2,4,,5]),s=n,[4,a.render(t)];case 3:return n=s+o.sent(),[3,5];case 4:if("RenderBreakError"===(c=o.sent()).name)throw c.resolvedHTML=n,c;throw"RenderError"===c.name?c:new E(c,a);case 5:return r++,[3,1];case 6:return[2,n]}}))}))},e}();function ae(e){return e&&c(e.equals)}var se=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.equals=function(e){return s(e)||f(e)?0===e.length:!!g(e)&&0===Object.keys(e).length},n.prototype.gt=function(){return!1},n.prototype.geq=function(){return!1},n.prototype.lt=function(){return!1},n.prototype.leq=function(){return!1},n.prototype.valueOf=function(){return""},n}(i),ce=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.equals=function(t){return!1===t||!!p(l(t))||(s(t)?/^\s*$/.test(t):e.prototype.equals.call(this,t))},n}(se),ue=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.equals=function(e){return p(l(e))||e instanceof ce},n.prototype.gt=function(){return!1},n.prototype.geq=function(){return!1},n.prototype.lt=function(){return!1},n.prototype.leq=function(){return!1},n.prototype.valueOf=function(){return null},n}(i),le={"==":function(e,t){return ae(e)?e.equals(t):ae(t)?t.equals(e):e===t},"!=":function(e,t){return ae(e)?!e.equals(t):ae(t)?!t.equals(e):e!==t},">":function(e,t){return ae(e)?e.gt(t):ae(t)?t.lt(e):e>t},"<":function(e,t){return ae(e)?e.lt(t):ae(t)?t.gt(e):e<t},">=":function(e,t){return ae(e)?e.geq(t):ae(t)?t.leq(e):e>=t},"<=":function(e,t){return ae(e)?e.leq(t):ae(t)?t.geq(e):e<=t},contains:function(e,t){return!(!e||!c(e.indexOf))&&e.indexOf(t)>-1},and:function(e,t){return me(e)&&me(t)},or:function(e,t){return me(e)||me(t)}};function de(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l,d,p;return o(this,(function(o){switch(o.label){case 0:P(t,"unable to parseExp: scope undefined"),n=J,i=0,o.label=1;case 1:return i<n.length?(a=n[i],s=new RegExp("^("+L.source+")("+a.source+")("+L.source+")$"),(r=e.match(s))?[4,de(r[1],t)]:[3,4]):[3,5];case 2:return c=o.sent(),u=le[r[2].trim()],[4,de(r[3],t)];case 3:return l=o.sent(),[2,u(c,l)];case 4:return i++,[3,1];case 5:return(r=e.match(Z))?[4,he(r[1],t)]:[3,8];case 6:return d=o.sent(),[4,he(r[2],t)];case 7:return p=o.sent(),[2,v(+d,+p+1)];case 8:return[2,fe(e,t)]}}))}))}function pe(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=l,[4,de(e,t)];case 1:return[2,n.apply(void 0,[r.sent()])]}}))}))}function fe(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(n){return e?"true"===(e=e.trim())?[2,!0]:"false"===e?[2,!1]:"nil"===e||"null"===e?[2,new ue]:"empty"===e?[2,new se]:"blank"===e?[2,new ce]:isNaN(Number(e))?'"'!==e[0]&&"'"!==e[0]||e[0]!==m(e)?[2,t.get(e)]:[2,e.slice(1,-1)]:[2,Number(e)]:[2,null]}))}))}function he(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=l,[4,fe(e,t)];case 1:return[2,n.apply(void 0,[r.sent()])]}}))}))}function me(e){return!ge(e)}function ge(e){return!1===e||null==e}var ve,ye=function(){function e(){}return e.create=function(t,n){return r(this,void 0,void 0,(function(){var r,i,a,s,c,u;return o(this,(function(o){switch(o.label){case 0:r=new e,K.lastIndex=0,o.label=1;case 1:return(i=K.exec(t))?(a=i[1],s=i[2],c=r,u=a,[4,fe(s,n)]):[3,3];case 2:return c[u]=o.sent(),[3,1];case 3:return[2,r]}}))}))},e}(),be=function(e){this.token=e},we=function(e){function n(t,r,o){var i=e.call(this,t)||this;i.name=t.name;var a=n.impls[t.name];return P(a,"tag "+t.name+" not found"),i.impl=Object.create(a),i.impl.liquid=o,i.impl.parse&&i.impl.parse(t,r),i}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,ye.create(this.token.args,e)];case 1:return t=o.sent(),c((n=this.impl).render)?(i=u,[4,n.render(e,t)]):[3,3];case 2:return r=i.apply(void 0,[o.sent()]),[3,4];case 3:r="",o.label=4;case 4:return[2,r]}}))}))},n.register=function(e,t){n.impls[e]=t},n.clear=function(){n.impls={}},n.impls={},n}(be),Oe=function(){function e(t,n,r){var o=e.impls[t];if(!o&&r)throw new TypeError("undefined filter: "+t);this.name=t,this.impl=o||function(e){return e},this.args=n}return e.prototype.render=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l,d;return o(this,(function(o){switch(o.label){case 0:n=[],r=0,i=this.args,o.label=1;case 1:return r<i.length?f(a=i[r])?(c=(s=n).push,u=[a[0]],[4,fe(a[1],t)]):[3,3]:[3,6];case 2:return c.apply(s,[u.concat([o.sent()])]),[3,5];case 3:return d=(l=n).push,[4,fe(a,t)];case 4:d.apply(l,[o.sent()]),o.label=5;case 5:return r++,[3,1];case 6:return[2,this.impl.apply({context:t},[e].concat(n))]}}))}))},e.register=function(t,n){e.impls[t]=n},e.clear=function(){e.impls={}},e.impls={},e}(),Ee=function(){function e(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}return e.prototype.on=function(e,t){return this.handlers[e]=t,this},e.prototype.trigger=function(e,t){var n=this.handlers[e];return!!n&&(n(t),!0)},e.prototype.start=function(){var e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());)if(!(this.trigger("token",e)||X.is(e)&&this.trigger("tag:"+e.name,e))){var t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this},e.prototype.stop=function(){return this.stopRequested=!0,this},e}(),xe=function(){function e(t,n){this.filters=[];var r=e.tokenize(t);this.strictFilters=n,this.initial=r[0],this.parseFilters(r,1)}return e.prototype.parseFilters=function(e,t){for(var n=t;n<e.length;)if("|"===e[n]){for(var r=++n;n<e.length&&"|"!==e[n];)n++;this.parseFilter(e,r,n)}else n++},e.prototype.parseFilter=function(e,t,n){for(var r,o,i=e[t],a=[],s=t+1;s<n+1;s++)s===n||","===e[s]?((r||o)&&a.push(r?[r,o]:o),o=r=void 0):":"===e[s]?(r=o,o=void 0):void 0===o&&(o=e[s]);this.filters.push(new Oe(i,a,this.strictFilters))},e.prototype.value=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return[4,de(this.initial,e)];case 1:t=o.sent(),n=0,r=this.filters,o.label=2;case 2:return n<r.length?[4,r[n].render(t,e)]:[3,5];case 3:t=o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,t]}}))}))},e.tokenize=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if('"'===r||"'"===r){var o=n;for(n+=2;n<e.length&&e[n-1]!==r;++n);t.push(e.slice(o,n))}else if(/\s/.test(r))n++;else if(/[|,:]/.test(r))t.push(e[n++]);else{o=n++;for(var i=void 0;n<e.length&&!/[|,:\s]/.test(i=e[n]);++n)if('"'===i||"'"===i)for(n+=2;n<e.length&&e[n-1]!==i;++n);t.push(e.slice(o,n))}}return t},e}(),Se=function(e){function n(t,n){var r=e.call(this,t)||this;return r.value=new xe(t.value,n),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.value.value(e)];case 1:return[2,u(l(t.sent()))]}}))}))},n}(be),Pe=function(e){function n(t){var n=e.call(this,t)||this;return n.str=t.value,n}return t(n,e),n.prototype.render=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.str]}))}))},n}(be),Ce=function(){function e(e){this.liquid=e}return e.prototype.parse=function(e){for(var t,n=[];t=e.shift();)n.push(this.parseToken(t,e));return n},e.prototype.parseToken=function(e,t){try{return X.is(e)?new we(e,t,this.liquid):re.is(e)?new Se(e,this.liquid.options.strictFilters):new Pe(e)}catch(n){throw new O(n,e)}},e.prototype.parseStream=function(e){var t=this;return new Ee(e,(function(e,n){return t.parseToken(e,n)}))},e}(),Te=new RegExp("("+U.source+")\\s*=([^]*)"),_e={parse:function(e){var t=e.args.match(Te);P(t,"illegal token "+e.raw),this.key=t[1],this.value=t[2]},render:function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=e.front(),n=this.key,[4,this.liquid.evalValue(this.value,e)];case 1:return t[n]=r.sent(),[2]}}))}))}},ke=function(e){function n(t){var n=e.call(this)||this;return n.i=0,n.length=t,n}return t(n,e),n.prototype.next=function(){this.i++},n.prototype.index0=function(){return this.i},n.prototype.index=function(){return this.i+1},n.prototype.first=function(){return 0===this.i},n.prototype.last=function(){return this.i===this.length-1},n.prototype.rindex=function(){return this.length-this.i},n.prototype.rindex0=function(){return this.length-this.i-1},n.prototype.valueOf=function(){return JSON.stringify(this)},n}(i),Ie=new RegExp("^("+U.source+")\\s+in\\s+("+H.source+")(?:\\s+"+W.source+")*(?:\\s+(reversed))?(?:\\s+"+W.source+")*$"),Me={type:"block",parse:function(e,t){var n,r=this,o=Ie.exec(e.args);P(o,"illegal tag: "+e.raw),this.variable=o[1],this.collection=o[2],this.reversed=!!o[3],this.templates=[],this.elseTemplates=[];var i=this.liquid.parser.parseStream(t).on("start",(function(){return n=r.templates})).on("tag:else",(function(){return n=r.elseTemplates})).on("tag:endfor",(function(){return i.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));i.start()},render:function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,c,u,l,d,p,h;return o(this,(function(o){switch(o.label){case 0:return[4,de(this.collection,e)];case 1:if(f(n=o.sent())||(s(n)&&n.length>0?n=[n]:g(n)&&(n=Object.keys(n).map((function(e){return[e,n[e]]})))),!f(n)||!n.length)return[2,this.liquid.renderer.renderTemplates(this.elseTemplates,e)];r=t.offset||0,i=void 0===t.limit?n.length:t.limit,n=n.slice(r,r+i),this.reversed&&n.reverse(),a={forloop:new ke(n.length)},e.push(a),c="",u=0,l=n,o.label=2;case 2:if(!(u<l.length))return[3,8];d=l[u],a[this.variable]=d,o.label=3;case 3:return o.trys.push([3,5,,6]),p=c,[4,this.liquid.renderer.renderTemplates(this.templates,e)];case 4:return c=p+o.sent(),[3,6];case 5:if("RenderBreakError"!==(h=o.sent()).name)throw h;return c+=h.resolvedHTML,"break"===h.message?[3,8]:[3,6];case 6:a.forloop.next(),o.label=7;case 7:return u++,[3,2];case 8:return e.pop(),[2,c]}}))}))}},je=new RegExp("("+U.source+")"),Ae={parse:function(e,t){var n=this,r=e.args.match(je);P(r,e.args+" not valid identifier"),this.variable=r[1],this.templates=[];var o=this.liquid.parser.parseStream(t);o.on("tag:endcapture",(function(){return o.stop()})).on("template",(function(e){return n.templates.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")})),o.start()},render:function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.liquid.renderer.renderTemplates(this.templates,e)];case 1:return t=n.sent(),e.front()[this.variable]=t,[2]}}))}))}},Re={parse:function(e,t){var n=this;this.cond=e.args,this.cases=[],this.elseTemplates=[];var r=[],o=this.liquid.parser.parseStream(t).on("tag:when",(function(e){n.cases.push({val:e.args,templates:r=[]})})).on("tag:else",(function(){return r=n.elseTemplates})).on("tag:endcase",(function(){return o.stop()})).on("template",(function(e){return r.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));o.start()},render:function(e){return r(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:t=0,o.label=1;case 1:return t<this.cases.length?[4,pe((n=this.cases[t]).val,e)]:[3,5];case 2:return r=o.sent(),[4,pe(this.cond,e)];case 3:if(i=o.sent(),r===i)return[2,this.liquid.renderer.renderTemplates(n.templates,e)];o.label=4;case 4:return t++,[3,1];case 5:return[2,this.liquid.renderer.renderTemplates(this.elseTemplates,e)]}}))}))}},De={parse:function(e,t){var n=this.liquid.parser.parseStream(t);n.on("token",(function(e){"endcomment"===e.name&&n.stop()})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")})),n.start()}};!function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"}(ve||(ve={}));var Le=ve,Ne=/[^\s,]+/,Ue=new RegExp("with\\s+("+H.source+")"),Fe={parse:function(e){var t=Ne.exec(e.args);t&&(this.staticValue=t[0]),(t=H.exec(e.args))&&(this.value=t[0]),(t=Ue.exec(e.args))&&(this.with=t[1])},render:function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l;return o(this,(function(o){switch(o.label){case 0:return e.opts.dynamicPartials?Y.exec(this.value)?(r=this.value.slice(1,-1),[4,this.liquid.parseAndRender(r,e.getAll(),e.opts)]):[3,2]:[3,5];case 1:return n=o.sent(),[3,4];case 2:return[4,he(this.value,e)];case 3:n=o.sent(),o.label=4;case 4:return[3,6];case 5:n=this.staticValue,o.label=6;case 6:return P(n,"cannot include with empty filename"),i=e.getRegister("blocks"),a=e.getRegister("blockMode"),e.setRegister("blocks",{}),e.setRegister("blockMode",Le.OUTPUT),this.with?(s=t,c=n,[4,fe(this.with,e)]):[3,8];case 7:s[c]=o.sent(),o.label=8;case 8:return[4,this.liquid.getTemplate(n,e.opts)];case 9:return u=o.sent(),e.push(t),[4,this.liquid.renderer.renderTemplates(u,e)];case 10:return l=o.sent(),e.pop(),e.setRegister("blocks",i),e.setRegister("blockMode",a),[2,l]}}))}))}},Be={parse:function(e){var t=e.args.match(U);P(t,"illegal identifier "+e.args),this.variable=t[0]},render:function(e){var t=e.environments;return d(t[this.variable])||(t[this.variable]=0),--t[this.variable]}},ze=new RegExp("^(?:("+H.source+")\\s*:\\s*)?(.*)$"),Ve=new RegExp(H.source,"g"),qe={parse:function(e){var t=ze.exec(e.args);P(t,"illegal tag: "+e.raw),this.group=t[1]||"";var n=t[2];for(this.candidates=[];t=Ve.exec(n);)this.candidates.push(t[0]);P(this.candidates.length,"empty candidates: "+e.raw)},render:function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return[4,he(this.group,e)];case 1:return t=o.sent(),n="cycle:"+t+":"+this.candidates.join(","),r=e.getRegister("cycle"),void 0===(i=r[n])&&(i=r[n]=0),a=this.candidates[i],i=(i+1)%this.candidates.length,r[n]=i,[2,he(a,e)]}}))}))}},Ge={parse:function(e,t){var n,r=this;this.branches=[],this.elseTemplates=[];var o=this.liquid.parser.parseStream(t).on("start",(function(){return r.branches.push({cond:e.args,templates:n=[]})})).on("tag:elsif",(function(e){r.branches.push({cond:e.args,templates:n=[]})})).on("tag:else",(function(){return n=r.elseTemplates})).on("tag:endif",(function(){return o.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));o.start()},render:function(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:t=0,n=this.branches,o.label=1;case 1:return t<n.length?[4,pe((r=n[t]).cond,e)]:[3,4];case 2:if(me(o.sent()))return[2,this.liquid.renderer.renderTemplates(r.templates,e)];o.label=3;case 3:return t++,[3,1];case 4:return[2,this.liquid.renderer.renderTemplates(this.elseTemplates,e)]}}))}))}},He={parse:function(e){var t=e.args.match(U);P(t,"illegal identifier "+e.args),this.variable=t[0]},render:function(e){var t=e.environments;d(t[this.variable])||(t[this.variable]=0);var n=t[this.variable];return t[this.variable]++,n}},We=/\S+/,Ke={parse:function(e,t){var n=We.exec(e.args);n&&(this.staticLayout=n[0]),(n=H.exec(e.args))&&(this.layout=n[0]),this.tpls=this.liquid.parser.parse(t)},render:function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:return e.opts.dynamicPartials?[4,he(this.layout,e)]:[3,2];case 1:return r=o.sent(),[3,3];case 2:r=this.staticLayout,o.label=3;case 3:return P(n=r,"cannot apply layout with empty filename"),e.setRegister("blockMode",Le.STORE),i=e.getRegister("blocks"),[4,this.liquid.renderer.renderTemplates(this.tpls,e)];case 4:return a=o.sent(),void 0===i[""]&&(i[""]=a),[4,this.liquid.getTemplate(n,e.opts)];case 5:return s=o.sent(),e.push(t),e.setRegister("blockMode",Le.OUTPUT),[4,this.liquid.renderer.renderTemplates(s,e)];case 6:return c=o.sent(),e.pop(),[2,c]}}))}))}},Qe={parse:function(e,t){var n=this,r=/\w+/.exec(e.args);this.block=r?r[0]:"",this.tpls=[];var o=this.liquid.parser.parseStream(t).on("tag:endblock",(function(){return o.stop()})).on("template",(function(e){return n.tpls.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));o.start()},render:function(e){return r(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return t=e.getRegister("blocks"),void 0===(n=t[this.block])?[3,1]:(i=n,[3,3]);case 1:return[4,this.liquid.renderer.renderTemplates(this.tpls,e)];case 2:i=o.sent(),o.label=3;case 3:return r=i,e.getRegister("blockMode",Le.OUTPUT)===Le.STORE?(t[this.block]=r,[2,""]):[2,r]}}))}))}},Ye={parse:function(e,t){var n=this;this.tokens=[];var r=this.liquid.parser.parseStream(t);r.on("token",(function(e){"endraw"===e.name?r.stop():n.tokens.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")})),r.start()},render:function(){return this.tokens.map((function(e){return e.raw})).join("")}},Ze=function(e){function n(t,n){var r=e.call(this,t)||this;return r.length=t,r.cols=n,r}return t(n,e),n.prototype.row=function(){return Math.floor(this.i/this.cols)+1},n.prototype.col0=function(){return this.i%this.cols},n.prototype.col=function(){return this.col0()+1},n.prototype.col_first=function(){return 0===this.col0()},n.prototype.col_last=function(){return this.col()===this.cols},n}(ke),Je=new RegExp("^("+U.source+")\\s+in\\s+("+H.source+")(?:\\s+"+W.source+")*$"),Xe={assign:_e,for:Me,capture:Ae,case:Re,comment:De,include:Fe,decrement:Be,increment:He,cycle:qe,if:Ge,layout:Ke,block:Qe,raw:Ye,tablerow:{parse:function(e,t){var n,r=this,o=Je.exec(e.args);P(o,"illegal tag: "+e.raw),this.variable=o[1],this.collection=o[2],this.templates=[];var i=this.liquid.parser.parseStream(t).on("start",(function(){return n=r.templates})).on("tag:endtablerow",(function(){return i.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));i.start()},render:function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l,d;return o(this,(function(o){switch(o.label){case 0:return[4,pe(this.collection,e)];case 1:n=o.sent()||[],r=t.offset||0,i=void 0===t.limit?n.length:t.limit,n=n.slice(r,r+i),a=t.cols||n.length,s=new Ze(n.length,a),c={tablerowloop:s},e.push(c),u="",l=0,o.label=2;case 2:return l<n.length?(c[this.variable]=n[l],0===s.col0()&&(1!==s.row()&&(u+="</tr>"),u+='<tr class="row'+s.row()+'">'),u+='<td class="col'+s.col()+'">',d=u,[4,this.liquid.renderer.renderTemplates(this.templates,e)]):[3,5];case 3:u=d+o.sent(),u+="</td>",o.label=4;case 4:return l++,s.next(),[3,2];case 5:return n.length&&(u+="</tr>"),e.pop(),[2,u]}}))}))}},unless:{parse:function(e,t){var n,r=this;this.templates=[],this.elseTemplates=[];var o=this.liquid.parser.parseStream(t).on("start",(function(){n=r.templates,r.cond=e.args})).on("tag:else",(function(){return n=r.elseTemplates})).on("tag:endunless",(function(){return o.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag "+e.raw+" not closed")}));o.start()},render:function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,pe(this.cond,e)];case 1:return[2,ge(t.sent())?this.liquid.renderer.renderTemplates(this.templates,e):this.liquid.renderer.renderTemplates(this.elseTemplates,e)]}}))}))}},break:{render:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){throw new x("break")}))}))}},continue:{render:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){throw new x("continue")}))}))}}},$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},et={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function tt(e){return u(e).replace(/&|<|>|"|'/g,(function(e){return $e[e]}))}var nt={escape:tt,escape_once:function(e){return tt(function(e){return String(e).replace(/&(amp|lt|gt|#34|#39);/g,(function(e){return et[e]}))}(e))},newline_to_br:function(e){return e.replace(/\n/g,"<br />")},strip_html:function(e){return e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")}},rt={append:function(e,t){return u(e)+u(t)},prepend:function(e,t){return u(t)+u(e)},capitalize:function(e){return(e=u(e)).charAt(0).toUpperCase()+e.slice(1)},lstrip:function(e){return u(e).replace(/^\s+/,"")},downcase:function(e){return u(e).toLowerCase()},upcase:function(e){return u(e).toUpperCase()},remove:function(e,t){return u(e).split(t).join("")},remove_first:function(e,t){return u(e).replace(t,"")},replace:function(e,t,n){return u(e).split(t).join(n)},replace_first:function(e,t,n){return u(e).replace(t,n)},rstrip:function(e){return u(e).replace(/\s+$/,"")},split:function(e,t){return u(e).split(t)},strip:function(e){return u(e).trim()},strip_newlines:function(e){return u(e).replace(/\n/g,"")},truncate:function(e,t,n){return void 0===t&&(t=50),void 0===n&&(n="..."),(e=u(e)).length<=t?e:e.substr(0,t-n.length)+n},truncatewords:function(e,t,n){void 0===t&&(t=15),void 0===n&&(n="...");var r=e.split(/\s+/),o=r.slice(0,t).join(" ");return r.length>=t&&(o+=n),o}},ot=String.prototype.toLowerCase,it={abs:function(e){return Math.abs(e)},at_least:function(e,t){return Math.max(e,t)},at_most:function(e,t){return Math.min(e,t)},ceil:function(e){return Math.ceil(e)},divided_by:function(e,t){return e/t},floor:function(e){return Math.floor(e)},minus:function(e,t){return e-t},modulo:function(e,t){return e%t},round:function(e,t){void 0===t&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},plus:function(e,t){return Number(e)+Number(t)},sort_natural:function(e,t){return e&&e.sort?void 0!==t?e.slice().sort((function(e,n){return at(e[t],n[t])})):e.slice().sort(at):[]},times:function(e,t){return e*t}};function at(e,t){return t?e?(e=ot.call(e))<(t=ot.call(t))?-1:e>t?1:0:1:-1}var st={url_decode:function(e){return e.split("+").map(decodeURIComponent).join(" ")},url_encode:function(e){return e.split(" ").map(encodeURIComponent).join("+")}},ct={join:function(e,t){return e.join(void 0===t?" ":t)},last:function(e){return f(e)?m(e):""},first:function(e){return f(e)?e[0]:""},map:function(e,t){return e.map((function(e){return e[t]}))},reverse:function(e){return e.slice().reverse()},sort:function(e,t){return e.sort(t)},size:function(e){return e&&e.length||0},concat:function(e,t){return Array.prototype.concat.call(e,t)},slice:function(e,t,n){return void 0===n&&(n=1),t=t<0?e.length+t:t,e.slice(t,t+n)},uniq:function(e){var t={};return(e||[]).filter((function(e){return!t.hasOwnProperty(String(e))&&(t[String(e)]=!0,!0)}))},where:function(e,t,n){return e.filter((function(e){return void 0===n?me(e[t]):e[t]===n}))}},ut=["January","February","March","April","May","June","July","August","September","October","November","December"],lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dt=ut.map(ht),pt=lt.map(ht),ft={1:"st",2:"nd",3:"rd",default:"th"};function ht(e){return e.slice(0,3)}var mt={daysInMonth:function(e){return[31,mt.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31]},getDayOfYear:function(e){for(var t=0,n=0;n<e.getMonth();++n)t+=mt.daysInMonth(e)[n];return t+e.getDate()},getWeekOfYear:function(e,t){var n=this.getDayOfYear(e)+(t-e.getDay()),r=7-new Date(e.getFullYear(),0,1).getDay()+t;return y(String(Math.floor((n-r)/7)+1),2,"0")},isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getSuffix:function(e){var t=e.getDate().toString(),n=parseInt(t.slice(-1));return ft[n]||ft.default},century:function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}},gt={a:function(e){return pt[e.getDay()]},A:function(e){return lt[e.getDay()]},b:function(e){return dt[e.getMonth()]},B:function(e){return ut[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return mt.century(e)},d:function(e){return y(e.getDate(),2,"0")},e:function(e){return y(e.getDate(),2)},H:function(e){return y(e.getHours(),2,"0")},I:function(e){return y(String(e.getHours()%12||12),2,"0")},j:function(e){return y(mt.getDayOfYear(e),3,"0")},k:function(e){return y(e.getHours(),2)},l:function(e){return y(String(e.getHours()%12||12),2)},L:function(e){return y(e.getMilliseconds(),3,"0")},m:function(e){return y(e.getMonth()+1,2,"0")},M:function(e){return y(e.getMinutes(),2,"0")},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return mt.getSuffix(e)},s:function(e){return Math.round(e.valueOf()/1e3)},S:function(e){return y(e.getSeconds(),2,"0")},u:function(e){return e.getDay()||7},U:function(e){return mt.getWeekOfYear(e,0)},w:function(e){return e.getDay()},W:function(e){return mt.getWeekOfYear(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().substring(2,4)},Y:function(e){return e.getFullYear()},z:function(e){var t=e.getTimezoneOffset()/60*100;return(t>0?"-":"+")+y(String(Math.abs(t)),4,"0")},"%":function(){return"%"}};gt.h=gt.b,gt.N=gt.L;var vt=n({},nt,rt,it,st,{date:function(e,t){var n=e;return"now"===e?n=new Date:d(e)?n=new Date(1e3*e):s(e)&&(n=/^\d+$/.test(e)?new Date(1e3*+e):new Date(e)),function(e){return e instanceof Date&&!isNaN(e.getTime())}(n)?function(e,t){for(var n="",r=t;;){var o=/%./g,i=o.exec(r);if(!i)return n+r;n+=r.slice(0,o.lastIndex-2),r=r.slice(o.lastIndex);var a=i[0].charAt(1),s=gt[a];n+=s?s(e):"%"+a}}(n,t):e}},{default:function(e,t){return ge(l(e))||""===e?t:e}},ct);return function(){function e(e){var t=this;void 0===e&&(e={}),this.cache={},this.options=_(T(e)),this.parser=new Ce(this),this.renderer=new ie,this.tokenizer=new oe(this.options),this.fs=e.fs||j,h(Xe,(function(e,n){return t.registerTag(n,e)})),h(vt,(function(e,n){return t.registerFilter(n,e)}))}return e.prototype.parse=function(e,t){var n=this.tokenizer.tokenize(e,t);return this.parser.parse(n)},e.prototype.render=function(e,t,r){var o=n({},this.options,T(r)),i=new k(t,o);return this.renderer.renderTemplates(e,i)},e.prototype.parseAndRender=function(e,t,n){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,this.parse(e)];case 1:return r=o.sent(),[2,this.render(r,t,n)]}}))}))},e.prototype.getTemplate=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l,d,p=this;return o(this,(function(o){switch(o.label){case 0:n=T(t),r=n.root?n.root.concat(this.options.root):this.options.root,i=r.map((function(t){return p.fs.resolve(t,e,p.options.extname)})),a=0,s=i,o.label=1;case 1:return a<s.length?(c=s[a],this.options.cache&&this.cache[c]?[2,this.cache[c]]:[4,this.fs.exists(c)]):[3,5];case 2:return o.sent()?(l=this.parse,[4,this.fs.readFile(c)]):[3,4];case 3:return u=l.apply(this,[o.sent(),c]),this.options.cache&&(this.cache[c]=u),[2,u];case 4:return a++,[3,1];case 5:throw(d=new Error("ENOENT")).message='ENOENT: Failed to lookup "'+e+'" in "'+r+'"',d.code="ENOENT",d}}))}))},e.prototype.renderFile=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return r=T(n),[4,this.getTemplate(e,r)];case 1:return i=o.sent(),[2,this.render(i,t,n)]}}))}))},e.prototype.evalValue=function(e,t){return new xe(e,this.options.strictFilters).value(t)},e.prototype.registerFilter=function(e,t){return Oe.register(e,t)},e.prototype.registerTag=function(e,t){return we.register(e,t)},e.prototype.plugin=function(t){return t.call(this,e)},e.prototype.express=function(){var e=this;return function(t,n,r){var o={root:this.root};e.renderFile(t,n,o).then((function(e){return r(null,e)}),r)}},e.default=e,e.isTruthy=me,e.isFalsy=ge,e.evalExp=pe,e.evalValue=he,e.Types=M,e}()}()},"j+Od":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("ieMJ");var r=n("vbs9"),o=n("BEO/").a.exports,i=r.a,a=o("keys"),s=function(e){return a[e]||(a[e]=i(e))}},j4jc:function(e,t,n){"use strict";n("TWNs"),n("JfAA"),Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLIdentifier=void 0;t.HTMLIdentifier=class{identifyHTML(e){return new RegExp(/<[a-z][\s\S]*>/).test(e)}}},jAWH:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},jt1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("Nz9T"),o=n.n(r);const i=o.a.createContext(),a=()=>Object(r.useContext)(i),s=e=>{const t={myprojects:e.fetchedContent.myprojects.value,homepageWelcomeBackEmail:e.fetchedContent.homepageWelcomeBackEmail,homepageHiFirstName:e.fetchedContent.homepageHiFirstName,loggedInPageTitle:e.fetchedContent.loggedInPageTitle.value,seeAllMyProjects:e.fetchedContent.seeAllMyProjects.value,digitalDashboard:e.fetchedContent.digitalDashboard.value,designServices:e.fetchedContent.designServices.value,reorder:e.fetchedContent.reorder.value,trackOrder:e.fetchedContent.trackOrder.value,loadingText:e.fetchedContent.loadingText.value};return o.a.createElement(i.Provider,{value:t},e.children)}},jwQj:function(e,t,n){"use strict";var r=n("fARH"),o=n("dUi7").a,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=o(t),this.reject=o(n)};r.a.f=function(e){return new i(e)}},k8G7:function(e,t,n){"use strict";var r=n("MOJX"),o=n("bPwW"),i=n("XXVo"),a=n("/0TV"),s=n("mVj6");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},kK8I:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("Rmyw"),o=n("EE1o"),i=n("t7qx"),a=n("z92h"),s=n("o/zE"),c=n("Tx24"),u=n("yc6g"),l=r.a,d=a.a,p=s.a,f=c.a,h=u.a,m=l.Object,g=h?function(e){return"symbol"==typeof e}:function(e){var t=d("Symbol");return p(t)&&f(t.prototype,m(e))},v=n("tyWI"),y=r.a,b=o.a,w=s.a,O=i.a,E=y.TypeError,x=n("JOlD"),S=r.a,P=o.a,C=i.a,T=g,_=v.a,k=function(e,t){var n,r;if("string"===t&&w(n=e.toString)&&!O(r=b(n,e)))return r;if(w(n=e.valueOf)&&!O(r=b(n,e)))return r;if("string"!==t&&w(n=e.toString)&&!O(r=b(n,e)))return r;throw E("Can't convert object to primitive value")},I=x.a,M=S.TypeError,j=I("toPrimitive"),A=function(e,t){if(!C(e)||T(e))return e;var n,r=_(e,j);if(r){if(void 0===t&&(t="default"),n=P(r,e,t),!C(n)||T(n))return n;throw M("Can't convert object to primitive value")}return void 0===t&&(t="number"),k(e,t)},R=g,D=function(e){var t=A(e,"string");return R(t)?t:t+""}},kKQ4:function(e,t,n){"use strict";var r=n("uZTx"),o=n("q/UP"),i=n("iCj6"),a=n("z92h"),s=n("o/zE"),c=n("bhOv"),u=r.a,l=o.a.CONSTRUCTOR,d=i.a,p=a.a,f=s.a,h=c.a,m=d&&d.prototype;if(u({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(e){return this.then(void 0,e)}}),f(d)){var g=p("Promise").prototype.catch;m.catch!==g&&h(m,"catch",g,{unsafe:!0})}},kLQ6:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.getContactUsPage=t.getCarePhoneData=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=r(n("qmMg")),s=n("IVxI"),c="https://channel-provider-service.care.vpsvc.com",u=function(){var e=(0,i.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.get("".concat(c,"/v2/phone/?tenant=").concat(n.toLowerCase(),"&locale=").concat(t.toLowerCase(),"&requestor=token-engine"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),s.logger.error("The request for tenant ".concat(n," and ").concat(t," to url: ").concat(c,". Returned error ").concat(e.t0.stack),{contextData:{stack:e.t0.stack,culture:t,tenant:n}}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.getCarePhoneData=u;var l=function(){var e=(0,i.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.get("".concat(c,"/v2/contact_us_page?tenant=").concat(n.toLowerCase(),"&locale=").concat(t.toLowerCase(),"&requestor=token-engine"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),s.logger.error("The request for tenant ".concat(n," and ").concat(t," to url: ").concat(c,". Returned error ").concat(e.t0.stack),{contextData:{stack:e.t0.stack,culture:t,tenant:n}}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.getContactUsPage=l},kNyU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},kc6j:function(e,t,n){"use strict";n("9cPH"),n("vPPQ"),n("M3CU");var r=n("6j6n"),o=console;Object(r.b)(o)},kd2E:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,p,f,h,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),r(a,f)?o(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},kdos:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sMLe").a,o=r({}.toString),i=r("".slice),a=function(e){return i(o(e),8,-1)}},kgsp:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isIntegerPositive(e.quantity,"quantity"),i.validate.isNotNegativeDecimal(e.listPrice,"listPrice"),i.validate.isNotNegativeDecimal(e.discountPrice,"discountPrice"),i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isBoolean(e.vatInc,"vatInc"),i.validate.isBooleanOrUndefined(e.hideVatMessage,"hideVatMessage"),i.validate.isBooleanOrUndefined(e.hideShippingMessageInVatMessage,"hideShippingMessageInVatMessage")]);if(t.length>0)throw t}generateToken(e,t){var n="".concat(e.hideVatMessage?"".concat(e.hideVatMessage):"".concat(!1)),r="".concat(e.hideShippingMessageInVatMessage?"".concat(e.hideShippingMessageInVatMessage):"".concat(!1));return"{{ ".concat(e.quantity," | ").concat(t,": ").concat(e.listPrice,", ").concat(e.discountPrice,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits,", ").concat(e.vatInc,", ").concat(n,", ").concat(r," }}")}}t.default=a},kl5A:function(e,t,n){(function(t,r,o){var i=n("qfHW"),a=n("P7XM"),s=n("yQtW"),c=n("43KI"),u=n("2Tiy"),l=s.IncomingMessage,d=s.readyStates;var p=e.exports=function(e){var n,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)o=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(n,o),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};a(p,c.Writable),p.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,a=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=i.arraybuffer?u(t.concat(e._body)):i.blobConstructor?new r.Blob(e._body.map((function(e){return u(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,n=a[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var l=null;if(i.abortController){var p=new AbortController;l=p.signal,e._fetchAbortController=p,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(h){return void o.nextTick((function(){e.emit("error",h)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(f.timeout=n.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(s)}catch(h){return void o.nextTick((function(){e.emit("error",h)}))}}}},p.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},p.prototype._write=function(e,t,n){this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},p.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("tjlA").Buffer,n("yLpj"),n("KCCg"))},l5hM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},l8dO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},lJCZ:function(e,t,n){(function(e){var r=n("kl5A"),o=n("yQtW"),i=n("U6jy"),a=n("jAWH"),s=n("skmB"),c=t;c.request=function(t,n){t="string"==typeof t?s.parse(t):i(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||o,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?a+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var d=new r(t);return n&&d.on("response",n),d},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=o.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("yLpj"))},lLbw:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("Nz9T"),o=n.n(r);const i=o.a.createContext(),a=()=>Object(r.useContext)(i),s=e=>o.a.createElement(i.Provider,{value:{pageTenant:e.pageContext.tenant,purcsTenant:e.pageContext.purcsTenant,wesTenant:e.pageContext.wesTenant,recommendationsTenant:e.pageContext.recommendationsTenant,orderManagementTenant:e.pageContext.orderManagementTenant}},e.children)},lf3l:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("Nz9T"),o=n.n(r),i=n("TSYQ"),a=n.n(i),s=n("wyvy"),c=n("neN6"),u=n("DGVI"),l=n("AU/X"),d=n("C1X4"),p=n("lrlw"),f=n("DHq+"),h=n("Pr4q"),m=n("J8aS");function g({myProjectsUrl:e,seeAllText:t}){const{sourcePagePath:n}=Object(u.b)(),r=Object(l.t)(n,e),i=r.linkAttributes;return e?o.a.createElement(s.Typography,{weight:"bold",mt:{xs:2,sm:2,md:5,lg:5}},o.a.createElement(s.Link,Object.assign({href:e,pt:0,skin:"cta",onClick:Object(m.a)(r,e)},i),t)):null}n("V+hJ");const v=({myProjectsText:e,seeAllText:t,digitalDashboardText:n,className:i,skin:m="secondary"})=>{var v;const y=Object(s.useScreenClass)(),{sourcePagePath:b}=Object(u.b)(),{0:w,1:O}=Object(r.useState)(!1),{locale:E,seeAllMyProjectsUrl:x,customerData:S}=Object(c.b)(),P="xs"===y||"sm"===y,C=S.portfolioData,T=C&&C.length>0,_=a()("notification-status-bar-pill-button-snowflake","rchp-mini-button",i);return T?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{className:_,text:e,onClick:()=>O(e=>!e),component:"button",showButton:!0,trackingConfiguration:Object(l.k)(b),skin:m}),o.a.createElement(s.ModalDialog,{isOpen:w,onRequestDismiss:()=>O(!1),variant:"panel-right",className:"sparkles-three-five-modal-dialog"},o.a.createElement(s.ModalDialogContent,null,o.a.createElement(s.ModalDialogNav,null,o.a.createElement(s.ModalDialogCloseButton,null)),o.a.createElement(s.ModalDialogHeader,null,o.a.createElement(s.GridContainer,null,o.a.createElement(s.Row,null,o.a.createElement(s.Column,{span:12},o.a.createElement(s.FlexBox,{className:"sparkles-three-five-modal-dialog-header-wrapper",justifyContent:"space-between",alignItems:"center"},o.a.createElement(s.ModalDialogTitle,null,o.a.createElement(s.Typography,{textSize:P?4:3},e)),null!=S&&null!==(v=S.digitalServiceData)&&void 0!==v&&v.enableDigitalButton?o.a.createElement(p.a,{text:n,url:S.digitalServiceData.digitalUrl,trackingConfiguration:Object(l.e)(b,S.digitalServiceData.digitalUrl,d.c.LoggedInPanel)}):null))))),o.a.createElement(s.ModalDialogBody,null,o.a.createElement(s.GridContainer,null,o.a.createElement(s.Row,null,o.a.createElement(s.Column,{span:12},o.a.createElement(g,{myProjectsUrl:x,seeAllText:t})),o.a.createElement(s.Column,{span:12},o.a.createElement(s.Box,{mt:P?5:8},o.a.createElement(s.Row,null,C.map((e,t)=>o.a.createElement(s.Column,{span:6,spanXs:6,key:e.workId},o.a.createElement(f.a,{previewInstructions:e.displayUrl,editLink:e.editUrl,productName:e.productName,mpvId:e.mpvId,productKey:e.productKey,productVersion:e.productVersion,merchandisingOptions:e.merchandisingSelections,locale:E,position:t+1})))))))))))):null}},lf41:function(e,t,n){},lm0R:function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,n("KCCg"))},lrlw:function(e,t,n){"use strict";var r=n("Nz9T"),o=n.n(r),i=n("wyvy"),a=n("J8aS");t.a=function({text:e,url:t,trackingConfiguration:n}){if(!e||!t)return null;const r=Object(i.useScreenClass)(),s=null==n?void 0:n.linkAttributes,c="xs"===r||"sm"===r;return o.a.createElement(i.TextButton,Object.assign({className:"generic-dialog-button-snowflake",component:"a",href:t,sizeVariant:"mini",px:c?2:void 0,onClick:Object(a.a)(n,t)},s),e)}},m2GG:function(e,t,n){"use strict";var r=n("uZTx"),o=n("EE1o"),i=n("dUi7"),a=(n("jwQj"),n("zO7n")),s=n("JEf+"),c=n("e9Cw"),u=n("fARH"),l=r.a,d=o.a,p=i.a,f=u.a,h=a.a,m=s.a;l({target:"Promise",stat:!0,forced:c.a},{all:function(e){var t=this,n=f.f(t),r=n.resolve,o=n.reject,i=h((function(){var n=p(t.resolve),i=[],a=0,s=1;m(e,(function(e){var c=a++,u=!1;s++,d(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise}})},m2Qd:function(e,t,n){"use strict";var r=n("R/GJ"),o=n("Rmyw"),i=n("KpH6"),a=n("HgAa"),s=n("evWJ"),c=n("Y4wP"),u=n("kK8I"),l=o.a,d=i.a,p=a.a,f=s.a,h=c.a,m=u.a,g=l.TypeError,v=Object.defineProperty,y=Object.getOwnPropertyDescriptor;r.a.f=d?f?function(e,t,n){if(h(e),t=m(t),h(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=y(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return v(e,t,n)}:v:function(e,t,n){if(h(e),t=m(t),h(n),p)try{return v(e,t,n)}catch(r){}if("get"in n||"set"in n)throw g("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},mC9u:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},mCE7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return requireJson2}));var _virtual_json2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tqRK"),hasRequiredJson2;function requireJson2(){return hasRequiredJson2||(hasRequiredJson2=1,"object"!=typeof JSON&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),_virtual_json2_js__WEBPACK_IMPORTED_MODULE_0__.a}},"mM+E":function(e,t,n){"use strict";n("7rdd"),n("kAhv")},mVIj:function(e,t,n){"use strict";var r=n("GlFn"),o=n("xEha");e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},mVj6:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},mWeo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},mhtg:function(e,t,n){"use strict";var r=n("uZTx"),o=n("EE1o"),i=n("dUi7"),a=(n("jwQj"),n("zO7n")),s=n("JEf+"),c=n("e9Cw"),u=n("fARH"),l=r.a,d=o.a,p=i.a,f=u.a,h=a.a,m=s.a;l({target:"Promise",stat:!0,forced:c.a},{race:function(e){var t=this,n=f.f(t),r=n.reject,o=h((function(){var o=p(t.resolve);m(e,(function(e){d(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},mjsn:function(e,t,n){"use strict";var r=n("MOJX"),o=n("efL7"),i=n("Gaoe"),a=n("3yfG"),s=n("mVIj"),c=n("zFA8"),u=n("1LKB"),l=n("N1Fh"),d=n("N1e5"),p=n("mVj6");e.exports=function(e){return new Promise((function(t,n){var f,h=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var O=s(e.baseURL,e.url);function E(){if(y){var r="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o((function(e){t(e),v()}),(function(e){n(e),v()}),i),y=null}}if(y.open(e.method.toUpperCase(),a(O,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||u(O))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;x&&(m[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new p("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),h||(h=null),y.send(h)}))}},mlsq:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Rmyw"),o=n("t7qx"),i=r.a,a=o.a,s=i.document,c=a(s)&&a(s.createElement),u=function(e){return c?s.createElement(e):{}}},n6LH:function(e,t,n){},nMrO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Nz9T"),o=n("1zAN"),i=n("9+6o"),a=n("zFH3"),s=n("FshR"),c=n("H95W");async function u({accessToken:e,canonicalId:t,tenant:n,locale:r}){const i={headers:{Authorization:"Bearer "+e}};try{return(await s.a.get("https://profile.cimpress.io/v1/ozoDdrmewShEcbUDWX8J3V/profile/me",i)).data}catch(a){return function({error:e,canonicalId:t,tenant:n,locale:r}){Object(c.newRelicNoticeError)(e,{canonicalId:t,tenant:n,locale:r,context:"Profile service failure"}),e&&e.response?o.a.error("Profile service failure",Object(o.c)(e,{canonicalId:t,tenant:n,locale:r})):o.a.error("Profile service failed unexpectedly",Object(o.b)(e))}({error:a,canonicalId:t,tenant:n,locale:r}),{}}}const l=(e,t)=>{const{isIdentityInitialized:n,identity:s,auth:l,isCustomer:d}=Object(a.a)(),[p,f]=r.useState(),{canonicalId:h,isCustomerClaim:m,canonicalIdClaim:g,isAnonymousClaim:v,cimpressInternalClaim:y,wasClaim:b}=Object(i.a)();return r.useEffect(()=>{n&&s&&s.accessToken&&s.isSignedIn&&!p&&(async()=>{o.a.info("fetchCustomerProfile",{contextData:{canonicalId:h,isCustomer:d,tenant:e,locale:t,claims:{isCustomerClaim:m,canonicalIdClaim:g,isAnonymousClaim:v,cimpressInternalClaim:y,wasClaim:b}}});const{accessToken:n}=s;if(d){const r=await u({accessToken:n,canonicalId:h,tenant:e,locale:t});Object(c.newRelicAddPageAction)("Loaded customer profile"),f(r)}})().catch(e=>{console.error("Could not fetch customer profile",{error:e})})},[d,n,s,l,p,e,t]),{customerProfile:p}}},nZdi:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},nbsC:function(e,t,n){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return i.call(e,t)}(a,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,l=/\s+/,d=/\s*=/,p=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function m(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.cache={}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},m.prototype.push=function(e){return new m(e,this)},m.prototype.lookup=function(e){var t,r,i,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,c,u,l=this,d=!1;l;){if(e.indexOf(".")>0)for(s=l.view,c=e.split("."),u=0;null!=s&&u<c.length;)u===c.length-1&&(d=o(s,c[u])||(r=s,i=c[u],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(i))),s=s[c[u++]];else s=l.view[e],d=o(l.view,e);if(d){t=s;break}l=l.parent}a[e]=t}return n(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){this.cache={}},g.prototype.parse=function(e,n){var o=this.cache,i=e+":"+(n||v.tags).join(":"),a=o[i];return null==a&&(a=o[i]=function(e,n){if(!e)return[];var o,i,a,c=!1,m=[],g=[],y=[],b=!1,w=!1,O="",E=0;function x(){if(b&&!w)for(;y.length;)delete g[y.pop()];else y=[];b=!1,w=!1}function S(e){if("string"==typeof e&&(e=e.split(l,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(r(e[0])+"\\s*"),i=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}S(n||v.tags);for(var P,C,T,_,k,I,M=new h(e);!M.eos();){if(P=M.pos,T=M.scanUntil(o))for(var j=0,A=T.length;j<A;++j)s(_=T.charAt(j))?(y.push(g.length),O+=_):(w=!0,c=!0,O+=" "),g.push(["text",_,P,P+1]),P+=1,"\n"===_&&(x(),O="",E=0,c=!1);if(!M.scan(o))break;if(b=!0,C=M.scan(f)||"name",M.scan(u),"="===C?(T=M.scanUntil(d),M.scan(d),M.scanUntil(i)):"{"===C?(T=M.scanUntil(a),M.scan(p),M.scanUntil(i),C="&"):T=M.scanUntil(i),!M.scan(i))throw new Error("Unclosed tag at "+M.pos);if(k=">"==C?[C,T,P,M.pos,O,E,c]:[C,T,P,M.pos],E++,g.push(k),"#"===C||"^"===C)m.push(k);else if("/"===C){if(!(I=m.pop()))throw new Error('Unopened section "'+T+'" at '+P);if(I[1]!==T)throw new Error('Unclosed section "'+I[1]+'" at '+P)}else"name"===C||"{"===C||"&"===C?w=!0:"="===C&&S(T)}if(x(),I=m.pop())throw new Error('Unclosed section "'+I[1]+'" at '+M.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(g))}(e,n)),a},g.prototype.render=function(e,t,n,r){var o=this.parse(e,r),i=t instanceof m?t:new m(t,void 0);return this.renderTokens(o,i,n,e,r)},g.prototype.renderTokens=function(e,t,n,r,o){for(var i,a,s,c="",u=0,l=e.length;u<l;++u)s=void 0,"#"===(a=(i=e[u])[0])?s=this.renderSection(i,t,n,r):"^"===a?s=this.renderInverted(i,t,n,r):">"===a?s=this.renderPartial(i,t,n,o):"&"===a?s=this.unescapedValue(i,t):"name"===a?s=this.escapedValue(i,t):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(c+=s);return c},g.prototype.renderSection=function(e,r,o,i){var a=this,s="",c=r.lookup(e[1]);if(c){if(t(c))for(var u=0,l=c.length;u<l;++u)s+=this.renderTokens(e[4],r.push(c[u]),o,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],r.push(c),o,i);else if(n(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(r.view,i.slice(e[3],e[5]),(function(e){return a.render(e,r,o)})))&&(s+=c)}else s+=this.renderTokens(e[4],r,o,i);return s}},g.prototype.renderInverted=function(e,n,r,o){var i=n.lookup(e[1]);if(!i||t(i)&&0===i.length)return this.renderTokens(e[4],n,r,o)},g.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),o=e.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!n)&&(o[i]=r+o[i]);return o.join("\n")},g.prototype.renderPartial=function(e,t,r,o){if(r){var i=n(r)?r(e[1]):r[e[1]];if(null!=i){var a=e[6],s=e[5],c=e[4],u=i;return 0==s&&c&&(u=this.indentPartial(i,c,a)),this.renderTokens(this.parse(u,o),t,r,u)}}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return v.escape(n)},g.prototype.rawValue=function(e){return e[1]};var v={name:"mustache.js",version:"3.2.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,to_html:void 0,Scanner:void 0,Context:void 0,Writer:void 0},y=new g;return v.clearCache=function(){return y.clearCache()},v.parse=function(e,t){return y.parse(e,t)},v.render=function(e,n,r,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return y.render(e,n,r,o)},v.to_html=function(e,t,r,o){var i=v.render(e,t,r);if(!n(o))return i;o(i)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},v.Scanner=h,v.Context=m,v.Writer=g,v}()},neN6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("Nz9T"),o=n.n(r);const i={},a=o.a.createContext(i),s="undefined"!=typeof navigator,c=({data:e,children:t})=>o.a.createElement(a.Provider,{value:e},t),u=()=>{const e=o.a.useContext(a);if(s&&void 0===e)throw new Error("useStatusbar must be used within a StatusbarProvider");return e}},njhQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("sMLe"),o=n("o/zE"),i=n("atqP"),a=r.a,s=o.a,c=i.a,u=a(Function.toString);s(c.inspectSource)||(c.inspectSource=function(e){return u(e)});var l=c.inspectSource},ntOU:function(e,t,n){"use strict";var r=n("rpNk").IteratorPrototype,o=n("fHMY"),i=n("XGwC"),a=n("1E5z"),s=n("P4y1"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,u,!1,!0),s[u]=c,e}},nvGY:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a,s){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("JmOh"),c=n("bQ+U"),u="qtyFromPrice";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p,f){var h,m,g,v,y,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=this,m=a.contextService.getCulture(h),e.next=4,(0,s.comparativePriceFilter)(m,n,r,i,l,d,p,f,h);case 4:return g=e.sent,v=g.htmlTemplates,(y=g.mustacheVariables).quantity=t,b=(0,c.localized)(u,m),e.abrupt("return",a.mustacheService.replace(b,y,v));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},nzdk:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("dHFW")),s=r(n("XaGS")),c=n("fcR4");class u extends i.Component{constructor(e){super(e),this.tokenEngine=void 0,this.state={content:""}}componentDidMount(){this.refreshContent()}componentDidUpdate(e){if(!(0,s.default)(e,this.props)){const t=e.culture!==this.props.culture;this.refreshContent(t)}}render(){let e;return e=""!==this.state.content?this.state.content:this.props.placeHolderText,c.htmlIdentifier.identifyHTML(e)?i.createElement("span",null,(0,a.default)(e,this.props.replaceOptions)):e}refreshContent(e){this.props.culture?(!e&&this.tokenEngine||(this.tokenEngine=c.tokenEngineFactory.create(this.props.culture,this.props.tenant)),this.tokenEngine.render(this.props.tokenText).then(e=>{this.setState({content:e})}).catch(e=>{console.error("ERROR rendering token in VPTokenizedFragment",e.message),this.setState({content:""})})):console.error("ERROR culture not specified for VpTokenizedFragment")}}t.default=u},"o/zE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"function"==typeof e}},o3eb:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=r(n("lSNA")),s=I(n("KIAt")),c=I(n("Go7y")),u=I(n("0C9e")),l=I(n("WGpj")),d=I(n("SdNc")),p=I(n("ZeFV")),f=I(n("iF8a")),h=I(n("CKdD")),m=I(n("qVtc")),g=I(n("51PL")),v=I(n("yPEe")),y=I(n("GGwP")),b=I(n("o5rS")),w=I(n("nvGY")),O=I(n("CKfY")),E=I(n("U+bb")),x=I(n("2oSx")),S=I(n("rBsm")),P=I(n("HGej")),C=I(n("Iw7o")),T=n("5osp"),_=n("IVxI");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=class{constructor(e,t){(0,a.default)(this,"urlClient",void 0),(0,a.default)(this,"culture",void 0),(0,a.default)(this,"tenant",void 0),e&&(this.urlClient=T.urlClientFactory.create(),this.culture=e,T.engine.registerFilter(s.name,s.filter),T.engine.registerFilter(c.name,c.filter),T.engine.registerFilter(u.name,u.filter),T.engine.registerFilter(l.name,l.filter),T.engine.registerFilter(d.name,d.filter),T.engine.registerFilter(p.name,p.filter),T.engine.registerFilter(f.name,f.filter),T.engine.registerFilter(h.name,h.filter),T.engine.registerFilter(m.name,m.filter),T.engine.registerFilter(g.name,g.filter),T.engine.registerFilter(v.name,v.filter),T.engine.registerFilter(y.name,y.filter),T.engine.registerFilter(b.name,b.filter),T.engine.registerFilter(w.name,w.filter),T.engine.registerFilter(O.name,O.filter),T.engine.registerFilter(E.name,E.filter),T.engine.registerFilter(C.name,C.filter),t&&(this.tenant=t,T.engine.registerFilter(x.name,x.filter),T.engine.registerFilter(S.name,S.filter),T.engine.registerFilter(P.name,P.filter)))}render(e){var t=arguments,n=this;return(0,i.default)(o.default.mark((function r(){var i;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.length>1&&void 0!==t[1]?t[1]:{},r.prev=1,n.culture){r.next=4;break}throw new Error("culture not set");case 4:return r.next=6,T.engine.parseAndRender(e,j({culture:n.culture,tenant:n.tenant,urlClient:n.urlClient},i));case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(1),_.logger.error(r.t0,{contextData:{stack:r.t0.stack,culture:n.culture,tenant:n.tenant}}),new Error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()}replace(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return T.mustacheService.replace(e,t)}catch(n){throw _.logger.error(n,{contextData:{stack:n.stack,culture:this.culture,tenant:this.tenant}}),new Error(n)}}fillUrlCache(){var e=this;return(0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.culture){t.next=3;break}throw new Error("culture not set");case 3:if(e.tenant){t.next=5;break}throw new Error("tenant not set");case 5:return t.next=7,e.urlClient.fillUrlCache(e.culture,e.tenant);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),_.logger.error("fillUrlCache failed for locale ".concat(e.culture," and tenant ").concat(e.tenant),{contextData:{culture:e.culture,stack:t.t0.stack,error:t.t0,tenant:e.tenant}}),new Error("fillUrlCache failed for locale ".concat(e.culture," and tenant ").concat(e.tenant,": ").concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}};t.default=A},o5rS:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("F5Q5"),c=n("bQ+U"),u="qtyForPrice";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=a.contextService.getCulture(this),(h={quantity:t}).qtyFor=(0,c.localized)("".concat(u,".subtemplate"),f),n!==r?(m=a.formatterService.formatPrice({culture:f,currency:i,price:r,minimumFractionDigits:l}),h.price=m):(g=a.formatterService.formatPrice({culture:f,currency:i,price:n,minimumFractionDigits:l}),h.price=g),p){e.next=8;break}return e.next=7,(0,s.getVatText)(d,f);case 7:h.vatText=e.sent;case 8:return v=(0,c.localized)(u,f),e.abrupt("return",a.mustacheService.replace(v,h));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},oGgb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o={exports:{}},i=n("rqkW");function a(){return r||(r=1,function(e){var t=Object(i.a)();e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},oNNP:function(e,t,n){"use strict";var r=n("D3zA");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},oRON:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var r=n("2taM"),o=n("uhOi"),i={exports:{}},a=n("8x/l"),s=n("qZdO"),c=n("CX6W"),u=a.a;function l(){this.handlers=[]}l.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},l.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},l.prototype.forEach=function(e){u.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var d,p,f=l,h=n("YUC8"),m=a.a,g=Object(h.a)();function v(){return p?d:(p=1,d=function(e){return!(!e||!e.__CANCEL__)})}var y=n("/fA3"),b=a.a,w=function(e,t,n){var r=this||g;return m.forEach(n,(function(n){e=n.call(r,e,t)})),e},O=v(),E=Object(h.a)(),x=Object(y.a)();function S(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new x("canceled")}var P,C,T=a.a,_=function(e,t){t=t||{};var n={};function r(e,t){return T.isPlainObject(e)&&T.isPlainObject(t)?T.merge(e,t):T.isPlainObject(t)?T.merge({},t):T.isArray(t)?t.slice():t}function o(n){return T.isUndefined(t[n])?T.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!T.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return T.isUndefined(t[n])?T.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return T.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);T.isUndefined(r)&&t!==s||(n[e]=r)})),n};function k(){return C?P:(C=1,P={version:"0.25.0"})}var I=k().version,M={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){M[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var j={};M.transitional=function(e,t,n){function r(e,t){return"[Axios v"+I+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new Error(r(o," has been removed"+(t?" in "+t:"")));return t&&!j[o]&&(j[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var A={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:M},R=a.a,D=c.a,L=f,N=function(e){return S(e),e.headers=e.headers||{},e.data=w.call(e,e.data,e.headers,e.transformRequest),e.headers=b.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),b.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||E.adapter)(e).then((function(t){return S(e),t.data=w.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return O(t)||(S(e),t&&t.response&&(t.response.data=w.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},U=_,F=A,B=F.validators;function z(e){this.defaults=e,this.interceptors={request:new L,response:new L}}z.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=U(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&F.assertOptions(n,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var s=[N,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var c=t;r.length;){var u=r.shift(),l=r.shift();try{c=u(c)}catch(d){l(d);break}}try{i=N(c)}catch(d){return Promise.reject(d)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},z.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=U(this.defaults,e),D(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},R.forEach(["delete","get","head","options"],(function(e){z.prototype[e]=function(t,n){return this.request(U(n||{},{method:e,url:t,data:(n||{}).data}))}})),R.forEach(["post","put","patch"],(function(e){z.prototype[e]=function(t,n,r){return this.request(U(r||{},{method:e,url:t,data:n}))}}));var V,q,G,H,W,K,Q=z;var Y=a.a,Z=s.a,J=Q,X=_;var $=function e(t){var n=new J(t),r=Z(J.prototype.request,n);return Y.extend(r,J.prototype,n),Y.extend(r,n),r.create=function(n){return e(X(t,n))},r}(Object(h.a)());$.Axios=J,$.Cancel=Object(y.a)(),$.CancelToken=function(){if(q)return V;q=1;var e=Object(y.a)();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},V=t}(),$.isCancel=v(),$.VERSION=k().version,$.all=function(e){return Promise.all(e)},$.spread=H?G:(H=1,G=function(e){return function(t){return e.apply(null,t)}}),$.isAxiosError=function(){if(K)return W;K=1;var e=a.a;return W=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),i.exports=$,i.exports.default=$;i.exports;!function(e){e.exports=i.exports}(o.a);var ee=Object(r.c)(o.a.exports)},oZF6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("pxEa").a,o=Math.max,i=Math.min,a=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},ocql:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"plusOrMinusPerUnit",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText})}}t.default=s},p4cr:function(e,t,n){"use strict";var r=n("MOJX"),o=n("3yfG"),i=n("YEcl"),a=n("k8G7"),s=n("tw0k"),c=n("KOqt"),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var p=t;r.length;){var f=r.shift(),h=r.shift();try{p=f(p)}catch(m){h(m);break}}try{i=a(p)}catch(m){return Promise.reject(m)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},pPIV:function(e,t,n){"use strict";n("E9XD");var r=n("yJra"),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),a)}}},pxEa:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Math.ceil,o=Math.floor,i=function(e){var t=+e;return t!=t||0===t?0:(t>0?o:r)(t)}},"q/UP":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("Rmyw"),o=n("iCj6"),i=n("o/zE"),a=n("hvOZ"),s=n("njhQ"),c=n("JOlD"),u="object"==typeof window&&"object"!=typeof Deno,l=n("QIZl"),d=r.a,p=o.a,f=i.a,h=a.a,m=s.a,g=c.a,v=u,y=l.a;p&&p.prototype;var b=g("species"),w=!1,O=f(d.PromiseRejectionEvent),E={CONSTRUCTOR:h("Promise",(function(){var e=m(p),t=e!==String(p);if(!t&&66===y)return!0;if(y>=51&&/native code/.test(e))return!1;var n=new p((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[b]=r,!(w=n.then((function(){}))instanceof r)||!t&&v&&!O})),REJECTION_EVENT:O,SUBCLASSING:w}},q1Yw:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");n("5s+n"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("XaGS")),s=r(n("nzdk")),c=n("fcR4");class u extends i.Component{constructor(...e){super(...e),this.state={token:""}}async componentDidMount(){await this.refreshToken()}async componentDidUpdate(e){(0,a.default)(e,this.props)||await this.refreshToken()}render(){const e=i.createElement(s.default,{culture:this.props.pricingInfo.culture,tenant:this.props.tenant,tokenText:this.state.token,placeHolderText:this.props.placeHolderText,replaceOptions:this.props.replaceOptions});return this.props.classNameWrapper?i.createElement("div",{className:this.props.classNameWrapper},e):e}async refreshToken(){try{const e=await this.getToken();this.setState({token:e})}catch(e){console.error("ERROR",e.message),this.setState({token:""})}}async getToken(){return await c.pricePresentationTokenFactory.generateToken(this.props.pricingInfo,this.props.type)}}t.default=u},q3UN:function(e,t,n){"use strict";(function(e,r){var o,i;n.d(t,"a",(function(){return a})),o=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},i=function(e){var t,n=document.createTextNode(""),r=0;return new e((function(){var e;t&&(e=t,t=null,"function"!=typeof e?e.forEach((function(e){e()})):e())})).observe(n,{characterData:!0}),function(e){o(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,n.data=r=++r%2)}};var a=function(){if(void 0!==e&&e&&"function"==typeof e.nextTick)return e.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return i(MutationObserver);if("function"==typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"==typeof r?function(e){r(o(e))}:"function"==typeof setTimeout?function(e){setTimeout(o(e),0)}:null}()}).call(this,n("KCCg"),n("URgk").setImmediate)},q6z5:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"vatMessage",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},qIYE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Rmyw"),o=n("3MWB"),i=r.a,a=o.a,s=i.Object,c=function(e){return s(a(e))}},qLRF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!(0,n("zwAr").a)((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},qPBE:function(e,t,n){var r=n("tjlA"),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},qVtc:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c="plusOrMinus";t.name=c;var u="<span class='comparative-pricing'><span class='list-price'>{{plusOrMinusListPrice}}</span> <span class='discount-price'>{{plusOrMinusDiscountPrice}}</span></span>";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i){var l,d,p,f,h,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a.contextService.getCulture(this),d=0!==t?a.formatterService.formatPriceDifference({culture:l,currency:r,price:t,minimumFractionDigits:i}):(0,s.localized)("".concat(c,".subtemplate"),l),p={plusOrMinusListPrice:d},f=(0,s.localized)(c,l),h={plusOrMinus:"<span class='list-price'>{{plusOrMinusListPrice}}</span>"},n!==t&&(h.plusOrMinus=u,m=a.formatterService.formatPriceDifference({culture:l,currency:r,price:n,minimumFractionDigits:i}),p.plusOrMinusDiscountPrice=m),e.abrupt("return",a.mustacheService.replace(f,p,h));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},qWkD:function(e,t,n){"use strict";var r=n("uZTx"),o=n("0qIg"),i=n("QYXr"),a=r.a,s=o.a.map;a({target:"Array",proto:!0,forced:!(0,i.a)("map")},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},qZdO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},qfHW:function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function o(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var i=void 0!==e.ArrayBuffer,a=i&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||i&&o("arraybuffer"),t.msstream=!t.fetch&&a&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n("yLpj"))},qgsu:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("pVnL")),a=r(n("Nz9T")),s=n("dHFW"),c=o(n("q1Yw"));class u extends a.Component{render(){const e={replace:t=>{if(t.attribs&&"list-price-wrapper"===t.attribs.class){const n=(0,s.attributesToProps)(t.attribs),r={display:"block"};return a.createElement("span",(0,i.default)({},n,{style:r}),(0,s.domToReact)(t.children,e))}return t}};return a.createElement(c.default,{classNameWrapper:this.props.classNameWrapper,type:"rangePrice",pricingInfo:this.props.pricingInfo,placeHolderText:this.props.placeHolderText,tenant:this.props.tenant,replaceOptions:this.props.splitInMultipleLines?e:void 0})}}t.default=u},"qjG+":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("Rmyw"),o=n("EE1o"),i=n("dUi7"),a=n("Y4wP"),s=n("NVNn"),c=n("+Leq"),u=r.a,l=o.a,d=i.a,p=a.a,f=s.a,h=c.a,m=u.TypeError,g=function(e,t){var n=arguments.length<2?h(e):t;if(d(n))return p(l(n,e));throw m(f(e)+" is not iterable")}},qmMg:function(e,t,n){e.exports=n("vVAe")},qqeS:function(e,t,n){"use strict";var r=n("pPIV"),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=s?i.slice(0,s.index):i,l=[];if(u){if(!n.plainObjects&&o.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&null!==(s=a.exec(i))&&d<n.depth;){if(d+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:c(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,p=l.split(t.delimiter,d),f=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?h="utf-8":"utf8=%26%2310003%3B"===p[n]&&(h="iso-8859-1"),f=n,n=p.length);for(n=0;n<p.length;++n)if(n!==f){var m,g,v=p[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,a.decoder,h,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),a.decoder,h,"key"),g=r.maybeMap(c(v.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===h&&(g=s(g)),v.indexOf("[]=")>-1&&(g=i(g)?[g]:g),o.call(u,m)?u[m]=r.combine(u[m],g):u[m]=g}return u}(e,n):e,d=n.plainObjects?Object.create(null):{},p=Object.keys(l),f=0;f<p.length;++f){var h=p[f],m=u(h,l[h],n,"string"==typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},qxPZ:function(e,t,n){var r=n("tiKp")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},r2Zl:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,o,i,a,s,c,u=n("8x/l"),l=n("XpQx");function d(){if(o)return r;o=1;var e=l.a;return r=function(t,n,r,o,i){var a=new Error(t);return e(a,n,r,o,i)}}var p,f,h,m,g,v,y,b,w,O,E=n("CX6W");function x(){if(v)return g;v=1;var e=f?p:(f=1,p=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),t=m?h:(m=1,h=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return g=function(n,r){return n&&!e(r)?t(n,r):r}}var S,P,C=n("YUC8"),T=n("/fA3");function _(){if(P)return S;P=1;var e=u.a,t=function(){if(a)return i;a=1;var e=d();return i=function(t,n,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?n(e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}}(),n=function(){if(c)return s;c=1;var e=u.a;return s=e.isStandardBrowserEnv()?{write:function(t,n,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(o)&&s.push("path="+o),e.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}(),r=E.a,o=x(),l=function(){if(b)return y;b=1;var e=u.a,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return y=function(n){var r,o,i,a={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),o=e.trim(n.substr(i+1)),r){if(a[r]&&t.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}}(),p=function(){if(O)return w;O=1;var e=u.a;return w=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(n){var r=e.isString(n)?o(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),f=d(),h=Object(C.a)(),m=Object(T.a)();return S=function(i){return new Promise((function(a,s){var c,u=i.data,d=i.headers,g=i.responseType;function v(){i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}e.isFormData(u)&&delete d["Content-Type"];var y=new XMLHttpRequest;if(i.auth){var b=i.auth.username||"",w=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";d.Authorization="Basic "+btoa(b+":"+w)}var O=o(i.baseURL,i.url);function E(){if(y){var e="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,n={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:e,config:i,request:y};t((function(e){a(e),v()}),(function(e){s(e),v()}),n),y=null}}if(y.open(i.method.toUpperCase(),r(O,i.params,i.paramsSerializer),!0),y.timeout=i.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(s(f("Request aborted",i,"ECONNABORTED",y)),y=null)},y.onerror=function(){s(f("Network Error",i,null,y)),y=null},y.ontimeout=function(){var e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",t=i.transitional||h.transitional;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),s(f(e,i,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var x=(i.withCredentials||p(O))&&i.xsrfCookieName?n.read(i.xsrfCookieName):void 0;x&&(d[i.xsrfHeaderName]=x)}"setRequestHeader"in y&&e.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:y.setRequestHeader(t,e)})),e.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),g&&"json"!==g&&(y.responseType=i.responseType),"function"==typeof i.onDownloadProgress&&y.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",i.onUploadProgress),(i.cancelToken||i.signal)&&(c=function(e){y&&(s(!e||e&&e.type?new m("canceled"):e),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c))),u||(u=null),y.send(u)}))}}},r7tZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("mC9u").a,o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var d={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},rBsm:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e){return c.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("Kv8+");function c(){return(c=(0,i.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.contextService.getCulture(this),r=a.contextService.getTenant(this)){e.next=4;break}throw new Error("tenant not set");case 4:if(n){e.next=6;break}throw new Error("culture not set");case 6:return e.prev=6,e.next=9,(0,s.getHost)(n,r);case 9:return i=e.sent,e.abrupt("return","".concat(i,"/").concat("legal","/").concat(t));case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return","#");case 16:case"end":return e.stop()}}),e,this,[[6,13]])})))).apply(this,arguments)}t.name="legal"},rXFu:function(e,t,n){"use strict";(function(t,r){var o=n("lm0R");e.exports=b;var i,a=n("49sm");b.ReadableState=y;n("fiWp").EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n("QpuX"),u=n("qPBE").Buffer,l=t.Uint8Array||function(){};var d=Object.create(n("Onz0"));d.inherits=n("P7XM");var p=n(2),f=void 0;f=p&&p.debuglog?p.debuglog("stream"):function(){};var h,m=n("Xhqo"),g=n("RoFp");d.inherits(b,c);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n("sZro"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n("fXKp").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n("sZro"),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,o){var i,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,a)):(o||(i=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):O(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):P(e,a)):O(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),P(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return h||(h=n("fXKp").StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(S,e):S(e))}function S(e){f("emit readable"),e.emit("readable"),k(e)}function P(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){f("readable nexttick read 0"),e.read(0)}function _(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):x(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,o=t.needReadable;return f("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",o=!0),t.ended||t.reading?f("reading or ended",o=!1):o&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),p=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){f("onend"),e.end()}i.endEmitted?o.nextTick(c):n.once("end",c),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,k(e))}}(n);e.on("drain",d);var p=!1;var h=!1;function m(t){f("ondata"),h=!1,!1!==e.write(t)||h||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==A(i.pipes,e))&&!p&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",v),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=A(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):o.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(_,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(f("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,n("yLpj"),n("KCCg"))},rpNk:function(e,t,n){"use strict";var r,o,i,a=n("0Dky"),s=n("4WOD"),c=n("kRJp"),u=n("UTVS"),l=n("tiKp"),d=n("xDBR"),p=l("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):f=!0);var h=null==r||a((function(){var e={};return r[p].call(e)!==e}));h&&(r={}),d&&!h||u(r,p)||c(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},rqkW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},s0fS:function(e,t,n){"use strict";var r=n("mVj6");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},s7Ad:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isInteger(e.minimumFractionDigits,"minimumFractionDigits"),i.validate.isString(e.culture,"culture"),i.validate.isCurrency(e.currency,"currency"),i.validate.isDecimal(e.priceDifference,"priceDifference"),i.validate.isDecimal(e.priceDifferenceDiscounted,"priceDifferenceDiscounted")]);if(t.length>0)throw t}generateToken(e,t){return"{{ ".concat(e.priceDifference," | ").concat(t,": ").concat(e.priceDifferenceDiscounted,", '").concat(e.currency,"', ").concat(e.minimumFractionDigits," }}")}}t.default=a},sMLe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("qLRF").a,o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a),c=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},sTLe:function(e,t,n){"use strict";var r=n("uZTx"),o=n("z92h"),i=(n("iCj6"),n("q/UP")),a=n("Y4wP"),s=n("t7qx"),c=(n("jwQj"),n("fARH")),u=a.a,l=s.a,d=c.a,p=r.a,f=o.a,h=i.a.CONSTRUCTOR,m=function(e,t){if(u(e),l(t)&&t.constructor===e)return t;var n=d.f(e);return(0,n.resolve)(t),n.promise};f("Promise"),p({target:"Promise",stat:!0,forced:h},{resolve:function(e){return m(this,e)}})},sYik:function(e,t){},sZro:function(e,t,n){"use strict";var r=n("lm0R"),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=Object.create(n("Onz0"));i.inherits=n("P7XM");var a=n("rXFu"),s=n("3BRs");i.inherits(d,a);for(var c=o(s.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=s.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},skmB:function(e,t,n){"use strict";var r=n("GYWy"),o=n("ds4h");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("s4NR");function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=a.exec(b);if(O){var E=(O=O[0]).toLowerCase();this.protocol=E,b=b.substr(O.length)}if(n||O||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||O&&g[O]||(b=b.substr(2),this.slashes=!0)}if(!g[O]&&(x||O&&!v[O])){for(var S,P,C=-1,T=0;T<p.length;T++){-1!==(_=b.indexOf(p[T]))&&(-1===C||_<C)&&(C=_)}-1!==(P=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,P),b=b.slice(P+1),this.auth=decodeURIComponent(S)),C=-1;for(T=0;T<d.length;T++){var _;-1!==(_=b.indexOf(d[T]))&&(-1===C||_<C)&&(C=_)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var I=this.hostname.split(/\./),M=(T=0,I.length);T<M;T++){var j=I[T];if(j&&!j.match(f)){for(var A="",R=0,D=j.length;R<D;R++)j.charCodeAt(R)>127?A+="x":A+=j[R];if(!A.match(f)){var L=I.slice(0,T),N=I.slice(T+1),U=j.match(h);U&&(L.push(U[1]),N.unshift(U[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(T=0,M=l.length;T<M;T++){var z=l[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var H=this.search||"";this.path=F+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=w||b||n.host&&e.pathname,E=O,x=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),O=O&&(""===h[0]||""===x[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=h;else if(h.length)x||(x=[]),x.pop(),x=x.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=x.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=x.slice(-1)[0],C=(n.host||e.host||x.length>1)&&("."===P||".."===P)||""===P,T=0,_=x.length;_>=0;_--)"."===(P=x[_])?x.splice(_,1):".."===P?(x.splice(_,1),T++):T&&(x.splice(_,1),T--);if(!O&&!E)for(;T--;T)x.unshift("..");!O||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),C&&"/"!==x.join("/").substr(-1)&&x.push("");var k,I=""===x[0]||x[0]&&"/"===x[0].charAt(0);S&&(n.hostname=n.host=I?"":x.length?x.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(O=O||n.host&&x.length)&&!I&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},sz0P:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},t7qx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("o/zE").a,o=function(e){return"object"==typeof e?null!==e:r(e)}},t9FE:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("yLpj"))},tqRK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},tw0k:function(e,t,n){"use strict";var r=n("MOJX");e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},tyWI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("dUi7").a,o=function(e,t){var n=e[t];return null==n?void 0:r(n)}},tyoH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},uZTx:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("Rmyw"),o=(n("NKvv"),n("4Wv+")),i=n("bhOv"),a=n("Hxi4"),s=n("SlgV"),c=n("4tCF"),u=(n("m2Qd"),n("R/GJ")),l=n("arQW"),d=s.a,p=c.a,f=l.a,h=u.a,m=n("hvOZ"),g=r.a,v=l.a.f,y=o.a,b=i.a,w=a.a,O=function(e,t,n){for(var r=p(t),o=h.f,i=f.f,a=0;a<r.length;a++){var s=r[a];d(e,s)||n&&d(n,s)||o(e,s,i(t,s))}},E=m.a,x=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,u=e.stat;if(n=c?g:u?g[s]||w(s,{}):(g[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=v(n,r))&&a.value:n[r],!E(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;O(i,o)}(e.sham||o&&o.sham)&&y(i,"sham",!0),b(n,r,i,e)}}},uZev:function(e,t,n){"use strict";var r=n("Rmyw"),o=(0,n("mlsq").a)("span").classList,i=o&&o.constructor&&o.constructor.prototype,a=i===Object.prototype?void 0:i,s=n("0qIg"),c=n("zwAr").a,u=s.a.forEach,l=function(e,t){var n=[][e];return!!n&&c((function(){n.call(null,t||function(){return 1},1)}))}("forEach")?[].forEach:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)},d=n("4Wv+"),p=r.a,f={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=a,m=l,g=d.a,v=function(e){if(e&&e.forEach!==m)try{g(e,"forEach",m)}catch(t){e.forEach=m}};for(var y in f)f[y]&&v(p[y]&&p[y].prototype);v(h)},uaFB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("QIZl"),o=n("zwAr"),i=r.a,a=o.a,s=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},uaR5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"ug/g":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},uhOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={exports:{}}},uy83:function(e,t,n){var r=n("0Dky");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},v3mq:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"priceForQtyUnits",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},vPPQ:function(e,t,n){"use strict";var r=n("4CIZ"),o=n("W6b0"),i=n("5ALN");new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.a&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}Object(r.a)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(o.a))},vVAe:function(e,t,n){"use strict";var r=n("MOJX"),o=n("eSXq"),i=n("p4cr"),a=n("tw0k");var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n("/0TV"));s.Axios=i,s.Cancel=n("mVj6"),s.CancelToken=n("s0fS"),s.isCancel=n("XXVo"),s.VERSION=n("L6Rn").version,s.all=function(e){return Promise.all(e)},s.spread=n("6I6u"),s.isAxiosError=n("gX5i"),e.exports=s,e.exports.default=s},vZpS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},vbs9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("sMLe").a,o=0,i=Math.random(),a=r(1..toString),s=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},w7Oj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},wCj4:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("Nz9T")),a=r(n("q1Yw"));class s extends i.Component{render(){return i.createElement(a.default,{classNameWrapper:this.props.classNameWrapper,type:"labeledPrice",pricingInfo:this.props.pricingInfo,tenant:this.props.tenant,placeHolderText:this.props.placeHolderText})}}t.default=s},wHaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("Rmyw"),o=n("sMLe"),i=n("zwAr"),a=n("kdos"),s=r.a,c=o.a,u=i.a,l=a.a,d=s.Object,p=c("".split),f=u((function(){return!d("z").propertyIsEnumerable(0)}))?function(e){return"String"==l(e)?p(e,""):d(e)}:d},wJvl:function(e,t,n){for(var r,o=n("F3Dj").CASE_SENSITIVE_TAG_NAMES,i={},a=0,s=o.length;a<s;a++)r=o[a],i[r.toLowerCase()]=r;function c(e){for(var t,n={},r=0,o=e.length;r<o;r++)n[(t=e[r]).name]=t.value;return n}function u(e){var t=function(e){return i[e]}(e=e.toLowerCase());return t||e}e.exports={formatAttributes:c,formatDOM:function e(t,n,r){n=n||null;for(var o,i,a,s=[],l=0,d=t.length;l<d;l++){switch(o=t[l],a={next:null,prev:s[l-1]||null,parent:n},(i=s[l-1])&&(i.next=a),"#"!==o.nodeName[0]&&(a.name=u(o.nodeName),a.attribs={},o.attributes&&o.attributes.length&&(a.attribs=c(o.attributes))),o.nodeType){case 1:"script"===a.name||"style"===a.name?a.type=a.name:a.type="tag",a.children=e(o.childNodes,a);break;case 3:a.type="text",a.data=o.nodeValue;break;case 8:a.type="comment",a.data=o.nodeValue}s.push(a)}return r&&(s.unshift({name:r.substring(0,r.indexOf(" ")).toLowerCase(),data:r,type:"directive",next:s[0]?s[0]:null,prev:null,parent:n}),s[1]&&(s[1].prev=s[0])),s},isIE:function(e){return e?document.documentMode===e:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},we4N:function(e,t,n){"use strict";var r=n("T1zv");!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"browser"},e.exports=t.default}(r.a,r.a.exports)},wfmh:function(e,t,n){var r=n("I+eb"),o=n("ImZN"),i=n("hBjN");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){i(t,e,n)}),{AS_ENTRIES:!0}),t}})},"wj/Z":function(e,t,n){"use strict";var r=n("MOJX");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},xEha:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},xNHL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={}},xRrl:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o,i=n("bWKV");function a(){if(o)return r;o=1;var e=Object(i.a)(),t=Object.prototype.toString;function n(e){return"[object Array]"===t.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==t.call(e))return!1;var n=Object.getPrototypeOf(e);return null===n||n===Object.prototype}function u(e){return"[object Function]"===t.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}return r={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===t.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===t.call(e)},isFile:function(e){return"[object File]"===t.call(e)},isBlob:function(e){return"[object Blob]"===t.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,o){c(t[o])&&c(r)?t[o]=e(t[o],r):c(r)?t[o]=e({},r):n(r)?t[o]=r.slice():t[o]=r}for(var o=0,i=arguments.length;o<i;o++)l(arguments[o],r);return t},extend:function(t,n,r){return l(n,(function(n,o){t[o]=r&&"function"==typeof n?e(n,r):n})),t},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},xbmn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("6kAd").a,o=function(e){return r(e.length)}},xozL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextService=void 0;var r=n("5osp");t.ContextService=class{getCulture(e){var t=e.context.environments.culture;return r.cultureFormatter.format(t)}getTenant(e){return e.context.environments.tenant}getUrlClient(e){return e.context.environments.urlClient}}},"y/8W":function(e,t,n){"use strict";var r,o=n("2taM"),i=n("b7j7"),a=n("Nz9T"),s=n.n(a);i.a,r=i.a.exports,o.a,function(e,t){function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i={error:null},a=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=i,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n),a.getDerivedStateFromError=function(e){return{error:e}};var s=a.prototype;return s.reset=function(){this.setState(i)},s.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},s.componentDidUpdate=function(e,t){var n,r,o,i,a=this.state.error,s=this.props.resetKeys;null!==a&&null!==t.error&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(i=s)&&(i=[]),o.length!==i.length||o.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,s),this.reset())},s.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof n)return n(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},a}(r.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(null!=e)throw e;if(null!=n)throw n;return o},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(a,t,r.createElement(e,n))},o=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n},Object.defineProperty(e,"__esModule",{value:!0})}(r,s.a)},y5n2:function(e,t,n){"use strict";n("ma9I"),n("FZtP"),Object.defineProperty(t,"__esModule",{value:!0}),t.getErrors=function(e){var t=[];return e.forEach(e=>{var n=e();n&&t.push(n)}),t},t.validate=void 0;var r={isCurrency:function(e,t){return()=>{if(!e||"string"!=typeof e||3!==e.length)return"validation failed: ".concat(t," invalid value, needs a string with length 3, current value: ").concat(e)}},isDecimalPositive:function(e,t){return()=>{if(void 0===e||"number"!=typeof e||isNaN(e)||!(e>0))return"validation failed: ".concat(t," invalid value, needs a number greater than 0, current value: ").concat(e)}},isDecimal:function(e,t){return()=>{if(void 0===e||"number"!=typeof e||isNaN(e))return"validation failed: ".concat(t," invalid value, needs a decimal, current value: ").concat(e)}},isNotNegativeDecimal:function(e,t){return()=>{if(void 0===e||"number"!=typeof e||isNaN(e)||!(e>=0))return"validation failed: ".concat(t," invalid value, needs a number greater or equal than 0, current value: ").concat(e)}},isIntegerPositive:function(e,t){return()=>{if(!(void 0!==e&&"number"==typeof e&&Number.isInteger(e)&&!isNaN(e)&&e>0))return"validation failed: ".concat(t," invalid value, needs an integer greater than 0, current value: ").concat(e)}},isInteger:function(e,t){return()=>{if(void 0===e||"number"!=typeof e||!Number.isInteger(e)||isNaN(e))return"validation failed: ".concat(t," invalid value, needs integer greater equals to 0, current value: ").concat(e)}},isString:function(e,t){return()=>{if(!e&&"string"==typeof e)return"validation failed: ".concat(t," invalid value, needs a string, current value: ").concat(e)}},isBoolean:function(e,t){return()=>{if(void 0===e||"boolean"!=typeof e)return"validation failed: ".concat(t," invalid value, needs a boolean, current value: ").concat(e)}},isBooleanOrUndefined:function(e,t){return()=>{if(void 0!==e&&"boolean"!=typeof e)return"validation failed: ".concat(t," invalid value, needs a boolean or undefined, current value: ").concat(e)}}};t.validate=r},yJra:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:a}},yLu9:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("Rmyw"),o=n("TJZh"),i=n("TKFK"),a=n("t7qx"),s=n("JOlD"),c=r.a,u=o.a,l=i.a,d=a.a,p=(0,s.a)("species"),f=c.Array,h=function(e){var t;return u(e)&&(t=e.constructor,(l(t)&&(t===f||u(t.prototype))||d(t)&&null===(t=t[p]))&&(t=void 0)),void 0===t?f:t},m=function(e,t){return new(h(e))(0===t?0:t)}},yM65:function(e,t,n){var r=n("Nz9T"),o=n("DIeE"),i=n("eb+j"),a=i.setStyleProp;function s(e){return i.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&i.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var i,c,u,l,d=(n=n||{}).library||r,p=d.cloneElement,f=d.createElement,h=d.isValidElement,m=[],g="function"==typeof n.replace,v=n.trim,y=0,b=t.length;y<b;y++)if(i=t[y],g&&h(c=n.replace(i)))b>1&&(c=p(c,{key:c.key||y})),m.push(c);else if("text"!==i.type){switch(u=i.attribs,s(i)?a(u.style,u):u&&(u=o(u)),l=null,i.type){case"script":case"style":i.children[0]&&(u.dangerouslySetInnerHTML={__html:i.children[0].data});break;case"tag":"textarea"===i.name&&i.children[0]?u.defaultValue=i.children[0].data:i.children&&i.children.length&&(l=e(i.children,n));break;default:continue}b>1&&(u.key=y),m.push(f(i.name,u,l))}else v?i.data.trim()&&m.push(i.data):m.push(i.data);return 1===m.length?m[0]:m}},yPEe:function(e,t,n){"use strict";var r=n("TqRt");n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r,o,i,a){return l.apply(this,arguments)},t.name=void 0;var o=r(n("o0o1"));n("ls82");var i=r(n("yXPU")),a=n("5osp"),s=n("bQ+U"),c=n("JmOh"),u="rawPrice";function l(){return(l=(0,i.default)(o.default.mark((function e(t,n,r,i,l,d,p){var f,h,m,g,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=this,h=a.contextService.getCulture(f),e.next=4,(0,c.comparativePriceFilter)(h,t,n,r,i,l,d,p,f);case 4:return m=e.sent,g=m.htmlTemplates,v=m.mustacheVariables,y=(0,s.localized)(u,h),e.abrupt("return",a.mustacheService.replace(y,v,g));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.name=u},yQtW:function(e,t,n){(function(e,r,o){var i=n("qfHW"),a=n("P7XM"),s=n("43KI"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,a,c){var u=this;if(s.Readable.call(u),u._mode=a,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===a){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),i.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new r(e))?t():u._resumeFetch=t}))},close:function(){o.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(l).catch((function(e){o.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(h){}}var d=n.body.getReader();!function e(){d.read().then((function(t){if(!u._destroyed){if(t.done)return o.clearTimeout(c),void u.push(null);u.push(new r(t.value)),e()}})).catch((function(e){o.clearTimeout(c),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!i.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var f=p.match(/;\s*charset=([^;])(;|$)/);f&&(u._charset=f[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new o.VBArray(t.responseBody).toArray()}catch(l){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(l){e._mode="text:vbarray";break}if(n.length>e._pos){var i=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);e.push(a)}else e.push(i,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new o.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n("KCCg"),n("tjlA").Buffer,n("yLpj"))},yUNY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Nz9T"),o=n.n(r),i=n("wyvy");function a(e){var t=e.onSaveSelections,n=e.onCancel,r=e.saveChangesLabel,a=e.revertChangesLabel;return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.TextButton,{skin:"primary",widthVariant:"full-width",mb:3,onClick:t},r),o.a.createElement(i.TextButton,{widthVariant:"full-width",onClick:n},a))}},yXPU:function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},yc6g:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("uaFB").a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},ycja:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o={exports:{}};function i(){return r||(r=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(o)),o.exports}},ylHv:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("JBUk")),i=n("y5n2");class a extends o.default{validateParameters(e){var t=(0,i.getErrors)([i.validate.isBoolean(e.vatInc,"vatInc")]);if(t.length>0)throw t}generateToken(e,t){return"{{ ".concat(e.vatInc," | ").concat(t,": ").concat(e.hideShippingMessageInVatMessage," }}")}}t.default=a},"yoy/":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o={exports:{}},i={},a=n("Nz9T"),s=n.n(a),c=n("Yb5V"),u=n("eAIq");function l(){if(r)return i;r=1;var e=s.a,t=Object(c.a)(),n=Object(u.a)();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(o(227));function a(e,t,n,r,o,i,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var l=!1,d=null,p=!1,f=null,h={onError:function(e){l=!0,d=e}};function m(e,t,n,r,o,i,s,c,u){l=!1,d=null,a.apply(h,arguments)}var g=null,v=null,y=null;function b(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,a,s,c,u){if(m.apply(this,arguments),l){if(!l)throw Error(o(198));var h=d;l=!1,d=null,p||(p=!0,f=h)}}(r,t,void 0,e),e.currentTarget=null}var w=null,O={};function E(){if(w)for(var e in O){var t=O[e],n=w.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!S[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,c=r;if(P.hasOwnProperty(c))throw Error(o(99,c));P[c]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&x(u[i],s,c);i=!0}else a.registrationName?(x(a.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function x(e,t,n){if(C[e])throw Error(o(100,e));C[e]=t,T[e]=t.eventTypes[n].dependencies}var S=[],P={},C={},T={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!O.hasOwnProperty(t)||O[t]!==r){if(O[t])throw Error(o(102,t));O[t]=r,n=!0}}n&&E()}var k=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),I=null,M=null,j=null;function A(e){if(e=v(e)){if("function"!=typeof I)throw Error(o(280));var t=e.stateNode;t&&(t=g(t),I(e.stateNode,e.type,t))}}function R(e){M?j?j.push(e):j=[e]:M=e}function D(){if(M){var e=M,t=j;if(j=M=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function L(e,t){return e(t)}function N(e,t,n,r,o){return e(t,n,r,o)}function U(){}var F=L,B=!1,z=!1;function V(){null===M&&null===j||(U(),D())}function q(e,t,n){if(z)return e(t,n);z=!0;try{return F(e,t,n)}finally{z=!1,V()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},K={};function Q(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new Q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new Q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new Q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new Q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new Q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new Q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new Q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new Q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new Q(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,J);Y[t]=new Q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,J);Y[t]=new Q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,J);Y[t]=new Q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new Q(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new Q(e,1,!1,e.toLowerCase(),null,!0)}));var X=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var o=Y.hasOwnProperty(t)?Y[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!H.call(K,e)||!H.call(W,e)&&(G.test(e)?K[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var ee=/^(.*)[\\\/]/,te="function"==typeof Symbol&&Symbol.for,ne=te?Symbol.for("react.element"):60103,re=te?Symbol.for("react.portal"):60106,oe=te?Symbol.for("react.fragment"):60107,ie=te?Symbol.for("react.strict_mode"):60108,ae=te?Symbol.for("react.profiler"):60114,se=te?Symbol.for("react.provider"):60109,ce=te?Symbol.for("react.context"):60110,ue=te?Symbol.for("react.concurrent_mode"):60111,le=te?Symbol.for("react.forward_ref"):60112,de=te?Symbol.for("react.suspense"):60113,pe=te?Symbol.for("react.suspense_list"):60120,fe=te?Symbol.for("react.memo"):60115,he=te?Symbol.for("react.lazy"):60116,me=te?Symbol.for("react.block"):60121,ge="function"==typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ge&&e[ge]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case oe:return"Fragment";case re:return"Portal";case ae:return"Profiler";case ie:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case se:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ye(e.type);case me:return ye(e.render);case he:if(e=1===e._status?e._result:null)return ye(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=ye(e.type);n=null,r&&(n=ye(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(ee,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var t=Oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Pe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ce(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Te(e,t){Ce(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(n,r){return n=t({children:void 0},r),(r=function(t){var n="";return e.Children.forEach(t,(function(e){null!=e&&(n+=e)})),n}(r.children))&&(n.children=r),n}function Me(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function je(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(o(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:we(n)}}function Re(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,ze=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},He={},We={};function Ke(e){if(He[e])return He[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}k&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Qe=Ke("animationend"),Ye=Ke("animationiteration"),Ze=Ke("animationstart"),Je=Ke("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"==typeof WeakMap?WeakMap:Map);function et(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(o(188))}function ot(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return rt(i),e;if(a===r)return rt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function ct(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)b(e,t[r],n[r]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(at(e,ct),st)throw Error(o(95));if(p)throw e=f,p=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function dt(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var pt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>pt.length&&pt.push(e)}function ht(e,t,n,r){if(pt.length){var o=pt.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function mt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=lt(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,c=0;c<S.length;c++){var u=S[c];u&&(u=u.extractEvents(r,t,i,o,a))&&(s=it(s,u))}ut(s)}}function gt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":dt(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var vt,yt,bt,wt=!1,Ot=[],Et=null,xt=null,St=null,Pt=new Map,Ct=new Map,Tt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Mt(e,t){switch(e){case"focus":case"blur":Et=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function jt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=It(t,n,r,o,i),null!==t&&(null!==(t=In(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function At(e){var t=kn(e.target);if(null!==t){var r=tt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=nt(r)))return e.blockedOn=t,void n.unstable_runWithPriority(e.priority,(function(){bt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=en(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=In(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Rt(e)&&n.delete(t)}function Lt(){for(wt=!1;0<Ot.length;){var e=Ot[0];if(null!==e.blockedOn){null!==(e=In(e.blockedOn))&&vt(e);break}var t=en(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Ot.shift()}null!==Et&&Rt(Et)&&(Et=null),null!==xt&&Rt(xt)&&(xt=null),null!==St&&Rt(St)&&(St=null),Pt.forEach(Dt),Ct.forEach(Dt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lt)))}function Ut(e){function t(t){return Nt(t,e)}if(0<Ot.length){Nt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Nt(Et,e),null!==xt&&Nt(xt,e),null!==St&&Nt(St,e),Pt.forEach(t),Ct.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)At(n),null===n.blockedOn&&Tt.shift()}var Ft={},Bt=new Map,zt=new Map,Vt=["abort","abort",Qe,"animationEnd",Ye,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},zt.set(r,t),Bt.set(r,i),Ft[o]=i}}qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qt(Vt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Gt.length;Ht++)zt.set(Gt[Ht],0);var Wt=n.unstable_UserBlockingPriority,Kt=n.unstable_runWithPriority,Qt=!0;function Yt(e,t){Zt(t,e,!1)}function Zt(e,t,n){var r=zt.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){B||U();var o=$t,i=B;B=!0;try{N(o,e,t,n,r)}finally{(B=i)||V()}}function Xt(e,t,n,r){Kt(Wt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Qt)if(0<Ot.length&&-1<_t.indexOf(e))e=It(null,e,t,n,r),Ot.push(e);else{var o=en(e,t,n,r);if(null===o)Mt(e,r);else if(-1<_t.indexOf(e))e=It(o,e,t,n,r),Ot.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return Et=jt(Et,e,t,n,r,o),!0;case"dragenter":return xt=jt(xt,e,t,n,r,o),!0;case"mouseover":return St=jt(St,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,jt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ct.set(i,jt(Ct.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Mt(e,r),e=ht(e,r,null,t);try{q(mt,e)}finally{ft(e)}}}}function en(e,t,n,r){if(null!==(n=kn(n=lt(r)))){var o=tt(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=nt(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ht(e,r,n,t);try{q(mt,e)}finally{ft(e)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];function rn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||tn.hasOwnProperty(e)&&tn[e]?(""+t).trim():t+"px"}function on(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=rn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(tn).forEach((function(e){nn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tn[t]=tn[e]}))}));var an=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62,""))}}function cn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Le;function ln(e,t){var n=et(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)gt(t[r],e,n)}function dn(){}function pn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Qc){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function mn(){for(var e=window,t=pn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=null,yn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var On="function"==typeof setTimeout?setTimeout:void 0,En="function"==typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Pn,Tn="__reactEventHandlers$"+Pn,_n="__reactContainere$"+Pn;function kn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Cn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function In(e){return!(e=e[Cn]||e[_n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function jn(e){return e[Tn]||null}function An(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var r=g(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}function Dn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=An(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Fn(e){at(e,Ln)}var Bn=null,zn=null,Vn=null;function qn(){if(Vn)return Vn;var e,t,n=zn,r=n.length,o="value"in Bn?Bn.value:Bn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Vn=o.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function Hn(){return!1}function Wn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:Hn,this.isPropagationStopped=Hn,this}function Kn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Qn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=Kn,e.release=Qn}t(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function n(){}function r(){return o.apply(this,arguments)}var o=this;n.prototype=o.prototype;var i=new n;return t(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=t({},o.Interface,e),r.extend=o.extend,Yn(r),r},Yn(Wn);var Zn=Wn.extend({data:null}),Jn=Wn.extend({data:null}),Xn=[9,13,27,32],$n=k&&"CompositionEvent"in window,er=null;k&&"documentMode"in document&&(er=document.documentMode);var tr=k&&"TextEvent"in window&&!er,nr=k&&(!$n||er&&8<er&&11>=er),rr=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ir=!1;function ar(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var cr=!1;var ur={eventTypes:or,extractEvents:function(e,t,n,r){var o;if($n)e:{switch(e){case"compositionstart":var i=or.compositionStart;break e;case"compositionend":i=or.compositionEnd;break e;case"compositionupdate":i=or.compositionUpdate;break e}i=void 0}else cr?ar(e,n)&&(i=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=or.compositionStart);return i?(nr&&"ko"!==n.locale&&(cr||i!==or.compositionStart?i===or.compositionEnd&&cr&&(o=qn()):(zn="value"in(Bn=r)?Bn.value:Bn.textContent,cr=!0)),i=Zn.getPooled(i,t,n,r),o?i.data=o:null!==(o=sr(n))&&(i.data=o),Fn(i),o=i):o=null,(e=tr?function(e,t){switch(e){case"compositionend":return sr(t);case"keypress":return 32!==t.which?null:(ir=!0,rr);case"textInput":return(e=t.data)===rr&&ir?null:e;default:return null}}(e,n):function(e,t){if(cr)return"compositionend"===e||!$n&&ar(e,t)?(e=qn(),Vn=zn=Bn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Jn.getPooled(or.beforeInput,t,n,r)).data=e,Fn(t)):t=null,null===o?t:null===t?o:[o,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Wn.getPooled(pr.change,e,t,n)).type="change",R(n),Fn(e),e}var hr=null,mr=null;function gr(e){ut(e)}function vr(e){if(xe(Mn(e)))return e}function yr(e,t){if("change"===e)return t}var br=!1;function wr(){hr&&(hr.detachEvent("onpropertychange",Or),mr=hr=null)}function Or(e){if("value"===e.propertyName&&vr(mr))if(e=fr(mr,e,lt(e)),B)ut(e);else{B=!0;try{L(gr,e)}finally{B=!1,V()}}}function Er(e,t,n){"focus"===e?(wr(),mr=n,(hr=t).attachEvent("onpropertychange",Or)):"blur"===e&&wr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(mr)}function Sr(e,t){if("click"===e)return vr(t)}function Pr(e,t){if("input"===e||"change"===e)return vr(t)}k&&(br=dt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:pr,_isInputEventSupported:br,extractEvents:function(e,t,n,r){var o=t?Mn(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=yr;else if(dr(o))if(br)a=Pr;else{a=xr;var s=Er}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Sr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&ke(o,"number",o.value)}},Tr=Wn.extend({view:null,detail:null}),_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Ir(){return kr}var Mr=0,jr=0,Ar=!1,Rr=!1,Dr=Tr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Mr;return Mr=e.screenX,Ar?"mousemove"===e.type?e.screenX-t:0:(Ar=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=jr;return jr=e.screenY,Rr?"mousemove"===e.type?e.screenY-t:0:(Rr=!0,0)}}),Lr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:Nr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==tt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dr,c=Nr.mouseLeave,u=Nr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Lr,c=Nr.pointerLeave,u=Nr.pointerEnter,l="pointer");if(e=null==a?i:Mn(a),i=null==t?i:Mn(t),(c=s.getPooled(c,a,n,r)).type=l+"leave",c.target=e,c.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(u=l,a=0,e=s=r;e;e=An(e))a++;for(e=0,t=u;t;t=An(t))e++;for(;0<a-e;)s=An(s),a--;for(;0<e-a;)u=An(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=An(s),u=An(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=An(r);for(r=[];l&&l!==u&&(null===(a=l.alternate)||a!==u);)r.push(l),l=An(l);for(l=0;l<s.length;l++)Nn(s[l],"bubbled",c);for(l=r.length;0<l--;)Nn(r[l],"captured",n);return 0==(64&o)?[c]:[c,n]}};var Fr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Br=Object.prototype.hasOwnProperty;function zr(e,t){if(Fr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!Fr(e[n[r]],t[n[r]]))return!1;return!0}var Vr=k&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,Hr=null,Wr=null,Kr=!1;function Qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Gr||Gr!==pn(n)?null:("selectionStart"in(n=Gr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&zr(Wr,n)?null:(Wr=n,(e=Wn.getPooled(qr.select,Hr,e,t)).type="select",e.target=Gr,Fn(e),e))}var Yr={eventTypes:qr,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=et(o),i=T.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?Mn(t):window,e){case"focus":(dr(o)||"true"===o.contentEditable)&&(Gr=o,Hr=t,Wr=null);break;case"blur":Wr=Hr=Gr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Qr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Zr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=Tr.extend({relatedTarget:null});function $r(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},to={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},no=Tr.extend({key:function(e){if(e.key){var t=eo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$r(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?to[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?$r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ro=Dr.extend({dataTransfer:null}),oo=Tr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),io=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ao=Dr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),so={eventTypes:Ft,extractEvents:function(e,t,n,r){var o=Bt.get(e);if(!o)return null;switch(e){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":e=no;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oo;break;case Qe:case Ye:case Ze:e=Zr;break;case Je:e=io;break;case"scroll":e=Tr;break;case"wheel":e=ao;break;case"copy":case"cut":case"paste":e=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Lr;break;default:e=Wn}return Fn(t=e.getPooled(o,t,n,r)),t}};if(w)throw Error(o(101));w=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E(),g=jn,v=In,y=Mn,_({SimpleEventPlugin:so,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Cr,SelectEventPlugin:Yr,BeforeInputEventPlugin:ur});var co=[],uo=-1;function lo(e){0>uo||(e.current=co[uo],co[uo]=null,uo--)}function po(e,t){uo++,co[uo]=e.current,e.current=t}var fo={},ho={current:fo},mo={current:!1},go=fo;function vo(e,t){var n=e.type.contextTypes;if(!n)return fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yo(e){return null!=(e=e.childContextTypes)}function bo(){lo(mo),lo(ho)}function wo(e,t,n){if(ho.current!==fo)throw Error(o(168));po(ho,t),po(mo,n)}function Oo(e,n,r){var i=e.stateNode;if(e=n.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var a in i=i.getChildContext())if(!(a in e))throw Error(o(108,ye(n)||"Unknown",a));return t({},r,{},i)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,go=ho.current,po(ho,e),po(mo,mo.current),!0}function xo(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oo(e,t,go),r.__reactInternalMemoizedMergedChildContext=e,lo(mo),lo(ho),po(ho,e)):lo(mo),po(mo,n)}var So=n.unstable_runWithPriority,Po=n.unstable_scheduleCallback,Co=n.unstable_cancelCallback,To=n.unstable_requestPaint,_o=n.unstable_now,ko=n.unstable_getCurrentPriorityLevel,Io=n.unstable_ImmediatePriority,Mo=n.unstable_UserBlockingPriority,jo=n.unstable_NormalPriority,Ao=n.unstable_LowPriority,Ro=n.unstable_IdlePriority,Do={},Lo=n.unstable_shouldYield,No=void 0!==To?To:function(){},Uo=null,Fo=null,Bo=!1,zo=_o(),Vo=1e4>zo?_o:function(){return _o()-zo};function qo(){switch(ko()){case Io:return 99;case Mo:return 98;case jo:return 97;case Ao:return 96;case Ro:return 95;default:throw Error(o(332))}}function Go(e){switch(e){case 99:return Io;case 98:return Mo;case 97:return jo;case 96:return Ao;case 95:return Ro;default:throw Error(o(332))}}function Ho(e,t){return e=Go(e),So(e,t)}function Wo(e,t,n){return e=Go(e),Po(e,t,n)}function Ko(e){return null===Uo?(Uo=[e],Fo=Po(Io,Yo)):Uo.push(e),Do}function Qo(){if(null!==Fo){var e=Fo;Fo=null,Co(e)}Yo()}function Yo(){if(!Bo&&null!==Uo){Bo=!0;var e=0;try{var t=Uo;Ho(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Uo=null}catch(n){throw null!==Uo&&(Uo=Uo.slice(e+1)),Po(Io,Qo),n}finally{Bo=!1}}}function Zo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Jo(e,n){if(e&&e.defaultProps)for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}var Xo={current:null},$o=null,ei=null,ti=null;function ni(){ti=ei=$o=null}function ri(e){var t=Xo.current;lo(Xo),e.type._context._currentValue=t}function oi(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ii(e,t){$o=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ja=!0),e.firstContext=null)}function ai(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===$o)throw Error(o(308));ei=t,$o.dependencies={expirationTime:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var si=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function li(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function di(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pi(e,t){var n=e.alternate;null!==n&&ui(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fi(e,n,r,o){var i=e.updateQueue;si=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var c=a.next;a.next=s.next,s.next=c}a=s,i.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=s))}if(null!==a){c=a.next;var u=i.baseState,l=0,d=null,p=null,f=null;if(null!==c)for(var h=c;;){if((s=h.expirationTime)<o){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===f?(p=f=m,d=u):f=f.next=m,s>l&&(l=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),sc(s,h.suspenseConfig);e:{var g=e,v=h;switch(s=n,m=r,v.tag){case 1:if("function"==typeof(g=v.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=v.payload)?g.call(m,u,s):g))break e;u=t({},u,s);break e;case 2:si=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[h]:s.push(h))}if(null===(h=h.next)||h===c){if(null===(s=i.shared.pending))break;h=a.next=s.next,s.next=c,i.baseQueue=a=s,i.shared.pending=null}}null===f?d=u:f.next=p,i.baseState=d,i.baseQueue=f,cc(l),e.expirationTime=l,e.memoizedState=u}}function hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var mi=X.ReactCurrentBatchConfig,gi=(new e.Component).refs;function vi(e,n,r,o){r=null==(r=r(o,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var yi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Qs(),o=mi.suspense;(o=li(r=Ys(r,e,o),o)).payload=t,null!=n&&(o.callback=n),di(e,o),Zs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Qs(),o=mi.suspense;(o=li(r=Ys(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),di(e,o),Zs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Qs(),r=mi.suspense;(r=li(n=Ys(n,e,r),r)).tag=2,null!=t&&(r.callback=t),di(e,r),Zs(e,n)}};function bi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!zr(n,r)||!zr(o,i))}function wi(e,t,n){var r=!1,o=fo,i=t.contextType;return"object"==typeof i&&null!==i?i=ai(i):(o=yo(t)?go:ho.current,i=(r=null!=(r=t.contextTypes))?vo(e,o):fo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Ei(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=gi,ci(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=ai(i):(i=yo(t)?go:ho.current,o.context=vo(e,i)),fi(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(vi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&yi.enqueueReplaceState(o,o.state,null),fi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var xi=Array.isArray;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===gi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Pi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ci(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=kc(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ne:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case re:return(t=jc(t,e.mode,n)).return=e,t}if(xi(t)||ve(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Pi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ne:return n.key===o?n.type===oe?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case re:return n.key===o?l(e,t,n,r):null}if(xi(n)||ve(n))return null!==o?null:d(e,t,n,r,null);Pi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ne:return e=e.get(null===r.key?n:r.key)||null,r.type===oe?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case re:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(xi(r)||ve(r))return d(t,e=e.get(n)||null,r,o,null);Pi(t,r)}return null}function m(o,i,s,c){for(var u=null,l=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===l?u=v:l.sibling=v,l=v,d=g}if(m===s.length)return n(o,d),u;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],c))&&(i=a(d,i,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(o,e)})),u}function g(i,s,c,u){var l=ve(c);if("function"!=typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?l=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=p(i,y.value,u))&&(s=a(y,s,g),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,a,c){var u="object"==typeof a&&null!==a&&a.type===oe&&null===a.key;u&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case ne:e:{for(l=a.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(a.type===oe){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=Si(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===oe?((r=Ic(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=kc(a.type,a.key,a.props,null,e.mode,c)).ref=Si(e,r,a),c.return=e,e=c)}return s(e);case re:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=jc(a,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Mc(a,e.mode,c)).return=e,e=r),s(e);if(xi(a))return m(e,r,a,c);if(ve(a))return g(e,r,a,c);if(l&&Pi(e,a),void 0===a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ti=Ci(!0),_i=Ci(!1),ki={},Ii={current:ki},Mi={current:ki},ji={current:ki};function Ai(e){if(e===ki)throw Error(o(174));return e}function Ri(e,t){switch(po(ji,t),po(Mi,e),po(Ii,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lo(Ii),po(Ii,t)}function Di(){lo(Ii),lo(Mi),lo(ji)}function Li(e){Ai(ji.current);var t=Ai(Ii.current),n=Fe(t,e.type);t!==n&&(po(Mi,e),po(Ii,n))}function Ni(e){Mi.current===e&&(lo(Ii),lo(Mi))}var Ui={current:0};function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bi(e,t){return{responder:e,props:t}}var zi=X.ReactCurrentDispatcher,Vi=X.ReactCurrentBatchConfig,qi=0,Gi=null,Hi=null,Wi=null,Ki=!1;function Qi(){throw Error(o(321))}function Yi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function Zi(e,t,n,r,i,a){if(qi=a,Gi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,zi.current=null===e||null===e.memoizedState?ba:wa,e=n(r,i),t.expirationTime===qi){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Wi=Hi=null,t.updateQueue=null,zi.current=Oa,e=n(r,i)}while(t.expirationTime===qi)}if(zi.current=ya,t=null!==Hi&&null!==Hi.next,qi=0,Wi=Hi=Gi=null,Ki=!1,t)throw Error(o(300));return e}function Ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Gi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function Xi(){if(null===Hi){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===Wi?Gi.memoizedState:Wi.next;if(null!==t)Wi=t,Hi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===Wi?Gi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function $i(e,t){return"function"==typeof t?t(e):t}function ea(e){var t=Xi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Hi,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,u=i;do{var l=u.expirationTime;if(l<qi){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,a=r):c=c.next=d,l>Gi.expirationTime&&(Gi.expirationTime=l,cc(l))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),sc(l,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=s,Fr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ta(e){var t=Xi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Fr(a,t.memoizedState)||(ja=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function na(e){var t=Ji();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e}).dispatch=va.bind(null,Gi,e),[t.memoizedState,e]}function ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Gi.updateQueue)?(t={lastEffect:null},Gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function oa(){return Xi().memoizedState}function ia(e,t,n,r){var o=Ji();Gi.effectTag|=e,o.memoizedState=ra(1|t,n,void 0,void 0===r?null:r)}function aa(e,t,n,r){var o=Xi();r=void 0===r?null:r;var i=void 0;if(null!==Hi){var a=Hi.memoizedState;if(i=a.destroy,null!==r&&Yi(r,a.deps))return void ra(t,n,i,r)}Gi.effectTag|=e,o.memoizedState=ra(1|t,n,i,r)}function sa(e,t){return ia(516,4,e,t)}function ca(e,t){return aa(516,4,e,t)}function ua(e,t){return aa(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function da(e,t,n){return n=null!=n?n.concat([e]):null,aa(4,2,la.bind(null,t,e),n)}function pa(){}function fa(e,t){return Ji().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ma(e,t){var n=Xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ga(e,t,n){var r=qo();Ho(98>r?98:r,(function(){e(!0)})),Ho(97<r?97:r,(function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{e(!1),n()}finally{Vi.suspense=r}}))}function va(e,t,n){var r=Qs(),o=mi.suspense;o={expirationTime:r=Ys(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Gi||null!==i&&i===Gi)Ki=!0,o.expirationTime=qi,Gi.expirationTime=qi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.eagerReducer=i,o.eagerState=s,Fr(s,a))return}catch(c){}Zs(e,r)}}var ya={readContext:ai,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useResponder:Qi,useDeferredValue:Qi,useTransition:Qi},ba={readContext:ai,useCallback:fa,useContext:ai,useEffect:sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Ji();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ji();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ji().memoizedState=e},useState:na,useDebugValue:pa,useResponder:Bi,useDeferredValue:function(e,t){var n=na(e),r=n[0],o=n[1];return sa((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=na(!1),n=t[0];return t=t[1],[fa(ga.bind(null,t,e),[t,e]),n]}},wa={readContext:ai,useCallback:ha,useContext:ai,useEffect:ca,useImperativeHandle:da,useLayoutEffect:ua,useMemo:ma,useReducer:ea,useRef:oa,useState:function(){return ea($i)},useDebugValue:pa,useResponder:Bi,useDeferredValue:function(e,t){var n=ea($i),r=n[0],o=n[1];return ca((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea($i),n=t[0];return t=t[1],[ha(ga.bind(null,t,e),[t,e]),n]}},Oa={readContext:ai,useCallback:ha,useContext:ai,useEffect:ca,useImperativeHandle:da,useLayoutEffect:ua,useMemo:ma,useReducer:ta,useRef:oa,useState:function(){return ta($i)},useDebugValue:pa,useResponder:Bi,useDeferredValue:function(e,t){var n=ta($i),r=n[0],o=n[1];return ca((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ta($i),n=t[0];return t=t[1],[ha(ga.bind(null,t,e),[t,e]),n]}},Ea=null,xa=null,Sa=!1;function Pa(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ta(e){if(Sa){var t=xa;if(t){var n=t;if(!Ca(e,t)){if(!(t=xn(n.nextSibling))||!Ca(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(Ea=e);Pa(Ea,n)}Ea=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,Ea=e}}function _a(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ea=e}function ka(e){if(e!==Ea)return!1;if(!Sa)return _a(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=xa;t;)Pa(e,t),t=xn(t.nextSibling);if(_a(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=Ea?xn(e.stateNode.nextSibling):null;return!0}function Ia(){xa=Ea=null,Sa=!1}var Ma=X.ReactCurrentOwner,ja=!1;function Aa(e,t,n,r){t.child=null===e?_i(t,null,n,r):Ti(t,e.child,n,r)}function Ra(e,t,n,r,o){n=n.render;var i=t.ref;return ii(t,o),r=Zi(e,t,n,r,i,o),null===e||ja?(t.effectTag|=1,Aa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Za(e,t,o))}function Da(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Tc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:zr)(o,r)&&e.ref===t.ref)?Za(e,t,i):(t.effectTag|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,r,o,i){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(ja=!1,o<i)?(t.expirationTime=e.expirationTime,Za(e,t,i)):Ua(e,t,n,r,i)}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ua(e,t,n,r,o){var i=yo(n)?go:ho.current;return i=vo(t,i),ii(t,o),n=Zi(e,t,n,r,i,o),null===e||ja?(t.effectTag|=1,Aa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Za(e,t,o))}function Fa(e,t,n,r,o){if(yo(n)){var i=!0;Eo(t)}else i=!1;if(ii(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wi(t,n,r),Ei(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ai(u):u=vo(t,u=yo(n)?go:ho.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Oi(t,a,r,u),si=!1;var p=t.memoizedState;a.state=p,fi(t,r,a,o),c=t.memoizedState,s!==r||p!==c||mo.current||si?("function"==typeof l&&(vi(t,n,l,r),c=t.memoizedState),(s=si||bi(t,n,s,r,p,c,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ui(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Jo(t.type,s),c=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ai(u):u=vo(t,u=yo(n)?go:ho.current),(d="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Oi(t,a,r,u),si=!1,c=t.memoizedState,a.state=c,fi(t,r,a,o),p=t.memoizedState,s!==r||c!==p||mo.current||si?("function"==typeof l&&(vi(t,n,l,r),p=t.memoizedState),(l=si||bi(t,n,s,r,c,p,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ba(e,t,n,r,i,o)}function Ba(e,t,n,r,o,i){Na(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&xo(t,n,!1),Za(e,t,i);r=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ti(t,e.child,null,i),t.child=Ti(t,null,s,i)):Aa(e,t,s,i),t.memoizedState=r.state,o&&xo(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?wo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(0,t.context,!1),Ri(e,t.containerInfo)}var Va,qa,Ga,Ha={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Ui.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),po(Ui,1&a),null===e){if(void 0!==i.fallback&&Ta(t),s){if(s=i.fallback,(i=Ic(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ic(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=Ha,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=_i(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=_c(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=_c(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,o}return n=Ti(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Ic(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ic(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ha,t.child=i,n}return t.memoizedState=null,t.child=Ti(t,e,i.children,n)}function Ka(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oi(e.return,t)}function Qa(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function Ya(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Aa(e,t,r.children,n),0!=(2&(r=Ui.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n);else if(19===e.tag)Ka(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(po(Ui,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Qa(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Qa(t,!0,n,null,i,t.lastEffect);break;case"together":Qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&cc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ja(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e,n,r){var i=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yo(n.type)&&bo(),null;case 3:return Di(),lo(mo),lo(ho),(r=n.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!ka(n)||(n.effectTag|=4),null;case 5:Ni(n),r=Ai(ji.current);var a=n.type;if(null!==e&&null!=n.stateNode)qa(e,n,a,i,r),e.ref!==n.ref&&(n.effectTag|=128);else{if(!i){if(null===n.stateNode)throw Error(o(166));return null}if(e=Ai(Ii.current),ka(n)){i=n.stateNode,a=n.type;var s=n.memoizedProps;switch(i[Cn]=n,i[Tn]=s,a){case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Yt(Xe[e],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"form":Yt("reset",i),Yt("submit",i);break;case"details":Yt("toggle",i);break;case"input":Pe(i,s),Yt("invalid",i),ln(r,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",i),ln(r,"onChange");break;case"textarea":Ae(i,s),Yt("invalid",i),ln(r,"onChange")}for(var c in sn(a,s),e=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"==typeof u?i.textContent!==u&&(e=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(e=["children",""+u]):C.hasOwnProperty(c)&&null!=u&&ln(r,c)}switch(a){case"input":Ee(i),_e(i,s,!0);break;case"textarea":Ee(i),De(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=dn)}r=e,n.updateQueue=r,null!==r&&(n.effectTag|=4)}else{switch(c=9===r.nodeType?r:r.ownerDocument,e===un&&(e=Ue(a)),e===un?"script"===a?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=c.createElement(a,{is:i.is}):(e=c.createElement(a),"select"===a&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,a),e[Cn]=n,e[Tn]=i,Va(e,n),n.stateNode=e,c=cn(a,i),a){case"iframe":case"object":case"embed":Yt("load",e),u=i;break;case"video":case"audio":for(u=0;u<Xe.length;u++)Yt(Xe[u],e);u=i;break;case"source":Yt("error",e),u=i;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),u=i;break;case"form":Yt("reset",e),Yt("submit",e),u=i;break;case"details":Yt("toggle",e),u=i;break;case"input":Pe(e,i),u=Se(e,i),Yt("invalid",e),ln(r,"onChange");break;case"option":u=Ie(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=t({},i,{value:void 0}),Yt("invalid",e),ln(r,"onChange");break;case"textarea":Ae(e,i),u=je(e,i),Yt("invalid",e),ln(r,"onChange");break;default:u=i}sn(a,u);var l=u;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?on(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ze(e,d):"children"===s?"string"==typeof d?("textarea"!==a||""!==d)&&Ve(e,d):"number"==typeof d&&Ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?null!=d&&ln(r,s):null!=d&&$(e,s,d,c))}switch(a){case"input":Ee(e),_e(e,i,!1);break;case"textarea":Ee(e),De(e);break;case"option":null!=i.value&&e.setAttribute("value",""+we(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?Me(e,!!i.multiple,r,!1):null!=i.defaultValue&&Me(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=dn)}bn(a,i)&&(n.effectTag|=4)}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(e&&null!=n.stateNode)Ga(0,n,e.memoizedProps,i);else{if("string"!=typeof i&&null===n.stateNode)throw Error(o(166));r=Ai(ji.current),Ai(Ii.current),ka(n)?(r=n.stateNode,i=n.memoizedProps,r[Cn]=n,r.nodeValue!==i&&(n.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[Cn]=n,n.stateNode=r)}return null;case 13:return lo(Ui),i=n.memoizedState,0!=(64&n.effectTag)?(n.expirationTime=r,n):(r=null!==i,i=!1,null===e?void 0!==n.memoizedProps.fallback&&ka(n):(i=null!==(a=e.memoizedState),r||null===a||null!==(a=e.child.sibling)&&(null!==(s=n.firstEffect)?(n.firstEffect=a,a.nextEffect=s):(n.firstEffect=n.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!i&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&Ui.current)?ks===Es&&(ks=xs):(ks!==Es&&ks!==xs||(ks=Ss),0!==Rs&&null!==Cs&&(Dc(Cs,_s),Lc(Cs,Rs)))),(r||i)&&(n.effectTag|=4),null);case 4:return Di(),null;case 10:return ri(n),null;case 17:return yo(n.type)&&bo(),null;case 19:if(lo(Ui),null===(i=n.memoizedState))return null;if(a=0!=(64&n.effectTag),null===(s=i.rendering)){if(a)Ja(i,!1);else if(ks!==Es||null!==e&&0!=(64&e.effectTag))for(s=n.child;null!==s;){if(null!==(e=Fi(s))){for(n.effectTag|=64,Ja(i,!1),null!==(a=e.updateQueue)&&(n.updateQueue=a,n.effectTag|=4),null===i.lastEffect&&(n.firstEffect=null),n.lastEffect=i.lastEffect,i=n.child;null!==i;)s=r,(a=i).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return po(Ui,1&Ui.current|2),n.child}s=s.sibling}}else{if(!a)if(null!==(e=Fi(s))){if(n.effectTag|=64,a=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.effectTag|=4),Ja(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(n=n.lastEffect=i.lastEffect)&&(n.nextEffect=null),null}else 2*Vo()-i.renderingStartTime>i.tailExpiration&&1<r&&(n.effectTag|=64,a=!0,Ja(i,!1),n.expirationTime=n.childExpirationTime=r-1);i.isBackwards?(s.sibling=n.child,n.child=s):(null!==(r=i.last)?r.sibling=s:n.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Vo()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=n.lastEffect,i.renderingStartTime=Vo(),r.sibling=null,n=Ui.current,po(Ui,a?1&n|2:1&n),r):null}throw Error(o(156,n.tag))}function $a(e){switch(e.tag){case 1:yo(e.type)&&bo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Di(),lo(mo),lo(ho),0!=(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ni(e),null;case 13:return lo(Ui),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lo(Ui),null;case 4:return Di(),null;case 10:return ri(e),null;default:return null}}function es(e,t){return{value:e,source:t,stack:be(t)}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(e,n,r,o,i){var a=e.memoizedProps;if(a!==o){var s,c,u=n.stateNode;switch(Ai(Ii.current),e=null,r){case"input":a=Se(u,a),o=Se(u,o),e=[];break;case"option":a=Ie(u,a),o=Ie(u,o),e=[];break;case"select":a=t({},a,{value:void 0}),o=t({},o,{value:void 0}),e=[];break;case"textarea":a=je(u,a),o=je(u,o),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof o.onClick&&(u.onclick=dn)}for(s in sn(r,o),r=null,a)if(!o.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in u=a[s])u.hasOwnProperty(c)&&(r||(r={}),r[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in o){var l=o[s];if(u=null!=a?a[s]:void 0,o.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(c in u)!u.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in l)l.hasOwnProperty(c)&&u[c]!==l[c]&&(r||(r={}),r[c]=l[c])}else r||(e||(e=[]),e.push(s,r)),r=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(s,l)):"children"===s?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(C.hasOwnProperty(s)?(null!=l&&ln(i,s),e||u===l||(e=[])):(e=e||[]).push(s,l))}r&&(e=e||[]).push("style",r),i=e,(n.updateQueue=i)&&(n.effectTag|=4)}},Ga=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ts="function"==typeof WeakSet?WeakSet:Set;function ns(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=be(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(o){setTimeout((function(){throw o}))}}function rs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){wc(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Jo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function as(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ss(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void as(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Jo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&hi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}hi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ut(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function cs(e,t,n){switch("function"==typeof Sc&&Sc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ho(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(i){wc(o,i)}}e=e.next}while(e!==r)}))}break;case 1:rs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){wc(e,n)}}(t,n);break;case 5:rs(t);break;case 4:ps(e,t,n)}}function us(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&us(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ds(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=dn));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ps(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var c=e,u=a,l=n,d=u;;)if(cs(c,d,l),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(c=r,u=a.stateNode,8===c.nodeType?c.parentNode.removeChild(u):c.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(cs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Tn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ce(n,r),cn(e,i),t=cn(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?on(n,c):"dangerouslySetInnerHTML"===s?ze(n,c):"children"===s?Ve(n,c):$(n,s,c,t)}switch(e){case"input":Te(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Me(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Me(n,!!r.multiple,r.defaultValue,!0):Me(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ut(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ls=Vo()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,a.style.display=rn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(o(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ts),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ms="function"==typeof WeakMap?WeakMap:Map;function gs(e,t,n){(n=li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Fs=r),ns(e,t)},n}function vs(e,t,n){(n=li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ns(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this),ns(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ys,bs=Math.ceil,ws=X.ReactCurrentDispatcher,Os=X.ReactCurrentOwner,Es=0,xs=3,Ss=4,Ps=0,Cs=null,Ts=null,_s=0,ks=Es,Is=null,Ms=1073741823,js=1073741823,As=null,Rs=0,Ds=!1,Ls=0,Ns=null,Us=!1,Fs=null,Bs=null,zs=!1,Vs=null,qs=90,Gs=null,Hs=0,Ws=null,Ks=0;function Qs(){return 0!=(48&Ps)?1073741821-(Vo()/10|0):0!==Ks?Ks:Ks=1073741821-(Vo()/10|0)}function Ys(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=qo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ps))return _s;if(null!==n)e=Zo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zo(e,150,100);break;case 97:case 96:e=Zo(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Cs&&e===_s&&--e,e}function Zs(e,t){if(50<Hs)throw Hs=0,Ws=null,Error(o(185));if(null!==(e=Js(e,t))){var n=qo();1073741823===t?0!=(8&Ps)&&0==(48&Ps)?tc(e):($s(e),0===Ps&&Qo()):$s(e),0==(4&Ps)||98!==n&&99!==n||(null===Gs?Gs=new Map([[e,t]]):(void 0===(n=Gs.get(e))||n>t)&&Gs.set(e,t))}}function Js(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Cs===o&&(cc(t),ks===Ss&&Dc(o,_s)),Lc(o,t)),o}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Rc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function $s(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ko(tc.bind(null,e));else{var t=Xs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Do&&Co(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ko(tc.bind(null,e)):Wo(r,ec.bind(null,e),{timeout:10*(1073741821-t)-Vo()}),e.callbackNode=t}}}function ec(e,t){if(Ks=0,t)return Nc(e,t=Qs()),$s(e),null;var n=Xs(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ps))throw Error(o(327));if(vc(),e===Cs&&n===_s||oc(e,n),null!==Ts){var r=Ps;Ps|=16;for(var i=ac();;)try{lc();break}catch(c){ic(e,c)}if(ni(),Ps=r,ws.current=i,1===ks)throw t=Is,oc(e,n),Dc(e,n),$s(e),t;if(null===Ts)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ks,Cs=null,r){case Es:case 1:throw Error(o(345));case 2:Nc(e,2<n?2:n);break;case xs:if(Dc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(i)),1073741823===Ms&&10<(i=Ls+500-Vo())){if(Ds){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,oc(e,n);break}}if(0!==(a=Xs(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=On(hc.bind(null,e),i);break}hc(e);break;case Ss:if(Dc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(i)),Ds&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,oc(e,n);break}if(0!==(i=Xs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==js?r=10*(1073741821-js)-Vo():1073741823===Ms?r=0:(r=10*(1073741821-Ms)-5e3,0>(r=(i=Vo())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=On(hc.bind(null,e),r);break}hc(e);break;case 5:if(1073741823!==Ms&&null!==As){a=Ms;var s=As;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Vo()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Dc(e,n),e.timeoutHandle=On(hc.bind(null,e),r);break}}hc(e);break;default:throw Error(o(329))}if($s(e),e.callbackNode===t)return ec.bind(null,e)}}return null}function tc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ps))throw Error(o(327));if(vc(),e===Cs&&t===_s||oc(e,t),null!==Ts){var n=Ps;Ps|=16;for(var r=ac();;)try{uc();break}catch(i){ic(e,i)}if(ni(),Ps=n,ws.current=r,1===ks)throw n=Is,oc(e,t),Dc(e,t),$s(e),n;if(null!==Ts)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Cs=null,hc(e),$s(e)}return null}function nc(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&Qo()}}function rc(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&Qo()}}function oc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,En(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bo();break;case 3:Di(),lo(mo),lo(ho);break;case 5:Ni(r);break;case 4:Di();break;case 13:case 19:lo(Ui);break;case 10:ri(r)}n=n.return}Cs=e,Ts=_c(e.current,null),_s=t,ks=Es,Is=null,js=Ms=1073741823,As=null,Rs=0,Ds=!1}function ic(e,t){for(;;){try{if(ni(),zi.current=ya,Ki)for(var n=Gi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qi=0,Wi=Hi=Gi=null,Ki=!1,null===Ts||null===Ts.return)return ks=1,Is=t,Ts=null;e:{var o=e,i=Ts.return,a=Ts,s=t;if(t=_s,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Ui.current),d=i;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(p){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=li(1073741823,null);v.tag=2,di(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ms,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(a)){s.add(a);var b=Oc.bind(null,o,c,a);c.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ye(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(a))}5!==ks&&(ks=2),s=es(s,a),d=i;do{switch(d.tag){case 3:c=s,d.effectTag|=4096,d.expirationTime=t,pi(d,gs(d,c,t));break e;case 1:c=s;var w=d.type,O=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==O&&"function"==typeof O.componentDidCatch&&(null===Bs||!Bs.has(O)))){d.effectTag|=4096,d.expirationTime=t,pi(d,vs(d,c,t));break e}}d=d.return}while(null!==d)}Ts=pc(Ts)}catch(E){t=E;continue}break}}function ac(){var e=ws.current;return ws.current=ya,null===e?ya:e}function sc(e,t){e<Ms&&2<e&&(Ms=e),null!==t&&e<js&&2<e&&(js=e,As=t)}function cc(e){e>Rs&&(Rs=e)}function uc(){for(;null!==Ts;)Ts=dc(Ts)}function lc(){for(;null!==Ts&&!Lo();)Ts=dc(Ts)}function dc(e){var t=ys(e.alternate,e,_s);return e.memoizedProps=e.pendingProps,null===t&&(t=pc(e)),Os.current=null,t}function pc(e){Ts=e;do{var t=Ts.alternate;if(e=Ts.return,0==(2048&Ts.effectTag)){if(t=Xa(t,Ts,_s),1===_s||1!==Ts.childExpirationTime){for(var n=0,r=Ts.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}Ts.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ts.firstEffect),null!==Ts.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ts.firstEffect),e.lastEffect=Ts.lastEffect),1<Ts.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ts:e.firstEffect=Ts,e.lastEffect=Ts))}else{if(null!==(t=$a(Ts)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ts.sibling))return t;Ts=e}while(null!==Ts);return ks===Es&&(ks=5),null}function fc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hc(e){var t=qo();return Ho(99,mc.bind(null,e,t)),null}function mc(e,t){do{vc()}while(null!==Vs);if(0!=(48&Ps))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Cs&&(Ts=Cs=null,_s=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ps;Ps|=32,Os.current=null,vn=Qt;var s=mn();if(gn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{c.nodeType,d.nodeType}catch(C){c=null;break e}var p=0,f=-1,h=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==c||0!==l&&3!==v.nodeType||(f=p+l),v!==d||0!==u&&3!==v.nodeType||(h=p+u),3===v.nodeType&&(p+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===c&&++m===l&&(f=p),y===d&&++g===u&&(h=p),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}c=-1===f||-1===h?null:{start:f,end:h}}else c=null}c=c||{start:0,end:0}}else c=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:c},Qt=!1,Ns=i;do{try{gc()}catch(C){if(null===Ns)throw Error(o(330));wc(Ns,C),Ns=Ns.nextEffect}}while(null!==Ns);Ns=i;do{try{for(s=e,c=t;null!==Ns;){var w=Ns.effectTag;if(16&w&&Ve(Ns.stateNode,""),128&w){var O=Ns.alternate;if(null!==O){var E=O.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ds(Ns),Ns.effectTag&=-3;break;case 6:ds(Ns),Ns.effectTag&=-3,fs(Ns.alternate,Ns);break;case 1024:Ns.effectTag&=-1025;break;case 1028:Ns.effectTag&=-1025,fs(Ns.alternate,Ns);break;case 4:fs(Ns.alternate,Ns);break;case 8:ps(s,l=Ns,c),us(l)}Ns=Ns.nextEffect}}catch(C){if(null===Ns)throw Error(o(330));wc(Ns,C),Ns=Ns.nextEffect}}while(null!==Ns);if(E=yn,O=mn(),w=E.focusedElem,c=E.selectionRange,O!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==c&&gn(w)&&(O=c.start,void 0===(E=c.end)&&(E=O),"selectionStart"in w?(w.selectionStart=O,w.selectionEnd=Math.min(E,w.value.length)):(E=(O=w.ownerDocument||document)&&O.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(c.start,l),c=void 0===c.end?s:Math.min(c.end,l),!E.extend&&s>c&&(l=c,c=s,s=l),l=hn(w,s),d=hn(w,c),l&&d&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((O=O.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>c?(E.addRange(O),E.extend(d.node,d.offset)):(O.setEnd(d.node,d.offset),E.addRange(O))))),O=[];for(E=w;E=E.parentNode;)1===E.nodeType&&O.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<O.length;w++)(E=O[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Qt=!!vn,yn=vn=null,e.current=n,Ns=i;do{try{for(w=e;null!==Ns;){var x=Ns.effectTag;if(36&x&&ss(w,Ns.alternate,Ns),128&x){O=void 0;var S=Ns.ref;if(null!==S){var P=Ns.stateNode;switch(Ns.tag){case 5:O=P;break;default:O=P}"function"==typeof S?S(O):S.current=O}}Ns=Ns.nextEffect}}catch(C){if(null===Ns)throw Error(o(330));wc(Ns,C),Ns=Ns.nextEffect}}while(null!==Ns);Ns=null,No(),Ps=a}else e.current=n;if(zs)zs=!1,Vs=e,qs=t;else for(Ns=i;null!==Ns;)t=Ns.nextEffect,Ns.nextEffect=null,Ns=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===Ws?Hs++:(Hs=0,Ws=e):Hs=0,"function"==typeof xc&&xc(n.stateNode,r),$s(e),Us)throw Us=!1,e=Fs,Fs=null,e;return 0!=(8&Ps)||Qo(),null}function gc(){for(;null!==Ns;){var e=Ns.effectTag;0!=(256&e)&&os(Ns.alternate,Ns),0==(512&e)||zs||(zs=!0,Wo(97,(function(){return vc(),null}))),Ns=Ns.nextEffect}}function vc(){if(90!==qs){var e=97<qs?97:qs;return qs=90,Ho(e,yc)}}function yc(){if(null===Vs)return!1;var e=Vs;if(Vs=null,0!=(48&Ps))throw Error(o(331));var t=Ps;for(Ps|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),as(5,n)}}catch(r){if(null===e)throw Error(o(330));wc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ps=t,Qo(),!0}function bc(e,t,n){di(e,t=gs(e,t=es(n,t),1073741823)),null!==(e=Js(e,1073741823))&&$s(e)}function wc(e,t){if(3===e.tag)bc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){di(n,e=vs(n,e=es(t,e),1073741823)),null!==(n=Js(n,1073741823))&&$s(n);break}}n=n.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Cs===e&&_s===n?ks===Ss||ks===xs&&1073741823===Ms&&Vo()-Ls<500?oc(e,_s):Ds=!0:Rc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,$s(e)))}function Ec(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=Qs(),e,null)),null!==(e=Js(e,t))&&$s(e)}ys=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mo.current)ja=!0;else{if(r<n){switch(ja=!1,t.tag){case 3:za(t),Ia();break;case 5:if(Li(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yo(t.type)&&Eo(t);break;case 4:Ri(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,po(Xo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(po(Ui,1&Ui.current),null!==(t=Za(e,t,n))?t.sibling:null);po(Ui,1&Ui.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ya(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),po(Ui,Ui.current),!r)return null}return Za(e,t,n)}ja=!1}}else ja=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=vo(t,ho.current),ii(t,n),i=Zi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yo(r)){var a=!0;Eo(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ci(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vi(t,r,s,e),i.updater=yi,t.stateNode=i,i._reactInternalFiber=t,Ei(t,r,e,n),t=Ba(null,t,r,!0,a,n)}else t.tag=0,Aa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"==typeof e)return Tc(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(i),e=Jo(i,e),a){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=Ra(null,t,i,e,n);break e;case 14:t=Da(null,t,i,Jo(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Jo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Jo(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ui(e,t),fi(t,r,null,n),(r=t.memoizedState.element)===i)Ia(),t=Za(e,t,n);else{if((i=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),Ea=t,i=Sa=!0),i)for(n=_i(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Aa(e,t,r,n),Ia();t=t.child}return t;case 5:return Li(t),null===e&&Ta(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,wn(r,i)?s=null:null!==a&&wn(r,a)&&(t.effectTag|=16),Na(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Aa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ta(t),null;case 13:return Wa(e,t,n);case 4:return Ri(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ti(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Jo(r,i),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(po(Xo,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=Fr(c,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!mo.current){t=Za(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&a)){1===c.tag&&((l=li(n,null)).tag=2,di(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),oi(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ii(t,n),r=r(i=ai(i,a.unstable_observedBits)),t.effectTag|=1,Aa(e,t,r,n),t.child;case 14:return a=Jo(i=t.type,t.pendingProps),Da(e,t,i,a=Jo(i.type,a),r,n);case 15:return La(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yo(r)?(e=!0,Eo(t)):e=!1,ii(t,n),wi(t,r,i),Ei(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Ya(e,t,n)}throw Error(o(156,t.tag))};var xc=null,Sc=null;function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Cc(e,t,n,r){return new Pc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Tc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case oe:return Ic(n.children,i,a,t);case ue:s=8,i|=7;break;case ie:s=8,i|=1;break;case ae:return(e=Cc(12,n,t,8|i)).elementType=ae,e.type=ae,e.expirationTime=a,e;case de:return(e=Cc(13,n,t,i)).type=de,e.elementType=de,e.expirationTime=a,e;case pe:return(e=Cc(19,n,t,i)).elementType=pe,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case se:s=10;break e;case ce:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case me:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Cc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ic(e,t,n,r){return(e=Cc(7,e,r,t)).expirationTime=n,e}function Mc(e,t,n){return(e=Cc(6,e,null,t)).expirationTime=n,e}function jc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ac(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Rc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Lc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Uc(e,t,n,r){var i=t.current,a=Qs(),s=mi.suspense;a=Ys(a,i,s);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(yo(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var u=n.type;if(yo(u)){n=Oo(n,u,c);break e}}n=c}else n=fo;return null===t.context?t.context=n:t.pendingContext=n,(t=li(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),di(i,t),Zs(i,a),a}function Fc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function zc(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}function Vc(e,t,n){var r=new Ac(e,t,n=null!=n&&!0===n.hydrate),o=Cc(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ci(o),e[_n]=r.current,n&&0!==t&&function(e,t){var n=et(t);_t.forEach((function(e){gt(e,t,n)})),kt.forEach((function(e){gt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Fc(a);s.call(e)}}Uc(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Vc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var c=o;o=function(){var e=Fc(a);c.call(e)}}rc((function(){Uc(t,a,e,o)}))}return Fc(a)}function Hc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:re,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(o(200));return Hc(e,t,null,n)}Vc.prototype.render=function(e){Uc(e,this._internalRoot,null,null)},Vc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Uc(null,e,null,(function(){t[_n]=null}))},vt=function(e){if(13===e.tag){var t=Zo(Qs(),150,100);Zs(e,t),zc(e,t)}},yt=function(e){13===e.tag&&(Zs(e,3),zc(e,3))},bt=function(e){if(13===e.tag){var t=Qs();Zs(e,t=Ys(t,e,null)),zc(e,t)}},I=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jn(r);if(!i)throw Error(o(90));xe(r),Te(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Me(e,!!n.multiple,t,!1)}},L=nc,N=function(e,t,n,r,o){var i=Ps;Ps|=4;try{return Ho(98,e.bind(null,t,n,r,o))}finally{0===(Ps=i)&&Qo()}},U=function(){0==(49&Ps)&&(function(){if(null!==Gs){var e=Gs;Gs=null,e.forEach((function(e,t){Nc(t,e),$s(t)})),Qo()}}(),vc())},F=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&Qo()}};var Kc,Qc,Yc={Events:[In,Mn,jn,_,P,Fn,function(e){at(e,Un)},R,D,$t,ut,vc,{current:!1}]};return Qc=(Kc={findFiberByHostInstance:kn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(r){}},Sc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}}(t({},Kc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ot(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Qc?Qc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yc,i.createPortal=Wc,i.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=ot(t))?null:e.stateNode},i.flushSync=function(e,t){if(0!=(48&Ps))throw Error(o(187));var n=Ps;Ps|=1;try{return Ho(99,e.bind(null,t))}finally{Ps=n,Qo()}},i.hydrate=function(e,t,n){if(!qc(t))throw Error(o(200));return Gc(null,e,t,!0,n)},i.render=function(e,t,n){if(!qc(t))throw Error(o(200));return Gc(null,e,t,!1,n)},i.unmountComponentAtNode=function(e){if(!qc(e))throw Error(o(40));return!!e._reactRootContainer&&(rc((function(){Gc(null,null,e,!1,(function(){e._reactRootContainer=null,e[_n]=null}))})),!0)},i.unstable_batchedUpdates=nc,i.unstable_createPortal=function(e,t){return Wc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},i.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Gc(e,t,n,!1,r)},i.version="16.14.0",i}var d;n("bQ6+");function p(){return d||(d=1,function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=l()}(o)),o.exports}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),o=n("TWQb").includes,i=n("RNIs");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},"z/iP":function(e,t,n){"use strict";(function(e){var t=n("o0o1"),r=n.n(t),o=n("b5Jz"),i=(n("5DR5"),n("9B84"),n("cGx4"),n("6eof"),n("m2GG"),n("kKQ4"),n("mhtg"),n("GCus"),n("sTLe"),n("uZev"),n("MJYl"),n("ORCT"),n("/J3Q"),n("D79r"),n("kNyU")),a=n("l8dO"),s=n("l5hM");!function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=l(s.a.exports),c=i.a,u=l(a.a.exports);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e,t,n){this.endpoint=e,this.interval=t,this.version=n||"",this.environment=this.getEnvironment();try{this.userAgent=window.navigator.userAgent}catch(r){this.userAgent=""}try{this.sessionId=window.tracking.visit()}catch(o){this.sessionId=""}try{this.url=window.location.href}catch(i){this.url=""}try{this.requestor=(0,u.default)()}catch(a){this.requestor=""}}info(e,t){return this.log(e,h({logLevel:"INFO"},t))}warn(e,t){return this.log(e,h({logLevel:"WARN"},t))}error(e,t){return this.log(e,h({logLevel:"ERROR"},t))}flushLogs(){var e=this;return p(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getInstance().flushLogs();case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("[".concat(e.requestor,"] Error flushing logs: "),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}log(e,t){var n=this;return p(r.a.mark((function o(){var i,a,s,c,u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i={},r.prev=1,!g.logsDisabled()){r.next=4;break}return r.abrupt("return");case 4:if(i.message=e,i.level="INFO",a=!0,t&&(s=t.logLevel,c=t.includeMetadata,u=t.contextData,null!=s&&(i.level=s),null!=c&&(a=c),u&&(i.contextData=u)),!0===a&&(i.environment=n.environment,i["user-agent"]=n.userAgent,i.requestor=n.requestor,i.version=n.version),!g.isDevelopment()){r.next=12;break}return g.devLogsEnabled()&&console.log("DEV ENV: ",i),r.abrupt("return");case 12:return r.next=14,n.getInstance().log(i,{url:n.url,sessionId:n.sessionId});case 14:return r.abrupt("return",r.sent);case 17:return r.prev=17,r.t0=r.catch(1),delete i.contextData,console.error("'".concat(i.message,"' contextData could not be completely logged to Sumo"),r.t0),r.prev=21,r.next=24,n.getInstance().log("".concat(i," (contextData was removed)"),{url:n.url,sessionId:n.sessionId});case 24:return r.abrupt("return",r.sent);case 27:r.prev=27,r.t1=r.catch(21),console.error("'".concat(i.message,"' could not be logged to Sumo"),r.t1);case 30:case"end":return r.stop()}}),o,null,[[1,17],[21,27]])})))()}getEnvironment(){var e=(0,c.detect)(),t=e&&e.name?e.name:"unknown",n=e&&e.name&&e.version?e.version:"",r=e&&e.os?e.os:"unknown";return"".concat(t," ").concat(n," - OS ").concat(r)}getInstance(){if(!this.sumoLogger){var e={endpoint:this.endpoint,interval:this.interval};this.sumoLogger=new o.default(e);try{window.addEventListener("beforeunload",()=>{if(null!==this.sumoLogger)try{this.sumoLogger.flushLogs()}catch(e){}})}catch(t){}}return this.sumoLogger}static getEnvironmentVariable(t){return void 0===e?void 0:{}[t]}static isDevelopment(){return"development"===g.getEnvironmentVariable("NODE_ENV")}static devLogsEnabled(){return"true"===g.getEnvironmentVariable("ENABLE_DEV_LOGS")}static logsDisabled(){return"true"===g.getEnvironmentVariable("DISABLE_LOGS")}}n.default=g,t.exports=n.default}(o.a,o.a.exports)}).call(this,n("KCCg"))},z92h:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Rmyw"),o=n("o/zE"),i=r.a,a=o.a,s=function(e){return a(e)?e:void 0},c=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},zFA8:function(e,t,n){"use strict";var r=n("MOJX"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},zKZe:function(e,t,n){var r=n("I+eb"),o=n("YNrV");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},zO7n:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},zfpX:function(e,t,n){},zhvd:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ICouponCallout",{enumerable:!0,get:function(){return s.ICouponCallout}}),Object.defineProperty(t,"IPercentage",{enumerable:!0,get:function(){return c.IPercentage}}),Object.defineProperty(t,"IPlusOrMinus",{enumerable:!0,get:function(){return u.IPlusOrMinus}}),Object.defineProperty(t,"IPresentation",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"IPrice",{enumerable:!0,get:function(){return l.IPrice}}),Object.defineProperty(t,"IQuantityPrice",{enumerable:!0,get:function(){return p.IQuantityPrice}}),Object.defineProperty(t,"IRangePrice",{enumerable:!0,get:function(){return d.IRangePrice}}),Object.defineProperty(t,"ISavings",{enumerable:!0,get:function(){return f.ISavings}}),Object.defineProperty(t,"IUnitPrice",{enumerable:!0,get:function(){return h.IUnitPrice}}),Object.defineProperty(t,"IVatMessage",{enumerable:!0,get:function(){return m.IVatMessage}}),Object.defineProperty(t,"PresentationProvider",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"PresentationTokenFactory",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PricePresentationType",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"TokenEngine",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var o=r(n("o3eb")),i=r(n("UTha")),a=r(n("CjN6")),s=n("GWeo"),c=n("8D98"),u=n("s7Ad"),l=n("TDIa"),d=n("ddWL"),p=n("kgsp"),f=n("SBIF"),h=n("Cgr3"),m=n("ylHv"),g=r(n("lf41")),v=r(n("DAL7")),y=o.default;t.default=y},zwAr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){try{return!!e()}catch(t){return!0}}}}]);
//# sourceMappingURL=49f36f79086928f9c1d62a7a5c80d18a5188c870-4b3f86e32ca041d80274.js.map